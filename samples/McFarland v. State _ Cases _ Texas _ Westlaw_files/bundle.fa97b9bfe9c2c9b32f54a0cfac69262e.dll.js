var bundle_fa97b9bfe9c2c9b32f54a0cfac69262e;(()=>{var __webpack_modules__={18:(e,t,n)=>{e.exports=n(8846)(8230)},66:e=>{(t=function(t){e.exports=t})((function(){google.maps.Polygon.prototype.getBounds||(google.maps.Polygon.prototype.getBounds=function(e){for(var t,n=new google.maps.LatLngBounds,i=this.getPaths(),a=0;a<i.getLength();a++){t=i.getAt(a);for(var o=0;o<t.getLength();o++)n.extend(t.getAt(o))}return n});google.maps.Polygon.prototype.containsLatLng=function(e){var t=this.getBounds();if(null!==t&&!t.contains(e))return!1;for(var n=!1,i=this.getPaths().getLength(),a=0;a<i;a++)for(var o=this.getPaths().getAt(a),r=o.getLength(),s=r-1,l=0;l<r;l++){var c=o.getAt(l),d=o.getAt(s);(c.lng()<e.lng()&&d.lng()>=e.lng()||d.lng()<e.lng()&&c.lng()>=e.lng())&&c.lat()+(e.lng()-c.lng())/(d.lng()-c.lng())*(d.lat()-c.lat())<e.lat()&&(n=!n);s=l}return n};google.maps.LatLngBounds.prototype.containsLatLng=function(e){return this.contains(e)};google.maps.Marker.prototype.setFences=function(e){this.fences=e};google.maps.Marker.prototype.addFence=function(e){this.fences.push(e)}}));var t},68:(e,t,n)=>{e.exports=n(4507)(40116)},81:(e,t,n)=>{e.exports=n(4507)(90860)},95:(e,t,n)=>{e.exports=n(4507)(54664)},149:(e,t,n)=>{e.exports=n(4507)(11526)},151:(e,t,n)=>{e.exports=n(4507)(53097)},170:(e,t,n)=>{e.exports=n(4507)(10270)},180:(e,t,n)=>{e.exports=n(8846)(3673)},230:(e,t,n)=>{e.exports=n(4507)(36894)},295:(e,t,n)=>{e.exports=n(4507)(45309)},297:(e,t,n)=>{e.exports=n(4507)(79810)},310:(e,t,n)=>{e.exports=n(4507)(2531)},365:(e,t,n)=>{e.exports=n(4507)(28139)},370:(e,t,n)=>{e.exports=n(4507)(69115)},468:(e,t,n)=>{e.exports=n(4507)(28244)},480:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var i=n(1422),a=n(8286),o=n(1434),r=n.n(o),s=n(6494),l=n(669),c=n(7952),d=n(519),u=n(5024),h=n(779),f=n(7185),p=n(2065),m=n(8260);const g=r().extend({termNavigationState:null,documentElement:null,currentSearchTermIndex:-1,currentSearchTermsInDocument:null,searchTermsInDocument:null,documentDisplay:null,termNavWaitLightbox:null,displayWaitLightBoxAndShowNoTermMessage:null,FinishedInitializing:!1,searchPreference:null,searchTermClass:null,searchWithinTermNavMode:null,init:function(e,t,n,o,r,s){const l=this;let c=o;c||(c=m["default"].GetTermNavigationPreference());l.termNavigationState=e;l.documentDisplay=t;l.displayWaitLightBoxAndShowNoTermMessage=null==s||s;l.searchPreference=null!=c?c:a["default"].prefs.allSearchTerms;l.searchTermClass=n||a["default"].classes.searchTerm;l.searchWithinTermNavMode=r||a["default"].navModes.termNav;l.documentElement=document.getElementById(a["default"].ids.document);null==l.documentElement?i["default"].Subscribe(a["default"].events.documentRenderComplete,(function(){l.initializeController()})):l.initializeController();i["default"].SubscribeOnce(a["default"].events.scrollToCurrentSearchTerm,((e,t)=>{l.ScrollToCurrentSearchTerm(t.scrollUp)}))},initializeController:function(){const e=this;e.documentElement=document.getElementById(a["default"].ids.document);if(null==e.documentElement)throw new Error("DocumentNullException: documentElement is null. You must have a '"+a["default"].ids.document+"' class on a div tag to use this javascript.");p["default"].GetElementsByClassName(e.searchTermClass,"*",e.documentElement,(function(t){e.finishInitialize(t)}),(function(t){e.waitForDocumentToLoad(t)}))},finishInitialize:function(e){const t=this;if(null!=t.termNavWaitLightbox){t.termNavWaitLightbox.Remove();t.termNavWaitLightbox=null}t.searchTermsInDocument=e;if(t.searchTermsInDocument&&t.searchTermsInDocument.length>0){1==t.searchTermsInDocument.length&&t.searchTermClass!=a["default"].classes.searchWithinTerm&&p["default"].publishHubEvent(a["default"].events.onlySearchTermOnDocument,null,{},null);t.initializeSearchTerms()}else t.ShowNoTermMessage();t.FinalizeInitialization()},FinalizeInitialization:function(){this.FinishedInitializing=!0;p["default"].publishHubEvent(a["default"].events.termNavFinishedInitializing,null,{},null)},ShowNoTermMessage:function(){this.displayWaitLightBoxAndShowNoTermMessage&&p["default"].publishHubEvent(a["default"].events.noSearchTermsOnDocument,null,{},null)},findValidSearchTermIndex:function(e){const t=this;let n=e==a["default"].texts.forward?-1:t.searchTermsInDocument.length;n=t.GetNextTermIndex(n,e);for(;n>-1&&"skip"===t.documentDisplay.CheckSearchTermContext(t.searchTermsInDocument[n].element).status;)n=t.GetNextTermIndex(n,e);return n},waitForDocumentToLoad:function(e){const t=this;t.displayWaitLightBoxAndShowNoTermMessage&&(t.termNavigationState!=a["default"].queryParameters.termNavStateForward&&t.termNavigationState!=a["default"].queryParameters.termNavStateBackward||t.showInternalLinkWait(e))},showInternalLinkWait:function(e){const t=this;if(null==t.termNavWaitLightbox){t.termNavWaitLightbox=new c["default"];const n='<div class="co_overlayBox_container"><div class="co_overlayBox_topLeftNoTitle"><div class="co_overlayBox_topRight"><div class="co_overlayBox_headline"></div></div></div><div class="co_overlayBox_left"><div class="co_overlayBox_right"><div class="co_overlayBox_content">'+a["default"].texts.termNavWaitPleaseWait+'</div></div></div><div class="co_overlayBox_optionsBottomLeft"><div class="co_overlayBox_optionsBottomRight"><div class="co_overlayBox_optionsBottom"><ul><li><input type="button" value="'+a["default"].texts.cancel+'" id="'+a["default"].ids.termNavWaitLightbox+'"/></li></ul></div></div></div></div>';t.termNavWaitLightbox.GetContentDomElement().innerHTML=n;t.termNavWaitLightbox.Draw();const i=document.getElementById(a["default"].ids.termNavWaitLightbox);p["default"].AttachClickHandler(i,(function(){t.cancelTermNavWait(e)}))}},cancelTermNavWait:function(e){const t=this;e();t.termNavigationState=null;t.termNavWaitLightbox.Remove();t.termNavWaitLightbox=null},initializeSearchTerms:function(){const e=this;if(e.termNavigationState){const t=e.termNavigationState===a["default"].queryParameters.termNavStateForward;let n=-1;n=t?e.findValidSearchTermIndex(a["default"].texts.forward):e.findValidSearchTermIndex(a["default"].texts.backward);n>-1?e.setCurrentSearchTerm(e.searchTermsInDocument[n],!t):e.ShowNoTermMessage()}},setCurrentSearchTermFromElement:function(e){const t=this,n=t.findElementIndex(e);if(n>-1){const e=t.searchTermsInDocument[n];t.currentSearchTermIndex=n;t.setCurrentSearchTerm(e)}},findElementIndex:function(e){const t=this;let n=-1,i=t.searchTermsInDocument.length-1;for(;i>-1;){if(t.searchTermsInDocument[i].element===e){n=i;break}i--}return n},clearCurrentSearchTerm:function(){const e=this;if(null!=e.currentSearchTermsInDocument){d["default"].RemoveClass(e.currentSearchTermsInDocument.element,a["default"].classes.currentSearchTerm);e.currentSearchTermIndex=0}},setCurrentSearchTerm:function(e,t){const n=this;n.clearCurrentSearchTerm();n.currentSearchTermsInDocument=e;n.currentSearchTermIndex=n.findElementIndex(n.currentSearchTermsInDocument.element);d["default"].AddClass(n.currentSearchTermsInDocument.element,a["default"].classes.currentSearchTerm);n.currentSearchTermsInDocument.element.setAttribute("role","mark");n.ScrollToCurrentSearchTerm(t);return{hasPreviousTerms:!n.AreWeAtTheBeginningOfTerms(),hasFollowingTerms:!n.AreWeAtTheEndOfTerms(),navigatePrevious:!1,navigateNext:!1}},ScrollToCurrentSearchTerm:function(e){const t=this.currentSearchTermsInDocument;p["default"].IsElementScrollable(t).isScrollable&&p["default"].ScrollToChunkedElement(t,null,e,!1)},GetCurrentTermData:function(){const e=this;let t=!1,n=!1;const i=window.pageYOffset,a=i+window.innerHeight;function o(e){let t=0;for(let n=e;null!=n;n=n.offsetParent)t+=n.offsetTop;return t}for(let r=0;r<e.searchTermsInDocument.length;++r){const s=e.searchTermsInDocument[r].element?this.searchTermsInDocument[r].element:e.searchTermsInDocument[r],c=o(s),d=c+(0,l.getElementHeight)(s);0!=d&&d<i&&(t=!0);c>a&&(n=!0)}return{hasPreviousTerms:t,hasFollowingTerms:n,navigatePrevious:!1,navigateNext:!1}},GetNextTermIndex:function(e,t){const n=this;let i=null;const o=a["default"].texts.forward;if(null!==n.searchTermsInDocument&&n.searchTermsInDocument.length>0){e=t===o?e+1:e-1;for(;n.searchTermsInDocument[e];){i=n.searchTermsInDocument[e];if(n.DoesTermMatch(i))return e
;e=t===o?e+1:e-1}(e<0||e>=n.searchTermsInDocument.length)&&(e=-1)}return e},DoesTermMatch:function(e){const t=this.searchPreference,n=e.element,i=d["default"].HasClass(n,a["default"].classes.locateTerm),o=d["default"].HasClass(n,a["default"].classes.mswSearchTerm),r=d["default"].HasClass(n,a["default"].classes.locateSnippet),s=d["default"].HasClass(n,a["default"].classes.locateOverrulingRisk),l=d["default"].HasClass(n,a["default"].classes.locatePartiallyOverruled);if(t===a["default"].prefs.allSearchTerms)return o?i:!s||!l;return t===a["default"].prefs.searchWithinTermsOnly&&i||t===a["default"].prefs.searchTermsOnly&&!i&&!o&&!r&&!s&&!l||t===a["default"].prefs.bestPortionTerms&&r||t===a["default"].prefs.overrulingRiskTerms&&s||t===a["default"].prefs.partiallyOverruledTerms&&l},MoveToNextTerm:function(){const e=this.GetNextTermData(p["default"].FindNextElementToScrollTo);return this.GetNextTermJson(e.currentIndex,e.searchTermElementData)},GetNextTermData:function(e){const t=this;let n,o=-1,r=!1,l=0;const c=a["default"].texts.forward;null!=s["default"].Instance&&(l=s["default"].Instance.GetCurrentChunk());for(;o<t.searchTermsInDocument.length&&!r;){o=t.GetNextTermIndex(o,c);if(o<0)break;n=t.searchTermsInDocument[o];t.checkIfSearchTermInCollapsedSection(n);n.chunkNumber>l?r=!0:n.chunkNumber!==l&&void 0!==n.chunkNumber||(r=e(n,c));r&&"skip"!==t.documentDisplay.CheckSearchTermContext(n.element).status||(r=!1);i["default"].Publish(a["default"].events.setHeadnoteToGridViewWhenNavigateSearchTerm,{searchTermElement:n.element})}if(!r&&(t.searchPreference===a["default"].prefs.partiallyOverruledTerms||t.searchPreference===a["default"].prefs.overrulingRiskTerms)){o=t.GetNextTermIndex(-1,c);n=t.searchTermsInDocument[o];r=!0}return{found:r,currentIndex:o,searchTermElementData:n}},GetNextTermJson:function(e,t){const n=this;if(!(e>-1)){let e="";switch(n.searchWithinTermNavMode){case a["default"].navModes.searchWithinTermNav:if(f["default"].IsNativeIPad||f["default"].IsNativeIPhone){const t={hasPreviousTerms:n?.searchTermsInDocument?.length>0,hasFollowingTerms:!1,navigatePrevious:!1,navigateNext:!1,isSuccessful:!1};e=JSON.stringify(t)}break;case a["default"].navModes.notesAndHighlightsNav:{const t={hasPreviousTerms:n?.searchTermsInDocument?.length>0,hasFollowingTerms:!1,navigatePrevious:!1,navigateNext:!1};e=JSON.stringify(t);break}case a["default"].navModes.termNav:default:{const t=a["default"].events.moveToNextSearchDocument;p["default"].publishHubEvent(t,null,{},null);const n={hasPreviousTerms:!1,hasFollowingTerms:!1,navigatePrevious:!1,navigateNext:!0};e=JSON.stringify(n);break}}return e}{const e=n.setCurrentSearchTerm(t,!1);if(e){return JSON.stringify(e)}}},MoveToPreviousTerm:function(){const e=this.GetPreviousTermData(p["default"].FindNextElementToScrollTo);return this.GetPreviousTermJson(e.currentIndex,e.searchTermElementData)},GetPreviousTermData:function(e){const t=this;let n,o=-1,r=!1,l=0;const c=a["default"].texts.backward;t.searchTermsInDocument&&t.searchTermsInDocument.length>0&&(o=t.searchTermsInDocument.length);null!=s["default"].Instance&&(l=s["default"].Instance.GetCurrentChunk());for(;o>-1&&!r;){o=t.GetNextTermIndex(o,c);if(o<0)break;n=t.searchTermsInDocument[o];t.checkIfSearchTermInCollapsedSection(n);n.chunkNumber<l?r=!0:n.chunkNumber!==l&&void 0!==n.chunkNumber||(r=e.call(t,n,c));r&&"skip"!==t.documentDisplay.CheckSearchTermContext(n.element).status||(r=!1);i["default"].Publish(a["default"].events.setHeadnoteToGridViewWhenNavigateSearchTerm,{searchTermElement:n.element})}if(!r&&(t.searchPreference===a["default"].prefs.partiallyOverruledTerms||t.searchPreference===a["default"].prefs.overrulingRiskTerms)){o=t.GetNextTermIndex(t.searchTermsInDocument.length,c);n=t.searchTermsInDocument[o];r=!0}return{found:r,currentIndex:o,searchTermElementData:n}},GetPreviousTermJson:function(e,t){const n=this;if(!(e>-1)){let e="";switch(n.searchWithinTermNavMode){case a["default"].navModes.searchWithinTermNav:if(f["default"].IsNativeIPad||f["default"].IsNativeIPhone){const t={hasPreviousTerms:!1,hasFollowingTerms:n?.searchTermsInDocument?.length>0,navigatePrevious:!1,navigateNext:!1,isSuccessful:!1};e=JSON.stringify(t)}break;case a["default"].navModes.notesAndHighlightsNav:{const t={hasPreviousTerms:!1,hasFollowingTerms:n?.searchTermsInDocument?.length>0,navigatePrevious:!1,navigateNext:!1};e=JSON.stringify(t);break}case a["default"].navModes.termNav:default:{const t=a["default"].events.moveToPreviousSearchDocument;p["default"].publishHubEvent(t,null,{},null);const n={hasPreviousTerms:!1,hasFollowingTerms:!1,navigatePrevious:!0,navigateNext:!1};e=JSON.stringify(n);break}}return e}{const e=n.setCurrentSearchTerm(t,!0);if(e){return JSON.stringify(e)}}},AreWeAtTheEndOfTerms:function(){const e=this,t=a["default"].texts.forward;let n=e.GetNextTermIndex(e.currentSearchTermIndex,t);for(;n>-1;){const i=e.searchTermsInDocument[n];e.checkIfSearchTermInCollapsedSection(i);if("ok"===e.documentDisplay.CheckSearchTermContext(i.element).status&&p["default"].IsElementScrollable(i).isScrollable)return!1;n=e.GetNextTermIndex(n,t)}const i=e.searchTermsInDocument[e.currentSearchTermIndex];if(i.element&&!e.IsSearchWithinClass(i.element)){const e=a["default"].events.lastSearchTermOnDocument;p["default"].publishHubEvent(e,null,{},null)}return!0},AreWeAtTheBeginningOfTerms:function(){const e=this,t=a["default"].texts.backward;let n=e.GetNextTermIndex(e.currentSearchTermIndex,t);for(;n>-1;){const i=e.searchTermsInDocument[n];if("ok"===e.documentDisplay.CheckSearchTermContext(i.element).status&&p["default"].IsElementScrollable(i).isScrollable)return!1;n=e.GetNextTermIndex(n,t)}const i=e.searchTermsInDocument[e.currentSearchTermIndex];if(i.element&&!e.IsSearchWithinClass(i.element)){const e=a["default"].events.firstSearchTermOnDocument;p["default"].publishHubEvent(e,null,{},null)}return!0},IsSearchTermViewable:function(e){const t=this;let n=!0;const i=e==a["default"].searchTerm.first?a["default"].texts.backward:a["default"].texts.forward;if(t.searchTermsInDocument){let e=!1,a=t.GetNextTermIndex(t.currentSearchTermIndex,i);for(;a>-1&&!e;){const o=t.searchTermsInDocument[a];if("skip"!==t.documentDisplay.CheckSearchTermContext(o.element).status&&p["default"].IsElementScrollable(o).isScrollable){e=!0;n=!1}else a=t.GetNextTermIndex(a,i)}}return n},IsSearchWithinClass:function(e){const t=e.className.split(/\s+/),n=a["default"].classes.searchWithinTerm;let i=!1;for(let e=0;e<t.length;e++)t[e]===n&&(i=!0);return i},IsSearchTermNavigationLooped:function(){return!1},checkIfSearchTermInCollapsedSection:function(e){if(m["default"]&&m["default"].documentData&&m["default"].documentData.ContentType&&null!=e&&"Intellectual Property"===m["default"].documentData.ContentType)v(e)}}),v=function(e){const t=new h["default"];if([...document.querySelectorAll(".patentSpecificationCollapsibleSection")].filter((t=>t.contains(e.element))).length>0){t.ShowSpecificationSections();i["default"].Publish(a["default"].events.documentMayHaveChangedSize,new u["default"]({}))}if([...document.querySelectorAll(".patentClaimsCollapsibleSection")].filter((t=>t.contains(e.element))).length>0){t.ShowClaimsSections();i["default"].Publish(a["default"].events.documentMayHaveChangedSize,new u["default"]({}))}},y=g.extend({initializeController:function(){var e=!1;m["default"].documentData&&m["default"].documentData.metaInformation&&m["default"].documentData.metaInformation.isLargeDocument&&(e=m["default"].documentData.metaInformation.isLargeDocument);if(!e)return this._super();var t=this;t.documentElement=document.getElementById(a["default"].ids.document);if(null==t.documentElement)throw new Error("DocumentNullException: documentElement is null. You must have a '"+a["default"].ids.document+"' class on a div tag to use this javascript.");t.setSearchTerms()},setSearchTerms:function(){var e=this;p["default"].GetElementsByClassName(e.getSearchTermClassName(),"*",e.documentElement,(function(t){e.finishInitialize(t)}),(function(t){e.searchTermInitialize(t)}),!0)},getSearchTermClassName:function(){delete this.searchTermsInReferences;return this.searchTermClass},searchTermInitialize:function(e){var t=this
;if(null!=t.termNavWaitLightbox){t.termNavWaitLightbox.Remove();t.termNavWaitLightbox=null}t.searchTermsInDocument=e;t.searchTermsInDocument.length>=1&&t.showInitializedWidget()},checkIfSearchTermInCollapsedSection:function(e){if(m["default"].documentData&&m["default"].documentData.ContentType&&null!=e)switch(m["default"].documentData.ContentType){case"KnowHow":case"WhatsMarket":case"BriefBank":b(e)}this._super(e)},showInitializedWidget:function(){document.getElementById(a["default"].ids.searchTermNavigationPrevious)?.classList.remove(a["default"].classes.hideState);document.getElementById(a["default"].ids.searchTermNavigationText)?.classList.remove(a["default"].classes.hideState);document.getElementById(a["default"].ids.searchTermNavigationNext)?.classList.remove(a["default"].classes.hideState)}});var b=function(e){if(e.element?.closest(".co_notesContent")){const t=e.element.closest('div[class^="co_notesContent"]');t?.classList.add("is-active");i["default"].Publish(a["default"].events.documentMayHaveChangedSize)}},C=n(4341),S=n(6500),_=n(9122),D=n(3839),T=n(8844),I=n(5170);const x=y.extend({init:function(e,t,n,i,a,o){C["default"].PageData&&C["default"].PageData.DocumentTabView&&m["default"].documentData&&(this.isPublicRecordsContent()||this.isTrademarkImageSearchResult())&&(o=!1);this._super(e,t,n,i,a,o)},isPublicRecordsContent:function(){const e=C["default"].PageData.DocumentTabView.ContentType,t=m["default"].documentData.SubContentType;return"PublicRecords"===e||"PublicRecordsNoAccessRestriction"===e||t&&-1!=t.indexOf("PublicRecords")},isTrademarkImageSearchResult:function(){return"Search"==C["default"].ViewModelData.DocumentSource.ListSource&&"TRADEMARK"==C["default"].ViewModelData.DocumentSource.List&&_["default"].Browse.getAuxiliarySearchTypes()?.indexOf(S["default"].TrademarkImageSearch.auxiliarySearchType)>=0},showInitializedWidget:function(){this._super();document.getElementById(a["default"].ids.searchTermMenu)?.classList.remove(a["default"].classes.hideState)},initializeSearchTerms:function(){D["default"].isIacOn("IAC-SEARCH-WITHIN-IMPROVEMENTS")&&(T["default"].isPracticalLawUSCompartment()||T["default"].isPracticalLawConnectCompartment()||T["default"].isPracticalLawComplianceCompartment())&&(0,I.isNewDocumentView)()||this._super()}})},519:(e,t,n)=>{e.exports=n(4507)(32798)},586:(e,t,n)=>{e.exports=n(4507)(70067)},615:e=>{"use strict";e.exports=bundle_2c5aa376dba4a1cf52bea918531163de},669:(e,t,n)=>{e.exports=n(4507)(9596)},692:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>ie});var i=n(9191),a=n.n(i),o=n(6669),r=n.n(o),s=n(5151),l=n(8286),c=n(762),d=n(9912),u=n(2237),h=n(1385),f=n(6105),p=n(370),m=n(7617),g=n(3434),v=n(1235),y=n(8854),b={Get:function(e,t){var n="/Foldering/v1/"+m["default"].GetUserNameEncoded()+"/history/documents/recent/queries";t&&(n+="?size="+t);v["default"].Get({relativeUrl:n,vertical:g["default"].Foldering,responseIsJson:!0,successCallback:function(t){e(t)},failedCallback:function(){(0,y.publishErrorMessage)(g["default"].Foldering,d["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Retrieving document recent history has failed.")}})}};const C=b;class S{constructor(e,t){this.menuOpts={ariaLabelForMenuContainer:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DocumentRecentQueryLinkText","Last 10 Searches"),itemsContainerClass:"co_searchSuggestionContainer"};this.buttonOpts={labelForButton:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DocumentRecentQueryLinkTitle","Recent Searches"),existingButton:e};this.searchInput=t;this.searchQueryTruncatingEnabled=(0,p.isSearch4KAvailable)()}async draw(){const e=await this._initializeMenuItems();this.menuOpts.items=e;this.menu=new u["default"](this.menuOpts);if(!(e.length>0))return;this.menuButton=new h["default"](this.menu,this.buttonOpts);this.menuButton.draw();this._addEventHandlers()}_addEventHandlers(){this.menu.getDOMElement()?.addEventListener("menu-item-selected",(e=>{this.searchInput&&(this.searchInput.value=this._getSelectedItemsText(e.detail.items))}));this.menu.getDOMElement()?.addEventListener("keydown",(e=>{e.which===c["default"].ESCAPE&&e.stopPropagation()}));this.menuButton.getDOMElement().addEventListener("dropdown-collapsed",(()=>{this.searchInput?.value?.length&&this.searchInput.focus()}));this.searchInput?.addEventListener("keyup",(e=>{if(e.keyCode===c["default"].DOWN){this.menuButton.expandPopup();e.preventDefault()}}))}_initializeMenuItems(){return new Promise((e=>{C.Get((t=>{const n=[];t.RecentSearches?.forEach((e=>{const t=e.QueryString;f["default"].isAdvancedQuery(t)||n.push(this._buildMenuItem(t))}));e(n)}))}))}_buildMenuItem(e){const t=this._getDisplayedQuery(e);if(!(0,p.isSearch4KAvailable)()&&e.length>s["default"].search.maxQueryLength)return{content:t,fullContent:e,isDisabled:!0,liClass:l["default"].classes.disabled,textClass:l["default"].classes.disabled};return{content:t,fullContent:e}}_getDisplayedQuery(e){return this.searchQueryTruncatingEnabled?f["default"].truncateSearchQueryToSpecificLimit(e,s["default"].search.maxQueryLength,s["default"].search.beginningQueryLimit,s["default"].search.endingQueryLimit,s["default"].search.characterThreshold):e}_getSelectedItemsText(e){return e.map((e=>e.fullContent)).join(", ")}}var _=n(3839),D=n(519),T=n(8730),I=n(1422),x=n(5024),k=n(5293),w=n(9122),E=n(3661),A=n(9510);function L(e,t,n){var i=n.recentQueryBoxId,o=n.recentQueryListId,s=n.searchSuggestionId,l="co_hideState",c=e,u=null,h=-1,m=0,g=!1,v=[],y=[{kc:38,action:function(){(function(){0===h?h=-1:h>0&&h--;P()})()}},{kc:40,action:function(){(function(){-1===h?h=0:h<m-1?h++:h=m-1;P()})()}},{kc:13,action:function(e){R(t=e);var t}},{kc:27,action:function(){M()}}],b=`<div id="${i}" class="${l}"><h3>${d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DocumentRecentQueryLinkTitle","Recent Searches")}</h3><div id="co_recentQueryListScroll" class="co_scrollWrapper"><ul class="co_searchSuggestionContainer" id="${o}"></ul></div></div>`,C=`<div id="${i}" class="${l}"><ul class="co_searchSuggestionContainer" id="${o}"></ul></div>`;const S=(0,p.isSearch4KAvailable)();this.getRecentQueryListId=function(){return o};function _(){return w["default"].Device.isIPadEnabled()}this.draw=function(){return _()?b:C};this.toggleRecentQueryList=()=>{if(document.getElementById(i)?.classList.contains(l))this.show();else{this.hide();N().focus()}};this.show=e=>{if(L.RecentQueriesList)O(e);else{var t=(0,p.showBusyCursor)();this.retrieveRecentSearches((n=>this.handleRetrievedSearches(n,e,t)))}};this.retrieveRecentSearches=()=>{};this.addSearchToHistory=e=>{if(L.RecentQueriesList){H(e);this.redrawList()}};this.handleRetrievedSearches=(e,t,n)=>{var i=[],a=null;e.RecentSearches?.forEach((e=>{a=e.QueryString;f["default"].isAdvancedQuery(a)||i.push(a)}));L.RecentQueriesList=i;O(t);n()};this.hide=()=>{T["default"].removePageTouchedListener(this.hide);document.getElementById(i)?.classList.add(l)};this.cleanUpResources=function(){if(!v)for(var e=0;e<v.length;e++)I["default"].Unsubscribe(v[e])};this.increaseRecentQueryCount=function(){m++};this.redrawList=function(){document.getElementById(o)?.replaceChildren();B()};function N(){null===u&&0==(u=a()("#"+e)).length&&k["default"].ConsoleMessage(`Unable to find searchInputId passed: ${e}`,k["default"].Level.Error);return u}const R=e=>{e||(e=window.event);var n=e.srcElement?e.srcElement:e.target;const i=this._getSelectedQuery(n);var a={};a.selectedQuery=i;a.searchInputId=c;var o=t.eventName,r=t.version,s=new x["default"](a,{},o,r);v.push(I["default"].Publish(t.cobaltEventName,s))};this._getSelectedQuery=function(e){return S?e.dataset.query:e.textContent.trim()};function P(){-1!==h?a()(`#${o} li:eq(${h})`).children("a, div").get(0).focus():N().focus()}var O=e=>{if(L.RecentQueriesList.length>0){const n=document.getElementById(s);n&&(n.style.display="none");g||B();var t=document.getElementById(i);t?.classList.remove(l);(0,p.iScrollRefreshChildren)(t);T["default"].addPageTouchedListener(this.hide,function(){var e=[document.getElementById(i)];_()&&e.push(N().get(0));return e}());h=0;null!=e&&"true"!=e||P()}};this.getItemTemplate=function(){
return r().template(A)};var B=()=>{const e=L.RecentQueriesList;this.hide();let t="";const n=this.getItemTemplate();e?.forEach((e=>{const i=(0,E.getItemParameters)(e),a=n(i);t+=a;m++}));var i=document.getElementById(o);i&&(i.innerHTML=t);document.querySelectorAll("#"+o+" li > a").forEach((function(e){D["default"].AddEventHandler(e,"click",R);D["default"].AddEventHandler(e,"keydown",F)}));document.querySelectorAll("#"+o+" li > div").forEach((function(e){D["default"].AddEventHandler(e,"keydown",W)}));g=!0};var M=()=>{this.hide();N().focus()};function F(e){e=e||window.event||null;for(var t=0;y[t];t++)if(e.keyCode==y[t].kc){y[t].action(e);break}}function W(e){13!==e.keyCode&&F(e)}const H=e=>{const t=L.RecentQueriesList,n=t.indexOf(e);n>=0?t.splice(n,1):10===t.length?t.pop():this.increaseRecentQueryCount();t.unshift(e)}}function N(e){L.call(this,e,{eventName:"Search.RecentQueryList.Selection",version:"1.0",cobaltEventName:"Cobalt.Search.DocumentRecentQueryList.Selection"},{recentQueryBoxId:"co_documentRecentQueryListBox",recentQueryListId:"co_documentSearchLast10List",searchSuggestionId:"co_searchSuggestionId"});this.retrieveRecentSearches=function(e){C.Get(e)}}var R=n(1369),P=n(68),O=n(2595),B=n(4341),M=n(669),F=n(4917),W=n(6790),H=n(6123),G=n(2769),U=n(5382),j=n(2065),$=n(9691),V=n.n($);var q=n(7861);const z=function(e){if(null==e)throw new Error("Invalid document object passed to create search within document widget.");var t=this;this.tncInfoBox=null;this.errorMessageBox=null;this.parent=null;this.searchWithinTermNavigation=null;this.nextTermButton=null;this.previousTermButton=null;this.searchWithinDocumentButton=null;this.searchWithinDocumentTextBox=null;this.closeLink=null;this.termsAndConnectorsLink=null;this.documentDisplay=e;this.nextPrevButtonsDiv=null;this.removeSearchButton=null;this.searchQueryLimit=l["default"].values.searchWithinDocumentTextLimit;this.termSuggestionDiv=null;this.useNewLook=document.body.classList.contains("th_lightGray");this.termsPosition=[];this.windowHeight=null;this.documentOffsetTop=null;this.documentHight=null;this.tooltipOptions=null;this.isAccessibleTooltipEnabled=!0;this.DisableA11yTooltip=function(){t.isAccessibleTooltipEnabled=!1};this.SetParentDiv=function(e){t.parent=e};this.SelectNavigationElements=function(e){t.nextPrevButtonsDiv=D["default"].GetElementsByClassName(l["default"].classes.docToolbarDocumentNavigationPrevNext,"div",e)[0];const n=t.nextPrevButtonsDiv.getElementsByTagName("a");t.previousTermButton=n[0];t.nextTermButton=n[1];t.searchWithinDocumentTextBox=e.getElementsByTagName("textarea")[0];t.searchWithinDocumentButton=e.querySelector(`#${l["default"].ids.docSearchWithinSearchButton}`);t.closeLink=e.querySelector(`.${l["default"].classes.widgetCloseIcon}`);t.termsAndConnectorsLink=D["default"].GetElementsByClassName(l["default"].classes.helpLink,"a",e)[0]};this.Draw=function(){var n=document.createElement("DIV"),i=e.IsNewDocumentView?'<span id="'+l["default"].ids.actionMenuBarSearchWithinDocumentWidgetTextSpanId+'"> '+l["default"].texts.searchWithinDocumentWidgetSpanText+" </span>":l["default"].texts.searchWithinThisDocumentTitle;n.id=l["default"].ids.docSearchWithinContainer;n.innerHTML=this.buildHtmlForWidget(t,i);t.parent.appendChild(n);this.SelectNavigationElements(n);j["default"].AttachClickHandler(t.nextTermButton,t.ClickNext);j["default"].AttachClickHandler(t.previousTermButton,t.ClickPrevious);j["default"].AttachClickHandler(t.searchWithinDocumentButton,t.ClickSearch);D["default"].AddEventHandler(t.searchWithinDocumentTextBox,"keypress",t.HandleTextBoxKeyPress);D["default"].AddEventHandler(t.searchWithinDocumentTextBox,"keyup",t.HandleSearchTextChange);D["default"].AddEventHandler(t.searchWithinDocumentTextBox,"blur",t.HandleSearchTextLooseFocus);document.addEventListener("keydown",(e=>{"Escape"===e.key&&t.CloseWidgetDisplay()}));D["default"].AddEventHandler(t.searchWithinDocumentTextBox,"focus",t.HandleSearchTextGainFocus);D["default"].AddEventHandler(window,"scroll",t.UpdateNextPreviousButtonsOnScroll);D["default"].AddEventHandler(window,"resize",t.UpdateOnResize);t.useNewLook?j["default"].AttachClickHandler(t.termsAndConnectorsLink,t.ToggleTermsAndConnectorsNew):t.termsAndConnectorsLink?.addEventListener("click",(()=>{t.ToggleTermsAndConnectors()}));j["default"].AttachClickHandler(n.childNodes[0],t.ToggleWidgetDisplay);j["default"].AttachClickHandler(t.closeLink,t.ToggleWidgetDisplay);t.searchWithinTermNavigation=R["default"].GetObject(l["default"].objectIds.TermNavigation,[{Val:l["default"].queryParameters.termNavStateForward},{Val:t.documentDisplay},{Val:l["default"].classes.searchWithinTerm},{Val:l["default"].prefs.allSearchTerms},{Val:l["default"].navModes.searchWithinTermNav},{Val:!1}]);t.searchWithinTermNavigation.FinishedInitializing?t.DisplayNavigationControls():I["default"].Subscribe(l["default"].events.termNavFinishedInitializing,t.DisplayNavigationControls);const a=n.querySelector(`.${l["default"].classes.dropdownTitle}`);t.DrawA11yTooltip(a);this.ExpandWidgetIfRequired(n)};this.ExpandWidgetIfRequired=function(e){if((0,O.IsNotNullOrEmpty)(t.documentDisplay.SearchWithinProperties.SearchWithinQuery)){t.UpdateTermsPosition();t.searchWithinDocumentTextBox.value=decodeURIComponent(t.documentDisplay.SearchWithinProperties.SearchWithinQuery);var n=e.querySelector(`#${l["default"].ids.docSearchWithinDropdownContainerInnerContent}`);D["default"].ReplaceClassOnElement(n,l["default"].classes.dropdownBoxCollapsed,l["default"].classes.dropdownBoxExpanded);t.searchWithinDocumentTextBox.focus()}};this.DrawA11yTooltip=function(e){if(t.isAccessibleTooltipEnabled){new H["default"](e,null,this.tooltipOptions).render()}};this.SetTooltipOptions=function(e){this.tooltipOptions=e};this.buildHtmlForWidget=function(e,t){var n={currentWidgetTncLegendHtml:e.buildTncLegendHtml(),anchorText:t,classes:l["default"].classes,ids:l["default"].ids,texts:l["default"].texts,enterTermToSearch:d["default"].lookup("SC.Document.SearchWithinDocument.EnterTermToSearch","Enter term to search for in current document")}
;return V().template('<a href="javascript:void(0);" role="button" class="<%- classes.dropdownTitle %>" title="<%- texts.searchTextAltText %>">\n    <%= anchorText %>\n</a>\n<div id="<%- ids.docSearchWithinDropdownContainer %>"\n     role="dialog"\n     aria-modal="false"\n     aria-labelledby="searchWithinHeadingNormal"\n>\n    <div id="<%- ids.docSearchWithinDropdownContainerInner %>" role="search">\n        <div id="<%- ids.docSearchWithinDropdownContainerInnerContent %>" class="<%- classes.dropdownBoxCollapsed %>">\n            \x3c!-- toggle between co_dropDownBoxCollapsed and co_dropdownBoxExpanded to show/hide --\x3e\n            <div class="<%- classes.dropdownBoxHeader %>"><span></span></div>\n            <div class="<%- classes.dropdownBoxContent %>">\n                <div class="<%- classes.dropdownBoxContentRight %>">\n                    <div id="<%- ids.docSearchWithinInput %>">\n                        <div id="<%- ids.docSearchWithinSearchInputContainer %>">\n                            <textarea\n                                id="<%- ids.docSearchWithinSearchInput %>"\n                                rows="1"\n                                autocorrect="off"\n                                autocapitalize="off"\n                                role="textbox"\n                                aria-label="<%- enterTermToSearch %>"\n                            ></textarea>\n                        </div>\n                        <button class="<%- classes.searchWithinRemoveSearch %> <%- classes.hideState %> co_linkBlue">\n                            <%- texts.removeSearch %>\n                        </button>\n                    </div>\n                    <div>\n                        <input\n                            type="button"\n                            id="<%- ids.docSearchWithinSearchButton %>"\n                            class="co_secondaryBtn"\n                            value="<%- texts.search %>"\n                            role="button"\n                            aria-label="<%- texts.searchWithinThisDocumentTitle %>"\n                        />\n                    </div>\n                    <div class="<%- classes.docToolbarDocumentNavigationPrevNext %> <%- classes.hideState %>">\n                        <a title="<%- texts.previousTerm %>" href="javascript:void(0);" class="<%- classes.previous %>"\n                            ><span class="icon25 icon_prev_arrow"><%- texts.previousTerm %></span></a>\n                        <a title="<%- texts.nextTerm %>" href="javascript:void(0);" class="<%- classes.next %>"\n                            ><span class="icon25 icon_next_arrow">"<%- texts.nextTerm %>"</span></a>\n                    </div>\n                    <a href="javascript:void(0);" role="button" id="<%- ids.docSearchWithinHelp %>" class="<%- classes.helpLink %>"\n                        ><%- texts.termsAndConnectors %></a>\n                    <button id="<%- ids.docSearchWithinCloseButton %>" class="<%- classes.widgetCloseIcon %>">\n                        <%- texts.close %>\n                    </button>\n                    <div id="<%- ids.docSearchWithinMessage %>"></div>\n                    <div class="<%- classes.clear %>"></div>\n                </div>\n                <div id="<%- ids.searchWithinTncContainer %>" class="<%- classes.hideState %>">\n                    <%= currentWidgetTncLegendHtml %>\n                </div>\n            </div>\n            <div class="<%- classes.dropdownBoxFooter %>"><span></span></div>\n        </div>\n    </div>\n</div>\n')(n)};this.buildTncLegendHtml=function(){var e={connectorsAndExpanders:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.ConnectorsAndExpanders","Connectors and Expanders"),help:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.Help","Help"),and:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.And","AND"),inSameSentence:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.InTheSameSentense","In same sentence"),orLeftSideTermValue:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.OrLeftSideTermValue","or"),or:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.Or","OR"),precedingWithinSentence:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.PrecedingWithinSentence","Preceding within sentence"),inSameParagraph:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.InSameParagraph","In same paragraph"),phrase:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.Phrase","Phrase"),precedingWithinParagraph:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.PrecedingWithinParagraph","Preceding within paragraph"),butNot:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.ButNot","But not"),space:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.Space","SPACE"),withinNTermsOf:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.WithinNTermsOf","Within n terms of"),rootExpander:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.RootExpander","Root expander"),precedingWithinNTermsOf:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.PrecedingWithinNTermsOf","Preceding within n terms of"),universalCharacter:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.UniversalCharacter","Universal character"),prefixToTurnOffPluralsAndEquivalents:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.PrefixToTurnOffPluralsAndEquivalents","Prefix to turn off plurals and equivalents")};return V().template('<div id="co_search_advancedSearch_tncLegendBox">\n    <h2 id="co_search_advancedSearch_tncHelpTitle"><%- connectorsAndExpanders %></h2>\n    <a id="co_search_advancedSearch_tncHelpLink" href="#" class="co_hideState"> <%- help %> </a>\n    <dl id="co_search_advancedSearch_tncLegendList">\n        <dt>&</dt>\n        <dd><%- and %></dd>\n        <dt>/s</dt>\n        <dd><%- inSameSentence %></dd>\n        <dt><%- orLeftSideTermValue %></dt>\n        <dd><%- or %></dd>\n        <dt>+s</dt>\n        <dd><%- precedingWithinSentence %></dd>\n        <dt>/p</dt>\n        <dd><%- inSameParagraph %></dd>\n        <dt>""</dt>\n        <dd><%- phrase %></dd>\n        <dt>+p</dt>\n        <dd><%- precedingWithinParagraph %></dd>\n        <dt>%</dt>\n        <dd><%- butNot %></dd>\n        <dt><%- space %></dt>\n        <dd><%- or %></dd>\n        <dt>/n</dt>\n        <dd><%- withinNTermsOf %></dd>\n        <dt>!</dt>\n        <dd><%- rootExpander %></dd>\n        <dt>+n</dt>\n        <dd><%- precedingWithinNTermsOf %></dd>\n        <dt>*</dt>\n        <dd><%- universalCharacter %></dd>\n        <dt>#</dt>\n        <dd><%- prefixToTurnOffPluralsAndEquivalents %></dd>\n    </dl>\n</div>\n')(e)};this.ToggleTermsAndConnectorsNew=function(){document.getElementById(l["default"].ids.searchWithinTncContainer)?.classList.toggle(l["default"].classes.hideState)};this.ToggleTermsAndConnectors=function(){if(t.tncInfoBox){t.tncInfoBox.Destroy();t.tncInfoBox=null}else{var e=document.getElementById(l["default"].ids.docSearchWithinMessage),n=document.createElement("div");e.appendChild(n);const i={hasPointer:!0,hasCloseButton:!0,shouldCloseOnBlur:!1,isDialog:!0,relativeElement:t.termsAndConnectorsLink,onClose:()=>{t.tncInfoBox=null},closeButtonText:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.CloseConnectorsAndExpanders","Close Connectors and Expanders")};t.tncInfoBox=new W["default"](n,U["default"].None,G["default"].Bottom,i);t.tncInfoBox.Draw(t.buildTncLegendHtml(),"alertdialog")}};this.ExpandCollapseWidgetDisplay=()=>{const e=t.parent.querySelector(`#${l["default"].ids.docSearchWithinDropdownContainer}`);var n=document.getElementById(l["default"].ids.docSearchWithinDropdownContainerInnerContent);if(D["default"].HasClass(n,l["default"].classes.dropdownBoxExpanded)){D["default"].ReplaceClassOnElement(n,l["default"].classes.dropdownBoxExpanded,l["default"].classes.dropdownBoxCollapsed);e?.classList.add(l["default"].classes.hideState);t.OnCloseWidget()}else{
D["default"].ReplaceClassOnElement(n,l["default"].classes.dropdownBoxCollapsed,l["default"].classes.dropdownBoxExpanded);e?.classList.remove(l["default"].classes.hideState);t.searchWithinDocumentTextBox.focus()}};this.ToggleWidgetDisplay=()=>{var e=document.getElementById(l["default"].ids.docSearchWithinDropdownContainerInnerContent);if(e){this.ExpandCollapseWidgetDisplay();if(t.tncInfoBox){t.tncInfoBox.Destroy();t.tncInfoBox=null}t.HideErrorMessage()}return e};this.CloseWidgetDisplay=function(){var e=document.getElementById(l["default"].ids.docSearchWithinDropdownContainerInnerContent);if(e){if(D["default"].HasClass(e,l["default"].classes.dropdownBoxExpanded)){D["default"].ReplaceClassOnElement(e,l["default"].classes.dropdownBoxExpanded,l["default"].classes.dropdownBoxCollapsed);t.OnCloseWidget()}if(t.tncInfoBox){t.tncInfoBox.Destroy();t.tncInfoBox=null}t.HideErrorMessage()}};this.GetErrorMessagingStructure=function(){return"<div id='"+l["default"].ids.termNavigationToasterMessageBox+"' class='"+l["default"].classes.messageBoxContainer+" "+l["default"].classes.hideState+"'><div class='"+l["default"].classes.messageBox+"'><div class='"+l["default"].classes.messageBoxContent+"' id='"+l["default"].ids.termNavigationToasterMessage+"'>&nbsp;</div></div></div>"};this.SearchCallback=function(e){if(e){(0,O.IsNotNullOrEmpty)(e.modifiedQuery)&&t.searchWithinDocumentTextBox.value!=e.modifiedQuery&&(t.searchWithinDocumentTextBox.value=e.modifiedQuery);(0,O.IsNotNullOrEmpty)(e.suggestions)?t.DisplaySuggestedTerms(e.suggestions):(0,O.IsNotNullOrEmpty)(e.documentUrl)?t.PublishSearchWithinDocumentTermsFoundEvent(e):t.DisplayErrorMessage(e.errorMessage)}};this.PublishSearchWithinDocumentTermsFoundEvent=function(e){j["default"].publishHubEvent(l["default"].events.searchWithinDocumentTermsFound,null,{url:e.documentUrl})};this.SearchErrorCallback=function(){t.DisplayErrorMessage();t.searchWithinDocumentTextBox.focus()};this.RemoveSearchCallback=function(e){if(e){null!=t.removeSearchButton&&D["default"].AddClass(t.removeSearchButton,l["default"].classes.hideState);(0,O.IsNotNullOrEmpty)(t.documentDisplay.SearchWithinProperties.SearchWithinQuery)&&(t.searchWithinDocumentTextBox.value="");(0,O.IsNotNullOrEmpty)(e.documentUrl)&&t.PublishSearchWithinDocumentTermsFoundEvent(e)}};this.RemoveSearchErrorCallback=function(){t.SearchErrorCallback()};this.ClickSearch=function(n,i,a){null==i?i=t.searchWithinDocumentTextBox.value:t.searchWithinDocumentTextBox.value=i;a=a||!1;t.HideErrorMessage();if((0,O.IsNotNullOrEmpty)(i))R["default"].GetObject(l["default"].objectIds.provider).GetSearchWithinDocument(e.DocumentGuid,i,e.WebsiteProperties.CacheScope,e.WebsiteProperties.DocSource,e.WebsiteProperties.ListPageSource,t.SearchCallback,t.SearchErrorCallback,a);else{t.DisplayErrorMessage(d["default"].lookup("SC.Document.SearchWithinDocument.EmptyQueryErrorMessage","Please enter a search term"));t.searchWithinDocumentTextBox.focus()}return!1};this.ClickPrevious=function(){t.searchWithinTermNavigation.MoveToPreviousTerm();t.UpdateNextPreviousButtons();return!1};this.ClickNext=function(){t.searchWithinTermNavigation.MoveToNextTerm();t.UpdateNextPreviousButtons();return!1};this.ClickRemoveSearch=function(){t.HideErrorMessage();R["default"].GetObject(l["default"].objectIds.provider).RemoveSearchWithinForDocument(e.DocumentGuid,e.WebsiteProperties.CacheScope,e.WebsiteProperties.DocSource,e.WebsiteProperties.ListPageSource,t.RemoveSearchCallback,t.RemoveSearchErrorCallback);return!1};this.UpdateNextPreviousButtons=function(){var e=[];D["default"].RemoveClass(t.nextTermButton,l["default"].classes.disabled);D["default"].RemoveClass(t.previousTermButton,l["default"].classes.disabled);t.nextTermButton.removeAttribute("aria-disabled");t.previousTermButton.removeAttribute("aria-disabled");t.MoreTermsAvailableForNavigation(l["default"].texts.forward)||e.push(t.nextTermButton);t.MoreTermsAvailableForNavigation(l["default"].texts.backward)||e.push(t.previousTermButton);if(!V().isEmpty(e))for(var n=e.length;n--;){D["default"].AddClass(e[n],l["default"].classes.disabled);e[n].setAttribute("aria-disabled","true")}};this.MoreTermsAvailableForNavigation=function(e){var n=!1;if(null==e||null==t.searchWithinTermNavigation||null==t.searchWithinTermNavigation.searchTermsInDocument)return n;if(t.searchWithinTermNavigation.isFirstTermSelected&&e===l["default"].texts.forward||t.searchWithinTermNavigation.isLastTermSelected&&e===l["default"].texts.backward)return n;for(var i=t.searchWithinTermNavigation.GetNextTermIndex(t.searchWithinTermNavigation.currentSearchTermIndex,e);i>-1&&!n;){var a=t.searchWithinTermNavigation.searchTermsInDocument[i],o=j["default"].IsElementScrollable(a);"ok"==t.documentDisplay.CheckSearchTermContext(a.element).status&&o.isScrollable?n=!0:i=t.searchWithinTermNavigation.GetNextTermIndex(i,e)}return n};this.HideErrorMessage=function(){if(t.errorMessageBox){t.errorMessageBox.Destroy();t.errorMessageBox=null}};this.DisplayErrorMessage=function(e){const n=document.getElementById(l["default"].ids.docSearchWithinMessage);e=(0,O.IsNotNullOrEmpty)(e)?e:l["default"].texts.searchWithinGenericErrorMessage;const i={id:l["default"].ids.searchWithinErrorMessageBox,hasPointer:!0,relativeElement:document.getElementById("co_docSearchWithin_searchInput_withRecentSearch")};t.errorMessageBox=new W["default"](n,U["default"].Warning,G["default"].Bottom,i);t.errorMessageBox.Draw(e)};this.DisplayNavigationControls=function(){if(null!=t.searchWithinTermNavigation.searchTermsInDocument&&t.searchWithinTermNavigation.searchTermsInDocument.length>0){D["default"].RemoveClass(t.nextPrevButtonsDiv,l["default"].classes.hideState);_["default"].isIacOn("IAC-SEARCHWITHIN-CANCEL")&&null!=t.removeSearchButton&&D["default"].RemoveClass(t.removeSearchButton,l["default"].classes.hideState);t.UpdateNextPreviousButtons()}};this.HandleTextBoxKeyPress=function(e){if(j["default"].IsEnterKey(e)){if(1==e.ctrlKey)return;t.ClickSearch();e.preventDefault&&e.preventDefault();e.returnValue=!1}};this.HandleSearchTextChange=function(){var e=t.searchWithinDocumentTextBox;if(!e.value?.trim()){e.rows=1;e.value="";return}e.value.length>t.searchQueryLimit&&(e.value=e.value.substring(0,t.searchQueryLimit));t.ResizeSearchTextBox()};this.HandleSearchTextLooseFocus=function(){t.searchWithinDocumentTextBox.rows=1};this.HandleSearchTextGainFocus=function(){t.ResizeSearchTextBox()};this.ResizeSearchTextBox=function(){for(var e,n=t.searchWithinDocumentTextBox;n.rows>1&&n.scrollHeight<n.offsetHeight;)n.rows--;for(;n.scrollHeight>n.offsetHeight;){e=n.offsetHeight;n.rows++;if(e==n.offsetHeight)break}};this.DisplaySuggestedTerms=function(e){var n,i=document.getElementById(l["default"].ids.docSearchWithinMessage);if(null!=e){(n=document.createElement("div")).id=l["default"].ids.searchWithinErrorMessageBox;i.appendChild(n);t.errorMessageBox=new F["default"](n,U["default"].Warning,G["default"].Bottom,!0,!0,!1);var a=document.createDocumentFragment();a.appendChild(document.createTextNode(l["default"].texts.searchWithinDidYouMean));t.termSuggestionDiv=document.createElement("div");t.termSuggestionDiv.id=l["default"].ids.docSearchWithinTermSuggestion;t.termSuggestionDiv.className=l["default"].classes.searchWithinDidYouMean;a.appendChild(t.termSuggestionDiv);var o=document.createElement("span");t.termSuggestionDiv.appendChild(o);var r=document.createElement("a");r.href="javascript:void(0)";o.appendChild(r);r.innerHTML=e;j["default"].AttachClickHandler(r,(function(e){t.ClickSearch(e,r?.textContent,!1)}));var s=document.createElement("div");a.appendChild(s);var c=document.createElement("a");c.href="javascript:void(0)";s.appendChild(c);c.innerHTML=l["default"].texts.searchWithinIgnoreSpell;s.id=l["default"].ids.docSearchWithinIgnoreSpellCheck;s.className=l["default"].classes.searchWithinIgnoreSpellCheck;j["default"].AttachClickHandler(c,(function(e){t.ClickSearch(e,t.searchWithinDocumentTextBox.value,!0)}));t.errorMessageBox.Draw(a)}};this.Disable=function(){var e=a()("#co_docSearchWithinContainer .co_dropdownTitle");0===e.length&&(e=a()("#searchWithinToolbarAnchor"));e.length>0&&D["default"].RemoveEventHandler(e.get(0),"click",this.ToggleWidgetDisplay)}
;this.SetHideRecentSearches=function(){};this.UpdateTermsPosition=function(){this.termsPosition=[...document.querySelectorAll(".co_searchWithinTerm")].map((e=>(0,q.offset)(e).top+(0,M.getElementHeight)(e)))};this.UpdateNextPreviousButtonsOnScroll=function(){if(t.termsPosition.length>0==0)return;null==t.windowHeight&&(t.windowHeight=window.innerHeight);var e=window.pageYOffset,n=e+t.windowHeight;null==t.documentOffsetTop&&(t.documentOffsetTop=(0,q.offset)(document.getElementById("co_document")).top);null==t.documentHight&&(t.documentHight=(0,M.getElementHeight)(document.getElementById("co_docContentHeader")));var i=e+t.documentOffsetTop+this.documentHight;0==t.termsPosition.some((function(e){return e>=i&&e<=n}))&&t.UpdateNextPreviousButtons()};this.UpdateOnResize=function(){t.windowHeight=window.innerHeight};this.OnCloseWidget=function(){document.querySelector("#co_docSearchWithinContainer .co_dropdownTitle")?.focus()};this.SetSearchQueryLimit=function(e){this.searchQueryLimit=e}};var K=n(8450),Y=n(8646);function Q(e,t){this.container=document.createElement("div");this.monitor=new Y["default"](K["default"].BASE);this.openSideBarSubscription=null;this.Close=()=>{this.container.querySelector("div").childNodes.forEach((t=>e.appendChild(t)));t&&t();I["default"].Unsubscribe(this.openSideBarSubscription);this.monitor.off();this.container.remove()};this.Open=function(){this.container.className="responsive-top-panel";this.container.innerHTML=V().template('<div></div>\n<button type="button" class="Button-close-responsive"><span class="icon25 icon_close-gray"><%- closeButtonText %></span></button>')({closeButtonText:d["default"].lookup("SC.Document.Widget.Toolbar.ActionsMenu.TermNavigation.Close","Close")});document.body.append(this.container);this.container.querySelector("button").addEventListener("click",this.Close);this.openSideBarSubscription=I["default"].Subscribe("Cobalt.Widget.Sidebar.Open",this.Close);this.monitor.on("exit",this.Close);e.childNodes.forEach((e=>{this.container.querySelector("div").appendChild(e)}))}}var X=n(5170),J=n(8844),Z=n(2842),ee=n(9647);class te extends ee["default"]{measureColumnHeight(){const e=document.querySelector(this.columnSelector),t=window.pageYOffset+document.documentElement.clientHeight,n=document.getElementById("co_footerContainer"),i=(0,q.offset)(n).top,a=(t<i?t:i)-(0,q.offset)(e).top,o=document.getElementById("co_leftColumn");if(n.getBoundingClientRect().top<=window.innerHeight){const e=document.getElementById("co_body");return a-parseInt(getComputedStyle(e).paddingBottom,10)}const{bottom:r}=o.getBoundingClientRect();if(r<window.innerHeight)return a-(window.innerHeight-r);return a}}function ne(e){z.call(this,e);var t,n=this;this.parent=null;this.hideRecentSearches=!1;var i=[];var o=_["default"].isIacOn("IAC-A11Y-DROPDOWN-RECENT-SEARCH");const s=_["default"].isIacOn("IAC-SEARCH-WITHIN-IMPROVEMENTS")&&(J["default"].isPracticalLawUSCompartment()||J["default"].isPracticalLawConnectCompartment()||J["default"].isPracticalLawComplianceCompartment())&&(0,X.isNewDocumentView)();(0,p.isSearch4KAvailable)()&&this.SetSearchQueryLimit(l["default"].values.searchWithinDocumentTextLimit4K);this.SetHideRecentSearches=function(e){n.hideRecentSearches=e};this.SetParentDiv=function(e){n.parent=e};this.GetContainer=function(){return this.parent};this.OpenInResponsiveMode=function(){this.ExpandWidgetDisplay();new Q(this.GetContainer(),this.HideWidgetDisplay).Open()};this.Draw=function(){s?this.SearchWithinHighlightingWidgetDraw():this.SearchWithinWidgetDraw()};this.ExpandWidgetDisplay=function(){const e=n.parent.querySelector(`#${l["default"].ids.docSearchWithinDropdownContainer}`),t=n.parent.querySelector(`#${l["default"].ids.docSearchWithinDropdownContainerInnerContent}`);e?.classList.remove(l["default"].classes.hideState);t?.classList.remove(l["default"].classes.dropdownBoxCollapsed);t?.classList.add(l["default"].classes.dropdownBoxExpanded)};this.HideWidgetDisplay=function(){const e=n.parent.querySelector(`#${l["default"].ids.docSearchWithinDropdownContainer}`),t=n.parent.querySelector(`#${l["default"].ids.docSearchWithinDropdownContainerInnerContent}`);e?.classList.add(l["default"].classes.hideState);t?.classList.remove(l["default"].classes.dropdownBoxExpanded);t?.classList.add(l["default"].classes.dropdownBoxCollapsed)};this.SearchWithinWidgetDraw=function(){var r,s=document.createElement("div"),d=e.IsNewDocumentView?`<span id="${l["default"].ids.actionMenuBarSearchWithinDocumentWidgetTextSpanId}"> ${l["default"].texts.searchWithinDocumentWidgetSpanText} </span>`:l["default"].texts.searchWithinThisDocumentTitle;s.id=l["default"].ids.docSearchWithinContainer;s.className=l["default"].classes.searchWithinWidgetContainer;r=n.hideRecentSearches?l["default"].ids.docSearchWithinSearchInput:l["default"].ids.docSearchWithinSearchInputWithRecentSearch;o||(t=new N(r));s.innerHTML=this.buildHtmlForWidget(n,d);n.parent.appendChild(s);n.nextPrevButtonsDiv=s.querySelector(`div.${l["default"].classes.docToolbarDocumentNavigationPrevNext}`);n.previousTermButton=s.querySelector("button.co_prev.co_tbButton");n.nextTermButton=s.querySelector("button.co_next.co_tbButton");n.searchWithinDocumentTextBox=s.querySelector("textarea");n.searchWithinDocumentButton=s.querySelector("input");n.removeSearchButton=s.querySelector("button.co_searchWithinWidget_removeSearch");n.termsAndConnectorsLink=s.querySelector(`button.${l["default"].classes.helpLink}`);var u=s.querySelector(`.${l["default"].classes.widgetCloseIcon}`);const h=s.querySelector(`.${l["default"].classes.searchInsideDocumentLink}`),f=n.searchWithinDocumentTextBox,p=s.querySelector(`.${l["default"].classes.dropdownTitle}`);j["default"].AttachClickHandler(n.nextTermButton,n.ClickNext);j["default"].AttachClickHandler(n.previousTermButton,n.ClickPrevious);j["default"].AttachClickHandler(n.searchWithinDocumentButton,n.ClickSearch);null!==n.removeSearchButton&&j["default"].AttachClickHandler(n.removeSearchButton,n.ClickRemoveSearch);n.searchWithinDocumentTextBox?.addEventListener("keypress",n.HandleTextBoxKeyPress);n.searchWithinDocumentTextBox?.addEventListener("keyup",n.HandleSearchTextChange);n.searchWithinDocumentTextBox?.addEventListener("blur",n.HandleSearchTextLooseFocus);n.searchWithinDocumentTextBox?.addEventListener("focus",n.HandleSearchTextGainFocus);n.parent?.addEventListener("keydown",(e=>{const t=e.target.closest(`.${l["default"].classes.dropdownBoxContent}`);e.currentTarget.contains(t)&&P["default"].call(t,e)}));n.useNewLook?j["default"].AttachClickHandler(n.termsAndConnectorsLink,n.ToggleTermsAndConnectorsNew):n.termsAndConnectorsLink?.addEventListener("click",(()=>{n.ToggleTermsAndConnectors()}));j["default"].AttachClickHandler(p,n.ToggleWidgetDisplay);j["default"].AttachClickHandler(u,n.ToggleWidgetDisplay);n.DrawA11yTooltip(p);if(!n.hideRecentSearches)if(o){new S(h,f).draw();n.parent?.addEventListener("keydown",(e=>{e.which===c["default"].ESCAPE&&n.ToggleWidgetDisplay()}))}else{const e=a()(s).find("."+l["default"].classes.searchInsideDocumentLink)[0];e?.addEventListener("click",t.toggleRecentQueryList);i.push(I["default"].Subscribe(l["default"].events.documentRecentQueryListSelection,n.handleRecentQueryListSelection))}n.searchWithinTermNavigation=R["default"].GetObject(l["default"].objectIds.TermNavigation,[{Val:l["default"].queryParameters.termNavStateForward},{Val:n.documentDisplay},{Val:l["default"].classes.searchWithinTerm},{Val:l["default"].prefs.allSearchTerms},{Val:l["default"].navModes.searchWithinTermNav},{Val:!1}]);n.searchWithinTermNavigation.FinishedInitializing?n.DisplayNavigationControls():i.push(I["default"].Subscribe(l["default"].events.termNavFinishedInitializing,n.DisplayNavigationControls));const m=this.getDocSearchWithinQuery();if((0,O.IsNotNullOrEmpty)(m)){n.searchWithinDocumentTextBox.value=m;a()(s).find("#"+l["default"].ids.docSearchWithinDropdownContainerInnerContent).addClass(l["default"].classes.dropdownBoxExpanded).removeClass(l["default"].classes.dropdownBoxCollapsed);n.searchWithinDocumentTextBox.focus()}};this.getDocSearchWithinQuery=function(){const e=n.documentDisplay.SearchWithinProperties.SearchWithinQuery;if((0,
O.IsNotNullOrEmpty)(e))return decodeURIComponent(e);if((0,p.isSearch4KAvailable)()&&B["default"].PageData&&B["default"].PageData.DocumentTabView)return B["default"].PageData.DocumentTabView.SearchWithinQuery;return null};this.handleRecentQueryListSelection=function(e,n){var i=n.Data.selectedQuery,o=a()("#"+l["default"].ids.docSearchWithinSearchInputWithRecentSearch);o.val(i);o[0].focus();t.hide();_["default"].iPadEnabled&&_that.handleSubmitSearchClick(!0)};this.buildHtmlForWidget=function(e,n){var i={hideRecentSearches:e.hideRecentSearches,ids:l["default"].ids,classes:l["default"].classes,docSearchWithinSearchInputAriaLabel:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DocumentSearchInput","Enter term to search for in current document"),documentRecentQueryLinkTitle:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DocumentRecentQueryLinkTitle","Recent Searches"),documentRecentQueryLinkText:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DocumentRecentQueryLinkText","Last 10 Searches"),recentQueryList:o?"":t.draw()},a=r().template('<% if (hideRecentSearches) { %>\n<div id="<%= ids.docSearchWithinSearchInputContainer %>" class="<%= classes.searchWithinWidget_searchInputContainer %>">\n\t<textarea id="<%= ids.docSearchWithinSearchInput %>" class="<%= classes.searchWithinWidget_input %>" rows="1" autocorrect="off" autocapitalize="off" role="textbox" aria-label="<%- docSearchWithinSearchInputAriaLabel %>"></textarea>\n</div>\n<% } else { %>\n<div id="<%= ids.docSearchWithinSearchInputContainerWithRecentSearch %>" class="<%= classes.searchWithinWidget_searchInputContainer_withRecentSearch %> co_floatLeft">\n\t<button class="<%= classes.searchInsideDocumentLink %>" title="<%- documentRecentQueryLinkTitle %>">\n\t\t<%- documentRecentQueryLinkText %>\n\t</button>\n\t<div class="<%= classes.searchInsideDocumentText %>">\n\t\t<textarea id="<%= ids.docSearchWithinSearchInputWithRecentSearch %>" class="<%= classes.searchWithinWidget_searchInput_withRecentSearch %>" rows="1" autocorrect="off" autocapitalize="off" role="textbox" aria-label="<%- docSearchWithinSearchInputAriaLabel %>"></textarea>\n\t</div>\n\t<%= recentQueryList %>\n</div>\n<% } %>')(i),s={builtAnchor:this.BuildAnchor(n),ids:l["default"].ids,classes:l["default"].classes,documentRecentSearch:a,texts:l["default"].texts,tncLegendHtml:e.buildTncLegendHtml(),dialogLabel:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.DialogLabel","Search"),closeSearchWidgetText:d["default"].lookup("SC.Document.Widget.SearchWithinDocument.closeSearchWidget","Close Search within document widget"),termsAndConnectors:d["default"].lookup("SC.Document.SearchWithinDocument.TncLegend.ConnectorsAndExpanders","Connectors and Expanders")};return r().template('<%= builtAnchor %>\n<div\n    id="<%= ids.docSearchWithinDropdownContainer %>"\n    class="<%= classes.searchWithinWidgetDropdownContainer %> <%= classes.hideState %>"\n    role="dialog"\n    aria-modal="true"\n    aria-labelledby="searchWithinHeadingNormal"\n>\n    <span id="searchWithinHeadingNormal" class="co_accessibilityLabel"> <%- dialogLabel %> </span>\n    <div\n        id="<%= ids.docSearchWithinDropdownContainerInner %>"\n        class="<%= classes.searchWithinWidgetDropdownContainerInner %>"\n        role="search"\n    >\n        <div id="<%= ids.docSearchWithinDropdownContainerInnerContent %>" class="<%= classes.dropdownBoxCollapsed %>">\n            \x3c!-- toggle between co_dropDownBoxCollapsed and co_dropdownBoxExpanded to show/hide --\x3e\n            <div class="<%= classes.dropdownBoxHeader %>">\n                <span></span>\n            </div>\n            <div class="<%= classes.dropdownBoxContent %>">\n                <div class="<%= classes.dropdownBoxContentRight %>">\n                    <div id="<%= ids.docSearchWithinInput %>" class="<%= classes.searchWithinWidget_input %>">\n                        <%= documentRecentSearch %>\n                        <button class="<%= classes.searchWithinRemoveSearch %> <%= classes.hideState %> co_linkBlue">\n                            <%- texts.removeSearch %>\n                        </button>\n                    </div>\n                    <div class="<%= classes.searchWithinWidget_input %>">\n                        <input\n                            type="button"\n                            id="<%= ids.docSearchWithinSearchButton %>"\n                            class="<%= classes.searchWithinWidget_searchButton %> co_secondaryBtn"\n                            value="<%= texts.search %>"\n                            role="button"\n                            aria-label="<%= texts.searchWithinThisDocumentSubmit %>"\n                        />\n                    </div>\n                    <div class="<%= classes.docToolbarDocumentNavigationPrevNext %> <%= classes.hideState %>">\n                        <button title="<%= texts.previousTermGroup %>" class="<%= classes.previous %>">\n                            <span class="icon25 icon_prev_arrow"><%- texts.previousTermGroup %></span>\n                        </button>\n                        <button title="<%= texts.nextTermGroup %>" class="<%= classes.next %>">\n                            <span class="icon25 icon_next_arrow"><%- texts.nextTermGroup %></span>\n                        </button>\n                    </div>\n                    <button\n                        id="<%= ids.docSearchWithinHelp %>"\n                        class="<%= classes.searchWithinWidget_help %> <%= classes.helpLink %>"\n                    >\n                        <%- termsAndConnectors %>\n                    </button>\n                    <div id="<%= ids.searchWithinTncContainer %>" class="<%= classes.hideState %>">\n                        <%= tncLegendHtml %>\n                    </div>\n                    <div id="<%= ids.docSearchWithinMessage %>" class="<%= classes.searchWithinWidgetMessage %>"></div>\n                    <button id="<%= ids.docSearchWithinCloseButton %>" class="<%= classes.widgetCloseIcon %>">\n                        <%- closeSearchWidgetText %>\n                    </button>\n                    <div class="<%= classes.clear %>"></div>\n                </div>\n            </div>\n            <div class="<%= classes.dropdownBoxFooter %>">\n                <span></span>\n            </div>\n        </div>\n    </div>\n</div>\n')(s)};this.cleanUpResources=function(){for(var e=0;e<i.length;e++)I["default"].Unsubscribe(i[e])};this.PublishSearchWithinDocumentTermsFoundEvent=function(e){const t={url:e.documentUrl};(0,p.isSearch4KAvailable)()&&e.clientQuery&&(t.clientQuery=e.clientQuery);j["default"].publishHubEvent(l["default"].events.searchWithinDocumentTermsFound,null,t)};this.SearchWithinHighlightingWidgetDraw=function(){const t=document.createElement("div"),a=e.IsNewDocumentView?`<span id="${l["default"].ids.actionMenuBarSearchWithinDocumentWidgetTextSpanId}"> ${l["default"].texts.searchWithinDocumentWidgetSpanText} </span>`:l["default"].texts.searchWithinThisDocumentTitle;t.id=l["default"].ids.docSearchWithinContainer;t.className=l["default"].classes.searchWithinWidgetContainer;t.innerHTML=this.BuildAnchor(a);n.parent.appendChild(t);const o=t.querySelector(`.${l["default"].classes.dropdownTitle}`);j["default"].AttachClickHandler(o,n.ToggleWidgetDisplay);const r=this.getDocSearchWithinQuery();(0,O.IsNotNullOrEmpty)(r)&&this.ExpandHistoryDetails();n.searchWithinTermNavigation=R["default"].GetObject(l["default"].objectIds.TermNavigation,[{Val:l["default"].queryParameters.termNavStateForward},{Val:n.documentDisplay},{Val:l["default"].classes.searchWithinTerm},{Val:l["default"].prefs.allSearchTerms},{Val:l["default"].navModes.searchWithinTermNav},{Val:!1}]);const s=document.createElement("div");s.id=l["default"].ids.docSearchWithinWidgetContainer;s.classList.add(l["default"].classes.hideState);s.innerHTML=this.buildHtmlForHighlightingWidget();document.getElementById("coid_docTopToolbarInner")?.appendChild(s);n.searchWithinDocumentTextBox=s.querySelector("input.co_inputSearchWithin");n.searchWithinDocumentButton=s.querySelector("button.co_searchSearchWithin")
;n.searchWithinDocumentCloseButton=s.querySelector("button.co_closeSearchWithin");const c=n.searchWithinDocumentCloseButton;j["default"].AttachClickHandler(n.searchWithinDocumentButton,n.ClickSearch);j["default"].AttachClickHandler(c,n.ToggleWidgetDisplay);n.searchWithinDocumentTextBox?.addEventListener("keypress",n.HandleTextBoxKeyPress);n.searchWithinDocumentTextBox?.addEventListener("keyup",n.HandleSearchTextChange);n.searchWithinDocumentTextBox?.addEventListener("blur",n.HandleSearchTextLooseFocus);n.searchWithinDocumentTextBox?.addEventListener("focus",n.HandleSearchTextGainFocus);document.querySelectorAll(".SearchWithinWidget-results").forEach((e=>e.addEventListener("click",(e=>{e.preventDefault();const t=e.target.closest("li");e.currentTarget.contains(t)&&n.ClickResultListItem(t)}))));new te(".SearchWithinWidget-results").addResizeHandlers();n.DrawA11yTooltip(o);if(n.searchWithinTermNavigation.FinishedInitializing){n.DisplayNavigationControls();const e=n.searchWithinTermNavigation;e?.searchTermsInDocument.forEach((e=>n.setA11yAttributes(e)))}else i.push(I["default"].Subscribe(l["default"].events.termNavFinishedInitializing,n.DisplayNavigationControls));if((0,O.IsNotNullOrEmpty)(r)){n.ToggleWidgetDisplay();n.searchWithinDocumentTextBox.value=r;n.UpdateNextPreviousButtons();this.AssembleTocMenuSubscribe();this.RemoveSearchWithinQueryParams();document.getElementById("searchWithinHeadingNormal").focus()}this.HighlightingTermsSubscribe();this.TocMenuSubscribe();c.setAttribute("aria-controls",`${l["default"].ids.tocMainContent} ${l["default"].ids.docSearchWithinWidgetContainer}`)};this.ExpandHistoryDetails=function(){const e=document.getElementById("co_EodHistory");if(e){document.querySelectorAll(".co_docRevHisoryDetailLess").forEach((e=>e.remove()));(0,Z.showElements)(document.querySelectorAll(".co_docRevHisoryDetailMore"));e.parentNode.removeChild(e)}};this.RemoveSearchWithinQueryParams=function(){const e=new URL(window.location.href);e.searchParams.delete("searchWithinQuery");e.searchParams.delete("needToInjectTerms");e.searchParams.delete("searchWithinHandle");history.replaceState(null,"",e)};this.isWidgetDisplay=function(){return document.getElementById(l["default"].ids.contentWrapper)?.classList.contains(l["default"].classes.searchWithinWidgetIsUsed)};this.isWidgetShown=function(){return document.getElementById(l["default"].ids.contentWrapper)?.classList.contains(l["default"].classes.searchWithinWidgetIsShown)};this.HighlightingTermsSubscribe=function(){I["default"].Subscribe(l["default"].events.searchWithinToggleHighlightingTerms,(()=>{n.isWidgetDisplay()?n.ShowSearchWithinTerms():n.HideSearchWithinTerms()}))};this.ShowSearchWithinTerms=function(){const e=n.searchWithinTermNavigation?.searchTermsInDocument;if(e){r().forEach(e,(function(e){e.element.classList.add(l["default"].classes.searchWithinTerm);n.setA11yAttributes(e)}));const t=n.searchWithinTermNavigation.currentSearchTermIndex;e[t]?.element.classList.add(l["default"].classes.currentSearchTerm)}};this.HideSearchWithinTerms=function(){const e=n.searchWithinTermNavigation?.searchTermsInDocument;if(e){r().forEach(e,(function(e){e.element.classList.remove(l["default"].classes.searchWithinTerm);e.element.removeAttribute("tabindex");e.element.removeAttribute("role")}));const t=n.searchWithinTermNavigation.currentSearchTermIndex;e[t]?.element.classList.remove(l["default"].classes.currentSearchTerm)}};this.AssembleTocMenuSubscribe=function(){I["default"].SubscribeOnce(l["default"].events.searchWithinAssembleTocMenu,(()=>{const e=document.getElementById(l["default"].ids.contentWrapper);document.getElementById(l["default"].ids.leftColumn)?.classList.remove(l["default"].classes.isActive);e?.classList.remove(l["default"].classes.sidebarIsActive);document.getElementById(l["default"].ids.documentToolbar)?.classList.remove(l["default"].classes.sidebarIsActive);e?.classList.add(l["default"].classes.searchWithinWidgetIsShown)}))};this.TocMenuSubscribe=function(){I["default"].Subscribe(l["default"].events.searchWithinToggleTocMenu,(()=>{const e=document.getElementById(l["default"].ids.contentWrapper);if(n.isWidgetDisplay()){e.classList.remove(l["default"].classes.searchWithinWidgetIsUsed);document.getElementById(l["default"].ids.newDocToolbarId)?.classList.remove(l["default"].classes.hideState);document.getElementById(l["default"].ids.docSearchWithinWidgetContainer)?.classList.add(l["default"].classes.hideState);e.classList.add(l["default"].classes.searchWithinWidgetIsShown);I["default"].Publish(l["default"].events.searchWithinToggleHighlightingTerms)}else if(n.isWidgetShown()){e.classList.add(l["default"].classes.searchWithinWidgetIsUsed);document.getElementById(l["default"].ids.newDocToolbarId)?.classList.add(l["default"].classes.hideState);document.getElementById(l["default"].ids.docSearchWithinWidgetContainer)?.classList.remove(l["default"].classes.hideState);I["default"].Publish(l["default"].events.searchWithinToggleHighlightingTerms)}else e.classList.remove(l["default"].classes.searchWithinWidgetIsShown)}))};this.buildHtmlForHighlightingWidget=function(){const e={resultList:this.buildResultList(),classes:l["default"].classes,texts:l["default"].texts,searchTermsInDocument:n.searchWithinTermNavigation?.searchTermsInDocument};return r().template('<div class="SearchWithinWidget" role="dialog" aria-labelledby="searchWithinHeadingNormal">\n    <div class="SearchWithinWidget-header">\n        <h2 class="headingNormal" id="searchWithinHeadingNormal" tabindex="-1"><%= texts.searchWithinDocumentWidgetSpanText %></h2>\n        <button class="co_closeSearchWithin" aria-label="<%= texts.closeSearchWithin %>" title="<%= texts.closeSearchWithin %>">\n            <span class="icon25 icon_close-gray">X</span>\n        </button>\n        <div class="co_clear"></div>\n    </div>\n    <div class="SearchWithinWidget-content">\n        <form class="SearchWithinWidget-input" role="search">\n            <input type="text" class="co_inputSearchWithin" aria-label="<%= texts.searchWithinTerms %>">\n            <button class="co_searchSearchWithin" aria-label="<%= texts.searchWithinTerms %>" type="button">\n                <span class="icon25 icon_search-gray"></span>\n            </button>\n            <div class="co_clear"></div>\n        </form>\n        <div class="SearchWithinWidget-controls">\n            <span class="<%= classes.searchWithinCounterCurrent %>" role="status"></span>\n            <div class="co_clear"></div>\n        </div>\n        <div class="SearchWithinWidget-results">\n            <ol><% _.forEach(resultList, function(element, index) { %>\n                <li data-kf-order="<%= resultList.indexOf(element) %>">\n                    <a href="#<%= searchTermsInDocument[index].element.id %>">\n                        <span><%= element.contextBeforeTxt %></span>\n                        <mark class="<%= classes.searchWithinTerm %>"><%= element.elementTxt %></mark>\n                        <span><%= element.contextAfterTxt %></span>\n                    </a>\n                </li><% }); %>\n            </ol>\n        </div>\n    </div>\n</div>\n')(e)};const u=this.ToggleWidgetDisplay;this.ToggleWidgetDisplay=function(){if(s){const e=document.getElementById(l["default"].ids.tocWrapper),t=document.getElementById(l["default"].ids.contentWrapper);if(t){if(n.isWidgetDisplay()){n.OnCloseWidget();if(e){document.getElementById(l["default"].ids.leftColumn)?.classList.add(l["default"].classes.isActive);t.classList.add(l["default"].classes.sidebarIsActive);document.getElementById(l["default"].ids.documentToolbar)?.classList.add(l["default"].classes.sidebarIsActive)}}else{e&&I["default"].Publish(l["default"].events.closeTableOfContents);n.searchWithinDocumentCloseButton.focus()}const i=document.getElementById(l["default"].ids.docSearchWithinWidgetContainer);if(!n.isWidgetDisplay()||!e||i?.classList.contains(l["default"].classes.hideState)||t.classList.contains(l["default"].classes.sidebarIsActive)){t.classList.toggle(l["default"].classes.searchWithinWidgetIsUsed);document.getElementById(l["default"].ids.newDocToolbarId)?.classList.toggle(l["default"].classes.hideState)
;i?.classList.toggle(l["default"].classes.hideState);t.classList.toggle(l["default"].classes.searchWithinWidgetIsShown);I["default"].Publish(l["default"].events.searchWithinToggleHighlightingTerms);document.querySelector("button.co_closeSearchWithin").focus()}}n.isWidgetDisplay()||document.querySelector("#co_docSearchWithinContainer .co_dropdownTitle").focus()}else u.call(this)};const h=this.UpdateNextPreviousButtons;this.UpdateNextPreviousButtons=function(){if(s){const e=n.searchWithinTermNavigation;this.DisplayTotalResults(e.searchTermsInDocument.length)}else h.call(this)};const f=this.DisplaySuggestedTerms;this.DisplaySuggestedTerms=function(e){s?this.ZeroSearchWithinResults():f.call(this,e)};const m=this.DisplayErrorMessage;this.DisplayErrorMessage=function(e){s?this.ZeroSearchWithinResults():m.call(this,e)};this.ZeroSearchWithinResults=function(){this.DisplayTotalResults(0);document.querySelector("div.SearchWithinWidget-results ol")?.remove();this.HideSearchWithinTerms();n.searchWithinTermNavigation=null};this.DisplayTotalResults=function(e){document.querySelector(`span.${l["default"].classes.searchWithinCounterCurrent}`).textContent=d["default"].format("SC.Document.Widget.SearchWithinDocument.TotalResults",{total:e},e+" results")};this.ClickResultListItem=function(e){const t=e.dataset.kfOrder;document.querySelectorAll(".SearchWithinWidget-results a").forEach((e=>e.removeAttribute("aria-current")));e.querySelector("a")?.setAttribute("aria-current",!0);n.MoveToPosition(t)};this.MoveToPosition=function(e){const t=n.searchWithinTermNavigation;if(null!=e&&e>-1&&e<t.searchTermsInDocument.length){t.searchTermsInDocument.forEach((e=>{e.element.classList.remove(l["default"].classes.markCurrentSearchTerm);e.element.removeAttribute("aria-current")}));const i=t.searchTermsInDocument[e].element;t.setCurrentSearchTermFromElement(i);i.classList.add(l["default"].classes.markCurrentSearchTerm);i.classList.add(l["default"].classes.currentSearchTermFocus);i.setAttribute("tabindex",-1);i.setAttribute("aria-current",!0);i.focus();i.addEventListener("blur",(function(){i.classList.remove(l["default"].classes.currentSearchTermFocus)}),{once:!0});n.UpdateResultListPosition(e)}};this.UpdateResultListPosition=function(e){let t=document.querySelector(`div.SearchWithinWidget-results ol li a mark.${l["default"].classes.currentSearchTerm}`);t?.classList.remove(l["default"].classes.currentSearchTerm);t=document.querySelector(`div.SearchWithinWidget-results ol li[data-kf-order="${e}"] a mark.${l["default"].classes.searchWithinTerm}`);t?.classList.add(l["default"].classes.currentSearchTerm)};this.buildResultList=function(){const e=n.searchWithinTermNavigation?.searchTermsInDocument;return e?.map((e=>n.getContextsForElement(e.element)))||[]};this.getContextsForElement=function(e){const t=e.textContent;if(t.length>=77)return{contextBeforeTxt:"",elementTxt:t,contextAfterTxt:""};const n=this.getElementBlock(e);if(!n)return{contextBeforeTxt:"",elementTxt:t,contextAfterTxt:""};const i=document.createTreeWalker(n,NodeFilter.SHOW_ALL,null,!1);let a=this.getContextBefore(i,e),o=this.getContextAfter(i,e);const r=this.GetContextMaxLength(a,t,o);a.length>r.lenContextBefore&&(a="… "+a.substr(-r.lenContextBefore,r.lenContextBefore));o.length>r.lenContextAfter&&(o=o.substr(0,r.lenContextAfter)+"…");return{contextBeforeTxt:a,elementTxt:t,contextAfterTxt:o}};this.getElementBlock=function(e){return e.closest(".co_paragraph")??e.closest(".co_headtext")??e.closest(".co_productname")??e.closest(".co_docHeaderContainer")??e.closest(".co_docRevHisoryDetailMore ol li")??e.closest("h3")};this.getContextBefore=function(e,t){return this.getContextDirection(e,t,!1)};this.getContextAfter=function(e,t){return this.getContextDirection(e,t,!0)};this.getContextDirection=function(e,t,n){const i=[],a=()=>n?e.nextNode():e.previousNode();e.currentNode=t;n&&a();let o=a();for(;o;){3===o.nodeType&&i.push(o.textContent);o=a()}return(n?i:i.reverse()).join("")};this.GetContextMaxLength=function(e,t,n){const i=77-t.length,a=Math.floor(i/2);return{lenContextBefore:n.length<a?i-n.length:a,lenContextAfter:e.length<a?i-e.length:a}};this.setA11yAttributes=function(e){e.element?.setAttribute("tabindex",-1);e.element?.setAttribute("role","mark")}}ne.prototype={BuildAnchor:function(e){var t={classes:l["default"].classes,texts:l["default"].texts,anchorText:e,ids:l["default"].ids};return r().template('<button type="button" class="<%= classes.dropdownTitle %>" title="<%- texts.searchTextAltText %>" aria-controls="<%= ids.tocMainContent%> <%= ids.docSearchWithinWidgetContainer %>"><%= anchorText %></button>')(t)}};const ie=ne},744:(e,t,n)=>{e.exports=n(4507)(26721)},759:(e,t,n)=>{e.exports=n(4507)(25035)},762:(e,t,n)=>{e.exports=n(4507)(44899)},779:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>d});var i=n(1434),a=n.n(i),o=n(4383),r=n(8286),s=n(2065),l=n(4422);const c=a().extend({SetUpSpecificationSection:function(){const e=new c;let t=0,n=!1,i=!1;const a=document.querySelectorAll("#specificationContent div.co_panelBlock div.co_paragraphText, #specificationContent div.co_panelBlock div.co_paragraph div.co_paragraphText");a.length>1?document.querySelectorAll("#specificationContent div .co_paragraphText, #specificationContent div .co_headtext, #specificationContent .co_panelBlock div:not([class]), #specificationContent div span, #specificationContent .co_list").forEach((function(e){!n&&e.querySelector(".co_currentSearchTerm, .co_selection_snippet")&&(n=!0);if(t<300)t+=e.textContent.length;else{e.classList.add("hiddenSpecificationDiv","co_hideState");i=!0}})):a.forEach((e=>{!n&&e.querySelectorAll(".co_currentSearchTerm, .co_selection_snippet").length>0&&(n=!0);const t=e.innerHTML;if(t&&t.length>300){const t=e.childNodes;let n=0;const a=document.createElement("span"),o=document.createElement("span");o.classList.add("hiddenSpecificationDiv");o.classList.add("co_hideState");[...t].forEach((function(e){const t=e,r=e.textContent;if(n<60){let e=0;r&&(e=r.split(" ").length);a.appendChild(t.cloneNode());n+=e}else{i=!0;o.appendChild(t)}}));if(i){a.append(o);e.replaceChildren(a)}}}));if(i){document.getElementById("specificationViewAllLink")?.classList.remove("co_hideState");document.getElementById("specificationViewLessLink")?.classList.add("co_hideState");document.getElementById("specificationElipses")?.classList.remove("co_hideState");document.getElementById("specificationViewAllLinkTop")?.classList.remove("co_hideState");document.getElementById("specificationViewLessLinkTop")?.classList.add("co_hideState")}n&&e.ShowSpecificationSections()},SetUpClaimsSection:function(){const e=new c;let t=0,n=!1;document.querySelectorAll("#claimsContent div .co_paragraphText").forEach((function(e){n||!e.querySelector(".co_currentSearchTerm")&&!e.querySelector(".co_selection_snippet")||(n=!0);if(t<300)t+=e.textContent.length;else if((0,l.parents)(e,"#claimsContent table").length)(0,l.parents)(e,"#claimsContent table").forEach((function(e){e.classList.add("hiddenClaimsDiv","co_hideState");document.getElementById("claimsViewAllLink")?.classList.remove("co_hideState");document.getElementById("claimsViewLessLink")?.classList.add("co_hideState");document.getElementById("claimsElipses")?.classList.remove("co_hideState");document.getElementById("claimsViewAllLinkTop")?.classList.remove("co_hideState");document.getElementById("claimsViewLessLinkTop")?.classList.add("co_hideState")}));else{e.classList.add("hiddenClaimsDiv","co_hideState");document.getElementById("claimsViewAllLink")?.classList.remove("co_hideState");document.getElementById("claimsViewLessLink")?.classList.add("co_hideState");document.getElementById("claimsElipses")?.classList.remove("co_hideState");document.getElementById("claimsViewAllLinkTop")?.classList.remove("co_hideState");document.getElementById("claimsViewLessLinkTop")?.classList.add("co_hideState")}}));n&&e.ShowClaimsSections()},ScrollToCurrentSearchTerm:function(){const e=s["default"].GetCurrentChunkNumberFromDOM(),t=s["default"].BuildElementReturnObject(document.querySelector(".co_currentSearchTerm"),e);if(s["default"].IsElementScrollable(t).isScrollable){let e=!1
;o["default"].Parse(window.location.href).QueryString.TermNavState===r["default"].queryParameters.termNavStateBackward&&(e=!0);s["default"].ScrollToChunkedElement(t,null,e)}},SetUpPatentClickEvents:function(){const e=new c;document.querySelectorAll("#specificationViewLessLink, #specificationViewLessLinkTop").forEach((t=>t.addEventListener("click",(function(){e.HideSpecificationSections()}))));document.querySelectorAll("#specificationViewAllLink, #specificationViewAllLinkTop").forEach((t=>t.addEventListener("click",(function(){e.ShowSpecificationSections()}))));document.querySelectorAll("#claimsViewLessLink, #claimsViewLessLinkTop").forEach((t=>t.addEventListener("click",(function(){e.HideClaimsSections()}))));document.querySelectorAll("#claimsViewAllLink, #claimsViewAllLinkTop").forEach((t=>t.addEventListener("click",(function(){e.ShowClaimsSections()}))))},ChunkCallback:function(){if(document.querySelector("#specificationContent, #claimsContent")){const e=new c;e.SetUpClaimsSection();e.SetUpSpecificationSection();e.SetUpPatentClickEvents();e.ScrollToCurrentSearchTerm()}},SetUpCollapsibleSections:function(){if(document.querySelector("#specificationContent, #claimsContent")){const e=new c;e.SetUpClaimsSection();e.SetUpSpecificationSection();e.ScrollToCurrentSearchTerm()}},ShowClaimsSections:function(){document.getElementById("claimsViewAllLink")?.classList.add("co_hideState");document.getElementById("claimsViewLessLink")?.classList.remove("co_hideState");document.getElementById("claimsViewAllLinkTop")?.classList.add("co_hideState");document.getElementById("claimsViewLessLinkTop")?.classList.remove("co_hideState");document.querySelectorAll(".hiddenClaimsDiv").forEach((e=>e.classList.remove("co_hideState")))},ShowSpecificationSections:function(){document.getElementById("specificationViewAllLink")?.classList.add("co_hideState");document.getElementById("specificationViewLessLink")?.classList.remove("co_hideState");document.getElementById("specificationViewAllLinkTop")?.classList.add("co_hideState");document.getElementById("specificationViewLessLinkTop")?.classList.remove("co_hideState");document.querySelectorAll(".hiddenSpecificationDiv").forEach((e=>e.classList.remove("co_hideState")))},HideClaimsSections:function(){document.getElementById("claimsViewAllLink")?.classList.remove("co_hideState");document.getElementById("claimsViewLessLink")?.classList.add("co_hideState");document.getElementById("claimsViewAllLinkTop")?.classList.remove("co_hideState");document.getElementById("claimsViewLessLinkTop")?.classList.add("co_hideState");document.querySelectorAll(".hiddenClaimsDiv").forEach((e=>e.classList.add("co_hideState")))},HideSpecificationSections:function(){document.getElementById("specificationViewAllLink")?.classList.remove("co_hideState");document.getElementById("specificationViewLessLink")?.classList.add("co_hideState");document.getElementById("specificationViewAllLinkTop")?.classList.remove("co_hideState");document.getElementById("specificationViewLessLinkTop")?.classList.add("co_hideState");document.querySelectorAll(".hiddenSpecificationDiv").forEach((e=>e.classList.add("co_hideState")))}}),d=c},813:(e,t,n)=>{e.exports=n(4507)(97454)},846:(e,t,n)=>{e.exports=n(4507)(85799)},906:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={Data:{}}},966:(e,t,n)=>{e.exports=n(4507)(29159)},995:(e,t,n)=>{"use strict";n.r(t);n.d(t,{assembleComponentParams:()=>v,assembleComponents:()=>y});var i=n(9191),a=n.n(i),o=n(1422),r=n(3839),s=n(669),l=n(2842),c=n(7861),d=n(8286),u=n(6494),h=n(2065),f=n(4625),p=n(1688),m=n(8260),g=n(9691);var v={assembleTocAndScrollBehavior:function(){var e=document.getElementById("co_leftColumn"),t=document.getElementById("co_rightColumn"),n=document.getElementById("kh_toc-wrapper"),i=a()("#kh_tocContainer"),r=document.querySelector(".kh_toc-inner"),c=a()(".kh_toc-list").find("a"),u=m["default"].getDocumentContentHeaderElement(),h=m["default"].getDocumentHeaderContainerElement().find(".co_title");const{toggleTocMenu:f,addRelatedContentLinkListener:p,minimizedWindowWidth:g,floatingHeaderClass:y,calculateDetachThreshold:C,shouldUpdateDocHeaderOnScrollResize:x,toggleStyle:k,headerAndToolbarUnattachTop:w,tocHeight:E,findBoundaryLinePosition:A,adjustToc:L,toggleFloatingHeader:N,toggleTocMenuVisibility:R,tocAnchorClick:P}=v;var O;B();p();o["default"].Subscribe("RelatedContentLoaded",(function(){window.dispatchEvent(new Event("resize"))}));function B(){O=[...document.querySelectorAll("div[id^=co_docContentBody] a[id^='co_anchor_']")].filter((function(e){return c.filter("a[href='#"+e.id+"']").length}))}o["default"].Subscribe(d["default"].events.chunkRendered,B);o["default"].Subscribe(d["default"].events.closeTableOfContents,(()=>{document.getElementById("co_leftColumn")?.classList.contains("is-active")&&Array.from(document.querySelectorAll("#co_contentWrapper, #co_docToolbarContainer")).some((e=>e.classList.contains("sidebar-is-active")))&&R()}));var M=n?.classList.contains("co_toc-keepHidden");if(i.length){if(n&&document.documentElement.clientWidth>g){M||e?.classList.add("is-active");document.querySelectorAll(".content-group, #co_contentWrapper, body.th_lightGray #co_docToolbarContainer").forEach((e=>e.classList.add("sidebar-is-active")))}if(!M&&n){document.querySelector("#co_leftColumn  .co_innertube")?.append(n);const e=document.querySelector(".kh_toc-header .menu-toggle .co_hideState");e?.setAttribute("aria-hidden","true");n.classList.remove("co_hideState")}document.querySelectorAll(".kh_toc-header .kh_icon.icon-cross").forEach((e=>e.addEventListener("click",f)));document.querySelectorAll(".menu-toggle").forEach((e=>e.addEventListener("click",f)));document.addEventListener("keyup",(e=>{if(n&&e.ctrlKey&&e.altKey){var t=e.which;13==t&&e.preventDefault();if(84==t){document.getElementById("co_leftColumn")?.classList.toggle("is-active");document.getElementById("co_contentWrapper")?.classList.toggle("sidebar-is-active");document.getElementById("co_docToolbarContainer")?.classList.toggle("sidebar-is-active")}}}));c.click(P);v.originalHeightToc=(0,s.getOuterHeight)(r);v.docHeaderThreshold=C();window.addEventListener("resize",(function(){e?.classList.contains("is-active")?document.querySelector("body.th_lightGray")?.classList.add("noscroll"):document.querySelector("body.th_lightGray")?.classList.remove("noscroll");E();v.docHeaderThreshold=C()}));["scroll","load"].forEach((e=>{window.addEventListener(e,(function(){L();document.documentElement.clientWidth>g&&w();t?.classList.add(y);I(h);if(window.pageYOffset+document.documentElement.clientHeight==document.documentElement.scrollHeight)k("a",!0);else if(0==window.pageYOffset){k("a");h.find(".clone.subSectionTitle").remove();u.removeClass(y);(0,l.showElements)(document.getElementById("redlineStartdate"))}else{const e=u.offset().top+u.outerHeight(!0)-window.pageYOffset,t=D(O,e);if(t){const n=m["default"].getMaxRelativeOffsetToChangeHeaderTitle(),i=a()(t),o=T(O,i),r=A(e)+n;let s;i.offset().top<r?s=i:o&&(s=o);const l=s&&"a[href='#"+s.attr("id")+"']"||"";k(l)}}}))}))}else{var F=v.shouldUnattachToolbar();if(window.pageYOffset>0){_();b()}h.addClass("noTOC");F&&(v.docHeaderThreshold=C());window.addEventListener("resize",(function(){if(x()){N(M);F&&(v.docHeaderThreshold=C())}}));window.addEventListener("scroll",(function(){if(x()){N(M);I(h);F&&document.documentElement.clientWidth>g&&w()}}))}o["default"].Subscribe(d["default"].events.documentMayHaveChangedSize,(function(){v.docHeaderThreshold=C()}));o["default"].Subscribe(d["default"].events.beforeScrollToSearchTerm,(function(){S()}));m["default"].bindInlineTOCEvents()},calculateTocPosition:function(e){return(0,s.getElementHeight)(document.getElementById(d["default"].ids.document))-e},addBookmarkSetup:function(e){if(r["default"].isIacOn("IAC-FAVORITE-DOCUMENT")){var t=document.querySelectorAll(".co_documentActions .icon-bookmark");if(!t.length)return;t.forEach((t=>t.addEventListener("click",(function(){if(!e.documentData)return;var t=new f["default"];t.setId(e.ViewData.DocumentGuid);t.setResourceType("NOVUS_DOCUMENT");t.setUrl(location.pathname+location.search);var n=e.documentData.TitleText;t.setDisplayName(n);t.setUniqueName(n);new p["default"](t).Draw()
}))))}},toggleStyle:function(e,t=!1){var n,i=document.getElementById("kh_tocContainer"),a=m["default"].getDocumentHeaderContainerElement().find(".co_title"),o=m["default"].getDocumentContentHeaderElement();if(e){const a=t?-1:0;n=[...i?.querySelectorAll(e)??[]].at(a)}if(n&&n.getAttribute("href")!==v.previousTocHref){v.previousTocHref=n.getAttribute("href");if(o.hasClass(v.floatingHeaderClass)){a.removeClass("noTOC");if(a.has(".clone.subSectionTitle").length)document.querySelector(".clone.subSectionTitle")&&(document.querySelector(".clone.subSectionTitle").innerHTML=n.innerHTML);else{m["default"].addInfoToTitle(a[0],`<div class="clone subSectionTitle">${n.innerHTML}</div>`);x()}}else{a.addClass("noTOC");document.querySelectorAll(".clone.subSectionTitle").forEach((e=>e.remove()));m["default"].removeInfoFromTitle()}}else if(!n&&o.hasClass(v.floatingHeaderClass)){a.removeClass("noTOC");document.querySelectorAll(".clone.subSectionTitle").forEach((e=>e.remove()));v.previousTocHref=null;a.has("div:empty").length||a.append("<div/>");m["default"].addInfoToTitle(a[0]);x()}},previousTocHref:null,calculateHeaderOffset:function(e,t,n,i){let a=0;a=n<v.minimizedWindowWidth?0===i?63:e:m["default"].getHeaderFullOuterHeight(e,t);return a},calculateDistanceBetweenAnchorAndBoundaryLine:function(e,t){return a()(e).offset().top-t-window.pageYOffset},findBoundaryLinePosition:function(e){return window.pageYOffset+e},addRelatedContentLinkListener:function(){var e=m["default"].getDocumentHeaderContainerElement();m["default"].displayRelatedContentLink()&&document.querySelector(".co_relatedContentLink")&&document.querySelectorAll(".co_relatedContentLink").forEach((t=>t.addEventListener("click",(function(){if(document.getElementById("kh_relatedContentOffset")){const t=document.getElementById("kh_relatedContentOffset");if(t){t.style.display="block";t.style.position="relative";t.style.visibility="hidden";t.style.top=-1*(e.height()+46)+"px"}}}))))},calculateDetachThreshold:function(){return(0,s.getElementHeight)(document.getElementById(d["default"].ids.document))-v.originalHeightToc},headerAndToolbarUnattachTop:function(){var e=m["default"].getDocumentContentHeaderElement(),t=a()("#co_docTopToolbar"),n=e.add(t).add(a()("#"+d["default"].ids.docToolbarVerticalMenuRight)),i=window.pageYOffset,o=v.docHeaderThreshold;if(i>o&&o>0){n.hasClass(v.notStickyClass)||n.addClass(v.notStickyClass);n.css("top",o)}else{n.removeClass(v.notStickyClass);n.css("top","")}},adjustToc:function(e){_();C(e);b()},tocHeight:function(){const e=document.documentElement.clientHeight,t=document.querySelector(".kh_toc-content"),n=document.getElementById("kh_tocContainer"),i=document.querySelector(".kh_toc-list"),a=document.querySelector(".kh_toc-header"),o=document.querySelectorAll(".kh_toc-inner");if(n){if(i){const o=(0,c.offset)(n).top+(0,c.position)(t).top,r=parseFloat(getComputedStyle(i).paddingTop);i.style.height=e-o-r+"px";if(document.documentElement.clientWidth<v.minimizedWindowWidth){const t=(0,c.position)(i).top,n=(0,s.getElementHeight)(document.getElementById("co_header"));i.style.height=e-n-t-r+"px"}const l=(0,s.getElementHeight)(document.getElementById("co_document"))-r-(0,s.getOuterHeight)(a);i.style.maxHeight=`${l}px`}o.forEach((e=>{e.classList.contains("setHeight")||e.classList.add("setHeight")}))}},toggleFloatingHeader:function(e){var t=m["default"].getDocumentContentHeaderElement(),n=m["default"].getDocumentHeaderContainerElement().find(".co_title");if(0==window.pageYOffset||m["default"].isWholeDocumentInWindow()){t.removeClass(v.floatingHeaderClass);(0,l.showElements)(document.getElementById("redlineStartdate"));m["default"].removeInfoFromTitle()}else{S();n.has("div:empty").length||n.append("<div/>");m["default"].addInfoToTitle(n[0]);x()}C(e);b()},addStickyHeader:S,toggleTocMenu:function(e){e.preventDefault();e.stopPropagation();v.toggleTocMenuVisibility()},toggleTocMenuVisibility:function(){const e=document.getElementById("co_leftColumn"),t=e?.classList.contains("is-active");e?.classList.toggle("is-active");document.getElementById("co_contentWrapper")?.classList.toggle("sidebar-is-active");document.getElementById("co_docToolbarContainer")?.classList.toggle("sidebar-is-active");document.querySelector(".kh_toc-header button.kh_icon.icon-cross")?.setAttribute("aria-expanded",!t);o["default"].Publish(d["default"].events.documentMayHaveChangedSize);b();v.tocHeight()},originalHeightToc:0,docHeaderThreshold:0,minimizedWindowWidth:1024,notStickyClass:"not-sticky",floatingHeaderClass:"is-sticky",shouldUnattachToolbar:function(){return!1},shouldUpdateDocHeaderOnScrollResize:function(){return!0},shouldAssembleComponents:function(){return m["default"].displayOptions.isNewDocumentView&&!r["default"].IsAnonymousSession},initTocAndScrollComponent:function(e){"function"==typeof e&&e()},drawSubsectionHighlighter:function(){},tocAnchorClick:function(e){const{calculateHeaderOffset:t,floatingHeaderClass:n,minimizedWindowWidth:i}=v;var o=document.getElementById("co_leftColumn"),r=m["default"].getDocumentContentHeaderElement(),l=m["default"].getDocumentHeaderContainerElement().find(".co_title");const c=e.currentTarget.hash;if(u["default"].Instance){const e=u["default"].Instance.FindElementInChunkById(c,!1);h["default"].ScrollToChunkedElement(e,null,!1)}if(document.documentElement.clientWidth<i){o?.classList.remove("is-active");document.querySelectorAll("#co_contentWrapper, #co_docToolbarContainer").forEach((e=>e.classList.remove("sidebar-is-active")))}else{r.hasClass(n)||r.addClass(n);l.removeClass("noTOC");if(l.has(".clone.subSectionTitle").length){document.querySelectorAll(".clone.subSectionTitle").forEach((t=>t.innerHTML=e.currentTarget.innerHTML))}else{m["default"].addInfoToTitle(l[0],`<div class="clone subSectionTitle">${e.currentTarget.innerHTML}</div>`);x()}}h["default"].modifyHeaderForScrolling();const d=t(function(){var e=0;if(u["default"].Instance){var t=(0,s.getOuterHeight)(document.getElementById("co_chunkNavOne"));e=0===window.pageYOffset?t+t/2+4:10}return e}(),r,document.documentElement.clientWidth,window.pageYOffset),f=a()(c).offset().top-d;document.querySelector("body.th_lightGray")?.classList.remove("noscroll");window.scrollTo({top:f,behavior:"smooth"});const p=document.querySelector(c)?.nextElementSibling;if(p){p.classList.add("FocusableItem");p.setAttribute("tabindex",0);p.focus()}return!1}};function y(){if(v.shouldAssembleComponents()){v.initTocAndScrollComponent((()=>{v.assembleTocAndScrollBehavior();v.drawSubsectionHighlighter();v.tocHeight()}));r["default"].IsAnonymousSession||v.addBookmarkSetup()}}function b(){const e=m["default"].getDocumentContentHeaderElement(),t=document.getElementById("co_mainContainer");t?.classList.toggle("scrolling",e.position()?.top>0)}function C(e){var t=document.querySelector(".kh_toc-list"),n=document.querySelector(".kh_toc-inner");if(!e){var i=0;a()(t).children().each((function(){i+=(0,s.getOuterHeight)(this)}));if(!i)return;var o=window.pageYOffset,r=v.calculateTocPosition(i);if(o>r&&r>0){n?.classList.contains(v.notStickyClass)||n?.classList.add(v.notStickyClass);(t?.style??{}).maxHeight="";n?.classList.remove("setHeight");document.getElementById("coid_floatingRelatedContentLink")&&(r-=(0,s.getOuterHeight)(n)-i);(n?.style??{}).top=`${r}px`}else{n?.classList.remove(v.notStickyClass);v.tocHeight();(n?.style??{}).top=""}}}function S(){if(m["default"].displayOptions?.stickyHeader){var e=m["default"].getDocumentContentHeaderElement();if(!e.hasClass(v.floatingHeaderClass)){e.addClass(v.floatingHeaderClass);v.docHeaderThreshold=v.calculateDetachThreshold();(0,l.hideElements)(document.getElementById("redlineStartdate"))}}}function _(){var e=document.getElementById("kh_tocContainer"),t=m["default"].getDocumentContentHeaderElement();e?.classList.add(v.floatingHeaderClass);window.pageYOffset>0?S():t.removeClass(v.floatingHeaderClass)}const D=(e,t)=>{let n,i=Number.MAX_VALUE;const{calculateDistanceBetweenAnchorAndBoundaryLine:a}=v;e.forEach((function(e){const o=parseInt(Math.abs(a(e,t)));if(o<i){i=o;n=e}}));return n},T=(e,t)=>{let n,i;(0,g.forEach)(e,(function(e){if(e.id===t.attr("id")){i=n;return!1}n=a()(e)}));return i};function I(e){
const t=document.getElementById("co_chunkNavOne");if(t?.parentElement.matches("#coid_website_documentWidgetDiv")){t.classList.add("co_floatRight");a()(t).insertBefore(e);document.getElementById("co_topChunkNav")?.classList.remove("co_hideState")}t?.classList.toggle("co_hideState",0===window.pageYOffset)}function x(){document.getElementById("kh_relatedContentOffset")?.removeAttribute("style")}},997:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(9191),a=n.n(i),o=n(6669),r=n.n(o),s=n(9912),l=n(7185),c=n(9122),d=n(966),u=n(3434),h={dom:{}};h.dom.facetGraphExternalId="co_ip_facetGraph_external";h.dom.genericBoxHeaderId="co_searchResults_ip_facetGraph_genericBoxHeader";h.dom.facetGraphId="co_searchResults_ip_facetGraph";h.dom.dropdownId="co_searchResults_ip_facetGraph_dropdown";h.dom.optionsId="co_searchResults_ip_facetGraph_options";h.dom.selectedOptionId="co_searchResults_ip_facetGraph_dropdown_selected";h.dom.graphContainerId="co_searchResults_ip_facetGraph_container";h.dom.graphTitleId="co_searchResults_ip_facetGraph_title";h.dom.graphPopupId="co_searchResults_ip_facetGraph_popup";h.dom.graphBodyId="co_searchResults_ip_facetGraph_body";h.dom.graphDataDropDownId="coid_graphDataDropDown";h.dom.lightboxTitleId="coid_title";h.currentGraphContainer=null;h.currentGraphHeaderText="";h.text={ShowGraphs:s["default"].lookup("SC.Search.Facets.IPViz.Property.ShowGraphs","Show graphs"),HideGraphs:s["default"].lookup("SC.Search.Facets.IPViz.Property.HideGraphs","Hide graphs")};h.getSearchGuid=c["default"].SearchResult.getGuid;h.getContentType=c["default"].SearchResult.getContentType;h.facet={availableSelector:["hierarchy","date","ipMultipleXBoxes","ipHierarchicalTreeSearch","multipleXBoxesCollector"],dataAvailableSelector:["hierarchy","multipleXBoxesCollector"],dataUnavailableSelector:["ipMultipleXBoxes","ipHierarchicalTreeSearch","date"],trademarkHierarchicalTreeSearchId:["trademarkDesignCategoryWide","trademarkClassInternationalWide","trademarkViennaCode"],copyrightMultipleXBoxesCollectorId:["copyrightType","copyrightRegistrationClass"]};h.graphType={pie:s["default"].lookup("SC.Search.Facets.IPViz.LightboxContentTemplate.PieGraph","Pie Graph"),bar:s["default"].lookup("SC.Search.Facets.IPViz.LightboxContentTemplate.BarGraph","Bar Graph"),line:s["default"].lookup("SC.Search.Facets.IPViz.LightboxContentTemplate.LineGraph","Line Graph"),isPie:function(e){return e===h.graphType.pie},isBar:function(e){return e===h.graphType.bar},isLine:function(e){return e===h.graphType.line}};var f="SearchResults_IP_ExpandGraphSection";h.getExpandGraphSectionPref=function(e){var t=d["default"].Get("Search",f);if(r().contains(t,e)){h.currentGraphHeaderText=h.text.HideGraphs;(document.getElementById(h.dom.genericBoxHeaderId)??{}).textContent=h.currentGraphHeaderText;return!0}h.currentGraphHeaderText=h.text.ShowGraphs;(document.getElementById(h.dom.genericBoxHeaderId)??{}).textContent=h.currentGraphHeaderText;return!1};h.setExpandGraphSectionPref=function(e){var t=d["default"].Get("Search",f),n=r().indexOf(t,e);n>-1?t.splice(n,1):t.push(e);d["default"].Set("Search",f,t,(function(){}))};function p(e){return"SearchResults_IP_"+e+"_VizFacetDisplay"}h.getFacetResultTypePref=function(e){return d["default"].Get("Search",p(e))};h.setFacetResultTypePref=function(e,t){d["default"].Set("Search",p(e),t,(function(){}))};h.isIPFacetWidgetAvailable=function(){const e=c["default"].SearchResult._contentType;return!l["default"].IsNativeIPad&&!l["default"].IsNativeIPhone&&["PATENTS","TRADEMARK","COPYRIGHT","INPADOC","DWPI","TSDR","PAIR"].includes(e)};h.facetDropDownEventHandler=function(){const e=this.parentNode;if(e.classList.contains("co_collapsed")){e.classList.remove("co_collapsed");e.classList.add("co_expanded");const t=e.querySelector(".co_dropdownArrowCollapsed");t?.classList.remove("co_dropdownArrowCollapsed");t?.classList.add("co_dropdownArrowExpanded")}else{e.classList.remove("co_expanded");e.classList.add("co_collapsed");const t=e.querySelector(".co_dropdownArrowExpanded");t?.classList.remove("co_dropdownArrowExpanded");t?.classList.add("co_dropdownArrowCollapsed")}};h.drawLoadingSpin=function(){const e=s["default"].lookup("SC.Search.Facets.IPViz.Property.Loading","Loading..."),t=`<div class="co_progressIndicator"><img src=${u["default"].GetUrl(u["default"].CSS,"/css/v2/images/co_loading_small.gif")} alt="${e}"/></div>`,n=a()("#coid_Lightbox #coid_graphicalChart");n.length>0?this.currentGraphContainer=n:this.currentGraphContainer=a()("#"+h.dom.graphBodyId);this.currentGraphContainer.html(t);const i=document.getElementById("coid_graphDataList");i&&(i.innerHTML=t);document.getElementById("co_graphDownloadButton")?.classList.add("co_disabled")};h.removeLoadingSpin=function(){this.currentGraphContainer.find(".co_progressIndicator").remove();document.getElementById("coid_graphDataList")&&document.querySelectorAll("#coid_graphDataList .co_progressIndicator").forEach((e=>e.className=""));document.getElementById("co_graphDownloadButton")?.classList.remove("co_disabled")};h.getFacetHeaderHtmlStr=function(){const e=s["default"].lookup("SC.Search.Facets.IPViz.Property.Graphs","GRAPHS"),t=[];t.push(`<div class="co_genericBox co_ip_facetGraph" id="${h.dom.facetGraphExternalId}" >`);t.push('<div class="co_genericBoxHeader co_narrow_boxHeader">');t.push('<span class="icon25 icon_graph"></span>');t.push(`<h3 aria-level="2">${e}</h3>`);t.push(`<a href="javascript:void(0);" id="${h.dom.genericBoxHeaderId}" class="co_genericBoxHeader_hideShow"></a>`);t.push("</div>");t.push("</div>");return t.join("")};h.getFacetGraphHtmlStr=function(){const e=s["default"].lookup("SC.Search.Facets.IPViz.Property.Select","- Select from List -"),t=s["default"].lookup("SC.Search.Facets.IPViz.Property.MoreFacetOptions","More Facet Options"),n=s["default"].lookup("SC.Search.Facets.IPViz.Property.Expand","Expand Content"),i=[];i.push(`<div id="${h.dom.facetGraphId}" class="co_genericBoxContent">`);i.push(`<div id="${h.dom.dropdownId}" class="co_facet_sad co_collapsed">`);i.push('<div class="co_facet_sad_options"><div class="co_facet_sad_optionsRight"><ul class="co_facet_sad_optionsContent"><li>');i.push(`<a href="javascript:void(0);" class="co_dropdownArrowCollapsed">${t}</a>`);i.push(`<span id="${h.dom.selectedOptionId}">${e}</span>`);i.push('</li></ul></div></div><div class="co_clear"></div>');i.push('<div id="co_facet_ip_footerContainer" class="co_facet_sad_footerContainer"><div class="co_facet_sad_footer"><div class="co_facet_sad_footerRight">');i.push('<ul class="co_facet_sad_footerOptions"></ul>');i.push("</div></div></div></div>");i.push(`<div id="${h.dom.graphContainerId}">`);i.push(`<span id="${h.dom.graphTitleId}"></span><button id="${h.dom.graphPopupId}" class="co_transparentBtn"><span class="icon25 icon_expand">${n}</span></button>`);i.push(`<div id="${h.dom.graphBodyId}">`);i.push("</div>");i.push("</div></div>");return i.join("")};const m=h},1004:e=>{"use strict"
;e.exports='\x3c!--\n @file Calendar template\n--\x3e\n<div class="co_calendar_gridContainer">\n\t<table role="grid" aria-labelledby="calendarTitle">\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<% for (var m = model.startDay, n = 0; n < 7; m = (m + 1)% 7, n++) { %>\n\t\t\t\t\t<% const { globalizedCalendar: { days } } = model; %>\n\t\t\t\t\t<th aria-label="<%- days.names[m] %>"><%- days.namesAbbr[m] %></th>\n\t\t\t\t<% } %>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody class="coid_table-body">\n\t\t\t<% for(let i = 0; i < model.datedata.length; i++) {%>\n\t\t\t\t<% let isFirstRowCell = i === 0 %>\n\t\t\t\t<% const isDatesOfThisMonthInRow = model.datedata[i].filter(date => date.thisMonth) %>\n\t\t\t\t<% if (isDatesOfThisMonthInRow.length) { %>\n\t\t\t\t\t<tr class="co_table-row">\n\t\t\t\t\t\t<% for(let j = 0; j < model.datedata[i].length; j++) {%>\n\t\t\t\t\t\t\t<% if(model.datedata[i][j].thisMonth) {%>\n\t\t\t\t\t\t\t\t<td <%= isFirstRowCell ? \'tabindex="0"\' : \'tabindex="-1"\' %> <%= model.datedata[i][j].today ? \'class="co_calendar_todayDate co_table-cell" aria-current="date"\' : \'class="co_table-cell"\' %>>\n\t\t\t\t\t\t\t\t\t<% if(model.datedata[i][j].events) { %>\n\t\t\t\t\t\t\t\t\t\t<% if(model.isFacetCalendar) { %>\n\t\t\t\t\t\t\t\t\t\t\t<a aria-describedby="coid_dateLabel_<%= i %><%= j %>" class="co_calendar_eventday" href="javascript:void(0);"><span ><%- model.datedata[i][j].date.getDate() %></span></span></a>\n\t\t\t\t\t\t\t\t\t\t<% }  else { %>\n\t\t\t\t\t\t\t\t\t\t\t<button aria-describedby="coid_dateLabel_<%= i %><%= j %>" type="button" class="co_calendar_eventday"><span><%- model.datedata[i][j].date.getDate() %></span></button>\n\t\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t\t\t<span class="co_accessibilityLabel" id="coid_dateLabel_<%= i %><%= j %>"><%- model.keyDateLabel %></span>\n\t\t\t\t\t\t\t\t\t<%  }  else { %>\n\t\t\t\t\t\t\t\t\t\t<span><%- model.datedata[i][j].date.getDate() %></span>\n\t\t\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<% isFirstRowCell = false %>\n\t\t\t\t\t\t\t<% } else { %>\n\t\t\t\t\t\t\t\t<td></td>\n\t\t\t\t\t\t\t<% } %>\n\t\t\t\t\t\t<% } %>\n\t\t\t\t\t</tr>\n\t\t\t\t<% } %>\n\t\t\t<% } %>\n\t\t</tbody>\n\t</table>\n</div>\n<% if(model.viewAllUrl) { %>\n<br />\n<% if(!model.isAnonymousSession) { %>\n<a href="<%- model.viewAllUrl %>" aria-describedby="calendarTitle" class="co_viewAll <%- model.viewAllButtonClass %>"><%- model.viewAllLabel %></a>\n<% } else { %>\n<div class="co_disabled <%- model.viewAllButtonClass %>"><%- model.viewAllLabel %></div>\n<% } \n} %>\n'},1045:(e,t,n)=>{e.exports=n(4507)(12192)},1072:(e,t,n)=>{e.exports=n(4507)(89784)},1075:(e,t,n)=>{e.exports=n(4507)(62045)},1078:(e,t,n)=>{"use strict";n.d(t,{$:()=>c});var i=n(3434),a=n(8660),o=n(3903),r=n(6306),s=n(6094);function l(){r["default"].call(this)}l.prototype=new r["default"];l.prototype.constructor=l;l.prototype.submitWebRequest=function(e){var t="RelatedInfo/v5/dropdown/"+e.getDocumentGuid()+"/"+e.getCategory(),n=new s.A;o["default"].isNotNullOrUndefined(e.getContextData())&&n.addParameter("contextData",e.getContextData());o["default"].isNotNullOrUndefined(e.getDocSource())&&n.addParameter("docSource",e.getDocSource());o["default"].isNotNullOrUndefined(e.getRank())&&n.addParameter("rank",e.getRank());o["default"].isNotNullOrUndefined(e.getOriginationContext())&&n.addParameter("originationContext",e.getOriginationContext());o["default"].isNotNullOrUndefined(e.getDocumentCollection())&&n.addParameter("collection",e.getDocumentCollection());o["default"].isNotNullOrUndefined(e.getEntityId())&&n.addParameter("entityId",e.getEntityId());o["default"].isNotNullOrUndefined(e.getEntityType())&&n.addParameter("entityType",e.getEntityType());var r=n.buildParametersString();o["default"].isNotNullOrUndefined(r)&&o["default"].trim(r).length>0&&(t+="?"+r);return new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};const c=new l},1117:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>_});var i=n(1434),a=n.n(i),o=n(9191),r=n.n(o),s=n(3434),l=n(8854),c=n(4383),d=n(8286),u=n(8660),h=n(3364),f=n(6494),p=n(2065),m=n(8016),g=n(2530),v=n(1433),y=n(5648),b=n(3839),C=n(4422),S=n(2842);const _=a().extend({_sectionFiltersParam:"sectionFilter",_requestFailMessage:"Request failed to retrieve document outline for {documentGuid}. Status code: {statusCode}",_searchTermToCssClass:{within:"co_searchWithinTerm",locate:"co_locateTerm",search:"co_searchTerm",searchAndLocate:"co_locateTerm",searchAndWithin:"co_searchWithinTerm",locateAndWithin:"co_searchWithinTerm",all:"co_searchWithinTerm"},_limitLevels:3,_maxTitleLength:100,_isA11yAddToCompareDropdown:b["default"].isIacOn("IAC-A11Y-DROPDOWN-REDLINE-COMPARE"),_container:null,_currentSectionFilters:null,_datasource:null,_metaInformation:null,_template:"",_itemTemplate:"",_internalTOCToggleExpandButton:"",_contentTypesAllowToc:[],_contentTypesAllowCheckBoxes:[],init:function(e){this._metaInformation=e},Setup:function(e){this._container=e;this.DocumentAllowsToc()&&this.retrieveTocData()},DocumentAllowsToc:function(){return this._contentTypesAllowToc?.includes(this._metaInformation.subContentType)},DocumnetAllowsCheckBoxes:function(){return this._contentTypesAllowCheckBoxes?.includes(this._metaInformation.subContentType)},retrieveTocData:function(){var e=this;e.retrieveTocDataAsync().then((function(t){e.parseDocumentResponse(t);e.bind()}),(function(t){(0,l.publishErrorMessage)(s["default"].Document,t?.message);e._container.remove()}))},globalVeriables:{navigationPath:window["navigationPath"]||null,listSource:window["listSource"]||null,rank:window["rank"]||null,list:window["list"]||null,docSource:window["docSource"]||null},copyUrlParam:function(e,t,n){var i=e.QueryString[n];i||(i=this.globalVeriables[n]);i&&(t.QueryString[n]=i)},retrieveTocDataAsync:async function(){var e=c["default"].Parse(window.location.href),t=c["default"].Parse(d["default"].paths.documentOutline.replace("{documentGuid}",this._metaInformation.docGuid));this.copyUrlParam(e,t,"collection");this.copyUrlParam(e,t,"cacheScope");this.copyUrlParam(e,t,"listSource");this.copyUrlParam(e,t,"navigationPath");this.copyUrlParam(e,t,"list");this.copyUrlParam(e,t,"rank");this.copyUrlParam(e,t,"listPageSource");this.copyUrlParam(e,t,"docSource");this.copyUrlParam(e,t,"searchWithinHandle");this.copyUrlParam(e,t,"needToInjectTerms");this.copyUrlParam(e,t,"client");var n=new u["default"](s["default"].Document,c["default"].Relative(t)),i=await n.Get();return this.retrieveTocDataCallback(i)},retrieveTocDataCallback:function(e){if(e.ok)return e.text();const t=this._requestFailMessage.replace("{documentGuid}",this._metaInformation.docGuid).replace("{statusCode}",e.StatusCode);throw new Error(t)},parseDocumentResponse:function(e){var t=JSON.parse(e||null);this._currentSectionFilters=h["default"].Instance.DocumentSections||[];this._datasource=this.parseTocItems(t,null)},parseTocItems:function(e,t){for(var n=[],i=0;i<e.length;i++){var a=this.isItemInCurrentSectionFilters(e[i])||t&&t.selected,o=e[i];n[i]={id:o.id,title:o.title.substring(0,this._maxTitleLength),displayable:o.displayable,termType:o.termType,selected:a,active:a||0===this._currentSectionFilters.length,parent:t,level:this.getLevelItems(t,1)};o.children&&(n[i].children=this.parseTocItems(o.children,n[i]))}return n},getLevelItems:function(e,t){if(e){t++;return this.getLevelItems(e.parent,t)}return t},isItemInCurrentSectionFilters:function(e){var t=!1;this._currentSectionFilters?.forEach((n=>{if(null==e.id)return;if(n.toLowerCase()==e.id.toLowerCase()||n.toLowerCase()==e.id.toLowerCase().replace(/(\d+)$/,"")){t=!0;return}var i=e.id.toLowerCase().indexOf("doc");if(n.toLowerCase()==d["default"].texts.searchItemExhibits&&-1!=i&&!isNaN(e.id.substring(i+3))){t=!0;return}}));return t},bind:function(){},shouldDisplayAddToCompareForContentType:function(e){var t=this;y["default"].getSettings().then((function(n){g["default"].DocumentAllowsRedline(n.contentTypes,t._metaInformation.subContentType)&&e()}))},highlightTocParentItems:function(){document.querySelectorAll("li[id^='co_internalToc']").forEach((function(e){var t=e.className;(0,
C.parents)(e,"li[id^='co_internalToc']").forEach((function(e){!e.classList.contains(t)&&t&&e.classList.add(...t.split(" ").filter(Boolean))}))}))},bindTocItemList:function(e,t){if(!t||0===t.length){e?.remove();return}for(var n=0;n<t.length;n++){const i=e?.parentElement?.matches("li")?e.parentElement:null;this.applyItemClass(t[n],i);e?.append(this.bindTocItem(t[n]))}},applyItemClass:function(e,t){if(e.termType){var n=this._searchTermToCssClass[e.termType];n&&!t?.classList.contains(n)&&t?.classList.add(n)}},applyChildrenClasses:function(e,t){if(!e.children)return;for(var n=0;n<e.children.length;n++){this.applyItemClass(e.children[n],t);this.applyChildrenClasses(e.children[n],t)}},bindTocItem:function(e){if(0!=e.displayable&&e.level<=this._limitLevels){const n=document.createElement("template");n.innerHTML=this._itemTemplate;var t=n.content.firstElementChild;t.id="co_internalToc_"+e.id+"_li";this.applyItemClass(e,t);e.level==this._limitLevels&&this.applyChildrenClasses(e,t);const i="co_internalToc_checkbox_"+e.id,a=t.querySelector(":scope > input");if(a){a.id=i;a.name=i;a.value=e.id;a.checked=e.selected;a.addEventListener("click",this.onTocItemCheckboxClick.bind(this))}t.querySelector(":scope > label")?.setAttribute("for",i);if(e.active){const n=t.querySelector("a");if(n){n.textContent=e.title;n.addEventListener("click",(t=>{t.data={context:this,item:e};this.onTocItemLinkClick(t)}))}}else t.querySelector("a")?.replaceWith(e.title);if(t.querySelector("span#"+d["default"].ids.internalTocExpandNestedItems)){const n=t.querySelectorAll(":scope > span");e.children&&e.level<this._limitLevels?n.forEach((e=>{e.addEventListener("click",(e=>{e.data={context:this,item:t};this.onTocItemExpanderClick(e)}))})):n.forEach((e=>e.remove()))}this.bindTocItemList(t.querySelector("ol"),e.children)}return t},applySectionFilters:function(){var e=[];"Locate Precedent Agreements"==this._metaInformation.subContentType?e=this.getSectionFiltersBeforeApply(this._container.find("ol").first(),e):this._container.find("input:checked").each((function(){e.push(this.value)}));var t=c["default"].Parse(window.location.href);t.QueryString[this._sectionFiltersParam]=e.join(",");window.location=c["default"].Absolute(t)},getSectionFiltersBeforeApply:function(e,t){var n=this;e.find("> li").each((function(e,i){if(1==r()(i).find(">input:checked").length)t.push(r()(i).find(">input:checked").val());else if(r()(i).find(">ol>li").length>0)return n.getSectionFiltersBeforeApply(r()(i).find(">ol"),t)}));return t},clearSectionFilters:function(){var e=c["default"].Parse(window.location.href);if(null!=e.QueryString[this._sectionFiltersParam]){e.QueryString[this._sectionFiltersParam]=null;window.location=c["default"].Absolute(e)}else{document.querySelectorAll(`#${this.getInternalTocId()} input[id^='co_internalToc_checkbox_']`).forEach((e=>{e.checked=!1}));this.updateAddToCompareLink()}},addToCompare:function(){const e=b["default"].IsIndigoDisplayEnabled&&b["default"].isFeatureEnabled("SNIPPET COMPARE");var t=[];this._container.find("input:checked").each((function(){t.push(this.value)}));var n=this._isA11yAddToCompareDropdown?this._addToCompareDropdown.getSelectedValue():this._addToCompareDropdown.GetSelectedValue(),i={documentGuid:this._metaInformation.docGuid,itemType:y["default"].itemTypes.documentSection,sectionFilter:t.join(","),textType:n};if(e){i.titleText=this._metaInformation.titleText;i.contentType=this._metaInformation.contentType;i.jurisdiction=this._metaInformation.jurisdictionText}v["default"].AddToCompare(i)},collapseTOC:function(){document.body.classList.remove("co_t2");document.body.classList.add("co_t1");document.getElementById(d["default"].ids.internalTocToggleExpandButton)?.classList.remove(d["default"].classes.hideState);var e=m["default"].IsPrivateEquityContentType(m["default"].FindDocumentContentType())?"7.5em":"6em";document.querySelectorAll(".co_moreLessLink").forEach((t=>{const n=t.parentElement?.previousElementSibling;if(!n)return;n.style.whiteSpace="normal";n.style.maxHeight=e;if(!(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)){n.classList.remove("co_document_moreless_text","co_ellipsis");(0,S.hideElements)(n.nextElementSibling)}t.querySelector(".co_dropdownArrowExpanded")&&(n.style.maxHeight="")}))},scrollToTocItem:function(e){var t=d["default"].ids.co_internalToc_Item.replace("{item}",e.id);if(f["default"].Instance){var n=f["default"].Instance.FindElementInChunkById(t,!1);p["default"].ScrollToChunkedElement(n,null,!1)}else p["default"].scrollToElement(document.getElementById(t),!1)},expandTocItem:function(e){var t=e.querySelector(":scope > ol"),n=e.querySelector(":scope > span");if(t)if("none"==t.style.display){n?.classList.remove("co_smallListExpand");n?.classList.add("co_smallListCollapse");(0,S.showElements)(t)}else{(0,S.hideElements)(t);n?.classList.remove("co_smallListCollapse");n?.classList.add("co_smallListExpand")}},toggleAllItems:function(){var e=this._container.find("#"+d["default"].ids.toggleAllItems),t=this._container.find("ol").first();const n=this._isA11yAddToCompareDropdown?t.find("span"):this._container.find("span");if(e.text()==d["default"].texts.collapseAll){n.removeClass("co_smallListCollapse").addClass("co_smallListExpand");t.find("ol").hide();e.text(d["default"].texts.expandAll)}else{n.removeClass("co_smallListExpand").addClass("co_smallListCollapse");this._container.find("ol").show();e.text(d["default"].texts.collapseAll)}},selectParentListItem:function(e){return e?e.closest("ol")?.closest("li"):null},smartClickCheckbox:function(e){if(!e)return;var t=e.closest("li"),n=e.checked,i=t?.querySelectorAll("input");i.forEach((e=>{e.checked=n}));(0,C.parents)(t,"li").forEach((e=>{var t=e.querySelector("input");t&&(t.checked=!1)}));n&&this.trySetParentCheckboxWhenAllChildrenChecked(t);this.updateAddToCompareLink()},updateAddToCompareLink:function(){this._container.find("input:checked").size()>0?this._isA11yAddToCompareDropdown?this._addToCompareDropdown.enable():document.getElementById(d["default"].ids.internalTocAddToCompareButton)?.classList.remove(d["default"].classes.disabled):this._isA11yAddToCompareDropdown?this._addToCompareDropdown.disable():document.getElementById(d["default"].ids.internalTocAddToCompareButton)?.classList.add(d["default"].classes.disabled)},trySetParentCheckboxWhenAllChildrenChecked:function(e){var t=e?this.selectParentListItem(e):null;if(!t)return;if(0===t.querySelectorAll("ol > li > input :not(:checked)").length){var n=t.querySelector("input");n&&(n.checked=!0);this.trySetParentCheckboxWhenAllChildrenChecked(t)}},onApplyButtonClick:function(e){e.data.applySectionFilters()},onClearButtonClick:function(e){e.data.clearSectionFilters()},onAddToCompareButtonClick:function(e){document.getElementById(d["default"].ids.internalTocAddToCompareButton)?.classList.contains(d["default"].classes.disabled)||(this._isA11yAddToCompareDropdown?this.addToCompare():e.data.addToCompare(e.target))},onCloseButtonClick:function(e){e.data.collapseTOC()},onToggleCollapseButtonClick:function(e){e.data.collapseTOC()},onTocItemCheckboxClick:function(e){this.smartClickCheckbox(e.currentTarget)},onTocItemLinkClick:function(e){e.data.context.scrollToTocItem(e.data.item)},onTocItemExpanderClick:function(e){e.data.context.expandTocItem(e.data.item)},onTocToggleAllItemsClick:function(e){e.data.toggleAllItems()},getInternalTocId:function(){return d["default"].ids.internalToc}})},1186:(e,t,n)=>{e.exports=n(4507)(4114)},1194:(e,t,n)=>{e.exports=n(4507)(12935)},1235:(e,t,n)=>{e.exports=n(4507)(21022)},1312:(e,t,n)=>{e.exports=n(4507)(94900)},1315:(e,t,n)=>{e.exports=n(8846)(3922)},1316:(e,t,n)=>{e.exports=n(4507)(52384)},1369:(e,t,n)=>{e.exports=n(4507)(27912)},1370:(e,t,n)=>{e.exports=n(4507)(28097)},1385:(e,t,n)=>{e.exports=n(4507)(54943)},1420:(e,t,n)=>{e.exports=n(4507)(78340)},1422:(e,t,n)=>{e.exports=n(615)(6761)},1424:(e,t,n)=>{e.exports=n(4507)(98580)},1433:(e,t,n)=>{e.exports=n(8846)(2453)},1434:(e,t,n)=>{e.exports=n(4507)(30049)},1446:(e,t,n)=>{e.exports=n(4507)(94133)},1451:(e,t,n)=>{e.exports=n(8846)(4682)},1480:(e,t,n)=>{"use strict";n.d(t,{l:()=>l});var i=n(3434),a=n(8660),o=n(6306),r=n(3903);function s(){o["default"].call(this)}
s.prototype=new o["default"];s.prototype.constructor=s;s.prototype.submitWebRequest=function(e){var t="RelatedInfo/v4/documentheadnotecounts/"+e.documentGuid,n=e.headnoteIds;r["default"].isNotNullOrUndefined(e.documentCollection)&&r["default"].trim(e.documentCollection).length>0&&(n.collection=e.documentCollection);var o=new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json","Content-Type":"application/json"}}),s=JSON.stringify(n);return o.Post(s)};const l=new s},1554:(e,t,n)=>{e.exports=n(8846)(5578)},1558:(e,t,n)=>{"use strict";n.d(t,{u:()=>i});function i(e,t,n,i){this.date=e;this.events=t||!1;this.thisMonth=n;this.today=i}},1562:(e,t,n)=>{e.exports=n(8846)(2517)},1574:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var i=n(6669),a=n.n(i),o=n(6123),r=n(9191),s=n.n(r),l=n(1987),c=n.n(l);const d={CustomDigest:"CustomDigest",TOC:"TOC",Nort:"Nort"};var u=n(3839),h=n(669),f=n(2842),p=n(8286),m=n(1422),g=n(5024),v=n(9422),y=n(762),b=n(1369),C=n(9912);var S=n(4341),_=n(9054),D=n(2777),T=n(966);const I={Setup:function(e){this.displayMode=null;this.showCheckboxesElement=s()(e.showCheckboxesElement);this.selectAllCheckboxesElement=s()(e.selectAllCheckboxesElement);this.selectedCountElement=s()(e.selectedCountElement);this.selectedCountLabelElement=s()(e.selectedCountLabelElement);this.clearSelectedItemsElement=s()(e.clearSelectedItemsElement);this.expandCollapseElement=s()(e.expandCollapseElement);this.tocContent=s()(e.tableOfContentsElementsSelector);this.tocContentElements=document.querySelectorAll(e.tableOfContentsElementsSelector);this.docIdController=D["default"];this.getCheckedItemsCount=e.getCheckedItemsCount;this.Init(e)},Init:function(e){var t=this;this.initializing=!0;this.selectAllCheckboxesElement?.change((function(){t.ChangeCheckboxState(this)}));this.clearSelectedItemsElement?.click((function(){t.ClearSelectedItems()}));if(e.displayMode===d.CustomDigest){this.displayMode="CustomDigestTocDisplay";this.expandCheckboxExpaned="EXPANDALL"===T["default"].Get("Website","CustomDigestTocDisplay")}else if(e.displayMode===d.TOC||e.displayMode===d.Nort){this.displayMode="TocDisplay";this.expandCheckboxExpaned="EXPANDALL"===T["default"].Get("Website","TocDisplay")}else this.expandCheckboxExpaned=!0;this.setTocDisplayPreference=function(e){null!==this.displayMode&&T["default"].Get("Website",this.displayMode)!==e&&T["default"].Set("Website",this.displayMode,e)};this.expandCollapseCheckboxes=function(){let e;if(t.expandCheckboxExpaned){e=C["default"].lookup("SC.Website.BrowseHome.CollapseAll","Collapse All");t.expandCollapseElement?.text(e);t.tocContent.find("a.co_dataLoaded span").text(C["default"].lookup("SC.Website.BrowseHome.Expand","Expand"));(0,f.showElements)(document.querySelectorAll(".co_browseTocHeading + ul.co_browseContent, a.co_genericExpand ~ ul.co_browseContent"));t.tocContent.find("a.co_dataLoaded").removeClass("co_genericExpand").addClass("co_genericCollapse");document.querySelectorAll('#co_browseStatutesTree [role="treeitem"]').forEach((e=>{const t=e.querySelector("a.co_dataLoaded");if(t){e.setAttribute("aria-expanded","true");t.setAttribute("aria-expanded","true")}}));t.setTocDisplayPreference("EXPANDALL")}else{e=C["default"].lookup("SC.Website.BrowseHome.ExpandAll","Expand All");t.expandCollapseElement?.text(e);t.tocContent.find("a.co_dataLoaded span").text(C["default"].lookup("SC.Website.BrowseHome.Collapse","Collapse"));(0,f.hideElements)(document.querySelectorAll(".co_browseTocHeading + ul.co_browseContent, a.co_genericCollapse ~ ul.co_browseContent"));t.tocContent.find("a.co_dataLoaded").removeClass("co_genericCollapse").addClass("co_genericExpand");document.querySelectorAll('#co_browseStatutesTree [role="treeitem"]').forEach((e=>{const t=e.querySelector("a.co_dataLoaded");if(t){e.setAttribute("aria-expanded","false");t.setAttribute("aria-expanded","false")}}));t.setTocDisplayPreference("COLLAPSEALL")}t.expandCheckboxExpaned=!t.expandCheckboxExpaned;const n=document.getElementById("coid_expandCollapseCheckboxes_live");n&&!this.initializing&&(n.innerText=e)};this.showCheckboxesElement?.change((function(){t.ShowHideCategoryPageCheckboxes(this.checked);t.Refresh()}));this.ShowHideCategoryPageCheckboxes(document.getElementById("coid_browseSelectAllCheckbox")?.classList.contains("co_showState")??!1);this.Refresh();this.expandCollapseElement?.click(this.expandCollapseCheckboxes);this.expandCollapseCheckboxes();this.wrapImageLinkButtonsWithAccessibleTooltip();m["default"].Subscribe("Cobalt.Website.TOCExpander.CheckBoxStateChanged",(function(){t.Refresh()}));this.initializing=!1},ClearSelectedItems:function(){this.tocContent.find("INPUT[type=checkbox]").prop("checked",!1).prop("indeterminate",!1);this.selectAllCheckboxesElement.prop("checked",!1);document.querySelectorAll('#co_browseStatutesTree [role="treeitem"]').forEach((e=>e.setAttribute("aria-selected","false")));Array.from(this.tocContent.find('li[role="treeitem"]')).forEach((e=>e.setAttribute("aria-checked","false")));this.Refresh()},ShowHideCategoryPageCheckboxes:function(e){this.showCheckboxesElement?.prop("checked",e);this.tocContent.find("INPUT[type=checkbox]:checked").prop("checked",!0);const t=document.getElementById("co_browseStatutesTree");if(e||S["default"].PageData.CobaltPage.IsPremierPage){document.querySelectorAll(".co_browseStatutes").forEach((e=>e.classList.add("co_showAllCheckboxes")));t?.setAttribute("aria-multiselectable","true");this.tocContent.find("INPUT[type=checkbox]").removeClass("co_hideState").addClass("co_showState");const e=document.getElementById("coid_browseSelectAllCheckbox");e?.classList.remove("co_hideState");e?.classList.add("co_showState");this.tocContent.find("label").addClass("co_selectable");this.tocContent.find("ul").addClass("co_selectable");this.tocContent.find("h2 a").addClass("co_selectable").removeClass("co_unselectable");t?.querySelectorAll('[role="treeitem"]').forEach((e=>e.setAttribute("aria-selected","false")))}else{document.querySelectorAll(".co_browseStatutes").forEach((e=>e.classList.remove("co_showAllCheckboxes")));this.tocContent.find("INPUT[type=checkbox]").removeClass("co_showState").addClass("co_hideState");t?.removeAttribute("aria-multiselectable");const e=document.getElementById("coid_browseSelectAllCheckbox");e?.classList.remove("co_showState");e?.classList.add("co_hideState");this.tocContent.find("label").removeClass("co_selectable");this.tocContent.find("ul").removeClass("co_selectable");this.tocContent.find("h2 a").addClass("co_unselectable").removeClass("co_selectable");t?.querySelectorAll('[role="treeitem"]').forEach((e=>e.removeAttribute("aria-selected")))}S["default"].PageData.CobaltPage.IsPremierPage||T["default"].Set("Website","ShowCategoryPageCheckboxes",e)},GetSelectedDocumentsCount:function(){const e=this.tocContent.find("INPUT[type=checkbox]:checked"),t=this.docIdController.getCheckedDocumentIds(e);return t?t.length:0},GetSelectedCheckboxesCount:function(){const e=Array.from(this.tocContent.find('input[type="checkbox"]:checked')),t=e.map((e=>JSON.parse(e.value).ParentCheckboxId)).filter((e=>e));return e.filter((e=>-1===t.indexOf(e.id))).length},ChangeCheckboxState:function(e){this.tocContent.find("INPUT[type=checkbox]:not(:disabled)").prop("checked",e.checked).prop("indeterminate",!1);document.querySelectorAll('#co_browseStatutesTree [role="treeitem"]').forEach((t=>t.setAttribute("aria-selected",e.checked)));Array.from(this.tocContent.find('li[role="treeitem"]')).forEach((t=>t.setAttribute("aria-checked",e.checked)));this.Refresh()},Refresh:function(){var e=this.docIdController.maxDocumentCount,t=this.tocContent.find("INPUT[type=checkbox]:not(:disabled)").length,n=this.tocContent.find("INPUT[type=checkbox]:checked").length,i=this.getCheckedItemsCount(),a=this.docIdController.getLimitReachedStatus(i,e),o=C["default"].renderInteger(a?e:i);const r=document.getElementById("co_browseStatutesTree");var s=0===this.selectedCountLabelElement.length;if(t>0){r?.querySelectorAll("[role=treeitem]").forEach((e=>e.setAttribute("aria-selected","false")));r?.querySelectorAll("INPUT[type=checkbox]:checked").forEach((e=>e.parentElement?.setAttribute("aria-selected","true")))}
if(0!==t&&this.selectAllCheckboxesElement){this.selectAllCheckboxesElement.prop("checked",n===t);this.selectAllCheckboxesElement.prop("indeterminate",n>0&&n<t)}s?this.selectedCountElement?.text(a?C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountExceeded","More than")+" "+o+" "+C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountLabelPlural","items selected"):o):this.selectedCountElement?.text(a?C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountExceeded","More than")+" "+o:o);if(0===i){s?this.selectedCountElement.text(C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.NoItemsSelected","No items selected")):this.selectedCountElement.text(C["default"].lookup("SC.Website.BrowseView.SelectedCheckBoxCountEmpty","No"));const e=document.getElementById("co_viewHeadnotesButton")?.parentNode;if(e){e.classList.remove("co_showState");e.classList.add("co_hideState")}}else{const e=document.getElementById("co_viewHeadnotesButton")?.parentNode;if(e){e.classList.remove("co_hideState");e.classList.add("co_showState")}}this.selectedCountLabelElement?.text(1===i?C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountLabelSingular","item selected"):C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountLabelPlural","items selected"));s&&0!=i&&!a&&this.selectedCountElement?.text(`${i} ${1===i?C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountLabelSingular","item selected"):C["default"].lookup("SC.Website.BrowseHome.SelectedCheckBoxCountLabelPlural","items selected")}`);this.clearSelectedItemsElement.attr("aria-disabled",!(i>0));this.clearSelectedItemsElement.attr("tabindex",i>0?0:-1);0===n||n===t?m["default"].Publish("Cobalt.Website.KeyNumberSearchWidget.Enable",new g["default"]({},{},"Website.KeyNumberSearchWidget.Enable","1.0")):m["default"].Publish("Cobalt.Website.KeyNumberSearchWidget.Disable",new g["default"]({},{},"Website.KeyNumberSearchWidget.Disable","1.0"))},wrapImageLinkButtonsWithAccessibleTooltip:function(){s()(this.tocContent).find(".co_browseTocHeading").each((function(e,t){const n=s()(t).find(".co_header_wrapper").first(),i=n.find("a.co_tocImageLink").first(),a=n.find("a.co_tocItemLink").first().text(),r=C["default"].format("SC.Website.BrowseHome.FullTextDocumentFor",{title:a},`Full Text Document for ${a}`);new o["default"](i,r).render()}))}};var x=n(6463),k=n(6790),w=n(2769),E=n(6183),A=n(9122);const L={...I,Setup:function(e){this.tocContent=document.querySelectorAll(e.tableOfContentsElementsSelector);I.Setup.call(this,e)},Init:function(e){x["default"].isCompositeDocketsPage()&&this.AttachCompositeDocketSearchEventHandlers();I.Init.call(this,e)},HandleContentCheckboxChange:function(e){const t=document.getElementById("coid_browseSelectAllCheckboxInput")?.checked;if(e.target.checked&&t){const{topicalCheckboxes:e}=this.GetContentAndTopicalCheckboxes();this.DeselectCheckboxes(e);this.DisableCheckboxes(e)}this.Refresh()},ChangeCheckboxState:function(e){const t=A["default"].Browse.isIRSTaxCategoryPage()&&S["default"].ViewModelData?.isTabbedIRSPage,n=document.querySelector("#co_categoryPageCheckboxContainer .co_tabShow"),i=this.tocContent;if(t&&n&&i){n.querySelectorAll("input[type=checkbox]:not(:disabled)").forEach((t=>{t.checked=e.checked}));document.querySelectorAll('#co_browseStatutesTree [role="treeitem"]').forEach((e=>e.setAttribute("aria-selected","true")));Array.from(i.find("INPUT[type=checkbox]:not(:checked)"))?.forEach((t=>{t.disabled=e.checked}));this.Refresh()}else I.ChangeCheckboxState.call(this,e)},resetCheckboxState:function(){document.querySelectorAll("div.co_categoryPageCheckBoxGroup input[type=checkbox], div.co_browseContent input[type=checkbox]").forEach((e=>{e.checked=!1;e.indeterminate=!1;e.disabled=!1}));const e=document.querySelectorAll('#co_categoryPageCheckboxContainer .co_tabShow input[type="checkbox"]'),t=document.querySelectorAll('#coid_browseShowHideCheckboxesContainer input[type="checkbox"]'),n=0===e.length,i=document.getElementById("coid_browseSelectAllCheckboxInput");i&&(i.checked=!1);t.forEach((e=>{e.disabled=n}));this.ShowHideCategoryPageCheckboxes(!n);this.Refresh()},Refresh:function(){if(x["default"].isCompositeDocketsPage()){const{contentCheckboxes:e,topicalCheckboxes:t}=this.GetContentAndTopicalCheckboxes(),n=e.filter((e=>e.checked)).length,i=t.filter((e=>e.checked)).length,a=document.getElementById("coid_browseSelectAllCheckboxInput")?.checked;n>0&&0===i?this.DisableCheckboxes(t):0===n&&i>0&&!a?this.DisableCheckboxes(e):0===n&&0===i&&this.EnableCheckboxes([...e,...t])}I.Refresh.call(this)},GetContentAndTopicalCheckboxes:function(){const e=document.getElementsByName("searchCheckbox"),t=Array.from(e);return{contentCheckboxes:t.filter((e=>this.contentCheckboxIds.includes(e.id))),topicalCheckboxes:t.filter((e=>this.topicalCheckboxIds.includes(e.id)))}},DisableCheckboxes:function(e){e.forEach((e=>{e.disabled=!0}))},EnableCheckboxes:function(e){e.forEach((e=>{e.disabled=!1}))},DeselectCheckboxes:function(e){e.forEach((e=>{e.checked=!1}))},AddMoreInfoToCheckbox:function(e){const t=C["default"].lookup("SC.Website.BrowseView.CategoryPage.SPDF.HelpIcon","More info"),n=C["default"].lookup("SC.Website.BrowseView.CategoryPage.SPDF.HelpIcon.DocketSPDFs","Searchable Docket PDFs"),i="SPDF-searchableDocketPDFsInfoBox",a=document.createElement("button");a.classList.add("SPDF-informationButton");a.setAttribute("aria-label",n);a.setAttribute("aria-expanded","false");a.setAttribute("aria-controls",i);a.innerHTML=`<span class="icon25 icon_info-blueOutline">${t}</span>`;e.parentElement.appendChild(a);const o=new k["default"](a,null,w["default"].Bottom,{id:i,hasPointer:!0,hasCloseButton:!0,absolutePositioning:!0,relativeElement:a,customClasses:["SPDF-onboardingInfobox"],onClose:()=>{a.setAttribute("aria-expanded","false")}}),r=C["default"].lookup("SC.Website.BrowseView.CategoryPage.SPDF.HelpMessage","Search dockets along with locally stored PDFs acquired from federal and state courts. Search will also include results from Westlaw's collection of Trial Court Documents and Briefs. Leaving box unchecked will limit search results to only Dockets.");a.onclick=()=>{if(o.isShown){a.setAttribute("aria-expanded","false");o.Remove()}else{a.setAttribute("aria-expanded","true");o.Draw(r)}};a.addEventListener("keydown",(e=>{if(e.code===E["default"].Escape){a.setAttribute("aria-expanded","false");o.Remove()}}))},AttachCompositeDocketSearchEventHandlers:function(){this.contentCheckboxIds=[];this.topicalCheckboxIds=[];document.getElementsByName("searchCheckbox").forEach((e=>{let t;try{t=JSON.parse(e.value)}catch{}const n=t?.SearchFilter?.some((e=>e.IsContentTypeCheckbox));if(n){this.contentCheckboxIds.push(e.id);e.addEventListener("change",(e=>this.HandleContentCheckboxChange(e)));const n=t?.SearchFilter?.some((e=>"SEARCHABLEDOCKETPDFS"===e.Content));if(n){this.AddMoreInfoToCheckbox(e);e.parentElement.classList.add("SPDF-contentCheckboxContainer")}}else{"co_DocketsbyTopic"===t?.ParentCheckboxId&&this.topicalCheckboxIds.push(e.id)}}))}};var N=n(4383);function R(e){return e.docLink}var P=n(1633),O=n(370);const B="co_hasSearchTocFoundChildren",M="co_searchTocFound";function F(e){return e.hasChildren&&e.childNodes&&e.childNodes.length>0}var W=n(2065),H=n(9914),G=n(7861);const U=function(e){var t,n,i=this,o=e,r={};const l=a().template('<ul class="co_browseContent co_selectable"\n    id="<%=nodeGuid%>_expander_group"\n    style="display: none;"\n    role="group"\n    aria-labelledby="<%=nodeGuid%>_expander_link"></ul>'),T=a().template('<li\n    role="treeitem"\n    tabindex="-1"\n    parentId="<%=parentNodeGuid%>"\n    aria-selected="false"\n    aria-label="<%-displayName%>"></li>'),I=a().template('<a\n    class="co_tocItemLink selfLink"\n    id="<%=nodeGuid%>_selflink"\n    doc-guid="<%=docGuid%>"\n    href="<%=documentLink%>"><%=documentLinkHtml%></a>'),x="#co_tocItemLinks",k="co_tocItemLinks",w="coid_tocLoading",E="co_disabled";var A,U,j;this.tocInfoStorage=e;this.SetParentElement=function(e){A=e};this.SetExpandAllAvailable=function(e){U=e};this.SetTocNodesSearchable=function(e){j=e};var $=function(){return document.getElementById("coid_infiniteScrollWidgetContainer")}
;const V=$()&&W["default"].isPrintFromTocInReadingModeEnabled();var q,z;this.SetCheckboxData=function(e){q=e};this.setChapterViewEnabled=function(e){z=e};const K="docOutlineNodeGuid";this.docOutlineDocumentDiv=s()("#co_navigableDocOutline");this.isNavigableDocOutlineEnabled=function(){return this.docOutlineDocumentDiv.length};this.TocExpandNodesClass="co_genericExpand";this.TocCollapseNodesclass="co_genericCollapse";const Y=function(e,t=!0){e.toggleClass(E,t);t?e.prop("disabled",!0).addClass("co_disabled").removeClass("co_linkBlue"):e.prop("disabled",!1).addClass("co_linkBlue").removeClass("co_disabled")},Q=function(){Y(t);Y(n);r.isRefreshingTree=!0},X=function(){r.isRefreshingTree=!1;J()},J=function(){if(U){const e=document.querySelector(`${x} a.${i.TocExpandNodesClass}`),a=(0,H.isVisible)(document.querySelector(`${x} a.${i.TocCollapseNodesclass}`));Y(t,!e);Y(n,!a)}};this._headerScrollOffset=0;this.DrawToc=async function(e){const t=document.createElement("div");t.id="coid_docTocLoading";t.className="co_loading";A?.replaceChildren(t);window.addEventListener("resize",ye);ye();await o.RetrieveToc((t=>{A?.replaceChildren();if(t.childNodes){this.isNavigableDocOutlineEnabled()&&this.addDocOutlineNodeInToc(t);const i=[];$()&&i.push("infiniteScroll");V&&i.push("co_tocSelectable");var n=a().template('<div id="co_tocContainer">\n\t<div class="co_scrollWrapper">\n\t\t<div id="coid_browseToc" class="<%=browseTocClasses%>">\n\t\t\t<%if (tocHeaderTemplate) { %>\n\t\t\t\t<%=tocHeaderTemplate%>\n\t\t\t<% }%>\n\t\t\t<ul class="co_browseContent co_selectable" id="co_tocItemLinks" role="tree" aria-labelledby=\'<%-tocLabelId %>\'></ul>\n\t\t</div>\n\t</div>\n</div>')({browseTocClasses:i.join(" "),tocHeaderTemplate:j?this.drawSelectAllControls(t.nodeGuid):void 0,tocLabelId:j?"co_browsePageLabel":"title"});A?.insertAdjacentHTML("beforeend",n);Z(k,t.childNodes,t.docGuid);this.isNavigableDocOutlineEnabled()&&this.addHtmlToDocOutlineInToc();ce();de();e&&e()}document.getElementById("co_document")&&this._bindTOCEvent()}))};this.addDocOutlineNodeInToc=function(t){var n=e.GetFirstNodeGuid(t.docGuid);e.Get(n,!1,(e=>{delete e.docLink;const t=Object.assign({},e);t.parendNodeGuid=e.nodeGuid;t.nodeGuid=K;t.displayName=C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.DocumentOutlineLabel","Document outline");e.childNodes=[t];e.hasChildren=!0}))};this.addHtmlToDocOutlineInToc=function(){document.querySelectorAll(`#${K} div`).forEach((e=>{e.innerHTML=this.docOutlineDocumentDiv.html()}));this.docOutlineDocumentDiv.empty();b["default"].GetObject(p["default"].objectIds.documentDisplayEventHandlers).AttachDocumentLinkClickHandlers(K)};this._bindTOCEvent=function(){i.setTOCContainerHeight();window.addEventListener("scroll",i.setTOCContainerHeight);window.addEventListener("resize",i.setTOCContainerHeight);if($()){var e=s()("a.co_tocItemLink.co_active");e.length&&e[0].scrollIntoView()}else i.setActiveDocLinkOffset();m["default"].Subscribe(p["default"].events.infiniteScrollResizeContainer,i.setTOCContainerHeight);m["default"].Subscribe(p["default"].events.documentMayHaveChangedSize,i.setTOCContainerHeight)};this.ExpandToNode=function(e,t,n){var a=t?o.GetFirstNodeGuid(e):e;i.expandNodes(a,n)};this.expandNodes=function(e,t){i._expandNode(e,t);var n=o.GetParentNodeGuid(e);n!=e&&i.expandNodes(n,t)};this.buildDocumentLink=function(e){return e.docLink};this.drawSelectAllControls=function(e){return a().template('<div class="co_browseToolbarWrap">\n\t<div id="coid_browseShowHideCheckboxesContainer" class="co_navTools" role="region" aria-label="<%-treeViewToolbarLabel%>">\n\t\t<div class="co_browseSelectAllContainer">\n            <ul id="coid_browseSelectAllCheckbox" class="co_collapseAll co_showState">\n                <li>\n                    <input type="checkbox" id="coid_browseSelectAllCheckboxInput" value="<%- rootNodeGuid %>"/>\n                    <label id="coid_browseSelectAllCheckboxLabel" for="coid_browseSelectAllCheckboxInput"><%-selectAllContentText%></label>\n                </li>\n                <li>\n                    <%=noItemSelectedText%>\n                </li>\n                <li>\n                    <a id="co_itemsClearAnchor" role="button" href="javascript:void(0);"><%-clearSelectionText%></a>\n                </li>\n                <%if (isExpandAllAvailable) { %>\n                <li>\n                    <button id="coid_expandAll" role="button" class="co_linkBlue"><%-expandAllLabel%></button>\n                </li>\n                <li>\n                    <button id="coid_collapseAll" role="button" class="co_disabled" disabled><%-collapseAllLabel%></button>\n                </li>\n                <% }%>\n            </ul>\n\t\t</div>\n\t\t<div class="co_clear"></div>\n\t</div>\n</div>')({treeViewToolbarLabel:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.TreeViewToolbar","Tree View Toolbar"),selectAllContentText:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.SelectAllContent","Select all content"),noItemSelectedText:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.ItemsSelected",'<span id="coid_selectedCount" role="status">No items selected</span>'),clearSelectionText:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.ClearSelection","Clear Selection"),rootNodeGuid:e?JSON.stringify({TocGuid:e}):"",isExpandAllAvailable:U,expandAllLabel:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.ExpandAll","Expand All"),collapseAllLabel:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.CollapseAll","Collapse All")})};this.shouldDisplayCheckbox=e=>{const t=e?.childNodes?.length;return(e?.docLink||t||e?.hasChildren)&&(j||V)};this.updateNodes=function(){};var Z=function(e,t,n){i.updateNodes(t);var a=e!=k?e.split("_")[0]:void 0,o=a?a+"_checkbox":void 0;t.sort((function(e,t){return e.rank>t.rank?1:-1}));for(var s=0;s<t.length;s++){var l=t[s],c=l.childNodes&&l.childNodes.length>0,d=l.docLink&&!l.hasChildren;const w=i.shouldDisplayCheckbox(l);var u=document.createElement("li");u.id=l.nodeGuid;u.role="treeitem";u.setAttribute("aria-setsize",t.length);u.setAttribute("aria-posinset",s+1);a&&u.setAttribute("parentId",a);d||u.setAttribute("aria-expanded",!1);(j||V)&&u.setAttribute("aria-checked",!1);u.tabIndex=e===k&&0===s?0:-1;u.addEventListener("keydown",ee);u.addEventListener("click",(e=>{se(e.target.closest('li[role="treeitem"]'))}));document.getElementById(e)?.append(u);var h=me();u.append(h);if(c||l.hasChildren){const e=document.createElement("a");e.id=l.nodeGuid+"_expander";e.className=i.TocExpandNodesClass;e.dataset.guid=l.nodeGuid;e.innerHTML="<span>Expand</span>";e.href="javascript:void(0);";e.setAttribute("role","presentation");e.tabIndex=-1;h.append(e);pe()&&e.querySelector("span").classList.add("kh_icon","icon-right-arrow");var f=document.createElement("label");f.htmlFor=l.nodeGuid+"_checkbox";f.className="co_accessibilityLabel co_selectable";f.innerHTML=l.displayName;e.append(f)}if(w){const e=l.nodeGuid+"_checkbox",t=j?"searchCheckbox":"deliveryCheckbox";if(!c&&!l.hasChildren){var p=document.createElement("label");p.htmlFor=e;p.className="co_accessibilityLabel co_selectable";p.innerHTML=l.displayName;h.append(p)}const n=document.createElement("input");n.type="checkbox";n.name=t;n.id=e;o&&n.setAttribute("parentId",o);n.setAttribute("tabindex","-1");n.value=JSON.stringify(ge(l));h.append(n);n.addEventListener("change",(function(){var e=this.closest("li");if(e){e.setAttribute("aria-checked",this.checked);se(e);e.focus()}i.updateCheckBoxesHierarchy(this);m["default"].Publish("Cobalt.Website.TOCExpander.CheckBoxStateChanged",new g["default"]({},{},"Cobalt.Website.TOCExpander.CheckBoxStateChanged","1.0"))}))}var v,y=le(l);let E=!1;if(l.docLink){v="co_tocItemLink";if(n&&l.docGuid===n){v+=" co_active";E=!0;l.anchorId||i.markParentNodesAsActive(l.nodeGuid)}l.hasChildren||(y=null);const e=!l.hasChildren||j,t=document.createElement("a");t.className=v;t.id=l.nodeGuid+"_link";t.setAttribute("doc-guid",l.docGuid);t.href=R(l);t.innerHTML=i.buildDocumentLinkHtml(l,e);t.setAttribute("aria-current",E?"page":null);t.tabIndex=-1;y&&t.append(y);h.append(t)}else{v="co_expanderLink"
;n&&l.docGuid===n&&l.anchorId&&(v+=" co_active");if(z&&S["default"].PageData.BrowsePage&&(c||l.hasChildren)){const e=N["default"].Parse(S["default"].PageData.BrowsePage.StorableUrl);e.QueryString.guid=l.nodeGuid;const t=document.createElement("a");t.className=v;t.id=l.nodeGuid+"_expander_link";t.href=N["default"].Relative(e);t.textContent=l.displayName;t.tabIndex=-1;y&&t.append(y);h.append(t)}else{const e=document.createElement("span");e.id=l.nodeGuid+"_expander_link";e.className=v;e.textContent=l.displayName;e.setAttribute("role","presentation");e.tabIndex=-1;y&&e.append(y);h.append(e)}}if(l.pdfLink){var b=l.pdfHoverText?l.pdfHoverText:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.ViewPdf","View PDF"),_=document.createElement("span");_.className="delivery_icon th_flat_icon icon_pdf custom";_.title=b;const e=document.createElement("a");e.className="co_tocItemDownloadLink";e.id=l.nodeGuid+"_pdf";e.setAttribute("doc-guid",l.docGuid);e.href=l.pdfLink;e.setAttribute("download","");e.target="_blank";e.title=b;e.setAttribute("aria-label",l.displayName);e.role="presentation";e.addEventListener("keydown",te);e.append(_);h.append(e)}if(l.rtfLink){var D=l.rtfHoverText?l.rtfHoverText:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.ViewRtf","View RTF");const e=document.createElement("a");e.className="co_tocItemDownloadLink";e.id=l.nodeGuid+"_rtf";e.setAttribute("doc-guid",l.docGuid);e.href=l.rtfLink;e.setAttribute("download","");e.target="_blank";e.title=D;e.setAttribute("aria-label",l.displayName);const t=document.createElement("span");t.className="delivery_icon th_flat_icon icon_doc custom";t.title=D;e.append(t);h.append(e)}if(c&&!r.isRefreshingTree){var T=document.createElement("ul");T.className="co_browseContent co_selectable";T.id=l.nodeGuid+"_expander_group";T.style.display="none";T.role="group";T.setAttribute("aria-labelledby",l.docGuid+"_expander_link");u.append(T);if(!j&&l.docLink){const e=document.createElement("li");e.className="selfLinkContainer";e.setAttribute("role","treeitem");e.setAttribute("tabindex",-1);a&&e.setAttribute("parentId",a);T.append(e);e.addEventListener("keydown",ee);var I="co_tocItemLink selfLink";if(n&&l.docGuid===n){I+=" co_active";l.anchorId||i.markParentNodesAsActive(l.nodeGuid)}var x=me();e.append(x);const t=document.createElement("a");t.className=I;t.id=l.nodeGuid+"_selflink";t.setAttribute("doc-guid",l.docGuid);t.href=R(l);t.innerHTML=i.buildDocumentLinkHtml(l,!0);x.append(t)}Z(l.nodeGuid+"_expander_group",l.childNodes,n);pe()&&document.getElementById(`${l.nodeGuid}_link`)?.classList.add("docLink_toggle")}}};this._drawNodes=Z;var ee=function(e){var t=s()(this),n=this.id;switch(e.which){case y["default"].SPACE:ne(e,n);break;case y["default"].RIGHT:ae(t)||(oe(t)?re(this,"down"):i._expandNode(n));e.preventDefault();break;case y["default"].LEFT:!oe(t)||ae(t)?re(this,"parent"):i._collapseNode(n);e.preventDefault();break;case y["default"].UP:re(this,"up");e.preventDefault();break;case y["default"].DOWN:re(this,"down");e.preventDefault();break;case y["default"].HOME:re(this,"first");e.preventDefault();break;case y["default"].END:re(this,"last");e.preventDefault();break;case y["default"].ENTER:{const t=s()("#"+n+"_link"),a=i._checkKeydownOnRtfOrChapterLink(e),o=i._checkKeydownOnSelfLink(e),r=document.getElementById(`${n}_expander_link`);if(t.length>0){const t=document.getElementById(`${n}_link`)?.getAttribute("href");(0,_["default"])(t,e.ctrlKey)}else if(o)ie(e);else if(a)e.target.click();else if(r){const t=r.getAttribute("href");(0,_["default"])(t,e.ctrlKey)}}}e.stopPropagation()},te=function(e){"Enter"!=e.key&&" "!=e.key||e.stopPropagation()},ne=function(e,t){var n=document.getElementById(`${t}_checkbox`);n?.click();e.preventDefault()};this._checkKeydownOnRtfOrChapterLink=function(e){return e.target.id.includes("chapterView")||e.target.id.includes("rtf")};this._checkKeydownOnSelfLink=function(e){return e.target.classList.contains("selfLink")||e.target.classList.contains("selfLinkContainer")};var ie=function(e){var t=e.currentTarget.querySelector("a").getAttribute("href");(0,_["default"])(t,e.ctrlKey)},ae=function(e){return void 0===e.attr("aria-expanded")},oe=function(e){return"true"==e.attr("aria-expanded")},re=function(e,t){var n=Array.from(document.querySelector(x)?.querySelectorAll("li")??[]).filter(H.isVisible);if(0===n.length)return!1;var a,o=n.length-1,r=n.indexOf(e);switch(t){case"up":if(0===r)return!1;a=n[r-1];break;case"parent":var s=e.getAttribute("parentId");if(!s)return!1;a=document.getElementById(s);break;case"down":if(r===o)return!1;a=n[r+1];break;case"first":a=n[0];break;case"last":a=n[o];break;default:return!1}se(a);a?.focus();if(0!==i._headerScrollOffset){var l=i._headerScrollOffset-a.getBoundingClientRect().top;l>0&&window.scrollTo({top:window.pageYOffset-l})}},se=function(e){var t=document.querySelector(x)?.querySelector('[tabindex="0"]');t?.setAttribute("tabindex","-1");e?.setAttribute("tabindex","0")};this._updateSelectedNode=se;var le=function(e){var t;if(S["default"].PageData.CobaltPage.ViewData.FeatureConfigurations["PRERELCONTENTFEAT"]&&u["default"].isIacOn("IAC-GLOBAL-QUERY-VIEW-SEARCH")&&S["default"].PageData.BrowsePage&&-1!=S["default"].PageData.BrowsePage.PageUrl.indexOf("Home/SecondarySources/")){var n={"*catchall":S["default"].PageData.BrowsePage.PageUrl,transitionType:"Default",contextData:N["default"].PageContextData,guid:e.nodeGuid},i=N["default"].Relative(N["default"].Page.BrowseRoot(n));(t=document.createElement("a")).href=i;t.className="co_tocParentLink";t.textContent=C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.ParentGuidUrl","Show URL with Parent Guid")}return t},ce=function(){j&&L.Setup({showCheckboxesElement:s()("#coid_browseShowCheckboxes"),selectAllCheckboxesElement:s()("#coid_browseSelectAllCheckboxInput"),selectedCountElement:s()("#coid_selectedCount"),selectedCountLabelElement:s()("#coid_selectedCountLabel"),clearSelectedItemsElement:s()("#co_itemsClearAnchor"),tableOfContentsElementsSelector:x,expandCollapseElement:s()("#coid_expandCollapseCheckboxes"),displayMode:d.LayoutToc,getCheckedItemsCount:L.GetSelectedDocumentsCount});if(U){t=s()("#coid_expandAll");n=s()("#coid_collapseAll");r.isRefreshingTree=!1;n.click(i.refreshTocTree);t.click(i.expandAllNodes)}document.querySelector(x)?.addEventListener("click",(function(e){const t=e.target.closest(`a.${i.TocCollapseNodesclass}, a.${i.TocCollapseNodesclass} ~ .co_expanderLink`),n=e.target.closest(`a.${i.TocExpandNodesClass}, a.${i.TocExpandNodesClass} ~ .co_expanderLink`);if(e.currentTarget.contains(t)){const e=t.id.split("_")[0];i._collapseNode(e)}if(e.currentTarget.contains(n)){const e=n.id.split("_")[0];i._expandNode(e)}}))},de=function(){j||document.getElementById("co_tocContainer")?.addEventListener("click",(function(e){const t=e.target.closest("a.co_tocItemLink");if(e.currentTarget.contains(t)){var n={link:t.getAttribute("href")};(0,v.postUXEvent)("Cobalt.Website.FullTocOnDoc.Click",n)}}))};const ue=function(e,t){const n=document.getElementById(`${e}_expander`);if(!n)return;if(document.getElementById(`${e}_expander_group`)){t&&t();he(n)}else o.Get(e,!0,(function(a){const o=document.createElement("template");o.innerHTML=l({nodeGuid:a.nodeGuid});var r=o.content.firstElementChild;n?.closest("li")?.append(r);if(!j&&a.docLink){const e=a.displayName;o.innerHTML=T({parentNodeGuid:a.parentNodeGuid,displayName:e});var s=o.content.firstElementChild;s.addEventListener("keydown",ee);r.append(s);var c=me();s.append(c);var d=I({nodeGuid:a.nodeGuid,docGuid:a.docGuid,documentLink:R(a),documentLinkHtml:i.buildDocumentLinkHtml(a,!0)});c.insertAdjacentHTML("beforeend",d)}Z(`${e}_expander_group`,a.childNodes,void 0);ue(e,t);V&&i.updateCheckBoxesHierarchy(document.getElementById(n?.id.split("_")[0]+"_checkbox"))}));document.getElementById(`${e}_expander_link`)?.classList.remove(B);m["default"].Publish("Cobalt.Website.FullTocRenderer.NodeToggled")};this._expandNode=ue;this.setParentNodes=function(){const e=document.querySelectorAll("li.co_expanded");e.length>1&&e.forEach((e=>{e.closest("li")?.classList.add("co_parent")}))};var he=function(e){e?.classList.remove(i.TocExpandNodesClass)
;e?.classList.add(i.TocCollapseNodesclass);e?.closest("li")?.classList.add("co_expanded");if(pe()){e?.closest(".co_browseContent")?.classList.add("listExpanded");e?.querySelectorAll("span").forEach((e=>{e.classList.add("icon-left-arrow");e.classList.remove("icon-right-arrow");e.textContent="Collapse"}));i.setParentNodes()}var t=e?.id;V||i.updateCheckBoxesHierarchy(document.getElementById(t?.split("_")[0]+"_checkbox"));(0,f.showElements)(document.getElementById(`${t}_group`));var n=e.closest("li");n?.setAttribute("aria-expanded",!0);if(!r.isRefreshingTree){se(n);(j||V)&&n.focus();J()}i.refreshScroll()};this._markNodeAsExpanded=he;this._collapseNode=function(e){const t=document.getElementById(`${e}_expander`);if(!t)return;j||$()||document.getElementById(`${e}_expander_group`)?.querySelectorAll(`.${i.TocCollapseNodesclass}`).forEach(fe);fe(t);i.refreshScroll();be(e)&&document.getElementById(`${e}_expander_link`)?.classList.add(B);m["default"].Publish("Cobalt.Website.FullTocRenderer.NodeToggled")};this.updateParentNodeClass=function(e){e?.closest("ul")?.classList.remove("listExpanded");e?.closest("ul")?.closest("li.co_parent")?.classList.remove("co_parent")};var fe=function(e){e?.classList.remove(i.TocCollapseNodesclass);e?.classList.contains("co_tocItemLink")||e?.classList.add(i.TocExpandNodesClass);var t=e.closest("li");t?.classList.remove("co_expanded");if(pe()){e?.querySelectorAll("span").forEach((e=>{e.classList.remove("icon-left-arrow");e.classList.add("icon-right-arrow");e.textContent="Expand"}));i.updateParentNodeClass(t);t?.classList.remove("co_expanded","co_parent")}var n=e?.id;(0,f.hideElements)(document.getElementById(`${n}_group`));var a=e.closest("li");a?.setAttribute("aria-expanded",!1);if(!r.isRefreshingTree){se(a);J();a.focus()}},pe=function(){return document.body.classList.contains("th_simple")},me=function(){const e=document.createElement("div");e.className="co_selectable co_tocItem";return e};this.refreshScroll=function(){(u["default"].EnableIphone||u["default"].EnableIpad)&&(0,O.iScrollRefreshElements)(O.scrollWrapperSelector)};this.buildDocumentLinkHtml=function(e,t){var n,i=e.displayName;e.isOnline&&t&&(i+=(n=e.nodeGuid,a().template('<span id="<%- nodeGuid %>_onlineFlag" class="co_tocItemOnlineFlag th_flat_icon icon_onlineOnly" title="<%- title %>"></span>')({nodeGuid:n,title:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.OnlineContent","Online only content")})));e.isUpdated&&t&&(i+=function(e){return a().template('<span id="<%- nodeGuid %>_updatedFlag" aria-hidden="true" class="co_tocItemUpdatedFlag th_flat_icon icon_updatedMaterials" title="<%- title %>"></span>')({nodeGuid:e,title:C["default"].lookup("SC.Website.Cobalt.Widget.FullTocRenderer.UpdatedContent","Updated content")})}(e.nodeGuid));return i};var ge=function(e){if(V)return{ParentCheckboxId:e.ParentCheckboxId&&e.parentNodeGuid+"_checkbox",TocGuid:e.nodeGuid,Label:e.displayName};var t={NodeGuid:e.nodeGuid,HasChildren:e.hasChildren,SearchFilter:[{Publication:q.PublicationName,CategoryPageUrl:q.CategoryPageUrl,Content:q.SearchContentType,Collection:q.Collections,CollectionSet:q.CollectionSets,TocGuid:e.nodeGuid,Label:e.displayName}]};e.parentNodeGuid&&(t.ParentCheckboxId=e.parentNodeGuid+"_checkbox");if(e.docGuid){t.DocumentDeliveryContentType=q.DeliveryContentType;e.childNodes&&0!==e.childNodes.length||(t.SimpleDocumentLinkGuid=e.docGuid)}return t};this.updateCheckBoxesHierarchy=function(e){if(null==e)return;i.updateCheckBoxesHierarchyUp(e);i.updateCheckBoxesHierarchyDown(e);m["default"].Publish("Cobalt.Website.TOCExpander.CheckBoxStateChanged",new g["default"]({},{},"Cobalt.Website.TOCExpander.CheckBoxStateChanged","1.0"))};this.updateCheckBoxesHierarchyDown=function(e){var t=e.id,n=document.querySelectorAll(`[parentId='${t}']`);n.length>0&&n.forEach((function(t){var n,a=t.closest("li");t.checked=e.checked||(n=t.value,D["default"].hasNodeBeenChecked(n));if(e.indeterminate&&!t.checked){a?.setAttribute("aria-checked","mixed");i.updateCheckboxProperties(t,!1)}else{a?.setAttribute("aria-checked",t.checked);t.indeterminate=!1}i.updateCheckBoxesHierarchyDown(t)}))};this.updateCheckBoxesHierarchyUp=function(e){var t=e.getAttribute("parentId"),n=t&&"undefined"!==t?document.getElementById(t):null;if(n){i.updateCheckboxProperties(n);i.updateCheckBoxesHierarchyUp(n)}};this.updateCheckboxProperties=function(e,t=!0){var n=document.querySelectorAll("[parentId="+e.id+"]");if(0===n.length)return;var i=0,a=0;n.forEach((e=>{i+=e.checked;a+=e.indeterminate}));t&&(e.checked=n.length===i);e.indeterminate=i>0&&i<n.length||a>0;var o=e.closest("li");const r=e.indeterminate?"mixed":e.checked;void 0!==r&&o?.setAttribute("aria-checked",r)};this.setTOCContainerHeight=(0,P.createThrottledFastdomMeasure)((()=>{var e=i._retrieveHeights(),t=document.documentElement.scrollHeight-window.pageYOffset-window.innerHeight,n=ve(e);c().mutate((()=>{const i=document.getElementById("coid_browseToc");i&&(t<=e.footerHeight?i.style.height=n-(e.footerHeight-t)+"px":i.style.height=`${n}px`)}));$()?(0,h.getElementHeight)(document.getElementById("coid_infiniteScrollWidgetContainer"))<n&&c().mutate((()=>{const e=document.getElementById("coid_browseToc"),t=document.getElementById("coid_infiniteScrollWidgetContainer");t&&(t.style.minHeight=`${n}px`);e&&(e.style.height=`${n}px`)})):document.querySelector(".co_commentaryEnhancement")&&(0,h.getElementHeight)(document.querySelector(".co_commentaryEnhancement"))<n&&c().mutate((()=>{const e=document.getElementById("coid_browseToc");document.querySelectorAll(".co_commentaryEnhancement").forEach((e=>e.style.minHeight=`${n}px`));e&&(e.style.height=`${n}px`)}))}));this.setActiveDocLinkOffset=function(){var e=i._retrieveHeights(),t=(0,h.getOuterHeight)(document.getElementById("co_viewFullTocLink")),n=((0,G.offset)(document.querySelector("a.co_tocItemLink.co_active"))?.top??0)-(e.headerHeight+e.docToolbarHeight+t);n>ve(e)&&(document.getElementById("coid_browseToc").scrollTop=n)};this.markParentNodesAsActive=function(e){document.querySelectorAll(".co_expanderLink.co_active").forEach((e=>e.classList.remove("co_active")));i.markNodeAsActive(e)};this.markNodeAsActive=function(e){document.getElementById(`${e}_expander_link`)?.classList.add("co_active");var t=o.GetParentNodeGuid(e);t!=e&&i.markNodeAsActive(t)};var ve=function(e){var t=(0,h.getOuterHeight)(document.getElementById("co_viewFullTocLink"));return window.innerHeight-(e.headerHeight+e.docToolbarHeight+t)};this._retrieveHeights=function(){var e,t,n;const i=document.querySelector("#header"),a=document.querySelector("#co_docTopToolbar");if(i){e=i.getBoundingClientRect().height;i?.classList.contains("slideOut")&&(e=(0,h.getElementHeight)(document.getElementById("mini_header")));t=a?a.getBoundingClientRect().height:0;n=(0,h.getElementHeight)(document.getElementById("co_footerContainer"))+40}else if(document.getElementById("co_header")){e=(0,h.getElementHeight)(document.getElementById("co_header"));t=(0,h.getElementHeight)(document.getElementById("co_docHeaderContainer"))+(0,h.getElementHeight)(document.getElementById("co_docToolbarContainer"));n=document.getElementById("co_footer")?.offsetHeight??0}else{e=document.getElementById("co_newHeader")?.offsetHeight??0;t=(0,h.getElementHeight)(document.getElementById("co_docHeaderContainer"))+(0,h.getElementHeight)(document.getElementById("co_docToolbarContainer"));n=document.getElementById("co_footer")?.offsetHeight??0}return{headerHeight:document.body.classList.contains("co_readingMode")?0:e,docToolbarHeight:t,footerHeight:n}};var ye=function(){const e=document.getElementById("co_newHeader");i._headerScrollOffset=e&&"fixed"===getComputedStyle(e).position?i._retrieveHeights().headerHeight:0};this.highlightNode=e=>{let t;var n=e.displayName;t=e.hasChildren&&!e.docLink?s()(`#${e.nodeGuid}_expander_link`):s()(`#${e.nodeGuid}_link`);t.addClass(M);var i=C["default"].format("SC.Website.Widget.FullTocRenderer.HighlightedAriaLabelText",{label:n},"Highlighted "+n);document.getElementById(e.nodeGuid)?.setAttribute("aria-label",i)};this.removeSearchTocHighlight=()=>{document.querySelectorAll(`.${M}`).forEach((e=>e.classList.remove(M)))
;document.querySelectorAll(`.${B}`).forEach((e=>e.classList.remove(B)))};this.focusFirstFound=()=>{const e=document.querySelector(`.${M}`).closest("li");se(e);e?.focus()};this.drawSpinner=()=>{const e=_e();(0,f.hideElements)(e?.querySelector(x));const t=Ce();e?.append(t);Se(t)};this.removeSpinner=()=>{const e=_e();e?.querySelector(`#${w}`)?.remove();(0,f.showElements)(e?.querySelector(x))};this.collapseAllNodes=()=>{const e=_e()?.querySelectorAll(".co_expanded");if(e){let t,n=e.length-1;for(;n>=0;){t=e[n];const i=t.id;this._collapseNode(i);n--}}const t=document.getElementById(k),n=t?.querySelector('[tabindex="0"]');t?.childNodes.forEach((e=>{e.contains(n)&&se(e)}))};const be=e=>document.querySelectorAll(`#${e}_expander_group .${M}`).length>0,Ce=()=>{const e=document.createElement("div");e.id=w;e.className="co_loading";return e},Se=e=>{const t=(document.getElementById("co_subHeader")?.offsetHeight??0)+(document.querySelector(".co_browseToolbarWrap")?.offsetHeight??0);e&&(e.style.paddingTop=`${t}px`)},_e=()=>document.querySelector("#co_tocContainer #coid_browseToc");this.expandAvailableNodes=(e,t)=>{a().each(e,(e=>{if(F(e)){this._expandNode(e.nodeGuid,(()=>{t&&t(e)}));this.expandAvailableNodes(e.childNodes,t)}else t&&t(e)}))};this.expandAvailableNodesAsync=(e,t)=>Promise.all(e.map((e=>new Promise((n=>{if(F(e))this._expandNode(e.nodeGuid,(()=>{t&&t(e);n(e)}));else{t&&t(e);n()}})).then((e=>{if(e)return this.expandAvailableNodesAsync(e.childNodes,t)})))));this.refreshTocTree=function(){if(n.hasClass(E))return;Q();i.collapseAllNodes();X()};this.expandAllNodes=function(){if(t.hasClass(E))return;if(o.isFullTreeLoaded){Q();Promise.all(s()(x).find(`a.${i.TocExpandNodesClass}:visible`).toArray().map((e=>new Promise((t=>{const n=e.dataset.guid;i._expandNode(n);o.Get(n,!1,(e=>{i.expandAvailableNodes(e.childNodes);t()}))}))))).then(X)}else{i.drawSpinner();Q();o.GetFullTree((e=>{i.expandAvailableNodes(e.childNodes);i.removeSpinner();X()}))}}};var j=n(9691),$=n.n(j),V=n(9172),q=n(3434),z=n(8660),K=n(7617),Y=n(8260);function Q(){}Q.prototype={RetrieveToc:async function(e,t){const n=this.GetTocUrl(e),i=new Headers;e&&e.docGuid?i.set("Accept","application/json"):i.set("Content-Type","application/json");var a=new z["default"](q["default"].RelatedInfo,this.buildUrl(n,e,K["default"].GetClientId()),{timeout:e?.includeDescendants?15e4:3e4,headers:i});if(e&&e.docGuid){const e=await a.Get(),n=await e.text();t(JSON.parse(n||"{}"))}else{const n=await a.Post(JSON.stringify(e)),i=await n.text();t(JSON.parse(i||"{}"))}},GetTocUrl:function(e){return"RelatedInfo/v1/toc/"+(e?.docGuid?e.docGuid:"nodeWithChildren")},GetTocToDocumentByGuid:async function(e,t,n){const i=new z["default"](q["default"].RelatedInfo,this.buildUrl("RelatedInfo/v1/toc/tocTreeFromRootToDoc"),{headers:{"Content-Type":"application/json"}}),a=await i.Post(JSON.stringify(e));if(a.ok){t(await a.json())}else{var o=`Failed to retrieve TOC to document by guid. Status: ${a.status}`,r=new Error(o);if("function"!=typeof n)throw r;n(r)}},SearchToc:function(e){return new z["default"](q["default"].RelatedInfo,this.buildUrl("RelatedInfo/v1/toc/searchTocAsTree",e,K["default"].GetClientId()),{headers:{"Content-Type":"application/json"}}).Post(JSON.stringify(e))},buildUrl:function(e,t,n){var i=new V["default"](e);i.addParameter("contextData",N["default"].PageContextData);i.addParameter("transitionType",N["default"].transitionType);i.addParameter("clientId",n);return this.addReturnToListParams(i).buildUrl()},addReturnToListParams:function(e){if(u["default"].isIacOn("IAC-COMMENTARY-RETURN-TO-LIST")){const t=Y["default"]?.DocDisplayWidget,n=t?.NavigationProperties,i=t?.WebsiteProperties,a={ListSource:n?.ListSource||t?.listSource,NavPath:n?.NavigationPath||t?.navigationPath,List:n?.List||t?.list,Rank:n?.Rank||t?.rank,ListPageSource:i?.ListPageSource||t?.listPageSource};if(Object.values(a).every((e=>e))){e.addParameter("listSource",a.ListSource);e.addParameter("navigationPath",a.NavPath);e.addParameter("list",a.List);e.addParameter("rank",a.Rank);e.addParameter("listPageSource",a.ListPageSource)}}return e}};const X=Q;const J=function(){var e=this;this.tocInfoProvider=new X;this.tocRetrievalInfo={};var t={};this.getStorage=function(){return t};this.isFullTreeLoaded=!1;var n={},i={};this.GetFirstNodeGuid=function(e){var t=i[e];if(t&&t.length>0)return t[0];return null};this.GetLastNodeGuid=function(e){var t=i[e];if(t&&t.length>0)return t[t.length-1];return null};this.GetParentNodeGuid=function(e){return n[e]};this.IsParent=function(e){return-1!==Object.keys(n).map((e=>n[e])).indexOf(e)};this.RetrieveToc=function(t){e.tocInfoProvider.RetrieveToc(e.tocRetrievalInfo,(function(n){e.Set(n);if(n.childNodes)if(n.nortDomainDescriptor){e.tocRetrievalInfo.isNort=n.isNort;e.tocRetrievalInfo.nortDomainDescriptor=n.nortDomainDescriptor;e.tocRetrievalInfo.nortFilterExpression=n.nortFilterExpression}else n.collection&&(e.tocRetrievalInfo.tocCollection=n.collection);n.docGuid=e.tocRetrievalInfo.docGuid;t(n)}))};this.Get=function(n,i,a){var o=t[n];o?i&&o.hasChildren?o.childNodes?a(o):e.BuildTocRetrievalInfo(n,a):a(o):e.BuildTocRetrievalInfo(n,a)};this.GetFullTree=function(n){var i=t[e.tocRetrievalInfo.nodeGuid];e.isFullTreeLoaded&&i?n(i):e.BuildTocRetrievalInfo(e.tocRetrievalInfo.nodeGuid,(t=>{e.mergeNodes(t.childNodes);e.isFullTreeLoaded=!0;n(t)}),!0)};this.Set=function(e){t[e.nodeGuid]=e;n[e.nodeGuid]=e.parentNodeGuid;e.docGuid&&a(e.docGuid,e.nodeGuid);if(e.hasChildren&&e.childNodes){var i=e.childNodes;if(i&&i.length>0)for(var o=0;o<i.length;o++)this.Set(i[o])}};this.BuildTocRetrievalInfo=function(t,n,i){const a=this.BasicTocRetrievalInfo(t,i);e.tocInfoProvider.RetrieveToc(a,(e=>{this.Set(e);n(e)}))};this.BasicTocRetrievalInfo=function(t,n=!1){return{nodeGuid:t,tocCollection:e.tocRetrievalInfo.tocCollection,tocCollectionSet:e.tocRetrievalInfo.tocCollectionSet,isNort:e.tocRetrievalInfo.isNort,nortDomainDescriptor:e.tocRetrievalInfo.nortDomainDescriptor,nortFilterExpression:e.tocRetrievalInfo.nortFilterExpression,nodesExpandable:!0,includeDescendants:n}};var a=function(e,t){i[e]?i[e].indexOf(t)<0&&i[e].push(t):i[e]=[t]};this.mergeNodes=e=>{const t=$().filter(e,F);$().each(t,(e=>{this.IsParent(e.nodeGuid)?this.mergeNodes(e.childNodes):o(e)}))};this.searchToc=async e=>{this.tocRetrievalInfo.searchQuery=e;return await this.tocInfoProvider.SearchToc(this.tocRetrievalInfo)};this.getTocToDocumentByGuid=(e,t,n)=>{const i=Object.assign({docGuid:e},this.tocRetrievalInfo);this.tocInfoProvider.GetTocToDocumentByGuid(i,t,n)};const o=e=>{r(e);$().each(e.childNodes,o)},r=e=>{const t=$().omit(e,"childNodes");e.childNodes&&(t.childNodes=$().map(e.childNodes,(e=>$().omit(e,"childNodes"))));this.Set(t)}};var Z=n(5351),ee=n.n(Z);const te="next",ne="prev";const ie=function(e){var t=this,n=e;this.FindNextDocInToc=function(e,t){var a=n.GetLastNodeGuid(e);a?i(a,!0,t):t("")};this.FindPrevDocInToc=function(e,t){var i=n.GetFirstNodeGuid(e);i?a(i,!0,t):t("")};this.FindPrevNextDocsInToc=function(e,n){var i,a=null;this.FindNextDocInToc(e,(function(o,r,s){o&&(a={link:r,title:s});t.FindPrevDocInToc(e,(function(e,t,o){e&&(i={link:t,title:o});n({nextDocument:a,prevDocument:i})}))}))};var i=function(e,t,a){n.Get(e,!1,(function(e){e.docGuid&&t&&e.hasChildren?r(e.nodeGuid,te,a):o(e,te,(function(t){if(t)t.hasChildren&&!t.docGuid?r(t.nodeGuid,te,a):t.docGuid?a(t.docGuid,R(t),t.displayName):i(t.nodeGuid,!1,a);else{var n=e.parentNodeGuid;" "===n?a(""):i(n,!1,a)}}))}))},a=function(e,t,i){n.Get(e,!1,(function(e){e.docGuid&&!t&&" "!=e.parentNodeGuid?i(e.docGuid,R(e),e.displayName):o(e,ne,(function(t){if(t)t.hasChildren?r(t.nodeGuid,ne,i):t.docGuid?i(t.docGuid,R(t),t.displayName):a(t.nodeGuid,!1,i);else{var n=e.parentNodeGuid;" "===n?i(""):a(n,!1,i)}}))}))},o=function(e,t,i){var a=e.parentNodeGuid;" "==a?i(""):n.Get(a,!0,(function(n){var a,o,r=n.childNodes,s=ee().indexOf(r,ee().findWhere(r,{nodeGuid:e.nodeGuid}));if(t===te){a=r.length-1;o=1}else if(t===ne){a=0;o=-1}i(s===a?"":r[s+o])}))},r=function(e,t,o){n.Get(e,!0,(function(e){var n,s=e.childNodes;t===te?n=s[0]:t===ne&&(n=s[s.length-1])
;n.hasChildren&&!n.docGuid?r(n.nodeGuid,t,o):n.docGuid?o(n.docGuid,R(n),n.displayName):t===te?i(n.nodeGuid,!1,o):t===ne&&a(n.nodeGuid,!1,o)}))}};var ae=n(9474);const oe=function(){var e=this,t=null,n=null,i=null;this.categoryPageUrlCleaned="javascript:void(0);";this.layoutClasses={removableClasses:"co_t2Left",addedClasses:"co_t3 th_simple",collapseClasses:"co_hideLeftColumn"};this.supportPrevNextNavigation=!1;this.SetDocumentGuid=function(t){e.documentGuid=t};this.SetParentDiv=function(t){e.parent=t};this.SetSupportPrevNextNavigation=function(t){e.supportPrevNextNavigation=t};this.CategoryPageUrlDisabledClass=function(){return-1===e.categoryPageUrlCleaned.indexOf("javascript:void(0);")?"":"co_disabled"};this.SetCategoryPageUrl=function(t,n){if(!t)return;const i=document.querySelector(t);if(i){i.href=e.categoryPageUrlCleaned;e.CategoryPageUrlDisabledClass()&&i.classList.add(e.CategoryPageUrlDisabledClass())}if(void 0!==m["default"].Subscribe)var a=m["default"].Subscribe(p["default"].events.tocInformationRetrieved,(function(n,i){var o=i.Data.tocInfo.tocNode;if(o&&o.CategoryPageUrl&&o.CategoryPageUrl.length>0){e.categoryPageUrlCleaned=e.CleanCategoryPageUrl(o.CategoryPageUrl);const n=document.querySelector(t);if(n){n.href=e.categoryPageUrlCleaned;n.classList.remove("co_disabled")}}m["default"].Unsubscribe(a)}),(function(){m["default"].Unsubscribe(a)}));if(n){(new ae["default"]).GetDocumentMetadoc(n,(function(e){for(var n=JSON.parse(e),i=0;i<n.length;i++)if("pub.name"===n[i].field){document.querySelectorAll(t).forEach((e=>{e.textContent=n[i].value}));break}}))}};this.CleanCategoryPageUrl=function(t){const n=t.replace(/&amp;/g,"&");return W["default"].AddQueryParamToUrl(n,"linkedDocGuid",e.documentGuid)};this.InitializeCategoryPageUrl=function(){e.SetCategoryPageUrl("#co_viewFullTocLink")};this.Draw=function(){e.InitializeCategoryPageUrl();(0,f.showElements)(e.parent);if(!document.getElementById("coid_infiniteScrollWidgetContainer")){document.body.classList.remove(...e.layoutClasses.removableClasses.split(" ").filter(Boolean));document.body.classList.add(...e.layoutClasses.addedClasses.split(" ").filter(Boolean))}(n=new J).tocRetrievalInfo={docGuid:e.documentGuid};i=new ie(n);(t=new U(n)).SetTocNodesSearchable(!1);t.SetParentElement(e.parent);t.DrawToc(e.drawTocCallback)};this.collapseButtonEventHandler=function(){document.body.classList.toggle(e.layoutClasses.collapseClasses);const t=!document.body.classList.contains(e.layoutClasses.collapseClasses);document.getElementById("co_collapseActionLeft")?.setAttribute("aria-expanded",t)};this.drawTocCallback=function(){t.ExpandToNode(e.documentGuid,!0);e.drawTocHeader();e.supportPrevNextNavigation&&i.FindPrevNextDocsInToc(e.documentGuid,(function(e){W["default"].publishHubEvent(p["default"].events.fullTocRenderComplete,null,e,null)}))};this.drawTocHeader=function(){const t=document.createElement("div");t.className="co_viewFullTocLinkContainer";e.parent?.querySelector("#co_tocContainer")?.prepend(t);const n=C["default"].lookup("SC.Document.Widget.FullToc.ToggleButtonLabel","Table of Contents"),i=document.createElement("button");i.id="co_collapseActionLeft";i.setAttribute("aria-expanded",!0);i.textContent=n;i.addEventListener("click",(()=>e.collapseButtonEventHandler(!0)));t.prepend(i);t.insertAdjacentHTML("afterbegin",e.drawViewFullTocLink("co_viewFullTocLink"));new o["default"](i,n).render()};this.drawViewFullTocLink=function(t){return a().template('<a id="<%=id%>" class="co_fullscreenLink co_tbButton <%=disabledClass%>" href="<%=categoryPageUrl%>"><%=label%></a>',{id:t,disabledClass:e.CategoryPageUrlDisabledClass(),categoryPageUrl:e.categoryPageUrlCleaned,label:C["default"].lookup("SC.Document.Widget.FullToc.FullTocLinkLabel","View Full TOC")})};this.RedrawToc=function(i){n.tocRetrievalInfo.docGuid=e.documentGuid;t.DrawToc((()=>{e.drawTocCallback();i&&i()}))};this.FindNextDocInToc=function(e,n){i.FindNextDocInToc(e,(function(e){t.ExpandToNode(e,!0);n(e)}))};this.FindPrevDocInToc=function(e,n){i.FindPrevDocInToc(e,(function(e){t.ExpandToNode(e,!0);n(e)}))};this.MarkParentNodesAsActive=function(e){t.markParentNodesAsActive(e)};this.GetTocInfoStorage=function(){return n};this.BindTOCEvent=function(){t._bindTOCEvent()};this.ExpandToNode=function(e){t.ExpandToNode(e,!0)}}},1586:(e,t,n)=>{e.exports=n(4507)(89838)},1633:(e,t,n)=>{"use strict";n.r(t);n.d(t,{createThrottledFastdomMeasure:()=>o});var i=n(1987),a=n.n(i);function o(e,t){let n=null;return function(){a().clear(n);n=a().measure(e,t)}}},1646:(e,t,n)=>{e.exports=n(4507)(60798)},1688:(e,t,n)=>{e.exports=n(4507)(7070)},1808:(e,t,n)=>{e.exports=n(8846)(3602)},1809:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>r});var i=n(669),a=n(8286),o=n(7861);class r{getDocFooterHeight(e){if(0===e)return 73;return e}calculateTocHeight(){var e=a["default"].ids,t=a["default"].classes;const n=document.querySelector(`.${t.genericDocumentTocInner}`),r=document.querySelector(`.${t.genericDocumentToc}`);if(r&&n){var s=(0,o.offset)(document.querySelector("."+t.genericDocumentTocInner)).top+parseFloat(getComputedStyle(n).borderBottomWidth)+parseFloat(getComputedStyle(n).borderTopWidth),l=(0,i.getOuterHeight)(document.querySelector(`.${t.tocFooter}`))+parseFloat(getComputedStyle(r).paddingBottom),c=(0,i.getOuterHeight)(document.getElementById(e.documentFooter)),d=l+(c=this.getDocFooterHeight(c))+(parseFloat(getComputedStyle(n).paddingTop)+parseFloat(getComputedStyle(n).paddingBottom)),u=window.innerHeight;document.querySelectorAll(`.${t.genericDocumentTocInner}`).forEach((e=>e.style.height=u-s-d+"px"))}}}},1811:(e,t,n)=>{e.exports=n(4507)(83761)},1821:(e,t,n)=>{e.exports=n(4507)(30109)},1896:(e,t,n)=>{e.exports=n(4507)(91936)},1943:(e,t,n)=>{e.exports=n(8846)(3607)},1948:(e,t,n)=>{e.exports=n(4507)(67696)},1982:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(8286),a=n(9912),o=n(2915),r=n(2114);class s{constructor(e){this.params=e;this.setNewPreferenceHandler=null;this.buttonOpts={ariaControlsFor:i["default"].ids.searchTermMenuDropDown,classForButton:"a11yDropdown-button",collapsedContainerClass:"co_dropdownTabCollapsed",expandedContainerClass:"co_dropdownTabExpanded",iconClass:"icon25",iconExpandedClass:"icon_upMenu-gray",iconCollapsedClass:"icon_downMenu-gray",changeButtonLabelOnSelect:!0,iconAfterText:!0,changeButtonTitleOnSelect:!1}}buildDropdownContainer(){return`<div id="${i["default"].ids.searchTermMenu}"></div>`}processMenuItems(e,t){const{params:n}=this,a=[],o=n.isSearchWithinDocument,r=!n.suppressListItemForRA&&n.searchQuery,s=n.isSearchWithinDocument&&n.searchWithinQuery,l=n.searchQueryType&&n.searchQueryTypes.naturalLanguage&&n.searchQueryType===n.searchQueryTypes.naturalLanguage&&!n.isSearchWithinDocument&&n.isBestPortion,c=n.searchQueryType&&n.isOverrulingRisk||n.isSpecific;o&&a.push({content:n.allTermsText,iconClass:"icon25 icon_barDouble-customOne",textClass:i["default"].classes.termNavAllTerm,isSelected:!e||e===i["default"].prefs.allSearchTerms});r&&a.push({content:n.searchQuery,iconClass:"icon25 icon_bar-customOne",textClass:i["default"].classes.termNavSearchTerm,isSelected:e===i["default"].prefs.searchTermsOnly,textForButton:n.texts.originalTerms});s&&a.push({content:n.searchWithinQuery,iconClass:"icon25 icon_bar-customTwo",textClass:i["default"].classes.termNavFindTerm,isSelected:e===i["default"].prefs.searchWithinTermsOnly,textForButton:n.texts.searchWithinTerms});l&&a.push({content:n.bestPortionText,textClass:i["default"].classes.termNavBestPortion,iconClass:"icon25 icon_rightArrowThick-customOne",isSelected:e===i["default"].prefs.bestPortionTerms});c&&a.push({content:n.overrulingRiskText,textClass:i["default"].classes.termNavOverrulingRisk,iconClass:"icon25 icon_caution-customOne",isSelected:e===i["default"].prefs.overrulingRiskTerms});t?.excludeHideHighlighting||a.push({content:n.texts.hideHighlighting,textClass:i["default"].classes.termNavHideHighlighting,iconClass:"icon25 icon_hideBar-blue",isSelected:e===i["default"].prefs.hideSearchTerms});return a}_addEventHandlers(){this.menu.getDOMElement()?.addEventListener("menu-item-selected",(e=>{const t=e.detail;if(!t.items)return
;this.setNewPreferenceHandler(t.domElements[0].querySelector(".a11yDropdown-itemText"));this.currentIconClass=t.items[0].iconClass;this.termIcon.className=`icon25 ${this.currentIconClass}`}))}draw(e){this._initializeMenu(e);this._renderMenuButton();this._addEventHandlers();this._prependHeader();this.termIcon=document.createElement("span");this.termIcon.className=`icon25 ${this.currentIconClass}`;var t=this.menuButton.getDOMElement();t?.prepend(this.termIcon)}_initializeMenu(e){const t=this.processMenuItems(e);this._setDefaultMenuSelection(t);this.menuOpts={items:t,id:i["default"].ids.searchTermMenuDropDown,ariaLabelForMenuContainer:a["default"].lookup("SC.Document.TermNavigation.SearchTerm.Menu.Name","Search Term")};this.menu=new o["default"](this.menuOpts)}_renderMenuButton(){this.menuButton=new r["default"](this.menu,this.buttonOpts);this.menuButton.draw()}_prependHeader(){const e=document.createElement("li");e.textContent=a["default"].lookup("SC.Document.TermNavigation.TermNavigation","Term Navigation");e.setAttribute("role","presentation");this.menu.getDOMElement()?.prepend(e)}setMenuContainerElement(e){this.buttonOpts.dropdownContainer=e}setChangePreferenceHandler(e){this.setNewPreferenceHandler=e}changeButtonClass(e){const t=this.menuButton.getDOMElement();t&&(t.className=`${this.buttonOpts.classForButton} ${e.className}`)}_setDefaultMenuSelection(e){const t=e.find((e=>e.isSelected));if(t)this.currentIconClass=t.iconClass;else{e[0].isSelected=!0;this.currentIconClass=e[0].iconClass}}}},1987:(e,t,n)=>{e.exports=n(4507)(52778)},1990:(e,t,n)=>{e.exports=n(4507)(70827)},2001:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>r});var i=n(9912),a=n(1811);function o({isHighlightView:e}){const t=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.DeletedText","deleted text"),n=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.StartDeletedText","start of deleted text"),o=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.EndDeletedText","end of deleted text");if(e)return(0,a.jsxs)("span",{className:"CompareKey-deleted",children:[(0,a.jsx)("span",{className:"ScreenReader-text",children:n}),(0,a.jsx)("del",{className:"co_ruleBookRedline co_highlightView",children:t}),(0,a.jsx)("span",{className:"ScreenReader-text",children:o})]});return(0,a.jsxs)("span",{className:"CompareKey-deleted",children:[(0,a.jsx)("span",{className:"ScreenReader-text",children:n}),(0,a.jsx)("span",{"aria-hidden":"true",children:"<<- "}),(0,a.jsx)("del",{className:"co_ruleBookRedline co_textOnlyView",children:t}),(0,a.jsx)("span",{"aria-hidden":"true",children:" ->>"}),(0,a.jsx)("span",{className:"ScreenReader-text",children:o})]})}o.displayName="DeletedKey (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Key/DeletedKey.jsx)";const r=o},2065:(e,t,n)=>{e.exports=n(4507)(70660)},2114:(e,t,n)=>{e.exports=n(4507)(468)},2141:(e,t,n)=>{"use strict";n.d(t,{m:()=>c});var i=n(3434),a=n(8660),o=n(3903),r=n(6306),s=n(6094);function l(){r["default"].call(this)}l.prototype=new r["default"];l.prototype.constructor=l;l.prototype.submitWebRequest=function(e){var t="/RelatedInfo/v4/keycitealertable/"+e.documentGuid,n=new s.A,r=e.getDocumentCollection();o["default"].isNotNullOrUndefined(r)&&o["default"].trim(r).length>0&&n.addParameter("collection",r);var l=n.buildParametersString();o["default"].isNotNullOrUndefined(l)&&o["default"].trim(l).length>0&&(t+="?"+l);return new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};const c=new l},2152:(e,t,n)=>{e.exports=n(8846)(3985)},2179:(e,t,n)=>{e.exports=n(4507)(82191)},2217:(e,t,n)=>{e.exports=n(4507)(21833)},2237:(e,t,n)=>{e.exports=n(4507)(91827)},2248:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>L});var i=n(9122),a=n(9474),o=n(4383),r=n(4506),s=n(6611),l=n(2595),c=n(8854),d=n(3434),u=n(8660),h=n(2065),f=n(3839),p=n(7617),m=n(3364),g=n(8260),v=n(1186),y=n(4249),b=n(6101),C=n(906),S=n(2363);const _=S["default"].extend({getDocumentData:function(e){var t=[];t.push({DocGuid:e,Type:"PublicRecordsDocument"});return t}}),D=S["default"].extend({getDocumentData:function(e){var t=[];t.push({DocGuid:e,Type:"docketGatewayDocument"});return t}}),T=S["default"].extend({getDocumentData:function(e){var t=o["default"].ParseQueryString(window.location.search),n=t.resultListGuid,i=t.resultListIndex,a=t.gatewayName,r=[];r.push({documentGuid:e,type:"PublicRecordsDocument",metadata:{resultListGuid:n,resultListIndex:i,gatewayName:a}});return r}});var I=n(7625),x=n(4953),k=n(8286),w=n(370),E=n(1990),A=n(9912);const L=a["default"].extend({GetDocumentDeliveryMetaInfo:function(e){var t=m["default"].Instance,n=this;let i;var a=function(t){if(t&&t.metaInformation&&t.metaInformation.isPublicRecordsDocument)i=n.GetPublicRecordsDocumentDeliveryMetaInfo(e);else if(t&&t.metaInformation&&t.metaInformation.isDocketGatewayDocument)i=n.GetDocketGatewayDocumentDeliveryMetaInfo(e,t);else if(t&&t.metaInformation&&t.metaInformation.isGatewayDocument)i=n.GetGatewayDocumentDeliveryMetaInfo(e,t);else{i=n._super(e);if("(sc.UserEnteredCitation)"===i.ContextData.PageContextData){const e=i.ContextData.SelectedItems;if(e&&e.length>0){var a=(new o["default"].QueryStringParser).GetValue("userEnteredCitation");if(a)for(let e=0;e<i.ContextData.SelectedItems.length;e++)i.ContextData.SelectedItems[e].UniqueCitation=a}}if(g["default"].ViewData&&g["default"].ViewData.EntityId)for(let e=0;e<i.ContextData.SelectedItems.length;e++){var r=i.ContextData.SelectedItems[e];r.FullTextMetadata=r.FullTextMetadata||{};r.FullTextMetadata.entityId=g["default"].ViewData.EntityId;r.FullTextMetadata.entityType=g["default"].ViewData.EntityType;g["default"].ViewData.IsMedLitStubDocument&&(r.Title=g["default"].ViewData.EntityName)}const t=i.ContextData.SelectedItems;if(t&&t.length>0)for(let e=0;e<t.length;e++){const t=document.getElementById("co_redlineToggleContainer"),n=t?.classList.contains("co_redlineIsActive");i.ContextData.SelectedItems[e].FullTextMetadata.RedLineToggle=n}}g["default"].ViewData?.UseNonBillableZoneClientId&&(i.ContextData.UseNonBillableZoneClientId=!0)};n.GetMetaInformation(t.DocumentGuid,a,a);return i},GetRequestUrl:function(e,t,n,i,a,o,r){var s=null,c=t;if((0,l.IsNullOrEmpty)(c)){c=m["default"].Instance.DocumentGuid}this.GetMetaInformation(c,(function(e){s=e}),(function(e){s=e}));var d=this._super(e,t,n,i,a,o,r);s&&s.metaInformation&&s.metaInformation.inlineKeyCiteFlagsIncluded&&(d=this.AppendParameterToRequest(d,"inlineKeyCiteFlags","true"));return d},GetdocGuidListByFamilyGuidDragNDrop:async function(e,t){if((0,l.IsNullOrEmpty)(e))throw new Error("ArgumentException: entries");var n=(0,l.FormatStatic)(k["default"].paths.documentGuidListByFamilyGuidList);const i=new Headers;this.ContextualInfo&&i.set(k["default"].headers.contextualInfoHeader,this.ContextualInfo.toString());const a=this.CreateDocumentWebRequest(d["default"].Document,n,{headers:i}).Post(JSON.stringify(e));if(!a.ok){const e=`Failed to retrieve document guids by familyDocument Guids. Status code: ${a.status}.`;throw new Error(e)}t(await a.json())},GetdocumentGuidListByFamilyGuid:async function(e){if((0,l.IsNullOrEmpty)(e))throw new Error("ArgumentException: entries");var t=(0,l.FormatStatic)(k["default"].paths.documentGuidListByFamilyGuidList);const n=new Headers;this.ContextualInfo&&n.set(k["default"].headers.contextualInfoHeader,this.ContextualInfo.toString());const i=this.CreateDocumentWebRequest(d["default"].Document,t,{headers:n}),a=await i.Get(JSON.stringify(e));if(a.ok)return a.json();const o=`Failed to retrieve document guids by familyDocument Guids. Status code: ${a.status}.`;throw new Error(o)},GetPublicRecordsDocumentDeliveryMetaInfo:function(e){var t=m["default"].Instance,n=new r["default"];t.WebsiteProperties&&(n.DocumentSourceKey=t.WebsiteProperties.DocSource);var i=new s["default"];i.FullTextMetadata={NavigationPath:null,ListSource:null,List:null,Rank:null,ItemType:null,CacheScope:null};i.ItemType=b["default"].PublicRecordsDocument;i.DocumentGuid=t.DocumentGuid;i.Title="Public Records Document";n.Medium=e;n.ContextView=y["default"].SingleDocument;n.SelectedItems=[];n.PeopleMapDataOrchestrationGuid=C.A.Data.dataOrchestrationGuid
;n.PeopleMapPermissibleUse=C.A.Data.PU;var a=function(e){i.ContentType=k["default"].texts.publicRecordsDocumentContentType;i.Title=e.metaInformation.titleText;n.SelectedItems.push(i)};this.GetMetaInformation(t.DocumentGuid,a,a);return{ContextData:n,PreviousDocumentUrlAndTitle:"",NextDocumentUrlAndTitle:""}},GetDocketGatewayDocumentDeliveryMetaInfo:function(e,t){var n=m["default"].Instance,a=new r["default"];n.WebsiteProperties&&(a.DocumentSourceKey=n.WebsiteProperties.DocSource);var o=new s["default"];o.FullTextMetadata={NavigationPath:null,ListSource:null,List:null,Rank:null,ItemType:null,CacheScope:null,Court:t.metaInformation.court.toUpperCase(),DocketNumber:t.metaInformation.docketNumber,Jurisdiction:t.metaInformation.jurisdiction};o.ItemType=b["default"].DocketGatewayDocument;o.DocumentGuid=n.DocumentGuid;o.Title=t.metaInformation.titleText;o.ContentType="Dockets";a.Medium=e;a.ContextView=y["default"].DocketGatewaySingleDocument;a.SelectedItems=[];a.ContextLabel=i["default"].SearchResult.getQuery();a.SelectedItems.push(o);return{ContextData:a,PreviousDocumentUrlAndTitle:"",NextDocumentUrlAndTitle:""}},GetGatewayDocumentDeliveryMetaInfo:function(e,t){var n=m["default"].Instance,i=new r["default"];n.WebsiteProperties&&(i.DocumentSourceKey=n.WebsiteProperties.DocSource);var a=new s["default"];a.FullTextMetadata={NavigationPath:null,ListSource:null,List:null,Rank:null,ItemType:null,CacheScope:null};a.ItemType=b["default"].GatewayDocument;a.DocumentGuid=n.DocumentGuid;a.Title=t.metaInformation.titleText;a.ContentType="Gateway Document";var l=o["default"].Parse(document.location.href),c=l.QueryString.resultListGuid,d=l.QueryString.resultListIndex,u=l.QueryString.gatewayName;c&&(a.ResultListGuid=c);d&&(a.ResultListIndex=d);u&&(a.GatewayName=u);i.Medium=e;i.ContextView=y["default"].GatewaySingleDocument;i.SelectedItems=[];var h=function(e){a.Title=e.metaInformation.titleText;i.SelectedItems.push(a)};this.GetMetaInformation(n.DocumentGuid,h,h);return{ContextData:i,PreviousDocumentUrlAndTitle:"",NextDocumentUrlAndTitle:""}},GetFolderingWidget:function(){var e,t=m["default"].Instance,n=function(t){e=t&&t.metaInformation&&t.metaInformation.isPublicRecordsDocument?new _:t&&t.metaInformation&&t.metaInformation.isDocketGatewayDocument?new D:t&&t.metaInformation&&t.metaInformation.isGatewayDocument?new T:new I["default"]};this.GetMetaInformation(t.DocumentGuid,n,n);return e},CitationAndTitleAreDuplicate:function(e){switch(e){case"State Legislative History":case"State Legislative History - CCA":return!0;default:return this._super(e)}},BillInlineKeyCiteFlags:function(e){var t=`InlineKeyCiteFlags/${e}/AcceptCharges?feature=InlineKCFlags&includesSurcharge=false`;if(200===this.CreateDocumentWebRequest(d["default"].Website,t,void 0,!0).SynchronousGet().StatusCode)return!0;(0,c.publishErrorMessage)(d["default"].Website,A["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));return!1},ShowInlineKeyCiteWarning:function(e){var t=`InlineKeyCiteFlags/showWarning?documentGuid=${e}`,n=this.CreateDocumentWebRequest(d["default"].Website,t,void 0,!0).SynchronousGet();if(200===n.StatusCode)return JSON.parse(n.ResponseText);(0,c.publishErrorMessage)(d["default"].Website,A["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));return!1},BillConstruedTermDisplay:function(e,t){var n=`MarkmanDisplay/${e}/AcceptCharges?feature=${t}&includesSurcharge=false`;if(200===this.CreateDocumentWebRequest(d["default"].Website,n,void 0,!0).SynchronousGet().StatusCode)return!0;(0,c.publishErrorMessage)(d["default"].Website,A["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));return!1},ShowConstruedTermsDisplayWarning:function(e,t){var n=`MarkmanDisplay/showWarning?documentGuid=${e}&construedTermType=${t}`,i=this.CreateDocumentWebRequest(d["default"].Website,n,void 0,!0).SynchronousGet();if(200===i.StatusCode)return JSON.parse(i.ResponseText);(0,c.publishErrorMessage)(d["default"].Website,A["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));return!1},GetCuratedDocumentBlobLinks:async function(e,t){if((0,l.IsNullOrEmpty)(e))throw new Error("ArgumentException: guid");if("function"!=typeof t)throw new Error("ArgumentException: callback");const n=new u["default"](d["default"].Document,"/document/v1/CuratedDocumentBlobLinks"),i=await n.Post(JSON.stringify(e));if(!i.ok)throw new Error(`Failed to retrieve curated document blob links. Status code: ${i.status}.`);t(await i.json())},AddProductQueryParams:function(e){var t=(new o["default"].QueryStringParser).Params;if(t.entityid){e+=e.indexOf("?")>-1?"":"?";e+="&entityId="+t.entityid;e+="&entityType="+t.entitytype}return e},CreateSearchWithinQueryParameters:function(e,t,n,i){var a=[];a.push(k["default"].queryParameters.cacheScope+"="+e);a.push(k["default"].queryParameters.docSource+"="+t);null!=n&&a.push(k["default"].queryParameters.listPageSource+"="+n);o["default"].PageContextData&&a.push(k["default"].queryParameters.contextData+"="+o["default"].PageContextData);a.push(k["default"].queryParameters.ignoreSpell+"="+i);var r=o["default"].GetResearchOrganizerOriginalContext();(0,l.IsNotNullOrEmpty)(r)&&a.push(k["default"].queryParameters.originalContext+"="+encodeURIComponent(r));var s=p["default"].GetClientMatter();(0,l.IsNotNullOrEmpty)(s.ClientId)&&a.push(k["default"].queryParameters.clientId+"="+encodeURIComponent(s.ClientId));(0,l.IsNotNullOrEmpty)(s.MatterId)&&a.push(k["default"].queryParameters.matterId+"="+encodeURIComponent(s.MatterId));(0,l.IsNotNullOrEmpty)(s.Delimiter)&&a.push(k["default"].queryParameters.matterSeparator+"="+encodeURIComponent(s.Delimiter));(0,l.IsNotNullOrEmpty)(g["default"].ViewData.BaseDocumentGuid)&&a.push(k["default"].queryParameters.baseDocumentGuid+"="+g["default"].ViewData.BaseDocumentGuid);const c=o["default"].Parse(window.location.href).QueryString["indexLetter"];(0,l.IsNotNullOrEmpty)(c)&&a.push(k["default"].queryParameters.indexLetter+"="+c);const d=(0,v.getSearchWithinContextForDocToggle)();(0,l.IsNotNullOrEmpty)(d)&&a.push(k["default"].queryParameters.searchWithinContext+"="+d);const u=new x.A;u.currentSelectedOption&&a.push(`${u.navModeQueryString}=${u.currentSelectedOption}`);const h=f["default"].IsSearchTermEmphasisEnabled;h&&a.push(k["default"].queryParameters.isTermEmphasisEnabled+"="+h);const m=f["default"].IsSearchTermBackslashEnabled;m&&a.push(k["default"].queryParameters.isTermBackslashEnabled+"="+m);return a},RemoveSearchWithinForDocument:function(e,t,n,i,a,o){if("function"!=typeof a)throw new Error("No callback function passed to document provider for RemoveSearchWithinForDocument call.");if((0,l.IsNullOrEmpty)(e))throw new Error("Invalid document guid passed to document provider for RemoveSearchWithinForDocument call.");var r=this.CreateSearchWithinQueryParameters(t,n,i,!0),s=k["default"].paths.searchWithinRemoveSearchV3+e;this.SearchWithinDocumentPost(s,r,a,o,"")},GetSearchWithinDocument:function(e,t,n,i,a,o,r,s){if("function"!=typeof o)throw new Error("No callback function passed to document provider for GetSearchWithinDocument call.");if((0,l.IsNullOrEmpty)(e))throw new Error("Invalid document guid passed to document provider for GetSearchWithinDocument call.");if((0,l.IsNullOrEmpty)(t))throw new Error("Invalid search query passed to document provider for GetSearchWithinDocument call.");var c,d=this.CreateSearchWithinQueryParameters(n,i,a,s),u=(0,w.isSearch4KAvailable)()&&t;u||d.push(k["default"].queryParameters.clientQuery+"="+encodeURIComponent(t));c=m["default"].Instance.IsUserDocument?k["default"].paths.userDocSearchWithin+e:k["default"].paths.searchWithinV3+e;u?this.SearchWithinDocumentPost(c,d,o,r,t):this.SearchWithinDocument(c,d,o,r)},SearchWithinDocumentPost:async function(e,t,n,i,a){var o=h["default"].BuildRelativeUrl(e,t);const r=new Headers({[k["default"].headers.contentTypeHeader]:k["default"].headers.contentTypeJsonRequest});this.ContextualInfo&&r.set([k["default"].headers.contextualInfoHeader],this.ContextualInfo.toString());const s=this.CreateDocumentWebRequest(d["default"].Document,o,{headers:r
}),c=await s.Post(JSON.stringify((0,l.IsNullOrEmpty)(a)?{}:{clientQuery:a}));if(c.ok){n(await c.json())}else{const e=`Unable to get search within results. Status code: ${c.status}.`,t=new Error(e);if("function"!=typeof i)throw t;i(t)}},RetrieveTracksFromAlerts:async function(e,t){var n=new u["default"](d["default"].Alert,"/Alert/v1/capitolwatch/trackswithcorrelationid",{headers:{[k["default"].headers.contentTypeHeader]:k["default"].headers.contentTypeJsonRequest}});const i=await n.Post(JSON.stringify(e));if(!i.ok)throw new Error(`Unable to get track information for document. Status code: ${i.status}.`);t(await i.json())},RetrieveDealsFromAlerts:async function(e,t){var n=new u["default"](d["default"].Alert,"/Alert/v1/dealtrack/trackswithsearchtarget",{headers:{[k["default"].headers.contentTypeHeader]:k["default"].headers.contentTypeJsonRequest}});const i=await n.Post(JSON.stringify(e));if(!i.ok)throw new Error(`Unable to get deal information for document. Status code: ${i.status}.`);t(await i.json())},ResetDocumentContentCacheKey:function(){a["default"].DocumentContentCacheKey=null;a["default"].CheckDomForDocumentContentCacheKey=!0},GetFormattedReferenceQueryParams:function(e){const t=this._super(e);(f["default"].IsDocCopyCitationEnabled||f["default"].IsIndigoDisplayEnabled)&&t.push("addHyperlink="+e.options.addHyperlink);return t},GetMetaInformationBulk:function(e,t,n){if((0,l.IsNullOrEmpty)(e))throw new Error("Invalid document guids passed to document provider for MetaInformation call.");const i=k["default"].paths.metaInfoList,a=new Headers;this.ContextualInfo&&a.set(k["default"].headers.contextualInfoHeader,this.ContextualInfo.toString());const o=this.CreateDocumentWebRequest(d["default"].Document,i,{headers:a}),r=this.createPostBodyData(e);return o.Post(r,(e=>{this.bulkMetaDataRetrievedFromServer(e,t,n)}))},bulkMetaDataRetrievedFromServer:async function(e,t,n){try{const n=await e.text(),i=new E["default"](n);if(!t)return i;t(i)}catch(e){if(!n)throw e;n()}},createPostBodyData:function(e){const t=e.map((e=>({docGuid:e})));return JSON.stringify({DocumentGUIDS:t})}})},2288:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(9191),a=n.n(i),o=n(5382),r=n(2769),s=n(4917),l=n(7943);function c(e){var t=function(e,t){return void 0!==e?e:t},n=e.message;n&&(n=Array.isArray(n)?"<p>"+n.join(",</p><p>")+"</p>":n);var i=t(e.wrapper,!0),c=t(e.status,o["default"].Success),d=t(e.position,r["default"].None),u=t(e.hasPointer,!1),h=t(e.hasCloseButton,!0),f=t(e.doTimedFadeOut,!1),p=e.delayBeforeFadeOutBegins,m=t(e.destroyOnClickoff,!0),g=e.destroyTimeout,v=t(e.inputFocus,!1),y=t(e.errorFocus,!0),b=t(e.destroyCallback,(()=>{})),C=t(e.scrollIntoView,!0);const{referenceElement:S,linkMessage:_,linkCallback:D,destroyOnBlur:T}=e;var I;if(i){a()(S).html('<div id="infoBoxWrapper"></div>');I=a()(S).find("#infoBoxWrapper")[0]}else I=a()(S)[0];var x=new s["default"](I,c,d,u,h,f,p),k=function(){},w=function(){k();x&&(i?x.Destroy():x.Remove());x=void 0;b()};m&&(k=l["default"].bindClickOffCallback(I,w));"number"==typeof g&&setTimeout(w,g);if(_&&"function"==typeof D){var E=document.createElement("a");E.id="coid_alert_messageLink";E.href="javascript:void(0);";E.innerHTML=_;E.addEventListener("click",(function(){w();D()}));var A=document.createElement("span");A.innerHTML=n+" ";A.append(E);n=A}var L=function(e){x.Draw(e);if(h){var t=a()(S).find("a.co_infoBox_closeButton");t.click(w);t.on("blur",(function(){t.css("background-position","")}))}C&&l["default"].scrollIntoView(S);y&&I?.focus();if(v){var n=a()(S).parent().find(":input");if(0!==n.length){n.focus();T&&n.blur(w)}}};L(n);Object.assign(x,{Close:w,Draw:L});return x}},2363:(e,t,n)=>{e.exports=n(4507)(29369)},2396:(e,t,n)=>{(function(e){(function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t,n=arguments,i={},a=function(e,t){var n,i;"object"!=typeof e&&(e={});for(i in t)t.hasOwnProperty(i)&&(n=t[i],e[i]=n&&"object"==typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==i&&"number"!=typeof n.nodeType?a(e[i]||{},n):t[i]);return e};!0===n[0]&&(i=n[1],n=Array.prototype.slice.call(n,2));t=n.length;for(e=0;e<t;e++)i=a(i,n[e]);return i}function n(e,t){return parseInt(e,t||10)}function i(e){return"string"==typeof e}function a(e){return e&&"object"==typeof e}function o(e){return"[object Array]"===Object.prototype.toString.call(e)}function r(e){return"number"==typeof e}function s(e){return de.log(e)/de.LN10}function l(e){return de.pow(10,e)}function c(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function d(e){return e!==B&&null!==e}function u(e,t,n){var o,r;if(i(t))d(n)?e.setAttribute(t,n):e&&e.getAttribute&&(r=e.getAttribute(t));else if(d(t)&&a(t))for(o in t)e.setAttribute(o,t[o]);return r}function h(e){return o(e)?e:[e]}function f(){var e,t,n=arguments,i=n.length;for(e=0;e<i;e++)if((t=n[e])!==B&&null!==t)return t}function p(t,n){De&&!Ee&&n&&n.opacity!==B&&(n.filter="alpha(opacity="+100*n.opacity+")");e(t.style,n)}function m(t,n,i,a,o){t=le.createElement(t);n&&e(t,n);o&&p(t,{padding:0,border:Fe,margin:0});i&&p(t,i);a&&a.appendChild(t);return t}function g(t,n){var i=function(){return B};e(i.prototype=new t,n);return i}function v(e,t,i,a){var o=re.numberFormat,r=H.lang,s=+e||0,l=-1===t?(s.toString().split(".")[1]||"").length:isNaN(t=ge(t))?2:t,c=void 0===i?r.decimalPoint:i,d=(r=void 0===a?r.thousandsSep:a,s<0?"-":""),u=String(n(s=ge(s).toFixed(l))),h=u.length>3?u.length%3:0;return o!==v?o(e,t,i,a):d+(h?u.substr(0,h)+r:"")+u.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+r)+(l?c+ge(s-u).toFixed(l).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var i=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(i);return n.apply(this,e)}}function C(e,t){for(var n,i,a,o,r,s="{",l=!1,c=[];-1!==(s=e.indexOf(s));){n=e.slice(0,s);if(l){r=(a=(i=n.split(":")).shift().split(".")).length;n=t;for(o=0;o<r;o++)n=n[a[o]];i.length&&(i=i.join(":"),a=/\.([0-9])/,o=H.lang,r=void 0,/f$/.test(i)?(r=(r=i.match(a))?r[1]:-1,null!==n&&(n=v(n,r,o.decimalPoint,i.indexOf(",")>-1?o.thousandsSep:""))):n=G(i,n))}c.push(n);e=e.slice(s+1);s=(l=!l)?"}":"{"}c.push(e);return c.join("")}function S(e){return de.pow(10,he(de.log(e)/de.LN10))}function _(e,t,n,i){var a;a=e/(n=f(n,1));t||(t=[1,2,2.5,5,10],!1===i&&(1===n?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(i=0;i<t.length&&(e=t[i],!(a<=(t[i]+(t[i+1]||t[i]))/2));i++);return e*=n}function D(e,t){var n,i,a=e.length;for(i=0;i<a;i++)e[i].ss_i=i;e.sort((function(e,i){return 0===(n=t(e,i))?e.ss_i-i.ss_i:n}));for(i=0;i<a;i++)delete e[i].ss_i}function T(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function I(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function x(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function k(e){W||(W=m(Me));e&&W.appendChild(e);W.innerHTML=""}function w(e){return parseFloat(e.toPrecision(14))}function E(e,t){U=f(e,t.animation)}function A(){var e=H.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";q=H.global.Date||window.Date;K=6e4*(e&&H.global.timezoneOffset||0);z=e?q.UTC:function(e,t,n,i,a,o){return new q(e,t,f(n,1),f(i,0),f(a,0),f(o,0)).getTime()};Y=t+"Minutes";Q=t+"Hours";X=t+"Day";J=t+"Date";Z=t+"Month";ee=t+"FullYear";te=n+"Minutes";ne=n+"Hours";ie=n+"Date";ae=n+"Month";oe=n+"FullYear"}function L(){}function N(e,t,n,i){this.axis=e;this.pos=t;this.type=n||"";this.isNew=!0;!n&&!i&&this.addLabel()}function R(){this.init.apply(this,arguments)}function P(){this.init.apply(this,arguments)}function O(e,t,n,i,a){var o=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=i;this.total=null;this.points={};this.stack=a;this.alignOptions={align:t.align||(o?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(o?"middle":n?"bottom":"top"),y:f(t.y,o?4:n?14:-6),x:f(t.x,o?n?-6:6:0)};this.textAlign=t.textAlign||(o?n?"right":"left":"center")}
var B,M,F,W,H,G,U,j,$,V,q,z,K,Y,Q,X,J,Z,ee,te,ne,ie,ae,oe,re,se,le=document,ce=window,de=Math,ue=de.round,he=de.floor,fe=de.ceil,pe=de.max,me=de.min,ge=de.abs,ve=de.cos,ye=de.sin,be=de.PI,Ce=2*be/360,Se=navigator.userAgent,_e=ce.opera,De=/msie/i.test(Se)&&!_e,Te=8===le.documentMode,Ie=/AppleWebKit/.test(Se),xe=/Firefox/.test(Se),ke=/(Mobile|Android|Windows Phone)/.test(Se),we="http://www.w3.org/2000/svg",Ee=!!le.createElementNS&&!!le.createElementNS(we,"svg").createSVGRect,Ae=xe&&parseInt(Se.split("Firefox/")[1],10)<4,Le=!Ee&&!De&&!!le.createElement("canvas").getContext,Ne={},Re=0,Pe=function(){return B},Oe=[],Be=0,Me="div",Fe="none",We=/^[0-9]+$/,He={};ce.Highcharts?V(16,!0):re=ce.Highcharts={};G=function(t,n,i){if(!d(n)||isNaN(n))return"Invalid date";t=f(t,"%Y-%m-%d %H:%M:%S");var a,o=(p=new q(n-K))[Q](),r=p[X](),s=p[J](),l=p[Z](),c=p[ee](),u=H.lang,h=u.weekdays,p=e({a:h[r].substr(0,3),A:h[r],d:y(s),e:s,b:u.shortMonths[l],B:u.months[l],m:y(l+1),y:c.toString().substr(2,2),Y:c,H:y(o),I:y(o%12||12),l:o%12||12,M:y(p[Y]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:y(p.getSeconds()),L:y(ue(n%1e3),3)},re.dateFormats);for(a in p)for(;-1!==t.indexOf("%"+a);)t=t.replace("%"+a,"function"==typeof p[a]?p[a](n):p[a]);return i?t.substr(0,1).toUpperCase()+t.substr(1):t};V=function(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;ce.console&&console.log(n)};$={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3};j={init:function(e,t,n){t=t||"";var i,a,o,r=e.shift,s=t.indexOf("C")>-1,l=s?7:3,c=(t=t.split(" "),n=[].concat(n),function(e){for(i=e.length;i--;)"M"===e[i]&&e.splice(i+1,0,e[i+1],e[i+2],e[i+1],e[i+2])});s&&(c(t),c(n));e.isArea&&(a=t.splice(t.length-6,6),o=n.splice(n.length-6,6));if(r<=n.length/l&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,l).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-l,l),s&&(r[l-6]=r[l-2],r[l-5]=r[l-1]),t=t.concat(r);a&&(t=t.concat(a),n=n.concat(o));return[t,n]},step:function(e,t,n,i){var a=[],o=e.length;if(1===n)a=i;else if(o===t.length&&n<1)for(;o--;)i=parseFloat(e[o]),a[o]=isNaN(i)?e[o]:n*parseFloat(t[o]-i)+i;else a=t;return a}};se=ce.jQuery,ce.HighchartsAdapter=ce.HighchartsAdapter||se&&{init:function(e){var t=se.fx;se.extend(se.easing,{easeOutQuad:function(e,t,n,i,a){return-i*(t/=a)*(t-2)+n}});se.each(["cur","_default","width","height","opacity"],(function(e,n){var i,a=t.step;"cur"===n?a=t.prototype:"_default"===n&&se.Tween&&(a=se.Tween.propHooks[n],n="set");(i=a[n])&&(a[n]=function(t){var a;if("align"!==(t=e?t:this).prop)return(a=t.elem).attr?a.attr(t.prop,"cur"===n?B:t.now):i.apply(this,arguments)})}));b(se.cssHooks.opacity,"get",(function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}));this.addAnimSetter("d",(function(t){var n,i=t.elem;t.started||(n=e.init(i,i.d,i.toD),t.start=n[0],t.end=n[1],t.started=!0);i.attr("d",e.step(t.start,t.end,t.pos,i.toD))}));this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,i=e.length;for(n=0;n<i;n++)if(!1===t.call(e[n],e[n],n,e))return n};se.fn.highcharts=function(){var e,t,n="Chart",a=arguments;if(this[0]){i(a[0])&&(n=a[0],a=Array.prototype.slice.call(a,1));(e=a[0])!==B&&(e.chart=e.chart||{},e.chart.renderTo=this[0],new re[n](e,a[1]),t=this);e===B&&(t=Oe[u(this[0],"data-highcharts-chart")])}return t}},addAnimSetter:function(e,t){se.Tween?se.Tween.propHooks[e]={set:t}:se.fx.step[e]=t},getScript:se.getScript,inArray:se.inArray,adapterRun:function(e,t){return se(e)[t]()},grep:se.grep,map:function(e,t){for(var n=[],i=0,a=e.length;i<a;i++)n[i]=t.call(e[i],e[i],i,e);return n},offset:function(e){return se(e).offset()},addEvent:function(e,t,n){se(e).bind(t,n)},removeEvent:function(e,t,n){var i=le.removeEventListener?"removeEventListener":"detachEvent";le[i]&&e&&!e[i]&&(e[i]=function(){});se(e).unbind(t,n)},fireEvent:function(t,n,i,a){var o,r=se.Event(n),s="detached"+n;!De&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue);e(r,i);t[n]&&(t[s]=t[n],t[n]=null);se.each(["preventDefault","stopPropagation"],(function(e,t){var n=r[t];r[t]=function(){try{n.call(r)}catch(e){"preventDefault"===t&&(o=!0)}}}));se(t).trigger(r);t[s]&&(t[n]=t[s],t[s]=null);a&&!r.isDefaultPrevented()&&!o&&a(r)},washMouseEvent:function(e){var t=e.originalEvent||e;t.pageX===B&&(t.pageX=e.pageX,t.pageY=e.pageY);return t},animate:function(e,t,n){var i=se(e);e.style||(e.style={});t.d&&(e.toD=t.d,t.d=1);i.stop();t.opacity!==B&&e.attr&&(t.opacity+="px");e.hasAnim=1;i.animate(t,n)},stop:function(e){e.hasAnim&&se(e).stop()}};var Ge=(nt=ce.HighchartsAdapter)||{};nt&&nt.init.call(nt,j);var Ue=Ge.adapterRun,je=Ge.getScript,$e=Ge.inArray,Ve=Ge.each,qe=Ge.grep,ze=Ge.offset,Ke=Ge.map,Ye=Ge.addEvent,Qe=Ge.removeEvent,Xe=Ge.fireEvent,Je=Ge.washMouseEvent,Ze=Ge.animate,et=Ge.stop,tt=(Ge={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}},(H={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Ge,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":v(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:Ee,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:ke?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}}).plotOptions),nt=tt.line;A()
;var it=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,at=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,ot=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,rt=function(e){var i,a,o=[];(function(e){e&&e.stops?a=Ke(e.stops,(function(e){return rt(e[1])})):(i=it.exec(e))?o=[n(i[1]),n(i[2]),n(i[3]),parseFloat(i[4],10)]:(i=at.exec(e))?o=[n(i[1],16),n(i[2],16),n(i[3],16),1]:(i=ot.exec(e))&&(o=[n(i[1]),n(i[2]),n(i[3]),1])})(e);return{get:function(n){var i;a?((i=t(e)).stops=[].concat(i.stops),Ve(a,(function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]}))):i=o&&!isNaN(o[0])?"rgb"===n?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===n?o[3]:"rgba("+o.join(",")+")":e;return i},brighten:function(e){if(a)Ve(a,(function(t){t.brighten(e)}));else if(r(e)&&0!==e){var t;for(t=0;t<3;t++)o[t]+=n(255*e),o[t]<0&&(o[t]=0),o[t]>255&&(o[t]=255)}return this},rgba:o,setOpacity:function(e){o[3]=e;return this}}};L.prototype={opacity:1,textProps:"fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow,HcTextStroke".split(","),init:function(e,t){this.element="span"===t?m(t):le.createElementNS(we,t);this.renderer=e},animate:function(e,n,i){n=f(n,U,!0);et(this);if(n){n=t(n,{});i&&(n.complete=i);Ze(this,e,n)}else this.attr(e),i&&i();return this},colorGradient:function(e,n,i){var a,r,s,l,c,u,h,f,p,m,g=this.renderer,v=[];e.linearGradient?r="linearGradient":e.radialGradient&&(r="radialGradient");if(r){s=e[r];l=g.gradients;u=e.stops;p=i.radialReference;o(s)&&(e[r]=s={x1:s[0],y1:s[1],x2:s[2],y2:s[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===r&&p&&!d(s.gradientUnits)&&(s=t(s,{cx:p[0]-p[2]/2+s.cx*p[2],cy:p[1]-p[2]/2+s.cy*p[2],r:s.r*p[2],gradientUnits:"userSpaceOnUse"}));for(m in s)"id"!==m&&v.push(m,s[m]);for(m in u)v.push(u[m]);l[v=v.join(",")]?e=l[v].attr("id"):(s.id=e="highcharts-"+Re++,l[v]=c=g.createElement(r).attr(s).add(g.defs),c.stops=[],Ve(u,(function(e){0===e[1].indexOf("rgba")?(a=rt(e[1]),h=a.get("rgb"),f=a.get("a")):(h=e[1],f=1);e=g.createElement("stop").attr({offset:e[0],"stop-color":h,"stop-opacity":f}).add(c);c.stops.push(e)})));i.setAttribute(n,"url("+g.url+"#"+e+")")}},attr:function(e,t){var n,i,a,o,r=this.element,s=this;"string"==typeof e&&t!==B&&(n=e,(e={})[n]=t);if("string"==typeof e)s=(this[e+"Getter"]||this._defaultGetter).call(this,e,r);else{for(n in e){i=e[n];o=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(a||(this.symbolAttr(e),a=!0),o=!0);!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0);o||(this[n+"Setter"]||this._defaultSetter).call(this,i,n,r);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,i)}this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return s},updateShadows:function(e,t){for(var n=this.shadows,i=n.length;i--;)n[i].setAttribute(e,"height"===e?pe(t-(n[i].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,n=u(t,"class")||"";-1===n.indexOf(e)&&u(t,"class",n+" "+e);return this},symbolAttr:function(e){var t=this;Ve("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),(function(n){t[n]=f(e[n],t[n])}));t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":Fe)},crisp:function(e){var t,n,i={},a=e.strokeWidth||this.strokeWidth||0;n=ue(a)%2/2;e.x=he(e.x||this.x||0)+n;e.y=he(e.y||this.y||0)+n;e.width=he((e.width||this.width||0)-2*n);e.height=he((e.height||this.height||0)-2*n);e.strokeWidth=a;for(t in e)this[t]!==e[t]&&(this[t]=i[t]=e[t]);return i},css:function(t){var i,a,o=this.styles,r={},s=this.element,l="";i=!o;t&&t.color&&(t.fill=t.color);if(o)for(a in t)t[a]!==o[a]&&(r[a]=t[a],i=!0);if(i){i=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&n(t.width);o&&(t=e(o,r));this.styles=t;i&&(Le||!Ee&&this.renderer.forExport)&&delete t.width;if(De&&!Ee)p(this.element,t);else{o=function(e,t){return"-"+t.toLowerCase()};for(a in t)l+=a.replace(/([A-Z])/g,o)+":"+t[a]+";";u(s,"style",l)}i&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,i=n.element;F&&"click"===e?(i.ontouchstart=function(e){n.touchEventFired=q.now();e.preventDefault();t.call(i,e)},i.onclick=function(e){(-1===Se.indexOf("Android")||q.now()-(n.touchEventFired||0)>1100)&&t.call(i,e)}):i["on"+e]=t;return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,i=this.scaleY,a=this.inverted,o=this.rotation,r=this.element;a&&(e+=this.attr("width"),t+=this.attr("height"));e=["translate("+e+","+t+")"];a?e.push("rotate(90) scale(-1,1)"):o&&e.push("rotate("+o+" "+(r.getAttribute("x")||0)+" "+(r.getAttribute("y")||0)+")");(d(n)||d(i))&&e.push("scale("+f(n,1)+" "+f(i,1)+")");e.length&&r.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){var a,o,r,s,l={};r=(o=this.renderer).alignedObjects;e?(this.alignOptions=e,this.alignByTranslate=t,!n||i(n))&&(this.alignTo=a=n||"renderer",c(r,this),r.push(this),n=null):(e=this.alignOptions,t=this.alignByTranslate,a=this.alignTo);n=f(n,o[a],o);a=e.align;o=e.verticalAlign;r=(n.x||0)+(e.x||0);s=(n.y||0)+(e.y||0);"right"!==a&&"center"!==a||(r+=(n.width-(e.width||0))/{right:1,center:2}[a]);l[t?"translateX":"x"]=ue(r);"bottom"!==o&&"middle"!==o||(s+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1));l[t?"translateY":"y"]=ue(s);this[this.placed?"animate":"attr"](l);this.placed=!0;this.alignAttr=l;return this},getBBox:function(){var t,n,i=this.bBox,a=this.renderer,o=this.rotation;t=this.element;var r,s=this.styles,l=o*Ce;(""===(n=this.textStr)||We.test(n))&&(r="num."+n.toString().length+(s?"|"+s.fontSize+"|"+s.fontFamily:""));r&&(i=a.cache[r]);if(!i){if(t.namespaceURI===we||a.forExport){try{i=t.getBBox?e({},t.getBBox()):{width:t.offsetWidth,height:t.offsetHeight}}catch(e){}(!i||i.width<0)&&(i={width:0,height:0})}else i=this.htmlGetBBox();if(a.isSVG){t=i.width;n=i.height;De&&s&&"11px"===s.fontSize&&"16.9"===n.toPrecision(3)&&(i.height=n=14);o&&(i.width=ge(n*ye(l))+ge(t*ve(l)),i.height=ge(n*ve(l))+ge(t*ye(l)))}this.bBox=i;r&&(a.cache[r]=i)}return i},show:function(e){e&&this.element.namespaceURI===we?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":"visible"});return this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,i,a=this.renderer,o=e||a,r=o.element||a.box,s=this.element,l=this.zIndex;e&&(this.parentGroup=e);this.parentInverted=e&&e.inverted;void 0!==this.textStr&&a.buildText(this);l&&(o.handleZ=!0,l=n(l));if(o.handleZ){e=r.childNodes;for(t=0;t<e.length;t++)if(o=u(a=e[t],"zIndex"),a!==s&&(n(o)>l||!d(l)&&d(o))){r.insertBefore(s,a);i=!0;break}}i||r.appendChild(s);this.added=!0;this.onAdd&&this.onAdd();return this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e,t,n=this,i=n.element||{},a=n.shadows,o=n.renderer.isSVG&&"SPAN"===i.nodeName&&n.parentGroup;i.onclick=i.onmouseout=i.onmouseover=i.onmousemove=i.point=null;et(n);n.clipPath&&(n.clipPath=n.clipPath.destroy());if(n.stops){for(t=0;t<n.stops.length;t++)n.stops[t]=n.stops[t].destroy();n.stops=null}n.safeRemoveChild(i);for(a&&Ve(a,(function(e){n.safeRemoveChild(e)}));o&&o.div&&0===o.div.childNodes.length;)i=o.parentGroup,n.safeRemoveChild(o.div),delete o.div,o=i;n.alignTo&&c(n.renderer.alignedObjects,n);for(e in n)delete n[e];return null},shadow:function(e,t,n){var i,a,o,r,s,l,c=[],d=this.element;if(e){r=f(e.width,3);s=(e.opacity||.15)/r;l=this.parentInverted?"(-1,-1)":"("+f(e.offsetX,1)+", "+f(e.offsetY,1)+")";for(i=1;i<=r;i++){o=2*r+1-2*i;u(a=d.cloneNode(0),{isShadow:"true",stroke:e.color||"black","stroke-opacity":s*i,"stroke-width":o,transform:"translate"+l,fill:Fe})
;n&&(u(a,"height",pe(u(a,"height")-o,0)),a.cutHeight=o);t?t.element.appendChild(a):d.parentNode.insertBefore(a,d);c.push(a)}this.shadows=c}return this},xGetter:function(e){"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e);return this._defaultGetter(e)},_defaultGetter:function(e){e=f(this[e],this.element?this.element.getAttribute(e):null,0);/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e));return e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" "));/(NaN| {2}|^$)/.test(e)&&(e="M 0 0");n.setAttribute(t,e);this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){for(t=(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;t--;)e[t]=n(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e;n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=le.createElementNS(we,"title"),this.element.appendChild(t));t.textContent=f(e,"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t,n){n.setAttribute(t,e);this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}};L.prototype.yGetter=L.prototype.xGetter;L.prototype.translateXSetter=L.prototype.translateYSetter=L.prototype.rotationSetter=L.prototype.verticalAlignSetter=L.prototype.scaleXSetter=L.prototype.scaleYSetter=function(e,t){this[t]=e;this.doTransform=!0};L.prototype["stroke-widthSetter"]=L.prototype.strokeSetter=function(e,t,n){this[t]=e;this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],L.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var st,lt,ct=function(){this.init.apply(this,arguments)};ct.prototype={Element:L,init:function(e,t,n,i,a){var o,r,s=location;o=(i=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(i))).element;e.appendChild(o);-1===e.innerHTML.indexOf("xmlns")&&u(o,"xmlns",we);this.isSVG=!0;this.box=o;this.boxWrapper=i;this.alignedObjects=[];this.url=(xe||Ie)&&le.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(le.createTextNode("Created with Highcharts 4.0.4"));this.defs=this.createElement("defs").add();this.forExport=a;this.gradients={};this.cache={};this.setSize(t,n,!1);xe&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){p(e,{left:0,top:0});r=e.getBoundingClientRect();p(e,{left:fe(r.left)-r.left+"px",top:fe(r.top)-r.top+"px"})},t(),Ye(ce,"resize",t))},getStyle:function(t){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();x(this.gradients||{});this.gradients=null;e&&(this.defs=e.destroy());this.subPixelFix&&Qe(ce,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){for(var t,i,a=e.element,o=this,r=o.forExport,s=f(e.textStr,"").toString(),l=-1!==s.indexOf("<"),c=a.childNodes,d=u(a,"x"),h=e.styles,m=e.textWidth,g=h&&h.lineHeight,v=h&&h.HcTextStroke,y=c.length,b=function(e){return g?n(g):o.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||o.style.fontSize||12,e).h};y--;)a.removeChild(c[y]);l||v||-1!==s.indexOf(" ")?(t=/<.*style="([^"]+)".*>/,i=/<.*href="(http[^"]+)".*>/,m&&!e.added&&this.box.appendChild(a),""===(s=l?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s])[s.length-1]&&s.pop(),Ve(s,(function(n,s){var l,c=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");l=n.split("|||");Ve(l,(function(n){if(""!==n||1===l.length){var f,g={},v=le.createElementNS(we,"tspan");t.test(n)&&u(v,"style",f=n.match(t)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));i.test(n)&&!r&&(u(v,"onclick",'location.href="'+n.match(i)[1]+'"'),p(v,{cursor:"pointer"}));if(" "!==(n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"))){v.appendChild(le.createTextNode(n));c?g.dx=0:s&&null!==d&&(g.x=d);u(v,g);a.appendChild(v);!c&&s&&(!Ee&&r&&p(v,{display:"block"}),u(v,"dy",b(v)));if(m){n=n.replace(/([^\^])-/g,"$1- ").split(" "),g=l.length>1||n.length>1&&"nowrap"!==h.whiteSpace;for(var y,C,S=h.HcHeight,_=[],D=b(v),T=1;g&&(n.length||_.length);)delete e.bBox,C=(y=e.getBBox()).width,!Ee&&o.forExport&&(C=o.measureSpanWidth(v.firstChild.data,e.styles)),(y=C>m)&&1!==n.length?(v.removeChild(v.firstChild),_.unshift(n.pop())):(n=_,_=[],n.length&&(T++,S&&T*D>S?(n=["..."],e.attr("title",e.textStr)):(u(v=le.createElementNS(we,"tspan"),{dy:D,x:d}),f&&u(v,"style",f),a.appendChild(v))),C>m&&(m=C)),n.length&&v.appendChild(le.createTextNode(n.join(" ").replace(/- /g,"-")))}c++}}}))}))):a.appendChild(le.createTextNode(s))},button:function(n,i,a,o,r,s,l,c,d){var u,h,f,p,m,g,v=this.label(n,i,a,d,null,null,null,null,"button"),y=0;r=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n={x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},r);f=r.style;delete r.style;s=t(r,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},s);p=s.style;delete s.style;l=t(r,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},l);m=l.style;delete l.style;c=t(r,{style:{color:"#CCC"}},c);g=c.style;delete c.style;Ye(v.element,De?"mouseover":"mouseenter",(function(){3!==y&&v.attr(s).css(p)}));Ye(v.element,De?"mouseout":"mouseleave",(function(){3!==y&&(u=[r,s,l][y],h=[f,p,m][y],v.attr(u).css(h))}));v.setState=function(e){(v.state=y=e)?2===e?v.attr(l).css(m):3===e&&v.attr(c).css(g):v.attr(r).css(f)};return v.on("click",(function(){3!==y&&o.call(v)})).attr(r).css(e({cursor:"default"},f))},crispLine:function(e,t){e[1]===e[4]&&(e[1]=e[4]=ue(e[1])-t%2/2);e[2]===e[5]&&(e[2]=e[5]=ue(e[2])+t%2/2);return e},path:function(t){var n={fill:Fe};o(t)?n.d=t:a(t)&&e(n,t);return this.createElement("path").attr(n)},circle:function(e,t,n){e=a(e)?e:{x:e,y:t,r:n};(t=this.createElement("circle")).xSetter=function(e){this.element.setAttribute("cx",e)};t.ySetter=function(e){this.element.setAttribute("cy",e)};return t.attr(e)},arc:function(e,t,n,i,o,r){a(e)&&(t=e.y,n=e.r,i=e.innerR,o=e.start,r=e.end,e=e.x);(e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:i||0,start:o||0,end:r||0})).r=n;return e},rect:function(e,t,n,i,o,r){o=a(e)?e.r:o;var s=this.createElement("rect");e=a(e)?e:e===B?{}:{x:e,y:t,width:pe(n,0),height:pe(i,0)};r!==B&&(e.strokeWidth=r,e=s.crisp(e));o&&(e.r=o);s.rSetter=function(e){u(this.element,{rx:e,ry:e})};return s.attr(e)},setSize:function(e,t,n){var i=this.alignedObjects,a=i.length;this.width=e;this.height=t;for(this.boxWrapper[f(n,!0)?"animate":"attr"]({width:e,height:t});a--;)i[a].align()},g:function(e){var t=this.createElement("g");return d(e)?t.attr({class:"highcharts-"+e}):t},image:function(t,n,i,a,o){var r={preserveAspectRatio:Fe};arguments.length>1&&e(r,{x:n,y:i,width:a,height:o});(r=this.createElement("image").attr(r)).element.setAttributeNS?r.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):r.element.setAttribute("hc-svg-href",t);return r},symbol:function(t,n,i,a,o,r){var s,l,c,d,u=/^url\((.*?)\)$/;(l=(l=this.symbols[t])&&l(ue(n),ue(i),a,o,r))?(e(s=this.path(l),{symbolName:t,x:n,y:i,width:a,height:o}),
r&&e(s,r)):u.test(t)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(ue((a-t[0])/2),ue((o-t[1])/2)))},c=t.match(u)[1],t=Ne[c]||r&&r.width&&r.height&&[r.width,r.height],(s=this.image(c).attr({x:n,y:i})).isImg=!0,t?d(s,t):(s.attr({width:0,height:0}),m("img",{onload:function(){d(s,Ne[c]=[this.width,this.height])},src:c})));return s},symbols:{circle:function(e,t,n,i){var a=.166*n;return["M",e+n/2,t,"C",e+n+a,t,e+n+a,t+i,e+n/2,t+i,"C",e-a,t+i,e-a,t,e+n/2,t,"Z"]},square:function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n,t+i,e,t+i,"Z"]},triangle:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i,e,t+i,"Z"]},"triangle-down":function(e,t,n,i){return["M",e,t,"L",e+n,t,e+n/2,t+i,"Z"]},diamond:function(e,t,n,i){return["M",e+n/2,t,"L",e+n,t+i/2,e+n/2,t+i,e,t+i/2,"Z"]},arc:function(e,t,n,i,a){var o=a.start,r=(n=a.r||n||i,a.end-.001),s=(i=a.innerR,a.open),l=ve(o),c=ye(o),d=ve(r);r=ye(r);return["M",e+n*l,t+n*c,"A",n,n,0,a=a.end-o<be?0:1,1,e+n*d,t+n*r,s?"M":"L",e+i*d,t+i*r,"A",i,i,0,a,0,e+i*l,t+i*c,s?"":"Z"]},callout:function(e,t,n,i,a){var o=me(a&&a.r||0,n,i),r=o+6,s=a&&a.anchorX,l=a&&a.anchorY;a=["M",(e+=a=ue(a.strokeWidth||0)%2/2)+o,t+=a,"L",e+n-o,t,"C",e+n,t,e+n,t,e+n,t+o,"L",e+n,t+i-o,"C",e+n,t+i,e+n,t+i,e+n-o,t+i,"L",e+o,t+i,"C",e,t+i,e,t+i,e,t+i-o,"L",e,t+o,"C",e,t,e,t,e+o,t];s&&s>n&&l>t+r&&l<t+i-r?a.splice(13,3,"L",e+n,l-6,e+n+6,l,e+n,l+6,e+n,t+i-o):s&&s<0&&l>t+r&&l<t+i-r?a.splice(33,3,"L",e,l+6,e-6,l,e,l-6,e,t+o):l&&l>i&&s>e+r&&s<e+n-r?a.splice(23,3,"L",s+6,t+i,s,t+i+6,s-6,t+i,e+o,t+i):l&&l<0&&s>e+r&&s<e+n-r&&a.splice(3,3,"L",s-6,t,s,t-6,s+6,t,n-o,t);return a}},clipRect:function(e,t,n,i){var a="highcharts-"+Re++,o=this.createElement("clipPath").attr({id:a}).add(this.defs);(e=this.rect(e,t,n,i,0).add(o)).id=a;e.clipPath=o;return e},text:function(e,t,n,i){var a=Le||!Ee&&this.forExport,o={};if(i&&!this.forExport)return this.html(e,t,n);o.x=Math.round(t||0);n&&(o.y=Math.round(n));(e||0===e)&&(o.text=e);e=this.createElement("text").attr(o);a&&e.css({position:"absolute"});i||(e.xSetter=function(e,t,n){var i,a,o=n.getElementsByTagName("tspan"),r=n.getAttribute(t);for(a=0;a<o.length;a++)(i=o[a]).getAttribute(t)===r&&i.setAttribute(t,e);n.setAttribute(t,e)});return e},fontMetrics:function(e,t){e=e||this.style.fontSize;t&&ce.getComputedStyle&&(t=t.element||t,e=ce.getComputedStyle(t,"").fontSize);var i=(e=/px/.test(e)?n(e):/em/.test(e)?12*parseFloat(e):12)<24?e+4:ue(1.2*e);return{h:i,b:ue(.8*i),f:e}},label:function(n,i,a,o,r,s,l,c,u){function h(){var t,n;t=I.element.style;g=(void 0===v||void 0===y||T.styles.textAlign)&&I.textStr&&I.getBBox();T.width=(v||g.width||0)+2*k+w;T.height=(y||g.height||0)+2*k;S=k+D.fontMetrics(t&&t.fontSize,I).b;if(_){m||(t=ue(-x*k),n=c?-S:0,T.box=m=o?D.symbol(o,t,n,T.width,T.height,A):D.rect(t,n,T.width,T.height,0,A["stroke-width"]),m.attr("fill",Fe).add(T));m.isImg||m.attr(e({width:ue(T.width),height:ue(T.height)},A));A=null}}function f(){var e,t=(t=T.styles)&&t.textAlign,n=w+k*(1-x);e=c?0:S;d(v)&&g&&("center"===t||"right"===t)&&(n+={center:.5,right:1}[t]*(v-g.width));n===I.x&&e===I.y||(I.attr("x",n),e!==B&&I.attr("y",e));I.x=n;I.y=e}function p(e,t){m?m.attr(e,t):A[e]=t}var m,g,v,y,b,C,S,_,D=this,T=D.g(u),I=D.text("",0,0,l).attr({zIndex:1}),x=0,k=3,w=0,E=0,A={};T.onAdd=function(){I.add(T);T.attr({text:n||0===n?n:"",x:i,y:a});m&&d(r)&&T.attr({anchorX:r,anchorY:s})};T.widthSetter=function(e){v=e};T.heightSetter=function(e){y=e};T.paddingSetter=function(e){d(e)&&e!==k&&(k=e,f())};T.paddingLeftSetter=function(e){d(e)&&e!==w&&(w=e,f())};T.alignSetter=function(e){x={left:0,center:.5,right:1}[e]};T.textSetter=function(e){e!==B&&I.textSetter(e);h();f()};T["stroke-widthSetter"]=function(e,t){e&&(_=!0);E=e%2/2;p(t,e)};T.strokeSetter=T.fillSetter=T.rSetter=function(e,t){"fill"===t&&e&&(_=!0);p(t,e)};T.anchorXSetter=function(e,t){r=e;p(t,e+E-b)};T.anchorYSetter=function(e,t){s=e;p(t,e-C)};T.xSetter=function(e){T.x=e;x&&(e-=x*((v||g.width)+k));b=ue(e);T.attr("translateX",b)};T.ySetter=function(e){C=T.y=ue(e);T.attr("translateY",C)};var N=T.css;return e(T,{css:function(e){if(e){var n={};e=t(e);Ve(T.textProps,(function(t){e[t]!==B&&(n[t]=e[t],delete e[t])}));I.css(n)}return N.call(T,e)},getBBox:function(){return{width:g.width+2*k,height:g.height+2*k,x:g.x-k,y:g.y-k}},shadow:function(e){m&&m.shadow(e);return T},destroy:function(){Qe(T.element,"mouseenter");Qe(T.element,"mouseleave");I&&(I=I.destroy());m&&(m=m.destroy());L.prototype.destroy.call(T);T=D=h=f=p=null}})}};M=ct;e(L.prototype,{htmlCss:function(t){var n=this.element;(n=t&&"SPAN"===n.tagName&&t.width)&&(delete t.width,this.textWidth=n,this.updateTransform());this.styles=e(this.styles,t);p(this.element,t);return this},htmlGetBBox:function(){var e=this.element,t=this.bBox;if(!t){"text"===e.nodeName&&(e.style.position="absolute");t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}}return t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,i=this.translateX||0,a=this.translateY||0,o=this.x||0,r=this.y||0,s=this.textAlign||"left",l={left:0,center:.5,right:1}[s],c=this.shadows;p(t,{marginLeft:i,marginTop:a});c&&Ve(c,(function(e){p(e,{marginLeft:i+1,marginTop:a+1})}));this.inverted&&Ve(t.childNodes,(function(n){e.invertChild(n,t)}));if("SPAN"===t.tagName){var u,h=this.rotation,m=n(this.textWidth),g=[h,s,t.innerHTML,this.textWidth].join(",");if(g!==this.cTT){u=e.fontMetrics(t.style.fontSize).b;d(h)&&this.setSpanRotation(h,l,u);(c=f(this.elemWidth,t.offsetWidth))>m&&/[ \-]/.test(t.textContent||t.innerText)&&(p(t,{width:m+"px",display:"block",whiteSpace:"normal"}),c=m);this.getSpanCorrection(c,u,l,h,s)}p(t,{left:o+(this.xCorr||0)+"px",top:r+(this.yCorr||0)+"px"});Ie&&(u=t.offsetHeight);this.cTT=g}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var i={},a=De?"-ms-transform":Ie?"-webkit-transform":xe?"MozTransform":_e?"-o-transform":"";i[a]=i.transform="rotate("+e+"deg)";i[a+(xe?"Origin":"-origin")]=i.transformOrigin=100*t+"% "+n+"px";p(this.element,i)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n;this.yCorr=-t}});e(ct.prototype,{html:function(t,n,i){var a=this.createElement("span"),o=a.element,r=a.renderer;a.textSetter=function(e){e!==o.innerHTML&&delete this.bBox;o.innerHTML=this.textStr=e};a.xSetter=a.ySetter=a.alignSetter=a.rotationSetter=function(e,t){"align"===t&&(t="textAlign");a[t]=e;a.htmlUpdateTransform()};a.attr({text:t,x:ue(n),y:ue(i)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});a.css=a.htmlCss;r.isSVG&&(a.add=function(t){var n,i=r.box.parentNode,s=[];if(this.parentGroup=t){if(!(n=t.div)){for(;t;)s.push(t),t=t.parentGroup;Ve(s.reverse(),(function(t){var a;n=t.div=t.div||m(Me,{className:u(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||i);a=n.style;e(t,{translateXSetter:function(e,n){a.left=e+"px";t[n]=e;t.doTransform=!0},translateYSetter:function(e,n){a.top=e+"px";t[n]=e;t.doTransform=!0},visibilitySetter:function(e,t){a[t]=e}})}))}}else n=i;n.appendChild(o);a.added=!0;a.alignOnAdd&&a.htmlUpdateTransform();return a});return a}});if(!Ee&&!Le){st={init:function(e,t){var n=["<",t,' filled="f" stroked="f"'],i=["position: ","absolute",";"],a=t===Me;("shape"===t||a)&&i.push("left:0;top:0;width:1px;height:1px;");i.push("visibility: ",a?"hidden":"visible");n.push(' style="',i.join(""),'"/>');t&&(n=a||"span"===t||"img"===t?n.join(""):e.prepVML(n),this.element=m(n));this.renderer=e},add:function(e){var t=this.renderer,n=this.element,i=t.box;i=e?e.element||e:i;e&&e.inverted&&t.invertChild(n,i);i.appendChild(n);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();this.onAdd&&this.onAdd();return this},updateTransform:L.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=ve(e*Ce),n=ye(e*Ce);p(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):Fe})},getSpanCorrection:function(e,t,n,i,a){var o,r=i?ve(i*Ce):1,s=i?ye(i*Ce):0,l=f(this.elemHeight,this.element.offsetHeight);this.xCorr=r<0&&-e;this.yCorr=s<0&&-l;o=r*s<0
;this.xCorr+=s*t*(o?1-n:n);this.yCorr-=r*t*(i?o?n:1-n:1);a&&"left"!==a&&(this.xCorr-=e*n*(r<0?-1:1),i&&(this.yCorr-=l*n*(s<0?-1:1)),p(this.element,{textAlign:a}))},pathToVML:function(e){for(var t=e.length,n=[];t--;)r(e[t])?n[t]=ue(10*e[t])-5:"Z"===e[t]?n[t]="x":(n[t]=e[t],!e.isArc||"wa"!==e[t]&&"at"!==e[t])||(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1));return n.join(" ")||"x"},clip:function(e){var t,n=this;e?(c(t=e.members,n),t.push(n),n.destroyClip=function(){c(t,n)},e=e.getCSS(n)):(n.destroyClip&&n.destroyClip(),e={clip:Te?"inherit":"rect(auto)"});return n.css(e)},css:L.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&k(e)},destroy:function(){this.destroyClip&&this.destroyClip();return L.prototype.destroy.apply(this)},on:function(e,t){this.element["on"+e]=function(){var e=ce.event;e.target=e.srcElement;t(e)};return this},cutOffPath:function(e,t){var i;9!==(i=(e=e.split(/[ ,]/)).length)&&11!==i||(e[i-4]=e[i-2]=n(e[i-2])-10*t);return e.join(" ")},shadow:function(e,t,i){var a,o,r,s,l,c,d,u=[],h=this.element,p=this.renderer,g=h.style,v=h.path;v&&"string"!=typeof v.value&&(v="x");l=v;if(e){c=f(e.width,3);d=(e.opacity||.15)/c;for(a=1;a<=3;a++){s=2*c+1-2*a;i&&(l=this.cutOffPath(v.value,s+.5));r=['<shape isShadow="true" strokeweight="',s,'" filled="false" path="',l,'" coordsize="10 10" style="',h.style.cssText,'" />'];o=m(p.prepVML(r),null,{left:n(g.left)+f(e.offsetX,1),top:n(g.top)+f(e.offsetY,1)});i&&(o.cutOff=s+1);r=['<stroke color="',e.color||"black",'" opacity="',d*a,'"/>'];m(p.prepVML(r),null,null,o);t?t.element.appendChild(o):h.parentNode.insertBefore(o,h);u.push(o)}this.shadows=u}return this},updateShadows:Pe,setAttr:function(e,t){Te?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){(n.getElementsByTagName("stroke")[0]||m(this.renderer.prepVML(["<stroke/>"]),null,null,n))[t]=e||"solid";this[t]=e},dSetter:function(e,t,n){var i=this.shadows;e=e||[];this.d=e.join&&e.join(" ");n.path=e=this.pathToVML(e);if(i)for(n=i.length;n--;)i[n].path=i[n].cutOff?this.cutOffPath(e,i[n].cutOff):e;this.setAttr(t,e)},fillSetter:function(e,t,n){var i=n.nodeName;"SPAN"===i?n.style.color=e:"IMG"!==i&&(n.filled=e!==Fe,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:Pe,rotationSetter:function(e,t,n){n=n.style;this[t]=n[t]=e;n.left=-ue(ye(e*Ce)+1)+"px";n.top=ue(ve(e*Ce))+"px"},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e;this[t]=e;r(e)&&(e+="px");this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){"inherit"===e&&(e="visible");this.shadows&&Ve(this.shadows,(function(n){n.style[t]=e}));"DIV"===n.nodeName&&(e="hidden"===e?"-999em":0,Te||(n.style[t]=e?"visible":"hidden"),t="top");n.style[t]=e},xSetter:function(e,t,n){this[t]=e;"x"===t?t="left":"y"===t&&(t="top");this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}};re.VMLElement=st=g(L,st);st.prototype.ySetter=st.prototype.widthSetter=st.prototype.heightSetter=st.prototype.xSetter;var dt={Element:st,isIE8:Se.indexOf("MSIE 8.0")>-1,init:function(t,n,i,a){var o;this.alignedObjects=[];o=(a=this.createElement(Me).css(e(this.getStyle(a),{position:"relative"}))).element;t.appendChild(a.element);this.isVML=!0;this.box=o;this.boxWrapper=a;this.cache={};this.setSize(n,i,!1);if(!le.namespaces.hcv){le.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{le.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(e){le.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(t,n,i,o){var r=this.createElement(),s=a(t);return e(r,{members:[],left:(s?t.x:t)+1,top:(s?t.y:n)+1,width:(s?t.width:i)-1,height:(s?t.height:o)-1,getCSS:function(t){var n=(o=t.element).nodeName,i=(t=t.inverted,this.top-("shape"===n?o.offsetTop:0)),a=this.left,o=a+this.width,r=i+this.height;i={clip:"rect("+ue(t?a:i)+"px,"+ue(t?r:o)+"px,"+ue(t?o:r)+"px,"+ue(t?i:a)+"px)"};!t&&Te&&"DIV"===n&&e(i,{width:o+"px",height:r+"px"});return i},updateClipping:function(){Ve(r.members,(function(e){e.element&&e.css(r.getCSS(e))}))}})},color:function(e,t,n,i){var a,o,r,s=this,l=/^rgba/,c=Fe;e&&e.linearGradient?r="gradient":e&&e.radialGradient&&(r="pattern");if(r){var d,u,h,f,p,g,v,y,b=e.linearGradient||e.radialGradient,C="",S=(e=e.stops,[]),_=function(){o=['<fill colors="'+S.join(",")+'" opacity="',p,'" o:opacity2="',f,'" type="',r,'" ',C,'focus="100%" method="any" />'];m(s.prepVML(o),null,null,t)};h=e[0];y=e[e.length-1];h[0]>0&&e.unshift([0,h[1]]);y[0]<1&&e.push([1,y[1]]);Ve(e,(function(e,t){l.test(e[1])?(a=rt(e[1]),d=a.get("rgb"),u=a.get("a")):(d=e[1],u=1);S.push(100*e[0]+"% "+d);t?(p=u,g=d):(f=u,v=d)}));if("fill"===n)if("gradient"===r)n=b.x1||b[0]||0,e=b.y1||b[1]||0,h=b.x2||b[2]||0,b=b.y2||b[3]||0,C='angle="'+(90-180*de.atan((b-e)/(h-n))/be)+'"',_();else{var D,T=2*(c=b.r),I=2*c,x=b.cx,k=b.cy,w=t.radialReference;c=function(){w&&(D=i.getBBox(),x+=(w[0]-D.x)/D.width-.5,k+=(w[1]-D.y)/D.height-.5,T*=w[2]/D.width,I*=w[2]/D.height);C='src="'+H.global.VMLRadialGradientURL+'" size="'+T+","+I+'" origin="0.5,0.5" position="'+x+","+k+'" color2="'+v+'" ';_()};i.added?c():i.onAdd=c;c=g}else c=d}else if(l.test(e)&&"IMG"!==t.tagName)a=rt(e),o=["<",n,' opacity="',a.get("a"),'"/>'],m(this.prepVML(o),null,null,t),c=a.get("rgb");else{(c=t.getElementsByTagName(n)).length&&(c[0].opacity=1,c[0].type="solid");c=e}return c},prepVML:function(e){var t=this.isIE8;e=e.join("");t?e=-1===(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />')).indexOf('style="')?e.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):e.replace('style="','style="display:inline-block;behavior:url(#default#VML);'):e=e.replace("<","<hcv:");return e},text:ct.prototype.html,path:function(t){var n={coordsize:"10 10"};o(t)?n.d=t:a(t)&&e(n,t);return this.createElement("shape").attr(n)},circle:function(e,t,n){var i=this.symbol("circle");a(e)&&(n=e.r,t=e.y,e=e.x);i.isCircle=!0;i.r=n;return i.attr({x:e,y:t})},g:function(e){var t;e&&(t={className:"highcharts-"+e,class:"highcharts-"+e});return this.createElement(Me).attr(t)},image:function(e,t,n,i,a){var o=this.createElement("img").attr({src:e});arguments.length>1&&o.attr({x:t,y:n,width:i,height:a});return o},createElement:function(e){return"rect"===e?this.symbol(e):ct.prototype.createElement.call(this,e)},invertChild:function(e,t){var i=this,a=t.style,o="IMG"===e.tagName&&e.style;p(e,{flip:"x",left:n(a.width)-(o?n(o.top):1),top:n(a.height)-(o?n(o.left):1),rotation:-90});Ve(e.childNodes,(function(t){i.invertChild(t,e)}))},symbols:{arc:function(e,t,n,i,a){var o=a.start,r=a.end,s=a.r||n||i,l=(n=a.innerR,i=ve(o),ye(o)),c=ve(r),d=ye(r);if(r-o==0)return["x"];o=["wa",e-s,t-s,e+s,t+s,e+s*i,t+s*l,e+s*c,t+s*d];a.open&&!n&&o.push("e","M",e,t);o.push("at",e-n,t-n,e+n,t+n,e+n*c,t+n*d,e+n*i,t+n*l,"x","e");o.isArc=!0;return o},circle:function(e,t,n,i,a){a&&(n=i=2*a.r);a&&a.isCircle&&(e-=n/2,t-=i/2);return["wa",e,t,e+n,t+i,e+n,t+i/2,e+n,t+i/2,"e"]},rect:function(e,t,n,i,a){return ct.prototype.symbols[d(a)&&a.r?"callout":"square"].call(0,e,t,n,i,a)}}};re.VMLRenderer=st=function(){this.init.apply(this,arguments)};st.prototype=t(ct.prototype,dt);M=st}ct.prototype.measureSpanWidth=function(e,t){var n,i=le.createElement("span");n=le.createTextNode(e);i.appendChild(n);p(i,t);this.box.appendChild(i);n=i.offsetWidth;k(i);return n};Le&&(re.CanVGRenderer=st=function(){we="http://www.w3.org/1999/xhtml"},st.prototype.symbols={},lt=function(){function e(){var e,n=t.length;for(e=0;e<n;e++)t[e]();t=[]}var t=[];return{push:function(n,i){0===t.length&&je(i,e);t.push(n)}}}(),M=st);N.prototype={addLabel:function(){
var t,n=this.axis,i=n.options,a=n.chart,o=n.horiz,s=n.categories,c=n.names,u=this.pos,h=i.labels,p=h.rotation,m=n.tickPositions,g=(o=o&&s&&!h.step&&!h.staggerLines&&!h.rotation&&a.plotWidth/m.length||!o&&(a.margin[3]||.33*a.chartWidth),u===m[0]),v=u===m[m.length-1],y=(c=s?f(s[u],c[u],u):u,s=this.label,m.info);n.isDatetimeAxis&&y&&(t=i.dateTimeLabelFormats[y.higherRanks[u]||y.unitName]);this.isFirst=g;this.isLast=v;i=n.labelFormatter.call({axis:n,chart:a,isFirst:g,isLast:v,dateTimeLabelFormat:t,value:n.isLog?w(l(c)):c});u=o&&{width:pe(1,ue(o-2*(h.padding||10)))+"px"};if(d(s))s&&s.attr({text:i}).css(u);else{t={align:n.labelAlign};r(p)&&(t.rotation=p);o&&h.ellipsis&&(u.HcHeight=n.len/m.length);this.label=s=d(i)&&h.enabled?a.renderer.text(i,0,0,h.useHTML).attr(t).css(e(u,h.style)).add(n.labelGroup):null;n.tickBaseline=a.renderer.fontMetrics(h.style.fontSize,s).b;p&&2===n.side&&(n.tickBaseline*=ve(p*Ce))}this.yOffset=s?f(h.y,n.tickBaseline+(2===n.side?8:-s.getBBox().height/2)):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e,t=this.label.getBBox(),n=(e=this.axis).horiz,i=e.options.labels;t=n?t.width:t.height;return[e=n?i.x-t*{left:0,center:.5,right:1}[e.labelAlign]:0,n?t+e:t]},handleOverflow:function(e,t){var n,i,a,o=!0,r=this.axis,s=this.isFirst,l=this.isLast,c=r.horiz?t.x:t.y,d=r.reversed,u=r.tickPositions,h=(f=this.getLabelSides())[0],f=f[1],p=this.label.line;n=p||0;i=r.labelEdge;a=r.justifyLabels&&(s||l);i[n]===B||c+h>i[n]?i[n]=c+f:a||(o=!1);if(a){n=(i=r.justifyToPlot)?r.pos:0;i=i?n+r.len:r.chart.chartWidth;do{e+=s?1:-1,a=r.ticks[u[e]]}while(u[e]&&(!a||!a.label||a.label.line!==p));r=a&&a.label.xy&&a.label.xy.x+a.getLabelSides()[s?0:1];s&&!d||l&&d?c+h<n&&(c=n-h,a&&c+f>r&&(o=!1)):c+f>i&&(c=i-f,a&&c+h<r&&(o=!1));t.x=c}return o},getPosition:function(e,t,n,i){var a=this.axis,o=a.chart,r=i&&o.oldChartHeight||o.chartHeight;return{x:e?a.translate(t+n,null,null,i)+a.transB:a.left+a.offset+(a.opposite?(i&&o.oldChartWidth||o.chartWidth)-a.right-a.left:0),y:e?r-a.bottom+a.offset-(a.opposite?a.height:0):r-a.translate(t+n,null,null,i)-a.transB}},getLabelPosition:function(e,t,n,i,a,o,r,s){var l=this.axis,c=l.transA,d=l.reversed,u=l.staggerLines;e=e+a.x-(o&&i?o*c*(d?-1:1):0),t=t+this.yOffset-(o&&!i?o*c*(d?1:-1):0);u&&(n.line=r/(s||1)%u,t+=n.line*(l.labelOffset/u));return{x:e,y:t}},getMarkPath:function(e,t,n,i,a,o){return o.crispLine(["M",e,t,"L",e+(a?0:-n),t+(a?n:0)],i)},render:function(e,t,n){var i=this.axis,a=i.options,o=i.chart.renderer,r=i.horiz,s=this.type,l=this.label,c=this.pos,d=a.labels,u=this.gridLine,h=s?s+"Tick":"tick",p=a[(y=s?s+"Grid":"grid")+"LineWidth"],m=a[y+"LineColor"],g=a[y+"LineDashStyle"],v=a[h+"Length"],y=a[h+"Width"]||0,b=a[h+"Color"],C=a[h+"Position"],S=(h=this.mark,d.step),_=!0,D=i.tickmarkOffset,T=(I=this.getPosition(r,c,D,t)).x,I=I.y,x=r&&T===i.pos+i.len||!r&&I===i.pos?-1:1;n=f(n,1);this.isActive=!0;if(p){c=i.getPlotLinePath(c+D,p*x,t,!0);if(u===B){u={stroke:m,"stroke-width":p};g&&(u.dashstyle=g);s||(u.zIndex=1);t&&(u.opacity=0);this.gridLine=u=p?o.path(c).attr(u).add(i.gridGroup):null}!t&&u&&c&&u[this.isNew?"attr":"animate"]({d:c,opacity:n})}y&&v&&("inside"===C&&(v=-v),i.opposite&&(v=-v),s=this.getMarkPath(T,I,v,y*x,r,o),h?h.animate({d:s,opacity:n}):this.mark=o.path(s).attr({stroke:b,"stroke-width":y,opacity:n}).add(i.axisGroup));l&&!isNaN(T)&&(l.xy=I=this.getLabelPosition(T,I,l,r,d,D,e,S),this.isFirst&&!this.isLast&&!f(a.showFirstLabel,1)||this.isLast&&!this.isFirst&&!f(a.showLastLabel,1)?_=!1:!i.isRadial&&!d.step&&!d.rotation&&!t&&0!==n&&(_=this.handleOverflow(e,I)),S&&e%S&&(_=!1),_&&!isNaN(I.y)?(I.opacity=n,l[this.isNew?"attr":"animate"](I),this.isNew=!1):l.attr("y",-9999))},destroy:function(){x(this,this.axis)}};re.PlotLineOrBand=function(e,t){this.axis=e;t&&(this.options=t,this.id=t.id)};re.PlotLineOrBand.prototype={render:function(){var e,n=this,i=n.axis,a=i.horiz,o=(i.pointRange||0)/2,r=n.options,l=r.label,c=n.label,u=r.width,h=r.to,f=r.from,p=d(f)&&d(h),m=r.value,g=r.dashStyle,v=n.svgElem,y=[],b=r.color,C=r.zIndex,S=r.events,_={},D=i.chart.renderer;i.isLog&&(f=s(f),h=s(h),m=s(m));if(u)(y=i.getPlotLinePath(m,u),_={stroke:b,"stroke-width":u},g)&&(_.dashstyle=g);else{if(!p)return;f=pe(f,i.min-o);h=me(h,i.max+o);y=i.getPlotBandPath(f,h,r);b&&(_.fill=b);r.borderWidth&&(_.stroke=r.borderColor,_["stroke-width"]=r.borderWidth)}d(C)&&(_.zIndex=C);if(v)y?v.animate({d:y},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},c)&&(n.label=c=c.destroy());else if(y&&y.length&&(n.svgElem=v=D.path(y).attr(_).add(),S))for(e in o=function(e){v.on(e,(function(t){S[e].apply(n,[t])}))},S)o(e);if(l&&d(l.text)&&y&&y.length&&i.width>0&&i.height>0){l=t({align:a&&p&&"center",x:a?!p&&4:10,verticalAlign:!a&&p&&"middle",y:a?p?16:10:p?6:-4,rotation:a&&!p&&90},l);if(!c){_={align:l.textAlign||l.align,rotation:l.rotation};d(C)&&(_.zIndex=C);n.label=c=D.text(l.text,0,0,l.useHTML).attr(_).css(l.style).add()}i=[y[1],y[4],p?y[6]:y[1]];p=[y[2],y[5],p?y[7]:y[2]];y=T(i);a=T(p);c.align(l,!1,{x:y,y:a,width:I(i)-y,height:I(p)-a});c.show()}else c&&c.hide();return n},destroy:function(){c(this.axis.plotLinesAndBands,this);delete this.axis;x(this)}};R.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Ge,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return v(this.total,-1)},style:Ge.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n;this.coll=(this.isXAxis=n)?"xAxis":"yAxis";this.opposite=t.opposite;this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(t);var i=(o=this.options).type;this.labelFormatter=o.labels.formatter||this.defaultLabelFormatter;this.userOptions=t;this.minPixelPadding=0;this.chart=e;this.reversed=o.reversed;this.zoomEnabled=!1!==o.zoomEnabled;this.categories=o.categories||"category"===i;this.names=[];this.isLog="logarithmic"===i;this.isDatetimeAxis="datetime"===i;this.isLinked=d(o.linkedTo);this.tickmarkOffset=this.categories&&"between"===o.tickmarkPlacement&&1===f(o.tickInterval,1)?.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=o.minRange||o.maxZoom;this.range=o.range;this.offset=o.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=f(o.crosshair,h(e.options.tooltip.crosshairs)[n?0:1],!1);var a,o=this.options.events;-1===$e(this,e.axes)&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this));this.series=this.series||[];e.inverted&&n&&this.reversed===B&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(a in o)Ye(this,a,o[a]);this.isLog&&(this.val2lin=s,this.lin2val=l)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(H[this.coll],e))},defaultLabelFormatter:function(){var e,t=this.axis,n=this.value,i=t.categories,a=this.dateTimeLabelFormat,o=H.lang.numericSymbols,r=o&&o.length,s=t.options.labels.format
;t=t.isLog?n:t.tickInterval;if(s)e=C(s,this);else if(i)e=n;else if(a)e=G(a,n);else if(r&&t>=1e3)for(;r--&&e===B;)t>=(i=Math.pow(1e3,r+1))&&null!==o[r]&&(e=v(n/i,-1)+o[r]);e===B&&(e=ge(n)>=1e4?v(n,0):v(n,-1,B,""));return e},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1;e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null;e.buildStacks&&e.buildStacks();Ve(e.series,(function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var i,a;i=n.options.threshold;e.hasVisibleSeries=!0;e.isLog&&i<=0&&(i=null);if(e.isXAxis)(i=n.xData).length&&(e.dataMin=me(f(e.dataMin,i[0]),T(i)),e.dataMax=pe(f(e.dataMax,i[0]),I(i)));else{n.getExtremes();a=n.dataMax;d(n=n.dataMin)&&d(a)&&(e.dataMin=me(f(e.dataMin,n),n),e.dataMax=pe(f(e.dataMax,a),a));d(i)&&(e.dataMin>=i?(e.dataMin=i,e.ignoreMinPadding=!0):e.dataMax<i&&(e.dataMax=i,e.ignoreMaxPadding=!0))}}}))},translate:function(e,t,n,i,a,o){var s=1,l=0,c=i?this.oldTransA:this.transA,d=(i=i?this.oldMin:this.min,this.minPixelPadding);a=(this.options.ordinal||this.isLog&&a)&&this.lin2val;c||(c=this.transA);n&&(s*=-1,l=this.len);this.reversed&&(l-=(s*=-1)*(this.sector||this.len));t?(e=e*s+l,e=(e-=d)/c+i,a&&(e=this.lin2val(e))):(a&&(e=this.val2lin(e)),"between"===o&&(o=.5),e=s*(e-i)*c+l+s*d+(r(o)?c*o*this.pointRange:0));return e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,i,a){var o,r,s,l=this.chart,c=this.left,d=this.top,u=n&&l.oldChartHeight||l.chartHeight,h=n&&l.oldChartWidth||l.chartWidth;o=this.transB;a=f(a,this.translate(e,null,null,n));e=n=ue(a+o);o=r=ue(u-a-o);isNaN(a)?s=!0:this.horiz?(o=d,r=u-this.bottom,e<c||e>c+this.width)&&(s=!0):(e=c,n=h-this.right,o<d||o>d+this.height)&&(s=!0);return s&&!i?null:l.renderer.crispLine(["M",e,o,"L",n,r],t||1)},getLinearTickPositions:function(e,t,n){var i,a=w(he(t/e)*e),o=w(fe(n/e)*e),s=[];if(t===n&&r(t))return[t];for(t=a;t<=o;){s.push(t);if((t=w(t+e))===i)break;i=t}return s},getMinorTickPositions:function(){var e,t=this.options,n=this.tickPositions,i=this.minorTickInterval,a=[];if(this.isLog){e=n.length;for(t=1;t<e;t++)a=a.concat(this.getLogTickPositions(i,n[t-1],n[t],!0))}else if(this.isDatetimeAxis&&"auto"===t.minorTickInterval)(a=a.concat(this.getTimeTicks(this.normalizeTimeTickInterval(i),this.min,this.max,t.startOfWeek)))[0]<this.min&&a.shift();else for(n=this.min+(n[0]-this.min)%i;n<=this.max;n+=i)a.push(n);return a},adjustForMinRange:function(){var e,t,n,i,a,o,r=this.options,s=this.min,l=this.max,c=this.dataMax-this.dataMin>=this.minRange;this.isXAxis&&this.minRange===B&&!this.isLog&&(d(r.min)||d(r.max)?this.minRange=null:(Ve(this.series,(function(e){a=e.xData;for(n=o=e.xIncrement?1:a.length-1;n>0;n--)(i=a[n]-a[n-1],t===B||i<t)&&(t=i)})),this.minRange=me(5*t,this.dataMax-this.dataMin)));if(l-s<this.minRange){var u=this.minRange;e=[s-(e=(u-l+s)/2),f(r.min,s-e)];c&&(e[2]=this.dataMin);l=[(s=I(e))+u,f(r.max,s+u)];c&&(l[2]=this.dataMax);(l=T(l))-s<u&&(e[0]=l-u,e[1]=f(r.min,l-u),s=I(e))}this.min=s;this.max=l},setAxisTranslation:function(e){var t,n=this,a=n.max-n.min,o=n.axisPointRange||0,r=0,s=0,l=n.linkedParent,c=!!n.categories,u=n.transA;(n.isXAxis||c||o)&&(l?(r=l.minPointOffset,s=l.pointRangePadding):Ve(n.series,(function(e){var l=c?1:n.isXAxis?e.pointRange:n.axisPointRange||0,u=e.options.pointPlacement,h=e.closestPointRange;l>a&&(l=0);o=pe(o,l);r=pe(r,i(u)?0:l/2);s=pe(s,"on"===u?0:l);!e.noSharedTooltip&&d(h)&&(t=d(t)?me(t,h):h)})),l=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=r*=l,n.pointRangePadding=s*=l,n.pointRange=me(o,a),n.closestPointRange=t);e&&(n.oldTransA=u);n.translationSlope=n.transA=u=n.len/(a+s||1);n.transB=n.horiz?n.left:n.bottom;n.minPixelPadding=u*r},setTickPositions:function(e){var t,n=this,i=n.chart,a=n.options,o=a.startOnTick,l=a.endOnTick,c=n.isLog,u=n.isDatetimeAxis,h=n.isXAxis,p=n.isLinked,m=n.options.tickPositioner,g=a.maxPadding,v=a.minPadding,y=a.tickInterval,b=a.minTickInterval,C=a.tickPixelInterval,D=n.categories;p?(n.linkedParent=i[n.coll][a.linkedTo],i=n.linkedParent.getExtremes(),n.min=f(i.min,i.dataMin),n.max=f(i.max,i.dataMax),a.type!==n.linkedParent.options.type&&V(11,1)):(n.min=f(n.userMin,a.min,n.dataMin),n.max=f(n.userMax,a.max,n.dataMax));c&&(!e&&me(n.min,f(n.dataMin,n.min))<=0&&V(10,1),n.min=w(s(n.min)),n.max=w(s(n.max)));n.range&&d(n.max)&&(n.userMin=n.min=pe(n.min,n.max-n.range),n.userMax=n.max,n.range=null);n.beforePadding&&n.beforePadding();n.adjustForMinRange();if(!D&&!n.axisPointRange&&!n.usePercentage&&!p&&d(n.min)&&d(n.max)&&(i=n.max-n.min)){d(a.min)||d(n.userMin)||!v||!(n.dataMin<0)&&n.ignoreMinPadding||(n.min-=i*v);d(a.max)||d(n.userMax)||!g||!(n.dataMax>0)&&n.ignoreMaxPadding||(n.max+=i*g)}r(a.floor)&&(n.min=pe(n.min,a.floor));r(a.ceiling)&&(n.max=me(n.max,a.ceiling));n.min===n.max||void 0===n.min||void 0===n.max?n.tickInterval=1:p&&!y&&C===n.linkedParent.options.tickPixelInterval?n.tickInterval=n.linkedParent.tickInterval:(n.tickInterval=f(y,D?1:(n.max-n.min)*C/pe(n.len,C)),!d(y)&&n.len<C&&!this.isRadial&&!this.isLog&&!D&&o&&l&&(t=!0,n.tickInterval/=4));h&&!e&&Ve(n.series,(function(e){e.processData(n.min!==n.oldMin||n.max!==n.oldMax)}));n.setAxisTranslation(!0);n.beforeSetTickPositions&&n.beforeSetTickPositions();n.postProcessTickInterval&&(n.tickInterval=n.postProcessTickInterval(n.tickInterval));n.pointRange&&(n.tickInterval=pe(n.pointRange,n.tickInterval));!y&&n.tickInterval<b&&(n.tickInterval=b);u||c||y||(n.tickInterval=_(n.tickInterval,null,S(n.tickInterval),f(a.allowDecimals,!(n.tickInterval>1&&n.tickInterval<5&&n.max>1e3&&n.max<9999))));n.minorTickInterval="auto"===a.minorTickInterval&&n.tickInterval?n.tickInterval/5:a.minorTickInterval;n.tickPositions=e=a.tickPositions?[].concat(a.tickPositions):m&&m.apply(n,[n.min,n.max]);e||(!n.ordinalPositions&&(n.max-n.min)/n.tickInterval>pe(2*n.len,200)&&V(19,!0),e=u?n.getTimeTicks(n.normalizeTimeTickInterval(n.tickInterval,a.units),n.min,n.max,a.startOfWeek,n.ordinalPositions,n.closestPointRange,!0):c?n.getLogTickPositions(n.tickInterval,n.min,n.max):n.getLinearTickPositions(n.tickInterval,n.min,n.max),t&&e.splice(1,e.length-2),n.tickPositions=e);p||(a=e[0],c=e[e.length-1],u=n.minPointOffset||0,o?n.min=a:n.min-u>a&&e.shift(),l?n.max=c:n.max+u<c&&e.pop(),0===e.length&&d(a)&&e.push((c+a)/2),1===e.length&&(o=ge(n.max)>1e13?1:.001,n.min-=o,n.max+=o))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,i=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[i]||0)&&!1!==this.options.alignTicks&&(t[i]=n.length);e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks&&this.min!==B){var i=this.tickAmount,a=t.length;this.tickAmount=e=n[e];if(a<e){for(;t.length<e;)t.push(w(t[t.length-1]+this.tickInterval));this.transA*=(a-1)/(e-1);this.max=t[t.length-1]}d(i)&&e!==i&&(this.isDirty=!0)}},setScale:function(){var e,t,n,i,a=this.stacks;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();i=this.len!==this.oldAxisLength;Ve(this.series,(function(e){(e.isDirtyData||e.isDirty||e.xAxis.isDirty)&&(n=!0)}));if(i||n||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(e in a)for(t in a[e])a[e][t].total=null,a[e][t].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis){this.oldStacks&&(a=this.stacks=this.oldStacks);for(e in a)for(t in a[e])a[e][t].cum=a[e][t].total}this.setMaxTicks()},setExtremes:function(t,n,i,a,o){var r=this,s=r.chart;i=f(i,!0),o=e(o,{min:t,max:n});Xe(r,"setExtremes",o,(function(){r.userMin=t;r.userMax=n;r.eventArgs=o;r.isDirtyExtremes=!0;i&&s.redraw(a)}))},zoom:function(e,t){var n=this.dataMin,i=this.dataMax,a=this.options
;this.allowZoomOutside||(d(n)&&e<=me(n,f(a.min,n))&&(e=B),d(i)&&t>=pe(i,f(a.max,i))&&(t=B));this.displayBtn=e!==B||t!==B;this.setExtremes(e,t,!1,B,{trigger:"zoom"});return!0},setAxisSize:function(){var e=this.chart,t=(r=this.options).offsetLeft||0,n=this.horiz,i=f(r.width,e.plotWidth-t+(r.offsetRight||0)),a=f(r.height,e.plotHeight),o=f(r.top,e.plotTop),r=f(r.left,e.plotLeft+t);(t=/%$/).test(a)&&(a=parseInt(a,10)/100*e.plotHeight);t.test(o)&&(o=parseInt(o,10)/100*e.plotHeight+e.plotTop);this.left=r;this.top=o;this.width=i;this.height=a;this.bottom=e.chartHeight-a-o;this.right=e.chartWidth-i-r;this.len=pe(n?i:a,0);this.pos=n?r:o},getExtremes:function(){var e=this.isLog;return{min:e?w(l(this.min)):this.min,max:e?w(l(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=(n=this.isLog)?l(this.min):this.min,n=n?l(this.max):this.max;t>e||null===e?e=t:n<e&&(e=n);return this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return(e=(f(e,0)-90*this.side+720)%360)>15&&e<165?"right":e>195&&e<345?"left":"center"},getOffset:function(){var e,t,n,i,a,o,r,s,l,c=this,u=(I=c.chart).renderer,h=c.options,p=c.tickPositions,m=c.ticks,g=c.horiz,v=c.side,y=I.inverted?[1,0,3,2][v]:v,b=0,C=0,S=h.title,_=h.labels,D=0,T=I.axisOffset,I=I.clipOffset,x=[-1,1,1,-1][v],k=1,w=f(_.maxStaggerLines,5);c.hasData=e=c.hasVisibleSeries||d(c.min)&&d(c.max)&&!!p;c.showAxis=t=e||f(h.showEmpty,!0);c.staggerLines=c.horiz&&_.staggerLines;c.axisGroup||(c.gridGroup=u.g("grid").attr({zIndex:h.gridZIndex||1}).add(),c.axisGroup=u.g("axis").attr({zIndex:h.zIndex||2}).add(),c.labelGroup=u.g("axis-labels").attr({zIndex:_.zIndex||7}).addClass("highcharts-"+c.coll.toLowerCase()+"-labels").add());if(e||c.isLinked){c.labelAlign=f(_.align||c.autoLabelAlign(_.rotation));Ve(p,(function(e){m[e]?m[e].addLabel():m[e]=new N(c,e)}));if(c.horiz&&!c.staggerLines&&w&&!_.rotation){for(e=c.reversed?[].concat(p).reverse():p;k<w;){a=[];o=!1;for(i=0;i<e.length;i++)r=e[i],l=i%k,(s=(s=m[r].label&&m[r].label.getBBox())?s.width:0)&&(r=c.translate(r),a[l]!==B&&r<a[l]&&(o=!0),a[l]=r+s);if(!o)break;k++}k>1&&(c.staggerLines=k)}Ve(p,(function(e){0!==v&&2!==v&&{1:"left",3:"right"}[v]!==c.labelAlign||(D=pe(m[e].getLabelSize(),D))}));c.staggerLines&&(D*=c.staggerLines,c.labelOffset=D)}else for(i in m)m[i].destroy(),delete m[i];if(S&&S.text&&!1!==S.enabled){c.axisTitle||(c.axisTitle=u.text(S.text,0,0,S.useHTML).attr({zIndex:7,rotation:S.rotation||0,align:S.textAlign||{low:"left",middle:"center",high:"right"}[S.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(S.style).add(c.axisGroup),c.axisTitle.isNew=!0);t&&(b=c.axisTitle.getBBox()[g?"height":"width"],C=d(n=S.offset)?0:f(S.margin,g?5:10));c.axisTitle[t?"show":"hide"]()}c.offset=x*f(h.offset,T[v]);u=2===v?c.tickBaseline:0;g=D+C+(D&&x*(g?f(_.y,c.tickBaseline+8):_.x)-u);c.axisTitleMargin=f(n,g);T[v]=pe(T[v],c.axisTitleMargin+b+x*c.offset,g);I[y]=pe(I[y],2*he(h.lineWidth/2))},getLinePath:function(e){var t=this.chart,n=this.opposite,i=this.offset,a=this.horiz,o=this.left+(n?this.width:0)+i;i=t.chartHeight-this.bottom-(n?this.height:0)+i;n&&(e*=-1);return t.renderer.crispLine(["M",a?this.left:o,a?i:this.top,"L",a?t.chartWidth-this.right:o,a?i:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,i=this.top,a=this.len,o=this.options.title,r=e?t:i,s=this.opposite,l=this.offset,c=n(o.style.fontSize||12);a={low:r+(e?0:a),middle:r+a/2,high:r+(e?a:0)}[o.align],t=(e?i+this.height:t)+(e?1:-1)*(s?-1:1)*this.axisTitleMargin+(2===this.side?c:0);return{x:e?a:t+(s?this.width:0)+l+(o.x||0),y:e?t-(s?this.height:0)+l:a+(o.y||0)}},render:function(){var e,t,n,i=this,a=i.horiz,o=i.reversed,r=i.chart,s=r.renderer,c=i.options,u=i.isLog,h=i.isLinked,f=i.tickPositions,p=i.axisTitle,m=i.ticks,g=i.minorTicks,v=i.alternateBands,y=c.stackLabels,b=c.alternateGridColor,C=i.tickmarkOffset,S=c.lineWidth,_=r.hasRendered&&d(i.oldMin)&&!isNaN(i.oldMin),D=i.hasData,T=i.showAxis,I=c.labels.overflow,x=i.justifyLabels=a&&!1!==I;i.labelEdge.length=0;i.justifyToPlot="justify"===I;Ve([m,g,v],(function(e){for(var t in e)e[t].isActive=!1}));(D||h)&&((i.minorTickInterval&&!i.categories&&Ve(i.getMinorTickPositions(),(function(e){g[e]||(g[e]=new N(i,e,"minor"));_&&g[e].isNew&&g[e].render(null,!0);g[e].render(null,!1,1)})),f.length&&(e=f.slice(),(a&&o||!a&&!o)&&e.reverse(),x&&(e=e.slice(1).concat([e[0]])),Ve(e,(function(t,n){x&&(n=n===e.length-1?0:n+1);(!h||t>=i.min&&t<=i.max)&&(m[t]||(m[t]=new N(i,t)),_&&m[t].isNew&&m[t].render(n,!0,.1),m[t].render(n))})),C&&0===i.min&&(m[-1]||(m[-1]=new N(i,-1,null,!0)),m[-1].render(-1))),b&&Ve(f,(function(e,a){a%2==0&&e<i.max&&(v[e]||(v[e]=new re.PlotLineOrBand(i)),t=e+C,n=f[a+1]!==B?f[a+1]+C:i.max,v[e].options={from:u?l(t):t,to:u?l(n):n,color:b},v[e].render(),v[e].isActive=!0)})),i._addedPlotLB)||(Ve((c.plotLines||[]).concat(c.plotBands||[]),(function(e){i.addPlotBandOrLine(e)})),i._addedPlotLB=!0));Ve([m,g,v],(function(e){var t,n,i=[],a=U?U.duration||500:0,o=function(){for(n=i.length;n--;)e[i[n]]&&!e[i[n]].isActive&&(e[i[n]].destroy(),delete e[i[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e!==v&&r.hasRendered&&a?a&&setTimeout(o,a):o()}));S&&(a=i.getLinePath(S),i.axisLine?i.axisLine.animate({d:a}):i.axisLine=s.path(a).attr({stroke:c.lineColor,"stroke-width":S,zIndex:7}).add(i.axisGroup),i.axisLine[T?"show":"hide"]());p&&T&&(p[p.isNew?"attr":"animate"](i.getTitlePosition()),p.isNew=!1);y&&y.enabled&&i.renderStackTotals();i.isDirty=!1},redraw:function(){this.render();Ve(this.plotLinesAndBands,(function(e){e.render()}));Ve(this.series,(function(e){e.isDirty=!0}))},destroy:function(e){var t,n=this,i=n.stacks,a=n.plotLinesAndBands;e||Qe(n);for(t in i)x(i[t]),i[t]=null;Ve([n.ticks,n.minorTicks,n.alternateBands],(function(e){x(e)}));for(e=a.length;e--;)a[e].destroy();Ve("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),(function(e){n[e]&&(n[e]=n[e].destroy())}));this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(this.crosshair)if(!1===(d(t)||!f(this.crosshair.snap,!0)))this.hideCrosshair();else{var n,i=this.crosshair,a=i.animation;f(i.snap,!0)?d(t)&&(n=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos;if(null===(n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:f(t.stackY,t.y)):this.getPlotLinePath(null,null,null,null,n)))this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[a?"animate":"attr"]({d:n},a);else{a={"stroke-width":i.width||1,stroke:i.color||"#C0C0C0",zIndex:i.zIndex||2};i.dashStyle&&(a.dashstyle=i.dashStyle);this.cross=this.chart.renderer.path(n).attr(a).add()}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};e(R.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),i=this.getPlotLinePath(e);i&&n?i.push(n[4],n[5],n[1],n[2]):i=null;return i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=new re.PlotLineOrBand(this,e).render(),i=this.userOptions;n&&(t&&(i[t]=i[t]||[],i[t].push(e)),this.plotLinesAndBands.push(n));return n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,i=this.userOptions,a=t.length;a--;)t[a].id===e&&t[a].destroy();Ve([n.plotLines||[],i.plotLines||[],n.plotBands||[],i.plotBands||[]],(function(t){for(a=t.length;a--;)t[a].id===e&&c(t,t[a])}))}});R.prototype.getTimeTicks=function(t,n,i,a){var o,r=[],s={},l=H.global.useUTC,c=new q(n-K),u=t.unitRange,h=t.count;if(d(n)){u>=$.second&&(c.setMilliseconds(0),c.setSeconds(u>=$.minute?0:h*he(c.getSeconds()/h)));u>=$.minute&&c[te](u>=$.hour?0:h*he(c[Y]()/h));u>=$.hour&&c[ne](u>=$.day?0:h*he(c[Q]()/h));u>=$.day&&c[ie](u>=$.month?1:h*he(c[J]()/h));u>=$.month&&(c[ae](u>=$.year?0:h*he(c[Z]()/h)),o=c[ee]());u>=$.year&&(o-=o%h,c[oe](o));u===$.week&&c[ie](c[J]()-c[X]()+f(a,1));n=1;K&&(c=new q(c.getTime()+K));o=c[ee]();a=c.getTime();for(var p=c[Z](),m=c[J](),g=($.day+(l?K:6e4*c.getTimezoneOffset()))%$.day;a<i;)r.push(a),
u===$.year?a=z(o+n*h,0):u===$.month?a=z(o,p+n*h):l||u!==$.day&&u!==$.week?a+=u*h:a=z(o,p,m+n*h*(u===$.day?1:7)),n++;r.push(a);Ve(qe(r,(function(e){return u<=$.hour&&e%$.day===g})),(function(e){s[e]="day"}))}r.info=e(t,{higherRanks:s,totalRange:u*h});return r};R.prototype.normalizeTimeTickInterval=function(e,t){var n,i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],a=i[i.length-1],o=$[a[0]],r=a[1];for(n=0;n<i.length&&(a=i[n],o=$[a[0]],r=a[1],!(i[n+1]&&e<=(o*r[r.length-1]+$[i[n+1][0]])/2));n++);o===$.year&&e<5*o&&(r=[1,2,5]);return{unitRange:o,count:i=_(e/o,r,"year"===a[0]?pe(S(e/o),1):1),unitName:a[0]}};R.prototype.getLogTickPositions=function(e,t,n,i){var a=this.options,o=this.len,r=[];i||(this._minorAutoInterval=null);if(e>=.5)e=ue(e),r=this.getLinearTickPositions(e,t,n);else if(e>=.08){var c,d,u,h,p;for(o=he(t),a=e>.3?[1,2,4]:e>.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];o<n+1&&!p;o++){d=a.length;for(c=0;c<d&&!p;c++)(u=s(l(o)*a[c]))>t&&(!i||h<=n)&&h!==B&&r.push(h),h>n&&(p=!0),h=u}}else(t=l(t),n=l(n),e=_(e=f("auto"===(e=a[i?"minorTickInterval":"tickInterval"])?null:e,this._minorAutoInterval,(n-t)*(a.tickPixelInterval/(i?5:1))/((i?o/this.tickPositions.length:o)||1)),null,S(e)),r=Ke(this.getLinearTickPositions(e,t,n),s),i)||(this._minorAutoInterval=e/5);i||(this.tickInterval=e);return r};var ut,ht=re.Tooltip=function(){this.init.apply(this,arguments)};ht.prototype={init:function(e,t){var i=t.borderWidth,a=t.style,o=n(a.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:o,fill:t.backgroundColor,"stroke-width":i,r:t.borderRadius,zIndex:8}).css(a).css({padding:0}).add().attr({y:-9999});Le||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(t,n,i,a){var o=this,r=o.now,s=!1!==o.options.animation&&!o.isHidden&&(ge(t-r.x)>1||ge(n-r.y)>1),l=o.followPointer||o.len>1;e(r,{x:s?(2*r.x+t)/3:t,y:s?(r.y+n)/2:n,anchorX:l?B:s?(2*r.anchorX+i)/3:i,anchorY:l?B:s?(r.anchorY+a)/2:a});o.label.attr(r);s&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout((function(){o&&o.move(t,n,i,a)}),32))},hide:function(e){var t,n=this;clearTimeout(this.hideTimer);this.isHidden||(t=this.chart.hoverPoints,this.hideTimer=setTimeout((function(){n.label.fadeOut();n.isHidden=!0}),f(e,this.options.hideDelay,500)),t&&Ve(t,(function(e){e.setState()})),this.chart.hoverPoints=null)},getAnchor:function(e,t){var n,i,a=this.chart,o=a.inverted,r=a.plotTop,s=0,l=0;n=(e=h(e))[0].tooltipPos;this.followPointer&&t&&(t.chartX===B&&(t=a.pointer.normalize(t)),n=[t.chartX-a.plotLeft,t.chartY-r]);n||(Ve(e,(function(e){i=e.series.yAxis;s+=e.plotX;l+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&i?i.top-r:0)})),s/=e.length,l/=e.length,n=[o?a.plotWidth-l:s,this.shared&&!o&&e.length>1&&t?t.chartY-r:o?a.plotHeight-s:l]);return Ke(n,ue)},getPosition:function(e,t,n){var i,a=this.chart,o=this.distance,r={},s=["y",a.chartHeight,t,n.plotY+a.plotTop],l=["x",a.chartWidth,e,n.plotX+a.plotLeft],c=n.ttBelow||a.inverted&&!n.negative||!a.inverted&&n.negative,d=function(e,t,n,i){var a=n<i-o;t=i+o+n<t,n=i-o-n;i+=o;if(c&&t)r[e]=i;else if(!c&&a)r[e]=n;else if(a)r[e]=n;else{if(!t)return!1;r[e]=i}},u=function(e,t,n,i){if(i<o||i>t-o)return!1;r[e]=i<n/2?1:i>t-n/2?t-n-2:i-n/2},h=function(e){var t=s;s=l;l=t;i=e},f=function(){!1!==d.apply(0,s)?!1===u.apply(0,l)&&!i&&(h(!0),f()):i?r.x=r.y=0:(h(!0),f())};(a.inverted||this.len>1)&&h();f();return r},defaultFormatter:function(e){var t,n=this.points||h(this),i=n[0].series;t=[e.tooltipHeaderFormatter(n[0])];Ve(n,(function(e){i=e.series;t.push(i.tooltipFormatter&&i.tooltipFormatter(e)||e.point.tooltipFormatter(i.tooltipOptions.pointFormat))}));t.push(e.options.footerFormat||"");return t.join("")},refresh:function(e,t){var n,i,a,o=this.chart,r=this.label,s=this.options,l={},c=[];a=s.formatter||this.defaultFormatter;l=o.hoverPoints;var d,u=this.shared;clearTimeout(this.hideTimer);this.followPointer=h(e)[0].series.tooltipOptions.followPointer;n=(i=this.getAnchor(e,t))[0];i=i[1];!u||e.series&&e.series.noSharedTooltip?l=e.getLabelConfig():(o.hoverPoints=e,l&&Ve(l,(function(e){e.setState()})),Ve(e,(function(e){e.setState("hover");c.push(e.getLabelConfig())})),(l={x:e[0].category,y:e[0].y}).points=c,this.len=c.length,e=e[0]);a=a.call(l,this);l=e.series;this.distance=f(l.tooltipOptions.distance,16);!1===a?this.hide():(this.isHidden&&(et(r),r.attr("opacity",1).show()),r.attr({text:a}),d=s.borderColor||e.color||l.color||"#606060",r.attr({stroke:d}),this.updatePosition({plotX:n,plotY:i,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1);Xe(o,"tooltipRefresh",{text:a,x:n+o.plotLeft,y:i+o.plotTop,borderColor:d})},updatePosition:function(e){var t=this.chart,n=this.label;n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(ue(n.x),ue(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t,n=e.series,i=(s=n.tooltipOptions).dateTimeLabelFormats,a=s.xDateFormat,o=(l=n.xAxis)&&"datetime"===l.options.type&&r(e.key),s=s.headerFormat,l=l&&l.closestPointRange;if(o&&!a){if(l){for(t in $)if($[t]>=l||$[t]<=$.day&&e.key%$[t]>0){a=i[t];break}}else a=i.day;a=a||i.year}o&&a&&(s=s.replace("{point.key}","{point.key:"+a+"}"));return C(s,{point:e,series:n})}};F=le.documentElement.ontouchstart!==B;var ft=re.Pointer=function(e,t){this.init(e,t)};ft.prototype={init:function(e,t){var n,i=(o=t.chart).events,a=Le?"":o.zoomType,o=e.inverted;this.options=t;this.chart=e;this.zoomX=n=/x/.test(a);this.zoomY=a=/y/.test(a);this.zoomHor=n&&!o||a&&o;this.zoomVert=a&&!o||n&&o;this.hasZoom=n||a;this.runChartClick=i&&!!i.click;this.pinchDown=[];this.lastValidTouch={};re.Tooltip&&t.tooltip.enabled&&(e.tooltip=new ht(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove);this.setDOMEvents()},normalize:function(t,n){var i,a;t=t||window.event;(t=Je(t)).target||(t.target=t.srcElement);a=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t;n||(this.chartPosition=n=ze(this.chart.container));a.pageX===B?(i=pe(t.x,t.clientX-n.left),a=t.y):(i=a.pageX-n.left,a=a.pageY-n.top);return e(t,{chartX:ue(i),chartY:ue(a)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};Ve(this.chart.axes,(function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}));return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t,n,i,a,o=this.chart,r=o.series,s=o.tooltip,l=o.hoverPoint,c=o.hoverSeries,d=o.chartWidth,u=this.getIndex(e);if(s&&this.options.tooltip.shared&&(!c||!c.noSharedTooltip)){n=[];i=r.length;for(a=0;a<i;a++)r[a].visible&&!1!==r[a].options.enableMouseTracking&&!r[a].noSharedTooltip&&!0!==r[a].singularTooltips&&r[a].tooltipPoints.length&&(t=r[a].tooltipPoints[u])&&t.series&&(t._dist=ge(u-t.clientX),d=me(d,t._dist),n.push(t));for(i=n.length;i--;)n[i]._dist>d&&n.splice(i,1);n.length&&n[0].clientX!==this.hoverX&&(s.refresh(n,e),this.hoverX=n[0].clientX)}r=c&&c.tooltipOptions.followPointer;c&&c.tracker&&!r?(t=c.tooltipPoints[u])&&t!==l&&t.onMouseOver(e):s&&r&&!s.isHidden&&(c=s.getAnchor([{}],e),s.updatePosition({plotX:c[0],plotY:c[1]}));s&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){Oe[ut]&&Oe[ut].pointer.onDocumentMouseMove(e)},Ye(le,"mousemove",this._onDocumentMouseMove));Ve(o.axes,(function(n){n.drawCrosshair(e,f(t,l))}))},reset:function(e,t){var n=this.chart,i=n.hoverSeries,a=n.hoverPoint,o=n.tooltip,r=o&&o.shared?n.hoverPoints:a;(e=e&&o&&r)&&h(r)[0].plotX===B&&(e=!1);if(e)o.refresh(r),a&&a.setState(a.state,!0);else{a&&a.onMouseOut();i&&i.onMouseOut();o&&o.hide(t);this._onDocumentMouseMove&&(Qe(le,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null);Ve(n.axes,(function(e){e.hideCrosshair()}));this.hoverX=null}},scaleGroups:function(e,t){
var n,i=this.chart;Ve(i.series,(function(a){n=e||a.getPlotBox();a.xAxis&&a.xAxis.zoomEnabled&&(a.group.attr(n),a.markerGroup&&(a.markerGroup.attr(n),a.markerGroup.clip(t?i.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(n))}));i.clipRect.attr(t||i.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=e.chartX;t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,i=n.options.chart,a=e.chartX,o=e.chartY,r=this.zoomHor,s=this.zoomVert,l=n.plotLeft,c=n.plotTop,d=n.plotWidth,u=n.plotHeight,h=this.mouseDownX,f=this.mouseDownY,p=i.panKey&&e[i.panKey+"Key"];a<l?a=l:a>l+d&&(a=l+d);o<c?o=c:o>c+u&&(o=c+u);this.hasDragged=Math.sqrt(Math.pow(h-a,2)+Math.pow(f-o,2));if(this.hasDragged>10){t=n.isInsidePlot(h-l,f-c);n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!p&&!this.selectionMarker&&(this.selectionMarker=n.renderer.rect(l,c,r?1:d,s?1:u,0).attr({fill:i.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add());this.selectionMarker&&r&&(a-=h,this.selectionMarker.attr({width:ge(a),x:(a>0?0:a)+h}));this.selectionMarker&&s&&(a=o-f,this.selectionMarker.attr({height:ge(a),y:(a>0?0:a)+f}));t&&!this.selectionMarker&&i.panning&&n.pan(e,i.panning)}},drop:function(t){var n=this.chart,i=this.hasPinched;if(this.selectionMarker){var a,o={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},r=this.selectionMarker,s=r.attr?r.attr("x"):r.x,l=r.attr?r.attr("y"):r.y,c=r.attr?r.attr("width"):r.width,d=r.attr?r.attr("height"):r.height;(this.hasDragged||i)&&(Ve(n.axes,(function(e){if(e.zoomEnabled){var n=e.horiz,i="touchend"===t.type?e.minPixelPadding:0,r=e.toValue((n?s:l)+i);n=e.toValue((n?s+c:l+d)-i);!isNaN(r)&&!isNaN(n)&&(o[e.coll].push({axis:e,min:me(r,n),max:pe(r,n)}),a=!0)}})),a&&Xe(n,"selection",o,(function(t){n.zoom(e(t,i?{animation:!1}:null))})));this.selectionMarker=this.selectionMarker.destroy();i&&this.scaleGroups()}n&&(p(n.container,{cursor:n._cursor}),n.cancelClick=this.hasDragged>10,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){(e=this.normalize(e)).preventDefault&&e.preventDefault();this.dragStart(e)},onDocumentMouseUp:function(e){Oe[ut]&&Oe[ut].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,i=t.hoverSeries;e=this.normalize(e,n);n&&i&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=Oe[ut];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;ut=t.index;(e=this.normalize(e)).returnValue=!1;"mousedown"===t.mouseIsDown&&this.drag(e);(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=u(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;!t||t.options.stickyTracking||this.inClass(e,"highcharts-tooltip")||n===t||t.onMouseOut()},onContainerClick:function(t){var n=this.chart,i=n.hoverPoint,a=n.plotLeft,o=n.plotTop;(t=this.normalize(t)).cancelBubble=!0;n.cancelClick||(i&&this.inClass(t.target,"highcharts-tracker")?(Xe(i.series,"click",e(t,{point:i})),n.hoverPoint&&i.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),n.isInsidePlot(t.chartX-a,t.chartY-o)&&Xe(n,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)};t.onmousemove=function(t){e.onContainerMouseMove(t)};t.onclick=function(t){e.onContainerClick(t)};Ye(t,"mouseleave",e.onContainerMouseLeave);1===Be&&Ye(le,"mouseup",e.onDocumentMouseUp);F&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===Be&&Ye(le,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Qe(this.chart.container,"mouseleave",this.onContainerMouseLeave);Be||(Qe(le,"mouseup",this.onDocumentMouseUp),Qe(le,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}};e(re.Pointer.prototype,{pinchTranslate:function(e,t,n,i,a,o){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,i,a,o);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,i,a,o)},pinchTranslateDirection:function(e,t,n,i,a,o,r,s){var l,c,d,u=this.chart,h=e?"x":"y",f=e?"X":"Y",p="chart"+f,m=e?"width":"height",g=u["plot"+(e?"Left":"Top")],v=s||1,y=u.inverted,b=u.bounds[e?"h":"v"],C=1===t.length,S=t[0][p],_=n[0][p],D=!C&&t[1][p],T=!C&&n[1][p];(n=function(){!C&&ge(S-D)>20&&(v=s||ge(_-T)/ge(S-D));c=(g-_)/v+S;l=u["plot"+(e?"Width":"Height")]/v})();(t=c)<b.min?(t=b.min,d=!0):t+l>b.max&&(t=b.max-l,d=!0);d?(_-=.8*(_-r[h][0]),C||(T-=.8*(T-r[h][1])),n()):r[h]=[_,T];y||(o[h]=c-g,o[m]=l);o=y?1/v:v;a[m]=l;a[h]=t;i[y?e?"scaleY":"scaleX":"scale"+f]=v;i["translate"+f]=o*g+(_-o*S)},pinch:function(t){var n=this,i=n.chart,a=n.pinchDown,o=n.followTouchMove,r=t.touches,s=r.length,l=n.lastValidTouch,c=n.hasZoom,d=n.selectionMarker,u={},h=1===s&&(n.inClass(t.target,"highcharts-tracker")&&i.runTrackerClick||n.runChartClick),p={};(c||o)&&!h&&t.preventDefault();Ke(r,(function(e){return n.normalize(e)}));if("touchstart"===t.type)Ve(r,(function(e,t){a[t]={chartX:e.chartX,chartY:e.chartY}})),l.x=[a[0].chartX,a[1]&&a[1].chartX],l.y=[a[0].chartY,a[1]&&a[1].chartY],Ve(i.axes,(function(e){if(e.zoomEnabled){var t=i.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,a=e.toPixels(f(e.options.min,e.dataMin)),o=e.toPixels(f(e.options.max,e.dataMax)),r=me(a,o);a=pe(a,o);t.min=me(e.pos,r-n);t.max=pe(e.pos+e.len,a+n)}})),n.res=!0;else if(a.length){d||(n.selectionMarker=d=e({destroy:Pe},i.plotBox));n.pinchTranslate(a,r,u,d,p,l);n.hasPinched=c;n.scaleGroups(u,p);!c&&o&&1===s?this.runPointActions(n.normalize(t)):n.res&&(n.res=!1,this.reset(!1,0))}},onContainerTouchStart:function(e){var t=this.chart;ut=t.index;1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){(1===e.touches.length||2===e.touches.length)&&this.pinch(e)},onDocumentTouchEnd:function(e){Oe[ut]&&Oe[ut].pointer.drop(e)}});if(ce.PointerEvent||ce.MSPointerEvent){var pt={},mt=!!ce.PointerEvent,gt=function(){var e,t=[];t.item=function(e){return this[e]};for(e in pt)pt.hasOwnProperty(e)&&t.push({pageX:pt[e].pageX,pageY:pt[e].pageY,target:pt[e].target});return t},vt=function(e,t,n,i){"touch"!==(e=e.originalEvent||e).pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!Oe[ut]||(i(e),(i=Oe[ut].pointer)[t]({type:n,target:e.currentTarget,preventDefault:Pe,touches:gt()}))};e(ft.prototype,{onContainerPointerDown:function(e){vt(e,"onContainerTouchStart","touchstart",(function(e){pt[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}}))},onContainerPointerMove:function(e){vt(e,"onContainerTouchMove","touchmove",(function(e){pt[e.pointerId]={pageX:e.pageX,pageY:e.pageY};pt[e.pointerId].target||(pt[e.pointerId].target=e.currentTarget)}))},onDocumentPointerUp:function(e){vt(e,"onContainerTouchEnd","touchend",(function(e){delete pt[e.pointerId]}))},batchMSEvents:function(e){e(this.chart.container,mt?"pointerdown":"MSPointerDown",this.onContainerPointerDown);e(this.chart.container,mt?"pointermove":"MSPointerMove",this.onContainerPointerMove);e(le,mt?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});b(ft.prototype,"init",(function(e,t,n){e.call(this,t,n);(this.hasZoom||this.followTouchMove)&&p(t.container,{"-ms-touch-action":Fe,"touch-action":Fe})}));b(ft.prototype,"setDOMEvents",(function(e){e.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Ye)}));b(ft.prototype,"destroy",(function(e){this.batchMSEvents(Qe);e.call(this)}))}var yt=re.Legend=function(e,t){this.init(e,t)};yt.prototype={init:function(e,n){var i=this,a=n.itemStyle,o=f(n.padding,8),r=n.itemMarginTop||0;this.options=n;n.enabled&&(i.itemStyle=a,
i.itemHiddenStyle=t(a,n.itemHiddenStyle),i.itemMarginTop=r,i.padding=o,i.initialItemX=o,i.initialItemY=o-5,i.maxItemWidth=0,i.chart=e,i.itemHeight=0,i.lastLineHeight=0,i.symbolWidth=f(n.symbolWidth,16),i.pages=[],i.render(),Ye(i.chart,"endResize",(function(){i.positionCheckboxes()})))},colorizeItem:function(e,t){var n,i=this.options,a=e.legendItem,o=e.legendLine,r=e.legendSymbol,s=this.itemHiddenStyle.color,l=(i=t?i.itemStyle.color:s,t?e.legendColor||e.color||"#CCC":s),c=(s=e.options&&e.options.marker,{fill:l});a&&a.css({fill:i,color:i});o&&o.attr({stroke:l});if(r){if(s&&r.isMarker)for(n in c.stroke=l,s=e.convertAttribs(s))(a=s[n])!==B&&(c[n]=a);r.attr(c)}},positionItem:function(e){var t=(n=this.options).symbolPadding,n=!n.rtl,i=(a=e._legendItemPos)[0],a=a[1],o=e.checkbox;e.legendGroup&&e.legendGroup.translate(n?i:this.legendWidth-i-2*t-4,a);o&&(o.x=i,o.y=a)},destroyItem:function(e){var t=e.checkbox;Ve(["legendItem","legendLine","legendSymbol","legendGroup"],(function(t){e[t]&&(e[t]=e[t].destroy())}));t&&k(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy());e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t,n=this.group.alignAttr,i=this.clipHeight||this.legendHeight;n&&(t=n.translateY,Ve(this.allItems,(function(a){var o,r=a.checkbox;r&&(o=t+r.y+(e||0)+3,p(r,{left:n.translateX+a.checkboxOffset+r.x-20+"px",top:o+"px",display:o>t-6&&o<t+i-6?"":Fe}))})))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;if(t.text){this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group));n=(e=this.title.getBBox()).height;this.offsetWidth=e.width;this.contentGroup.attr({translateY:n})}this.titleHeight=n},renderItem:function(e){var n=this.chart,i=n.renderer,a=this.options,o="horizontal"===a.layout,r=this.symbolWidth,s=a.symbolPadding,l=this.itemStyle,c=this.itemHiddenStyle,d=this.padding,u=o?f(a.itemDistance,20):0,h=!a.rtl,p=a.width,m=a.itemMarginBottom||0,g=this.itemMarginTop,v=this.initialItemX,y=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,S=b.options,_=(S=this.createCheckboxForItem&&S&&S.showCheckbox,a.useHTML);if(!y){e.legendGroup=i.g("legend-item").attr({zIndex:1}).add(this.scrollGroup);e.legendItem=y=i.text(a.labelFormat?C(a.labelFormat,e):a.labelFormatter.call(e),h?r+s:-s,this.baseline||0,_).css(t(e.visible?l:c)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup);this.baseline||(this.baseline=i.fontMetrics(l.fontSize,y).f+3+g,y.attr("y",this.baseline));b.drawLegendSymbol(this,e);this.setItemEvents&&this.setItemEvents(e,y,_,l,c);this.colorizeItem(e,e.visible);S&&this.createCheckboxForItem(e)}i=y.getBBox();r=e.checkboxOffset=a.itemWidth||e.legendItemWidth||r+s+i.width+u+(S?20:0);this.itemHeight=s=ue(e.legendItemHeight||i.height);o&&this.itemX-v+r>(p||n.chartWidth-2*d-v-a.x)&&(this.itemX=v,this.itemY+=g+this.lastLineHeight+m,this.lastLineHeight=0);this.maxItemWidth=pe(this.maxItemWidth,r);this.lastItemY=g+this.itemY+m;this.lastLineHeight=pe(s,this.lastLineHeight);e._legendItemPos=[this.itemX,this.itemY];o?this.itemX+=r:(this.itemY+=g+s+m,this.lastLineHeight=s);this.offsetWidth=p||pe((o?this.itemX-v-u:r)+d,this.offsetWidth)},getAllItems:function(){var e=[];Ve(this.chart.series,(function(t){var n=t.options;f(n.showInLegend,!d(n.linkedTo)&&B,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}));return e},render:function(){var t,n,i,a,o=this,r=o.chart,s=r.renderer,l=o.group,c=o.box,d=o.options,u=o.padding,h=d.borderWidth,f=d.backgroundColor;o.itemX=o.initialItemX;o.itemY=o.initialItemY;o.offsetWidth=0;o.lastItemY=0;l||(o.group=l=s.g("legend").attr({zIndex:7}).add(),o.contentGroup=s.g().attr({zIndex:1}).add(l),o.scrollGroup=s.g().add(o.contentGroup));o.renderTitle();D(t=o.getAllItems(),(function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}));d.reversed&&t.reverse();o.allItems=t;o.display=n=!!t.length;Ve(t,(function(e){o.renderItem(e)}));i=d.width||o.offsetWidth;a=o.lastItemY+o.lastLineHeight+o.titleHeight;a=o.handleOverflow(a);if(h||f){i+=u;a+=u;c?i>0&&a>0&&(c[c.isNew?"attr":"animate"](c.crisp({width:i,height:a})),c.isNew=!1):(o.box=c=s.rect(0,0,i,a,d.borderRadius,h||0).attr({stroke:d.borderColor,"stroke-width":h||0,fill:f||Fe}).add(l).shadow(d.shadow),c.isNew=!0);c[n?"show":"hide"]()}o.legendWidth=i;o.legendHeight=a;Ve(t,(function(e){o.positionItem(e)}));n&&l.align(e({width:i,height:a},d),!0,"spacingBox");r.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t,n,i=this,a=this.chart,o=a.renderer,r=this.options,s=r.y,l=(s=a.spacingBox.height+("top"===r.verticalAlign?-s:s)-this.padding,r.maxHeight),c=this.clipRect,d=r.navigation,u=f(d.animation,!0),h=d.arrowSize||12,p=this.nav,m=this.pages,g=this.allItems;"horizontal"===r.layout&&(s/=2);l&&(s=me(s,l));m.length=0;if(e>s&&!r.useHTML){this.clipHeight=t=pe(s-20-this.titleHeight-this.padding,0);this.currentPage=f(this.currentPage,1);this.fullHeight=e;Ve(g,(function(e,i){var a=e._legendItemPos[1],o=ue(e.legendItem.getBBox().height),r=m.length;(!r||a-m[r-1]>t&&(n||a)!==m[r-1])&&(m.push(n||a),r++);i===g.length-1&&a+o-m[r-1]>t&&m.push(a);a!==n&&(n=a)}));c||(c=i.clipRect=o.clipRect(0,this.padding,9999,0),i.contentGroup.clip(c));c.attr({height:t});p||(this.nav=p=o.g().attr({zIndex:1}).add(this.group),this.up=o.symbol("triangle",0,0,h,h).on("click",(function(){i.scroll(-1,u)})).add(p),this.pager=o.text("",15,10).css(d.style).add(p),this.down=o.symbol("triangle-down",0,0,h,h).on("click",(function(){i.scroll(1,u)})).add(p));i.scroll(0);e=s}else p&&(c.attr({height:a.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return e},scroll:function(e,t){var n=this.pages,i=n.length,a=this.currentPage+e,o=this.clipHeight,r=(s=this.options.navigation).activeColor,s=s.inactiveColor,l=this.pager,c=this.padding;a>i&&(a=i);a>0&&(t!==B&&E(t,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===a?s:r}).css({cursor:1===a?"default":"pointer"}),l.attr({text:a+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:a===i?s:r}).css({cursor:a===i?"default":"pointer"}),n=-n[a-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=a,this.positionCheckboxes(n))}};Ge=re.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,i=n.marker;t=e.symbolWidth;var a,o=this.chart.renderer,r=this.legendGroup;e=e.baseline-ue(.3*o.fontMetrics(e.options.itemStyle.fontSize,this.legendItem).b);if(n.lineWidth){a={"stroke-width":n.lineWidth};n.dashStyle&&(a.dashstyle=n.dashStyle);this.legendLine=o.path(["M",0,e,"L",t,e]).attr(a).add(r)}i&&!1!==i.enabled&&(n=i.radius,this.legendSymbol=t=o.symbol(this.symbol,t/2-n,e-n,2*n,2*n).add(r),t.isMarker=!0)}};(/Trident\/7\.0/.test(Se)||xe)&&b(yt.prototype,"positionItem",(function(e,t){var n=this,i=function(){t._legendItemPos&&e.call(n,t)};i();setTimeout(i)}));P.prototype={init:function(e,n){var i,a=e.series;e.series=null;(i=t(H,e)).series=e.series=a;this.userOptions=e;a=i.chart;this.margin=this.splashArray("margin",a);this.spacing=this.splashArray("spacing",a);var o=a.events;this.bounds={h:{},v:{}};this.callback=n;this.isResizing=0;this.options=i;this.axes=[];this.series=[];this.hasCartesianSeries=a.showAxes;var r,s=this;s.index=Oe.length;Oe.push(s);Be++;!1!==a.reflow&&Ye(s,"load",(function(){s.initReflow()}));if(o)for(r in o)Ye(s,r,o[r]);s.xAxis=[];s.yAxis=[];s.animation=!Le&&f(a.animation,!0);s.pointCount=s.colorCounter=s.symbolCounter=0;s.firstRender()},initSeries:function(e){var t=this.options.chart;(t=He[e.type||t.type||t.defaultSeriesType])||V(17,!0);(t=new t).init(this,e);return t},isInsidePlot:function(e,t,n){var i=n?t:e;e=n?e:t;return i>=0&&i<=this.plotWidth&&e>=0&&e<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&Ve(this.axes,(function(e){e.adjustTickAmount()}));this.maxTicks=null},
redraw:function(t){var n,i,a=this.axes,o=this.series,r=this.pointer,s=this.legend,l=this.isDirtyLegend,c=this.hasCartesianSeries,d=this.isDirtyBox,u=o.length,h=u,f=this.renderer,p=f.isHidden(),m=[];E(t,this);p&&this.cloneRenderTo();for(this.layOutTitles();h--;)if((t=o[h]).options.stacking&&(n=!0,t.isDirty)){i=!0;break}if(i)for(h=u;h--;)(t=o[h]).options.stacking&&(t.isDirty=!0);Ve(o,(function(e){e.isDirty&&"point"===e.options.legendType&&(l=!0)}));l&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1);n&&this.getStacks();if(c){this.isResizing||(this.maxTicks=null,Ve(a,(function(e){e.setScale()})));this.adjustTickAmounts()}this.getMargins();c&&(Ve(a,(function(e){e.isDirty&&(d=!0)})),Ve(a,(function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,m.push((function(){Xe(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes()));delete t.eventArgs})));(d||n)&&t.redraw()})));d&&this.drawChartBox();Ve(o,(function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}));r&&r.reset(!0);f.draw();Xe(this,"redraw");p&&this.cloneRenderTo(!0);Ve(m,(function(e){e.call()}))},get:function(e){var t,n,i=this.axes,a=this.series;for(t=0;t<i.length;t++)if(i[t].options.id===e)return i[t];for(t=0;t<a.length;t++)if(a[t].options.id===e)return a[t];for(t=0;t<a.length;t++){n=a[t].points||[];for(i=0;i<n.length;i++)if(n[i].id===e)return n[i]}return null},getAxes:function(){var e=this,t=(n=this.options).xAxis=h(n.xAxis||{}),n=n.yAxis=h(n.yAxis||{});Ve(t,(function(e,t){e.index=t;e.isX=!0}));Ve(n,(function(e,t){e.index=t}));t=t.concat(n);Ve(t,(function(t){new R(e,t)}));e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];Ve(this.series,(function(t){e=e.concat(qe(t.points||[],(function(e){return e.selected})))}));return e},getSelectedSeries:function(){return qe(this.series,(function(e){return e.selected}))},getStacks:function(){var e=this;Ve(e.yAxis,(function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}));Ve(e.series,(function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+f(t.options.stack,""))}))},setTitle:function(e,n,i){var a,o,r=this,s=r.options;o=s.title=t(s.title,e);a=s.subtitle=t(s.subtitle,n);Ve([["title",e,o],["subtitle",n,s=a]],(function(e){var t=e[0],n=r[t],i=e[1];e=e[2];n&&i&&(r[t]=n=n.destroy());e&&e.text&&!n&&(r[t]=r.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())}));r.layOutTitles(i)},layOutTitles:function(t){var n=0,i=this.title,a=this.subtitle,o=(r=this.options).title,r=r.subtitle,s=this.renderer,l=this.spacingBox.width-44;!i||(i.css({width:(o.width||l)+"px"}).align(e({y:s.fontMetrics(o.style.fontSize,i).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign)||(n=i.getBBox().height);a&&(a.css({width:(r.width||l)+"px"}).align(e({y:n+(o.margin-13)+s.fontMetrics(o.style.fontSize,a).b},r),!1,"spacingBox"),!r.floating&&!r.verticalAlign&&(n=fe(n+a.getBBox().height)));i=this.titleOffset!==n;this.titleOffset=n;!this.isDirtyBox&&i&&(this.isDirtyBox=i,this.hasRendered&&f(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=(t=this.options.chart).width,t=t.height,n=this.renderToClone||this.renderTo;d(e)||(this.containerWidth=Ue(n,"width"));d(t)||(this.containerHeight=Ue(n,"height"));this.chartWidth=pe(0,e||this.containerWidth||600);this.chartHeight=pe(0,f(t,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),k(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),p(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),le.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,a,o,r,s=this.options.chart;this.renderTo=t=s.renderTo;r="highcharts-"+Re++;i(t)&&(this.renderTo=t=le.getElementById(t));t||V(13,!0);a=n(u(t,"data-highcharts-chart"));!isNaN(a)&&Oe[a]&&Oe[a].hasRendered&&Oe[a].destroy();u(t,"data-highcharts-chart",this.index);t.innerHTML="";!s.skipClone&&!t.offsetWidth&&this.cloneRenderTo();this.getChartSize();a=this.chartWidth;o=this.chartHeight;this.container=t=m(Me,{className:"highcharts-container"+(s.className?" "+s.className:""),id:r},e({position:"relative",overflow:"hidden",width:a+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},s.style),this.renderToClone||t);this._cursor=t.style.cursor;this.renderer=s.forExport?new ct(t,a,o,s.style,!0):new M(t,a,o,s.style);Le&&this.renderer.create(this,t,a,o)},getMargins:function(){var e,t=this.spacing,n=this.legend,i=this.margin,a=this.options.legend,o=f(a.margin,20),r=a.x,s=a.y,l=a.align,c=a.verticalAlign,u=this.titleOffset;this.resetMargins();e=this.axisOffset;u&&!d(i[0])&&(this.plotTop=pe(this.plotTop,u+this.options.title.margin+t[0]));n.display&&!a.floating&&("right"===l?d(i[1])||(this.marginRight=pe(this.marginRight,n.legendWidth-r+o+t[1])):"left"===l?d(i[3])||(this.plotLeft=pe(this.plotLeft,n.legendWidth+r+o+t[3])):"top"===c?d(i[0])||(this.plotTop=pe(this.plotTop,n.legendHeight+s+o+t[0])):"bottom"!==c||d(i[2])||(this.marginBottom=pe(this.marginBottom,n.legendHeight-s+o+t[2])));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&Ve(this.axes,(function(e){e.getOffset()}));d(i[3])||(this.plotLeft+=e[3]);d(i[0])||(this.plotTop+=e[0]);d(i[2])||(this.marginBottom+=e[2]);d(i[1])||(this.marginRight+=e[1]);this.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,i=t.renderTo,a=n.width||Ue(i,"width"),o=n.height||Ue(i,"height");n=e?e.target:ce,i=function(){t.container&&(t.setSize(a,o,!1),t.hasUserSize=null)};if(!t.hasUserSize&&a&&o&&(n===ce||n===le)){a===t.containerWidth&&o===t.containerHeight||(clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(i,100):i());t.containerWidth=a;t.containerHeight=o}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Ye(ce,"resize",t);Ye(e,"destroy",(function(){Qe(ce,"resize",t)}))},setSize:function(e,t,n){var i,a,o,r=this;r.isResizing+=1;o=function(){r&&Xe(r,"endResize",null,(function(){r.isResizing-=1}))};E(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;d(e)&&(r.chartWidth=i=pe(0,ue(e)),r.hasUserSize=!!i);d(t)&&(r.chartHeight=a=pe(0,ue(t)));(U?Ze:p)(r.container,{width:i+"px",height:a+"px"},U);r.setChartSize(!0);r.renderer.setSize(i,a,n);r.maxTicks=null;Ve(r.axes,(function(e){e.isDirty=!0;e.setScale()}));Ve(r.series,(function(e){e.isDirty=!0}));r.isDirtyLegend=!0;r.isDirtyBox=!0;r.layOutTitles();r.getMargins();r.redraw(n);r.oldChartHeight=null;Xe(r,"resize");!1===U?o():setTimeout(o,U&&U.duration||500)},setChartSize:function(e){var t,n,i,a,o=this.inverted,r=this.renderer,s=this.chartWidth,l=this.chartHeight,c=this.options.chart,d=this.spacing,u=this.clipOffset;this.plotLeft=t=ue(this.plotLeft);this.plotTop=n=ue(this.plotTop);this.plotWidth=i=pe(0,ue(s-t-this.marginRight));this.plotHeight=a=pe(0,ue(l-n-this.marginBottom));this.plotSizeX=o?a:i;this.plotSizeY=o?i:a;this.plotBorderWidth=c.plotBorderWidth||0;this.spacingBox=r.spacingBox={x:d[3],y:d[0],width:s-d[3]-d[1],height:l-d[0]-d[2]};this.plotBox=r.plotBox={x:t,y:n,width:i,height:a};s=2*he(this.plotBorderWidth/2);o=fe(pe(s,u[3])/2);r=fe(pe(s,u[0])/2);this.clipBox={x:o,y:r,width:he(this.plotSizeX-pe(s,u[1])/2-o),height:pe(0,he(this.plotSizeY-pe(s,u[2])/2-r))};e||Ve(this.axes,(function(e){e.setAxisSize();e.setAxisTranslation()}))},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=f(t[0],e[0]);this.marginRight=f(t[1],e[1]);this.marginBottom=f(t[2],e[2]);this.plotLeft=f(t[3],e[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){
var e,t=this.options.chart,n=this.renderer,i=this.chartWidth,a=this.chartHeight,o=this.chartBackground,r=this.plotBackground,s=this.plotBorder,l=this.plotBGImage,c=t.borderWidth||0,d=t.backgroundColor,u=t.plotBackgroundColor,h=t.plotBackgroundImage,f=t.plotBorderWidth||0,p=this.plotLeft,m=this.plotTop,g=this.plotWidth,v=this.plotHeight,y=this.plotBox,b=this.clipRect,C=this.clipBox;e=c+(t.shadow?8:0);if(c||d)if(o)o.animate(o.crisp({width:i-e,height:a-e}));else{o={fill:d||Fe};c&&(o.stroke=t.borderColor,o["stroke-width"]=c);this.chartBackground=n.rect(e/2,e/2,i-e,a-e,t.borderRadius,c).attr(o).addClass("highcharts-background").add().shadow(t.shadow)}u&&(r?r.animate(y):this.plotBackground=n.rect(p,m,g,v,0).attr({fill:u}).add().shadow(t.plotShadow));h&&(l?l.animate(y):this.plotBGImage=n.image(h,p,m,g,v).add());b?b.animate({width:C.width,height:C.height}):this.clipRect=n.clipRect(C);f&&(s?s.animate(s.crisp({x:p,y:m,width:g,height:v,strokeWidth:-f})):this.plotBorder=n.rect(p,m,g,v,0,-f).attr({stroke:t.plotBorderColor,"stroke-width":f,fill:Fe,zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var e,t,n,i=this,a=i.options.chart,o=i.options.series;Ve(["inverted","angular","polar"],(function(r){e=He[a.type||a.defaultSeriesType];n=i[r]||a[r]||e&&e.prototype[r];for(t=o&&o.length;!n&&t--;)(e=He[o[t].type])&&e.prototype[r]&&(n=!0);i[r]=n}))},linkSeries:function(){var e=this,t=e.series;Ve(t,(function(e){e.linkedSeries.length=0}));Ve(t,(function(t){var n=t.options.linkedTo;i(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n)}))},renderSeries:function(){Ve(this.series,(function(e){e.translate();e.setTooltipPoints&&e.setTooltipPoints();e.render()}))},renderLabels:function(){var t=this,i=t.options.labels;i.items&&Ve(i.items,(function(a){var o=e(i.style,a.style),r=n(o.left)+t.plotLeft,s=n(o.top)+t.plotTop+12;delete o.left;delete o.top;t.renderer.text(a.html,r,s).attr({zIndex:2}).css(o).add()}))},render:function(){var e=this.axes,t=this.renderer,n=this.options;this.setTitle();this.legend=new yt(this,n.legend);this.getStacks();Ve(e,(function(e){e.setScale()}));this.getMargins();this.maxTicks=null;Ve(e,(function(e){e.setTickPositions(!0);e.setMaxTicks()}));this.adjustTickAmounts();this.getMargins();this.drawChartBox();this.hasCartesianSeries&&Ve(e,(function(e){e.render()}));this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.showCredits(n.credits);this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",(function(){e.href&&(location.href=e.href)})).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e,t=this,n=t.axes,i=t.series,a=t.container,o=a&&a.parentNode;Xe(t,"destroy");Oe[t.index]=B;Be--;t.renderTo.removeAttribute("data-highcharts-chart");Qe(t);for(e=n.length;e--;)n[e]=n[e].destroy();for(e=i.length;e--;)i[e]=i[e].destroy();Ve("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),(function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}));a&&(a.innerHTML="",Qe(a),o&&k(a));for(e in t)delete t[e]},isReadyToRender:function(){var e=this;return!(!Ee&&ce==ce.top&&"complete"!==le.readyState||Le&&!ce.canvg)||(Le?lt.push((function(){e.firstRender()}),e.options.global.canvasToolsURL):le.attachEvent("onreadystatechange",(function(){le.detachEvent("onreadystatechange",e.firstRender);"complete"===le.readyState&&e.firstRender()})),!1)},firstRender:function(){var e=this,t=e.options,n=e.callback;if(e.isReadyToRender()){e.getContainer();Xe(e,"init");e.resetMargins();e.setChartSize();e.propFromSeries();e.getAxes();Ve(t.series||[],(function(t){e.initSeries(t)}));e.linkSeries();Xe(e,"beforeRender");re.Pointer&&(e.pointer=new ft(e,t));e.render();e.renderer.draw();n&&n.apply(e,[e]);Ve(e.callbacks,(function(t){t.apply(e,[e])}));e.cloneRenderTo(!0);Xe(e,"load")}},splashArray:function(e,t){var n=a(n=t[e])?n:[n,n,n,n];return[f(t[e+"Top"],n[0]),f(t[e+"Right"],n[1]),f(t[e+"Bottom"],n[2]),f(t[e+"Left"],n[3])]}};P.prototype.callbacks=[];st=re.CenteredSeriesMixin={getCenter:function(){var e,t,i=this.options,a=this.chart,o=2*(i.slicedOffset||0),r=a.plotWidth-2*o,s=a.plotHeight-2*o,l=(i=[f((a=i.center)[0],"50%"),f(a[1],"50%"),i.size||"100%",i.innerSize||0],me(r,s));return Ke(i,(function(i,a){t=/%$/.test(i);e=a<2||2===a&&t;return(t?[r,s,l,l][a]*n(i)/100:i)+(e?o:0)}))}};var bt=function(){};bt.prototype={init:function(e,t,n){this.series=e;this.applyOptions(t,n);this.pointAttr={};e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length)&&(e.colorCounter=0);e.chart.pointCount++;return this},applyOptions:function(t,n){var i=this.series,a=i.options.pointValKey||i.pointValKey;e(this,t=bt.prototype.optionsToObject.call(this,t));this.options=this.options?e(this.options,t):t;a&&(this.y=this[a]);this.x===B&&i&&(this.x=n===B?i.autoIncrement():n);return this},optionsToObject:function(e){var t={},n=this.series,i=n.pointArrayMap||["y"],a=i.length,r=0,s=0;if("number"==typeof e||null===e)t[i[0]]=e;else if(o(e)){if(e.length>a){"string"===(n=typeof e[0])?t.name=e[0]:"number"===n&&(t.x=e[0]);r++}for(;s<a;)t[i[s++]]=e[r++]}else if("object"==typeof e){t=e;e.dataLabels&&(n._hasPointLabels=!0);e.marker&&(n._hasPointMarkers=!0)}return t},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;t.pointCount--;n&&(this.setState(),c(n,this),!n.length)&&(t.hoverPoints=null);this===t.hoverPoint&&this.onMouseOut();(this.graphic||this.dataLabel)&&(Qe(this),this.destroyElements());this.legendItem&&t.legend.destroyItem(this);for(e in this)this[e]=null},destroyElements:function(){for(var e,t="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),n=6;n--;)this[e=t[n]]&&(this[e]=this[e].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,i=f(n.valueDecimals,""),a=n.valuePrefix||"",o=n.valueSuffix||"";Ve(t.pointArrayMap||["y"],(function(t){t="{point."+t;(a||o)&&(e=e.replace(t+"}",a+t+"}"+o));e=e.replace(t+"}",t+":,."+i+"f}")}));return C(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var i=this,a=this.series.options;(a.point.events[e]||i.options&&i.options.events&&i.options.events[e])&&this.importEvents();"click"===e&&a.allowPointSelect&&(n=function(e){i.select(null,e.ctrlKey||e.metaKey||e.shiftKey)});Xe(this,e,t,n)}};var Ct=function(){};Ct.prototype={isCartesian:!0,type:"line",pointClass:bt,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,n){var i,a,o=this,r=t.series,s=function(e,t){return f(e.options.index,e._i)-f(t.options.index,t._i)};o.chart=t;o.options=n=o.setOptions(n);o.linkedSeries=[];o.bindAxes();e(o,{name:n.name,state:"",pointAttr:{},visible:!1!==n.visible,selected:!0===n.selected});Le&&(n.animation=!1);a=n.events;for(i in a)Ye(o,i,a[i]);(a&&a.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(t.runTrackerClick=!0);o.getColor();o.getSymbol();Ve(o.parallelArrays,(function(e){o[e+"Data"]=[]}));o.setData(n.data,!1);o.isCartesian&&(t.hasCartesianSeries=!0);r.push(o);o._i=r.length-1;D(r,s);this.yAxis&&D(this.yAxis.series,s);Ve(r,(function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)}))},bindAxes:function(){var e,t=this,n=t.options,i=t.chart;Ve(t.axisTypes||[],(function(a){Ve(i[a],(function(i){e=i.options;(n[a]===e.index||n[a]!==B&&n[a]===e.id||n[a]===B&&0===e.index)&&(i.series.push(t),t[a]=i,i.isDirty=!0)}));!t[a]&&t.optionalAxis!==a&&V(18,!0)}))},updateParallelArrays:function(e,t){var n=e.series,i=arguments;Ve(n.parallelArrays,"number"==typeof t?function(i){var a="y"===i&&n.toYData?n.toYData(e):e[i];n[i+"Data"][t]=a}:function(e){
Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(i,2))})},autoIncrement:function(){var e=this.options,t=f(t=this.xIncrement,e.pointStart,0);this.pointInterval=f(this.pointInterval,e.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},getSegments:function(){var e,t=-1,n=[],i=this.points,a=i.length;if(a)if(this.options.connectNulls){for(e=a;e--;)null===i[e].y&&i.splice(e,1);i.length&&(n=[i])}else Ve(i,(function(e,o){null===e.y?(o>t+1&&n.push(i.slice(t+1,o)),t=o):o===a-1&&n.push(i.slice(t+1,o+1))}));this.segments=n},setOptions:function(e){var n,i=(n=this.chart).options.plotOptions,a=(n=n.userOptions||{}).plotOptions||{},o=i[this.type];this.userOptions=e;i=t(o,i.series,e);this.tooltipOptions=t(H.tooltip,H.plotOptions[this.type].tooltip,n.tooltip,a.series&&a.series.tooltip,a[this.type]&&a[this.type].tooltip,e.tooltip);null===o.marker&&delete i.marker;return i},getCyclic:function(e,t,n){var i=this.userOptions,a="_"+e+"Index",o=e+"Counter";t||(d(i[a])?t=i[a]:(i[a]=t=this.chart[o]%n.length,this.chart[o]+=1),t=n[t]);this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||tt[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols);/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Ge.drawLineMarker,setData:function(e,t,n,a){var s,l=this,c=l.points,d=c&&c.length||0,u=l.options,h=l.chart,p=null,m=l.xAxis,g=m&&!!m.categories,v=l.tooltipPoints,y=u.turboThreshold,b=this.xData,C=this.yData,S=(s=l.pointArrayMap)&&s.length;s=(e=e||[]).length;t=f(t,!0);if(!1===a||!s||d!==s||l.cropped||l.hasGroupedData){l.xIncrement=null;l.pointRange=g?1:u.pointRange;l.colorCounter=0;Ve(this.parallelArrays,(function(e){l[e+"Data"].length=0}));if(y&&s>y){for(n=0;null===p&&n<s;)p=e[n],n++;if(r(p)){g=f(u.pointStart,0);u=f(u.pointInterval,1);for(n=0;n<s;n++)b[n]=g,C[n]=e[n],g+=u;l.xIncrement=g}else if(o(p))if(S)for(n=0;n<s;n++)u=e[n],b[n]=u[0],C[n]=u.slice(1,S+1);else for(n=0;n<s;n++)u=e[n],b[n]=u[0],C[n]=u[1];else V(12)}else for(n=0;n<s;n++)e[n]!==B&&(u={series:l},l.pointClass.prototype.applyOptions.apply(u,[e[n]]),l.updateParallelArrays(u,n),g&&u.name)&&(m.names[u.x]=u.name);i(C[0])&&V(14,!0);l.data=[];l.options.data=e;for(n=d;n--;)c[n]&&c[n].destroy&&c[n].destroy();v&&(v.length=0);m&&(m.minRange=m.userMinRange);l.isDirty=l.isDirtyData=h.isDirtyBox=!0;n=!1}else Ve(e,(function(e,t){c[t].update(e,!1,null,!1)}));t&&h.redraw(n)},processData:function(e){var t,n=this.xData,i=this.yData,a=n.length;t=0;var o,r,s,l=this.xAxis,c=this.options;s=c.cropThreshold;var d,u,h=0,f=this.isCartesian;if(f&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!e)return!1;l&&(u=(d=l.getExtremes()).min,d=d.max);f&&this.sorted&&(!s||a>s||this.forceCrop)&&(n[a-1]<u||n[0]>d?(n=[],i=[]):(n[0]<u||n[a-1]>d)&&(n=(t=this.cropData(this.xData,this.yData,u,d)).xData,i=t.yData,t=t.start,o=!0,h=n.length));for(s=n.length-1;s>=0;s--)a=n[s]-n[s-1],!o&&n[s]>u&&n[s]<d&&h++,a>0&&(r===B||a<r)?r=a:a<0&&this.requireSorting&&V(15);this.cropped=o;this.cropStart=t;this.processedXData=n;this.processedYData=i;this.activePointCount=h;null===c.pointRange&&(this.pointRange=r||1);this.closestPointRange=r},cropData:function(e,t,n,i){var a,o=e.length,r=0,s=o,l=f(this.cropShoulder,1);for(a=0;a<o;a++)if(e[a]>=n){r=pe(0,a-l);break}for(;a<o;a++)if(e[a]>i){s=a+l;break}return{xData:e.slice(r,s),yData:t.slice(r,s),start:r,end:s}},generatePoints:function(){var e,t,n,i,a=this.options.data,o=this.data,r=this.processedXData,s=this.processedYData,l=this.pointClass,c=r.length,d=this.cropStart||0,u=this.hasGroupedData,f=[];o||u||((o=[]).length=a.length,o=this.data=o);for(i=0;i<c;i++)t=d+i,u?f[i]=(new l).init(this,[r[i]].concat(h(s[i]))):(o[t]?n=o[t]:a[t]!==B&&(o[t]=n=(new l).init(this,a[t],r[i])),f[i]=n),f[i].index=t;if(o&&(c!==(e=o.length)||u))for(i=0;i<e;i++)(i===d&&!u&&(i+=c),o[i])&&(o[i].destroyElements(),o[i].plotX=B);this.data=o;this.points=f},getExtremes:function(e){var t,n,i,a,o,r=this.yAxis,s=this.processedXData,l=[],c=0,d=(t=this.xAxis.getExtremes()).min,u=t.max;t=(e=e||this.stackedYData||this.processedYData).length;for(o=0;o<t;o++)if(i=s[o],n=null!==(a=e[o])&&a!==B&&(!r.isLog||a.length||a>0),i=this.getExtremesFromAll||this.cropped||(s[o+1]||i)>=d&&(s[o-1]||i)<=u,n&&i)if(n=a.length)for(;n--;)null!==a[n]&&(l[c++]=a[n]);else l[c++]=a;this.dataMin=f(void 0,T(l));this.dataMax=f(void 0,I(l))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var e=(h=this.options).stacking,t=this.xAxis,n=t.categories,i=this.yAxis,a=this.points,o=a.length,s=!!this.modifyValue,l=h.pointPlacement,c="between"===l||r(l),u=h.threshold,h=0;h<o;h++){var p=a[h],m=p.x,g=p.y,v=p.low,y=e&&i.stacks[(this.negStacks&&g<u?"-":"")+this.stackKey];i.isLog&&g<=0&&(p.y=g=null,V(10));p.plotX=t.translate(m,0,0,0,1,l,"flags"===this.type);e&&this.visible&&y&&y[m]&&(v=(g=(y=y[m]).points[this.index+","+h])[0],g=g[1],0===v&&(v=f(u,i.min)),i.isLog&&v<=0&&(v=null),p.total=p.stackTotal=y.total,p.percentage=y.total&&p.y/y.total*100,p.stackY=g,y.setOffset(this.pointXOffset||0,this.barW||0));p.yBottom=d(v)?i.translate(v,0,1,0,1):null;s&&(g=this.modifyValue(g,p));p.plotY="number"==typeof g&&g!==1/0?i.translate(g,0,1,0,1):B;p.clientX=c?t.translate(m,0,0,0,1):p.plotX;p.negative=p.y<(u||0);p.category=n&&n[p.x]!==B?n[p.x]:p.x}this.getSegments()},animate:function(t){var n,i=this.chart,o=i.renderer;n=this.options.animation;var r,s=this.clipBox||i.clipBox,l=i.inverted;n&&!a(n)&&(n=tt[this.type].animation);r=["_sharedClip",n.duration,n.easing,s.height].join(",");t?(t=i[r],n=i[r+"m"],t||(i[r]=t=o.clipRect(e(s,{width:0})),i[r+"m"]=n=o.clipRect(-99,l?-i.plotLeft:-i.plotTop,99,l?i.chartWidth:i.chartHeight)),this.group.clip(t),this.markerGroup.clip(n),this.sharedClipKey=r):((t=i[r])&&t.animate({width:i.plotSizeX},n),i[r+"m"]&&i[r+"m"].animate({width:i.plotSizeX+99},n),this.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,i=this.clipBox;if(n&&!1!==this.options.clip){t&&i||n.clip(i?e.renderer.clipRect(i):e.clipRect);this.markerGroup.clip()}Xe(this,"afterAnimate");setTimeout((function(){t&&e[t]&&(i||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))}),100)},drawPoints:function(){var t,n,i,a,o,r,s,l,c,d,u,h,p=this.points,m=this.chart,g=this.options.marker,v=this.pointAttr[""],y=this.markerGroup,b=f(g.enabled,!this.requireSorting||this.activePointCount<.5*this.xAxis.len/g.radius);if(!1!==g.enabled||this._hasPointMarkers)for(a=p.length;a--;)o=p[a],n=he(o.plotX),i=o.plotY,c=o.graphic,d=o.marker||{},u=!!o.marker,t=b&&d.enabled===B||d.enabled,h=m.isInsidePlot(ue(n),i,m.inverted),t&&i!==B&&!isNaN(i)&&null!==o.y?(r=(t=o.pointAttr[o.selected?"select":""]||v).r,l=0===(s=f(d.symbol,this.symbol)).indexOf("url"),c?c[h?"show":"hide"](!0).animate(e({x:n-r,y:i-r},c.symbolName?{width:2*r,height:2*r}:{})):h&&(r>0||l)&&(o.graphic=m.renderer.symbol(s,n-r,i-r,2*r,2*r,u?d:g).attr(t).add(y))):c&&(o.graphic=c.destroy())},convertAttribs:function(e,t,n,i){var a,o,r=this.pointAttrToOptions,s={};e=e||{},t=t||{},n=n||{},i=i||{};for(a in r)o=r[a],s[a]=f(e[o],t[a],n[a],i[a]);return s},getAttribs:function(){var t,n=this,i=n.options,a=tt[n.type].marker?i.marker:i,o=a.states,r=o.hover,s=n.color;t={stroke:s,fill:s};var l,c,u=n.points||[],h=[],f=n.pointAttrToOptions;c=n.hasPointSpecificOptions;var p,m=i.negativeColor,g=a.lineColor,v=a.fillColor;l=i.turboThreshold;i.marker?(r.radius=r.radius||a.radius+r.radiusPlus,r.lineWidth=r.lineWidth||a.lineWidth+r.lineWidthPlus):r.color=r.color||rt(r.color||s).brighten(r.brightness).get();h[""]=n.convertAttribs(a,t);Ve(["hover","select"],(function(e){h[e]=n.convertAttribs(o[e],h[""])}));n.pointAttr=h;s=u.length;if(!l||s<l||c)for(;s--;){(a=(l=u[s]).options&&l.options.marker||l.options)&&!1===a.enabled&&(a.radius=0);l.negative&&m&&(l.color=l.fillColor=m);c=i.colorByPoint||l.color;if(l.options)for(p in f)d(a[f[p]])&&(c=!0);if(c){c=[];t=(o=(a=a||{}).states||{}).hover=o.hover||{};i.marker||(t.color=t.color||!l.options.color&&r.color||rt(l.color).brighten(t.brightness||r.brightness).get());t={color:l.color};v||(t.fillColor=l.color);g||(t.lineColor=l.color)
;c[""]=n.convertAttribs(e(t,a),h[""]);c.hover=n.convertAttribs(o.hover,h.hover,c[""]);c.select=n.convertAttribs(o.select,h.select,c[""])}else c=h;l.pointAttr=c}},destroy:function(){var e,t,n,i,a,o=this,r=o.chart,s=/AppleWebKit\/533/.test(Se),l=o.data||[];Xe(o,"destroy");Qe(o);Ve(o.axisTypes||[],(function(e){(a=o[e])&&(c(a.series,o),a.isDirty=a.forceRedraw=!0)}));o.legendItem&&o.chart.legend.destroyItem(o);for(t=l.length;t--;)(n=l[t])&&n.destroy&&n.destroy();o.points=null;clearTimeout(o.animationTimeout);Ve("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),(function(t){o[t]&&(e=s&&"group"===t?"hide":"destroy",o[t][e]())}));r.hoverSeries===o&&(r.hoverSeries=null);c(r.series,o);for(i in o)delete o[i]},getSegmentPath:function(e){var t=this,n=[],i=t.options.step;Ve(e,(function(a,o){var r,s=a.plotX,l=a.plotY;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,a,o)):(n.push(o?"L":"M"),i&&o&&(r=e[o-1],"right"===i?n.push(r.plotX,l):"center"===i?n.push((r.plotX+s)/2,r.plotY,(r.plotX+s)/2,l):n.push(s,r.plotY)),n.push(a.plotX,a.plotY))}));return n},getGraphPath:function(){var e,t=this,n=[],i=[];Ve(t.segments,(function(a){e=t.getSegmentPath(a);a.length>1?n=n.concat(e):i.push(a[0])}));t.singlePoints=i;return t.graphPath=n},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],i=t.lineWidth,a=t.dashStyle,o="square"!==t.linecap,r=this.getGraphPath(),s=t.negativeColor;s&&n.push(["graphNeg",s]);Ve(n,(function(n,s){var l=n[0],c=e[l];c?(et(c),c.animate({d:r})):i&&r.length&&(c={stroke:n[1],"stroke-width":i,fill:Fe,zIndex:1},a?c.dashstyle=a:o&&(c["stroke-linecap"]=c["stroke-linejoin"]="round"),e[l]=e.chart.renderer.path(r).attr(c).add(e.group).shadow(!s&&t.shadow))}))},clipNeg:function(){var e,t=this.options,n=this.chart,i=n.renderer,a=t.negativeColor||t.negativeFillColor,o=this.graph,r=this.area,s=this.posClip,l=this.negClip;e=n.chartWidth;var c=n.chartHeight,d=pe(e,c),u=this.yAxis;if(a&&(o||r)){(a=ue(u.toPixels(t.threshold||0,!0)))<0&&(d-=a);t={x:0,y:0,width:d,height:a};d={x:0,y:a,width:d,height:d};n.inverted&&(t.height=d.y=n.plotWidth-a,i.isVML&&(t={x:n.plotWidth-a-n.plotLeft,y:0,width:e,height:c},d={x:a+n.plotLeft-e,y:0,width:n.plotLeft+a,height:e}));u.reversed?(n=d,e=t):(n=t,e=d);s?(s.animate(n),l.animate(e)):(this.posClip=s=i.clipRect(n),this.negClip=l=i.clipRect(e),o&&this.graphNeg&&(o.clip(s),this.graphNeg.clip(l)),r&&(r.clip(s),this.areaNeg.clip(l)))}},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};Ve(["group","markerGroup"],(function(n){t[n]&&t[n].attr(e).invert()}))}var t=this,n=t.chart;t.xAxis&&(Ye(n,"resize",e),Ye(t,"destroy",(function(){Qe(n,"resize",e)})),e(),t.invertGroups=e)},plotGroup:function(e,t,n,i,a){var o=this[e],r=!o;r&&(this[e]=o=this.chart.renderer.g(t).attr({visibility:n,zIndex:i||.1}).add(a));o[r?"attr":"animate"](this.getPlotBox());return o},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;e.inverted&&(t=n,n=this.xAxis);return{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,n=t.chart,i=t.options,a=(e=i.animation)&&!!t.animate&&n.renderer.isSVG&&f(e.duration,500)||0,o=t.visible?"visible":"hidden",r=i.zIndex,s=t.hasRendered,l=n.seriesGroup;e=t.plotGroup("group","series",o,r,l);t.markerGroup=t.plotGroup("markerGroup","markers",o,r,l);a&&t.animate(!0);t.getAttribs();e.inverted=!!t.isCartesian&&n.inverted;t.drawGraph&&(t.drawGraph(),t.clipNeg());Ve(t.points,(function(e){e.redraw&&e.redraw()}));t.drawDataLabels&&t.drawDataLabels();t.visible&&t.drawPoints();t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker();n.inverted&&t.invertGroups();!1!==i.clip&&!t.sharedClipKey&&!s&&e.clip(n.clipRect);a&&t.animate();s||(a?t.animationTimeout=setTimeout((function(){t.afterAnimate()}),a):t.afterAnimate());t.isDirty=t.isDirtyData=!1;t.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,i=this.xAxis,a=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:f(i&&i.left,e.plotLeft),translateY:f(a&&a.top,e.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();t&&Xe(this,"updatedData")}};O.prototype={destroy:function(){x(this,this.axis)},render:function(e){var t=this.options,n=(n=t.format)?C(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=(r=this.axis).chart,i=n.inverted,a=this.isNegative,o=r.translate(r.usePercentage?100:this.total,0,0,0,1),r=r.translate(0),s=(r=ge(o-r),n.xAxis[0].translate(this.x)+e),l=n.plotHeight;a={x:i?a?o:o-r:s,y:i?l-s-t:a?l-o-r:l-o,width:i?r:t,height:i?t:r};(i=this.label)&&(i.align(this.alignOptions,null,a),a=i.alignAttr,i[!1===this.options.crop||n.isInsidePlot(a.x,a.y)?"show":"hide"](!0))}};R.prototype.buildStacks=function(){var e=this.series,t=f(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}};R.prototype.renderStackTotals=function(){var e,t,n=this.chart,i=n.renderer,a=this.stacks,o=this.stackTotalGroup;o||(this.stackTotalGroup=o=i.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());o.translate(n.plotLeft,n.plotTop);for(e in a)for(t in n=a[e])n[t].render(o)};Ct.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e,t,n,i,a,o,r=this.processedXData,s=this.processedYData,l=[],c=s.length,d=(h=this.options).threshold,u=h.stack,h=h.stacking,f=this.stackKey,p="-"+f,m=this.negStacks,g=this.yAxis,v=g.stacks,y=g.oldStacks;for(i=0;i<c;i++){a=r[i];o=s[i];n=this.index+","+i;v[t=(e=m&&o<d)?p:f]||(v[t]={});v[t][a]||(y[t]&&y[t][a]?(v[t][a]=y[t][a],v[t][a].total=null):v[t][a]=new O(g,g.options.stackLabels,e,a,u));(t=v[t][a]).points[n]=[t.cum||0];"percent"===h?(e=e?f:p,m&&v[e]&&v[e][a]?(e=v[e][a],t.total=e.total=pe(e.total,t.total)+ge(o)||0):t.total=w(t.total+(ge(o)||0))):t.total=w(t.total+(o||0));t.cum=(t.cum||0)+(o||0);t.points[n].push(t.cum);l[i]=t.cum}"percent"===h&&(g.usePercentage=!0);this.stackedYData=l;g.oldStacks={}}};Ct.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,i=e.processedXData;Ve([t,"-"+t],(function(t){for(var a,o,r,s=i.length;s--;)(o=i[s],o=a=(r=n[t]&&n[t][o])&&r.points[e.index+","+s])&&(r=r.total?100/r.total:0,o[0]=w(o[0]*r),o[1]=w(o[1]*r),e.stackedYData[s]=o[1])}))};e(P.prototype,{addSeries:function(e,t,n){var i,a=this;e&&(t=f(t,!0),Xe(a,"addSeries",{options:e},(function(){i=a.initSeries(e);a.isDirtyLegend=!0;a.linkSeries();t&&a.redraw(n)})));return i},addAxis:function(e,n,i,a){var o=n?"xAxis":"yAxis",r=this.options;new R(this,t(e,{index:this[o].length,isX:n}));r[o]=h(r[o]||{});r[o].push(e);f(i,!0)&&this.redraw(a)},showLoading:function(t){var n=this,i=n.options,a=n.loadingDiv,o=i.loading,r=function(){a&&p(a,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};a||(n.loadingDiv=a=m(Me,{className:"highcharts-loading"},e(o.style,{zIndex:10,display:Fe}),n.container),n.loadingSpan=m("span",null,o.labelStyle,a),Ye(n,"redraw",r));n.loadingSpan.innerHTML=t||i.lang.loading;n.loadingShown||(p(a,{opacity:0,display:""}),Ze(a,{opacity:o.style.opacity},{duration:o.showDuration||0}),n.loadingShown=!0);r()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Ze(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){p(t,{display:Fe})}});this.loadingShown=!1}});e(bt.prototype,{update:function(e,t,n,i){function r(){l.applyOptions(e);a(e)&&!o(e)&&(l.redraw=function(){d&&(e&&e.marker&&e.marker.symbol?l.graphic=d.destroy():d.attr(l.pointAttr[l.state||""]));e&&e.dataLabels&&l.dataLabel&&(l.dataLabel=l.dataLabel.destroy());l.redraw=null});s=l.index;c.updateParallelArrays(l,s);h.data[s]=l.options;c.isDirty=c.isDirtyData=!0;!c.fixedBox&&c.hasCartesianSeries&&(u.isDirtyBox=!0)
;"point"===h.legendType&&u.legend.destroyItem(l);t&&u.redraw(n)}var s,l=this,c=l.series,d=l.graphic,u=c.chart,h=c.options;t=f(t,!0);!1===i?r():l.firePointEvent("update",{options:e},r)},remove:function(e,t){var n,i=this,a=i.series,o=a.points,r=a.chart,s=a.data;E(t,r);e=f(e,!0);i.firePointEvent("remove",null,(function(){n=$e(i,s);s.length===o.length&&o.splice(n,1);s.splice(n,1);a.options.data.splice(n,1);a.updateParallelArrays(i,"splice",n,1);i.destroy();a.isDirty=!0;a.isDirtyData=!0;e&&r.redraw()}))}});e(Ct.prototype,{addPoint:function(e,t,n,i){var a,o=this.options,r=this.data,s=this.graph,l=this.area,c=this.chart,d=this.xAxis&&this.xAxis.names,u=s&&s.shift||0,h=o.data,p=this.xData;E(i,c);n&&Ve([s,l,this.graphNeg,this.areaNeg],(function(e){e&&(e.shift=u+1)}));l&&(l.isArea=!0);t=f(t,!0);i={series:this};this.pointClass.prototype.applyOptions.apply(i,[e]);s=i.x;l=p.length;if(this.requireSorting&&s<p[l-1])for(a=!0;l&&p[l-1]>s;)l--;this.updateParallelArrays(i,"splice",l,0,0);this.updateParallelArrays(i,l);d&&i.name&&(d[s]=i.name);h.splice(l,0,e);a&&(this.data.splice(l,0,null),this.processData());"point"===o.legendType&&this.generatePoints();n&&(r[0]&&r[0].remove?r[0].remove(!1):(r.shift(),this.updateParallelArrays(i,"shift"),h.shift()));this.isDirtyData=this.isDirty=!0;t&&(this.getAttribs(),c.redraw())},remove:function(e,t){var n=this,i=n.chart;e=f(e,!0);n.isRemoving||(n.isRemoving=!0,Xe(n,"remove",null,(function(){n.destroy();i.isDirtyLegend=i.isDirtyBox=!0;i.linkSeries();e&&i.redraw(t)})));n.isRemoving=!1},update:function(n,i){var a,o=this,r=this.chart,s=this.userOptions,l=this.type,c=He[l].prototype,d=["group","markerGroup","dataLabelsGroup"];Ve(d,(function(e){d[e]=o[e];delete o[e]}));n=t(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1);for(a in c)c.hasOwnProperty(a)&&(this[a]=B);e(this,He[n.type||l].prototype);Ve(d,(function(e){o[e]=d[e]}));this.init(r,n);r.linkSeries();f(i,!0)&&r.redraw(!1)}});e(R.prototype,{update:function(n,i){var a=this.chart;n=a.options[this.coll][this.options.index]=t(this.userOptions,n);this.destroy(!0);this._addedPlotLB=B;this.init(a,e(n,{events:B}));a.isDirtyBox=!0;f(i,!0)&&a.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,i=this.series,a=i.length;a--;)i[a]&&i[a].remove(!1);c(t.axes,this);c(t[n],this);t.options[n].splice(this.options.index,1);Ve(t[n],(function(e,t){e.options.index=t}));this.destroy();t.isDirtyBox=!0;f(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});dt=g(Ct);He.line=dt;tt.area=t(nt,{threshold:0});var St=g(Ct,{type:"area",getSegments:function(){var e,t,n,i,a=this,o=[],r=[],s=[],l=this.xAxis,c=this.yAxis,d=c.stacks[this.stackKey],u={},h=this.points,f=this.options.connectNulls;if(this.options.stacking&&!this.cropped){for(n=0;n<h.length;n++)u[h[n].x]=h[n];for(i in d)null!==d[i].total&&s.push(+i);s.sort((function(e,t){return e-t}));Ve(s,(function(i){var o,s=0;if(!f||u[i]&&null!==u[i].y)if(u[i])r.push(u[i]);else{for(n=a.index;n<=c.series.length;n++)if(o=d[i].points[n+","+i]){s=o[1];break}e=l.translate(i);t=c.toPixels(s,!0);r.push({y:null,plotX:e,clientX:e,plotY:t,yBottom:t,onMouseOver:Pe})}}));r.length&&o.push(r)}else Ct.prototype.getSegments.call(this),o=this.segments;this.segments=o},getSegmentPath:function(e){var t,n=Ct.prototype.getSegmentPath.call(this,e),i=[].concat(n),a=this.options;t=n.length;var o,r=this.yAxis.getThreshold(a.threshold);3===t&&i.push("L",n[1],n[2]);if(a.stacking&&!this.closedStacks)for(t=e.length-1;t>=0;t--)o=f(e[t].yBottom,r),t<e.length-1&&a.step&&i.push(e[t+1].plotX,o),i.push(e[t].plotX,o);else this.closeSegment(i,e,r);this.areaPath=this.areaPath.concat(i);return n},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[];Ct.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,i=n.negativeColor,a=n.negativeFillColor,o=[["area",this.color,n.fillColor]];(i||a)&&o.push(["areaNeg",i,a]);Ve(o,(function(i){var a=i[0],o=e[a];o?o.animate({d:t}):e[a]=e.chart.renderer.path(t).attr({fill:f(i[2],rt(i[1]).setOpacity(f(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)}))},drawLegendSymbol:Ge.drawRectangle});He.area=St;tt.spline=t(nt);dt=g(Ct,{type:"spline",getPointSpline:function(e,t,n){var i,a,o,r,s=t.plotX,l=t.plotY,c=e[n-1],d=e[n+1];if(c&&d){e=c.plotY;o=d.plotX;var u;r=(1.5*l+(d=d.plotY))/2.5;r+=u=(r-(a=(1.5*l+e)/2.5))*((o=(1.5*s+o)/2.5)-s)/(o-(i=(1.5*s+c.plotX)/2.5))+l-r;(a+=u)>e&&a>l?r=2*l-(a=pe(e,l)):a<e&&a<l&&(r=2*l-(a=me(e,l)));r>d&&r>l?a=2*l-(r=pe(d,l)):r<d&&r<l&&(a=2*l-(r=me(d,l)));t.rightContX=o;t.rightContY=r}n?(t=["C",c.rightContX||c.plotX,c.rightContY||c.plotY,i||s,a||l,s,l],c.rightContX=c.rightContY=null):t=["M",s,l];return t}});He.spline=dt;tt.areaspline=t(tt.area);dt=g(dt,{type:"areaspline",closedStacks:!0,getSegmentPath:(St=St.prototype).getSegmentPath,closeSegment:St.closeSegment,drawGraph:St.drawGraph,drawLegendSymbol:Ge.drawRectangle});He.areaspline=dt;tt.column=t(nt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});dt=g(Ct,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){Ct.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&Ve(t.series,(function(t){t.type===e.type&&(t.isDirty=!0)}))},getColumnMetrics:function(){var e,t,n=this,i=n.options,a=n.xAxis,o=n.yAxis,r=a.reversed,s={},l=0;!1===i.grouping?l=1:Ve(n.chart.series,(function(i){var a=i.options,r=i.yAxis;i.type===n.type&&i.visible&&o.len===r.len&&o.pos===r.pos&&(a.stacking?(e=i.stackKey,s[e]===B&&(s[e]=l++),t=s[e]):!1!==a.grouping&&(t=l++),i.columnIndex=t)}));var c=(a=me(ge(a.transA)*(a.ordinalSlope||i.pointRange||a.closestPointRange||a.tickInterval||1),a.len))*i.groupPadding,u=(a-2*c)/l,h=f(h=i.pointWidth,u-2*(i=d(h)?(u-h)/2:u*i.pointPadding));return n.columnMetrics={width:h,offset:i+(c+((r?l-(n.columnIndex||0):n.columnIndex)||0)*u-a/2)*(r?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,i=e.borderWidth=f(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),a=e.yAxis,o=e.translatedThreshold=a.getThreshold(n.threshold),r=f(n.minPointLength,5),s=e.getColumnMetrics(),l=s.width,c=e.barW=pe(l,1+2*i),d=e.pointXOffset=s.offset,u=-(i%2?.5:0),h=i%2?.5:1;t.renderer.isVML&&t.inverted&&(h+=1);n.pointPadding&&(c=fe(c));Ct.prototype.translate.apply(e);Ve(e.points,(function(n){var i,s=f(n.yBottom,o),p=me(pe(-999-s,n.plotY),a.len+999+s),m=n.plotX+d,g=c,v=me(p,s);i=pe(p,s)-v;ge(i)<r&&r&&(i=r,v=ue(ge(v-o)>r?s-r:o-(a.translate(n.y,0,1,0,1)<=o?r:0)));n.barX=m;n.pointWidth=l;n.tooltipPos=t.inverted?[a.len-p,e.xAxis.len-m-g/2]:[m+g/2,p+a.pos-t.plotTop];g=ue(m+g)+u;g-=m=ue(m)+u;s=ge(v)<.5;i=ue(v+i)+h;i-=v=ue(v)+h;s&&(v-=1,i+=1);n.shapeType="rect";n.shapeArgs={x:m,y:v,width:g,height:i}}))},getSymbol:Pe,drawLegendSymbol:Ge.drawRectangle,drawGraph:Pe,drawPoints:function(){var e,n,i=this,a=this.chart,o=i.options,r=a.renderer,s=o.animationLimit||250;Ve(i.points,(function(l){var c=l.plotY,u=l.graphic;c===B||isNaN(c)||null===l.y?u&&(l.graphic=u.destroy()):(e=l.shapeArgs,c=d(i.borderWidth)?{"stroke-width":i.borderWidth}:{},n=l.pointAttr[l.selected?"select":""]||i.pointAttr[""],u?(et(u),u.attr(c)[a.pointCount<s?"animate":"attr"](t(e))):l.graphic=r[l.shapeType](e).attr(n).attr(c).add(i.group).shadow(o.shadow,null,o.stacking&&!o.borderRadius))}))},animate:function(e){var t=this.yAxis,n=this.options,i=this.chart.inverted,a={};Ee&&(e?(a.scaleY=.001,e=me(t.pos+t.len,pe(t.pos,t.toPixels(n.threshold))),i?a.translateX=e-t.len:a.translateY=e,this.group.attr(a)):(a.scaleY=1,a[i?"translateX":"translateY"]=t.pos,this.group.animate(a,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&Ve(t.series,(function(t){t.type===e.type&&(t.isDirty=!0)}))
;Ct.prototype.remove.apply(e,arguments)}});He.column=dt;tt.bar=t(tt.column);St=g(dt,{type:"bar",inverted:!0});He.bar=St;tt.scatter=t(nt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});St=g(Ct,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&Ct.prototype.drawGraph.call(this)}});He.scatter=St;tt.pie=t(nt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});nt={type:"pie",isCartesian:!1,pointClass:g(bt,{init:function(){bt.prototype.init.apply(this,arguments);var t,n=this;n.y<0&&(n.y=null);e(n,{visible:!1!==n.visible,name:f(n.name,"Slice")});t=function(e){n.slice("select"===e.type)};Ye(n,"select",t);Ye(n,"unselect",t);return n},setVisible:function(e){var t=this,n=t.series,i=n.chart;t.visible=t.options.visible=e=e===B?!t.visible:e;n.options.data[$e(t,n.data)]=t.options;Ve(["graphic","dataLabel","connector","shadowGroup"],(function(n){t[n]&&t[n][e?"show":"hide"](!0)}));t.legendItem&&i.legend.colorizeItem(t,e);!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,i.redraw())},slice:function(e,t,n){var i=this.series;E(n,i.chart);f(t,!0);this.sliced=this.options.sliced=e=d(e)?e:!this.sliced;i.options.data[$e(this,i.data)]=this.options;e=e?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(e);this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:Pe,animate:function(e){var t=this,n=t.points,i=t.startAngleRad;e||(Ve(n,(function(e){var n=e.graphic;e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:i,end:i}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))})),t.animate=null)},setData:function(e,t,n,i){Ct.prototype.setData.call(this,e,!1,n,i);this.processData();this.generatePoints();f(t,!0)&&this.chart.redraw(n)},generatePoints:function(){var e,t,n,i,a=0,o=this.options.ignoreHiddenPoint;Ct.prototype.generatePoints.call(this);n=(t=this.points).length;for(e=0;e<n;e++)i=t[e],a+=o&&!i.visible?0:i.y;this.total=a;for(e=0;e<n;e++)(i=t[e]).percentage=a>0?i.y/a*100:0,i.total=a},translate:function(e){this.generatePoints();var t,n,i,a,o,r=0,s=(p=this.options).slicedOffset,l=s+p.borderWidth,c=p.startAngle||0,d=this.startAngleRad=be/180*(c-90),u=(c=(this.endAngleRad=be/180*(f(p.endAngle,c+360)-90))-d,this.points),h=p.dataLabels.distance,p=p.ignoreHiddenPoint,m=u.length;e||(this.center=e=this.getCenter());this.getX=function(t,n){i=de.asin(me((t-e[1])/(e[2]/2+h),1));return e[0]+(n?-1:1)*ve(i)*(e[2]/2+h)};for(a=0;a<m;a++){o=u[a];t=d+r*c;p&&!o.visible||(r+=o.percentage/100);n=d+r*c;o.shapeType="arc";o.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:ue(1e3*t)/1e3,end:ue(1e3*n)/1e3};(i=(n+t)/2)>1.5*be?i-=2*be:i<-be/2&&(i+=2*be);o.slicedTranslation={translateX:ue(ve(i)*s),translateY:ue(ye(i)*s)};t=ve(i)*e[2]/2;n=ye(i)*e[2]/2;o.tooltipPos=[e[0]+.7*t,e[1]+.7*n];o.half=i<-be/2||i>be/2?1:0;o.angle=i;l=me(l,h/2);o.labelPos=[e[0]+t+ve(i)*h,e[1]+n+ye(i)*h,e[0]+t+ve(i)*l,e[1]+n+ye(i)*l,e[0]+t,e[1]+n,h<0?"center":o.half?"right":"left",i]}},drawGraph:null,drawPoints:function(){var t,n,i,a,o=this,r=o.chart.renderer,s=o.options.shadow;s&&!o.shadowGroup&&(o.shadowGroup=r.g("shadow").add(o.group));Ve(o.points,(function(l){n=l.graphic;a=l.shapeArgs;i=l.shadowGroup;s&&!i&&(i=l.shadowGroup=r.g("shadow").add(o.shadowGroup));t=l.sliced?l.slicedTranslation:{translateX:0,translateY:0};i&&i.attr(t);n?n.animate(e(a,t)):l.graphic=n=r[l.shapeType](a).setRadialReference(o.center).attr(l.pointAttr[l.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(t).add(o.group).shadow(s,i);void 0!==l.visible&&l.setVisible(l.visible)}))},sortByAngle:function(e,t){e.sort((function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t}))},drawLegendSymbol:Ge.drawRectangle,getCenter:st.getCenter,getSymbol:Pe};nt=g(Ct,nt);He.pie=nt;Ct.prototype.drawDataLabels=function(){var n,i,a,o,r=this,s=r.options,l=s.cursor,c=s.dataLabels,u=r.points,h=r.hasRendered||0;(c.enabled||r._hasPointLabels)&&(r.dlProcessOptions&&r.dlProcessOptions(c),o=r.plotGroup("dataLabelsGroup","data-labels",c.defer?"hidden":"visible",c.zIndex||6),f(c.defer,!0)&&(o.attr({opacity:+h}),h||Ye(r,"afterAnimate",(function(){r.visible&&o.show();o[s.animation?"animate":"attr"]({opacity:1},{duration:200})}))),i=c,Ve(u,(function(s){var u,h,p,m=s.dataLabel,g=s.connector,v=!0;u=f((n=s.options&&s.options.dataLabels)&&n.enabled,i.enabled);if(m&&!u)s.dataLabel=m.destroy();else if(u){u=(c=t(i,n)).rotation;h=s.getLabelConfig();a=c.format?C(c.format,h):c.formatter.call(h,c);c.style.color=f(c.color,c.style.color,r.color,"black");if(m)d(a)?(m.attr({text:a}),v=!1):(s.dataLabel=m=m.destroy(),g)&&(s.connector=g.destroy());else if(d(a)){m={fill:c.backgroundColor,stroke:c.borderColor,"stroke-width":c.borderWidth,r:c.borderRadius||0,rotation:u,padding:c.padding,zIndex:1};for(p in m)m[p]===B&&delete m[p];m=s.dataLabel=r.chart.renderer[u?"text":"label"](a,0,-999,null,null,null,c.useHTML).attr(m).css(e(c.style,l&&{cursor:l})).add(o).shadow(c.shadow)}m&&r.alignDataLabel(s,m,c,null,v)}})))};Ct.prototype.alignDataLabel=function(t,n,i,a,o){var r=this.chart,s=r.inverted,l=f(t.plotX,-999),c=f(t.plotY,-999),d=n.getBBox();(t=this.visible&&(t.series.forceDL||r.isInsidePlot(l,ue(c),s)||a&&r.isInsidePlot(l,s?a.x+1:a.y+a.height-1,s)))&&(a=e({x:s?r.plotWidth-c:l,y:ue(s?r.plotHeight-l:c),width:0,height:0},a),e(i,{width:d.width,height:d.height}),i.rotation?n[o?"attr":"animate"]({x:a.x+i.x+a.width/2,y:a.y+i.y+a.height/2}).attr({align:i.align}):(n.align(i,null,a),s=n.alignAttr,"justify"===f(i.overflow,"justify")?this.justifyDataLabel(n,i,s,d,a,o):f(i.crop,!0)&&(t=r.isInsidePlot(s.x,s.y)&&r.isInsidePlot(s.x+d.width,s.y+d.height))));t||(n.attr({y:-999}),n.placed=!1)};Ct.prototype.justifyDataLabel=function(e,t,n,i,a,o){var r,s,l=this.chart,c=t.align,d=t.verticalAlign;(r=n.x)<0&&("right"===c?t.align="left":t.x=-r,s=!0);(r=n.x+i.width)>l.plotWidth&&("left"===c?t.align="right":t.x=l.plotWidth-r,s=!0);(r=n.y)<0&&("bottom"===d?t.verticalAlign="top":t.y=-r,s=!0);(r=n.y+i.height)>l.plotHeight&&("top"===d?t.verticalAlign="bottom":t.y=l.plotHeight-r,s=!0);s&&(e.placed=!o,e.align(t,null,a))};He.pie&&(He.pie.prototype.drawDataLabels=function(){var e,t,n,i,a,o,r,s,l,c,d,u=this,h=u.data,p=u.chart,m=u.options.dataLabels,g=f(m.connectorPadding,10),v=f(m.connectorWidth,1),y=p.plotWidth,b=p.plotHeight,C=f(m.softConnector,!0),S=m.distance,_=u.center,D=_[2]/2,T=_[1],x=S>0,k=[[],[]],w=[0,0,0,0],E=function(e,t){return t.y-e.y};if(u.visible&&(m.enabled||u._hasPointLabels)){Ct.prototype.drawDataLabels.apply(u);Ve(h,(function(e){e.dataLabel&&e.visible&&k[e.half].push(e)}));for(c=2;c--;){var A,L=[],N=[],R=k[c],P=R.length;if(P){u.sortByAngle(R,c-.5);for(d=h=0;!h&&R[d];)h=R[d]&&R[d].dataLabel&&(R[d].dataLabel.getBBox().height||21),d++;if(S>0){a=me(T+D+S,p.plotHeight);for(d=pe(0,T-D-S);d<=a;d+=h)L.push(d);if(P>(a=L.length)){(e=[].concat(R)).sort(E);for(d=P;d--;)e[d].rank=d;for(d=P;d--;)R[d].rank>=a&&R.splice(d,1);P=R.length}for(d=0;d<P;d++){e=R[d];o=e.labelPos;e=9999;var O,B;for(B=0;B<a;B++)(O=ge(L[B]-o[1]))<e&&(e=O,A=B);if(A<d&&null!==L[d])A=d;else for(a<P-d+A&&null!==L[d]&&(A=a-P+d);null===L[A];)A++;N.push({i:A,y:L[A]});L[A]=null}N.sort(E)}for(d=0;d<P;d++){e=R[d];o=e.labelPos;i=e.dataLabel;l=!1===e.visible?"hidden":"visible";e=o[1]
;S>0?(A=(a=N.pop()).i,e>(s=a.y)&&null!==L[A+1]||e<s&&null!==L[A-1])&&(s=me(pe(0,e),p.plotHeight)):s=e;r=m.justify?_[0]+(c?-1:1)*(D+S):u.getX(s===T-D-S||s===T+D+S?e:s,c);i._attr={visibility:l,align:o[6]};i._pos={x:r+m.x+({left:g,right:-g}[o[6]]||0),y:s+m.y-10};i.connX=r;i.connY=s;null===this.options.size&&(a=i.width,r-a<g?w[3]=pe(ue(a-r+g),w[3]):r+a>y-g&&(w[1]=pe(ue(r+a-y+g),w[1])),s-h/2<0?w[0]=pe(ue(h/2-s),w[0]):s+h/2>b&&(w[2]=pe(ue(s+h/2-b),w[2])))}}}(0===I(w)||this.verifyDataLabelOverflow(w))&&(this.placeDataLabels(),x&&v&&Ve(this.points,(function(e){t=e.connector;o=e.labelPos;(i=e.dataLabel)&&i._pos?(l=i._attr.visibility,r=i.connX,s=i.connY,n=C?["M",r+("left"===o[6]?5:-5),s,"C",r,s,2*o[2]-o[4],2*o[3]-o[5],o[2],o[3],"L",o[4],o[5]]:["M",r+("left"===o[6]?5:-5),s,"L",o[2],o[3],"L",o[4],o[5]],t?(t.animate({d:n}),t.attr("visibility",l)):e.connector=t=u.chart.renderer.path(n).attr({"stroke-width":v,stroke:m.connectorColor||e.color||"#606060",visibility:l}).add(u.dataLabelsGroup)):t&&(e.connector=t.destroy())})))}},He.pie.prototype.placeDataLabels=function(){Ve(this.points,(function(e){var t;(e=e.dataLabel)&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))}))},He.pie.prototype.alignDataLabel=Pe,He.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,i=this.options,a=i.center,o=i=i.minSize||80;null!==a[0]?o=pe(n[2]-pe(e[1],e[3]),i):(o=pe(n[2]-e[1]-e[3],i),n[0]+=(e[3]-e[1])/2);null!==a[1]?o=pe(me(o,n[2]-pe(e[0],e[2])),i):(o=pe(me(o,n[2]-e[0]-e[2]),i),n[1]+=(e[0]-e[2])/2);o<n[2]?(n[2]=o,this.translate(n),Ve(this.points,(function(e){e.dataLabel&&(e.dataLabel._pos=null)})),this.drawDataLabels&&this.drawDataLabels()):t=!0;return t});He.column&&(He.column.prototype.alignDataLabel=function(e,n,i,a,o){var r=this.chart,s=r.inverted,l=e.dlBox||e.shapeArgs,c=e.below||e.plotY>f(this.translatedThreshold,r.plotSizeY),d=f(i.inside,!!this.options.stacking);l&&(a=t(l),s&&(a={x:r.plotWidth-a.y-a.height,y:r.plotHeight-a.x-a.width,width:a.height,height:a.width}),!d)&&(s?(a.x+=c?0:a.width,a.width=0):(a.y+=c?a.height:0,a.height=0));i.align=f(i.align,!s||d?"center":c?"right":"left");i.verticalAlign=f(i.verticalAlign,s||d?"middle":c?"top":"bottom");Ct.prototype.alignDataLabel.call(this,e,n,i,a,o)});nt=re.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,i=e.options.cursor,a=i&&{cursor:i},o=function(n){var i,a=n.target;t.hoverSeries!==e&&e.onMouseOver();for(;a&&!i;)i=a.point,a=a.parentNode;i!==B&&i!==t.hoverPoint&&i.onMouseOver(n)};Ve(e.points,(function(e){e.graphic&&(e.graphic.element.point=e);e.dataLabel&&(e.dataLabel.element.point=e)}));e._hasTracking||(Ve(e.trackerGroups,(function(t){e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",o).on("mouseout",(function(e){n.onTrackerMouseOut(e)})).css(a),F)&&e[t].on("touchstart",o)})),e._hasTracking=!0)},drawTrackerGraph:function(){var e,t=this,n=t.options,i=n.trackByArea,a=[].concat(i?t.areaPath:t.graphPath),o=a.length,r=t.chart,s=r.pointer,l=r.renderer,c=r.options.tooltip.snap,d=t.tracker,u=(h=n.cursor)&&{cursor:h},h=t.singlePoints,f=function(){r.hoverSeries!==t&&t.onMouseOver()},p="rgba(192,192,192,"+(Ee?1e-4:.002)+")";if(o&&!i)for(e=o+1;e--;)"M"===a[e]&&a.splice(e+1,0,a[e+1]-c,a[e+2],"L"),(e&&"M"===a[e]||e===o)&&a.splice(e,0,"L",a[e-2]+c,a[e-1]);for(e=0;e<h.length;e++)o=h[e],a.push("M",o.plotX-c,o.plotY,"L",o.plotX+c,o.plotY);d?d.attr({d:a}):(t.tracker=l.path(a).attr({"stroke-linejoin":"round",visibility:t.visible?"visible":"hidden",stroke:p,fill:i?p:Fe,"stroke-width":n.lineWidth+(i?0:2*c),zIndex:2}).add(t.group),Ve([t.tracker,t.markerGroup],(function(e){e.addClass("highcharts-tracker").on("mouseover",f).on("mouseout",(function(e){s.onTrackerMouseOut(e)})).css(u);F&&e.on("touchstart",f)})))}};He.column&&(dt.prototype.drawTracker=nt.drawTrackerPoint);He.pie&&(He.pie.prototype.drawTracker=nt.drawTrackerPoint);He.scatter&&(St.prototype.drawTracker=nt.drawTrackerPoint);e(yt.prototype,{setItemEvents:function(e,t,n,i,a){var o=this;(n?t:e.legendGroup).on("mouseover",(function(){e.setState("hover");t.css(o.options.itemHoverStyle)})).on("mouseout",(function(){t.css(e.visible?i:a);e.setState()})).on("click",(function(t){var n=function(){e.setVisible()};t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Xe(e,"legendItemClick",t,n)}))},createCheckboxForItem:function(e){e.checkbox=m("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container);Ye(e.checkbox,"click",(function(t){Xe(e,"checkboxClick",{checked:t.target.checked},(function(){e.select()}))}))}});H.legend.itemStyle.cursor="pointer";e(P.prototype,{showResetZoom:function(){var e=this,t=H.lang,n=e.options.chart.resetZoomButton,i=n.theme,a=i.states,o="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,(function(){e.zoomOut()}),i,a&&a.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,o)},zoomOut:function(){var e=this;Xe(e,"selection",{resetSelection:!0},(function(){e.zoom()}))},zoom:function(e){var t,n,i=this.pointer,o=!1;!e||e.resetSelection?Ve(this.axes,(function(e){t=e.zoom()})):Ve(e.xAxis.concat(e.yAxis),(function(e){var n=e.axis,a=n.isXAxis;(i[a?"zoomX":"zoomY"]||i[a?"pinchX":"pinchY"])&&(t=n.zoom(e.min,e.max),n.displayBtn&&(o=!0))}));n=this.resetZoomButton;o&&!n?this.showResetZoom():!o&&a(n)&&(this.resetZoomButton=n.destroy());t&&this.redraw(f(this.options.chart.animation,e&&e.animation,this.pointCount<100))},pan:function(e,t){var n,i=this,a=i.hoverPoints;a&&Ve(a,(function(e){e.setState()}));Ve("xy"===t?[1,0]:[1],(function(t){var a=e[t?"chartX":"chartY"],o=i[t?"xAxis":"yAxis"][0],r=i[t?"mouseDownX":"mouseDownY"],s=(o.pointRange||0)/2,l=o.getExtremes(),c=o.toValue(r-a,!0)+s;r=o.toValue(r+i[t?"plotWidth":"plotHeight"]-a,!0)-s;o.series.length&&c>me(l.dataMin,l.min)&&r<pe(l.dataMax,l.max)&&(o.setExtremes(c,r,!1,!1,{trigger:"pan"}),n=!0);i[t?"mouseDownX":"mouseDownY"]=a}));n&&i.redraw(!1);p(i.container,{cursor:"move"})}});e(bt.prototype,{select:function(e,t){var n=this,i=n.series,a=i.chart;e=f(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},(function(){n.selected=n.options.selected=e;i.options.data[$e(n,i.data)]=n.options;n.setState(e&&"select");t||Ve(a.getSelectedPoints(),(function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,i.options.data[$e(e,i.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))}))}))},onMouseOver:function(e){var t=this.series,n=t.chart,i=n.tooltip,a=n.hoverPoint;a&&a!==this&&a.onMouseOut();this.firePointEvent("mouseOver");i&&(!i.shared||t.noSharedTooltip)&&i.refresh(this,e);this.setState("hover");n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");t&&-1!==$e(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e,n=t(this.series.options.point,this.options).events;this.events=n;for(e in n)Ye(this,e,n[e]);this.hasImportedEvents=!0}},setState:function(n,i){var a,o=this.plotX,r=this.plotY,s=this.series,l=s.options.states,c=tt[s.type].marker&&s.options.marker,d=c&&!c.enabled,u=c&&c.states[n],h=u&&!1===u.enabled,f=s.stateMarkerGraphic,p=this.marker||{},m=s.chart,g=s.halo;n=n||"";a=this.pointAttr[n]||s.pointAttr[n];if(!(n===this.state&&!i||this.selected&&"select"!==n||l[n]&&!1===l[n].enabled||n&&(h||d&&!1===u.enabled)||n&&p.states&&p.states[n]&&!1===p.states[n].enabled)){if(this.graphic)c=c&&this.graphic.symbolName&&a.r,this.graphic.attr(t(a,c?{x:o-c,y:r-c,width:2*c,height:2*c}:{})),f&&f.hide();else{n&&u&&(c=u.radius,p=p.symbol||s.symbol,f&&f.currentSymbol!==p&&(f=f.destroy()),f?f[i?"animate":"attr"]({x:o-c,y:r-c}):p&&(s.stateMarkerGraphic=f=m.renderer.symbol(p,o-c,r-c,2*c,2*c).attr(a).add(s.markerGroup),f.currentSymbol=p));f&&f[n&&m.isInsidePlot(o,r,m.inverted)?"show":"hide"]()}if((o=l[n]&&l[n].halo)&&o.size){g||(s.halo=g=m.renderer.path().add(s.seriesGroup));g.attr(e({fill:rt(this.color||s.color).setOpacity(o.opacity).get()},o.attributes))[i?"animate":"attr"]({d:this.haloPath(o.size)})}else g&&g.attr({d:[]});this.state=n}},haloPath:function(e){
var t=this.series,n=t.chart,i=t.getPlotBox(),a=n.inverted;return n.renderer.symbols.circle(i.translateX+(a?t.yAxis.len-this.plotY:this.plotX)-e,i.translateY+(a?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}});e(Ct.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut();this.options.events.mouseOver&&Xe(this,"mouseOver");this.setState("hover");e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,i=t.hoverPoint;i&&i.onMouseOut();this&&e.events.mouseOut&&Xe(this,"mouseOut");n&&!e.stickyTracking&&(!n.shared||this.noSharedTooltip)&&n.hide();this.setState();t.hoverSeries=null},setState:function(e){var t=this.options,n=this.graph,i=this.graphNeg,a=t.states;t=t.lineWidth,e=e||"";this.state!==e&&(this.state=e,a[e]&&!1===a[e].enabled||(e&&(t=a[e].lineWidth||t+(a[e].lineWidthPlus||0)),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),i&&i.attr(e))))},setVisible:function(e,t){var n,i=this,a=i.chart,o=i.legendItem,r=a.options.chart.ignoreHiddenSeries,s=i.visible;n=(i.visible=e=i.userOptions.visible=e===B?!s:e)?"show":"hide";Ve(["group","dataLabelsGroup","markerGroup","tracker"],(function(e){i[e]&&i[e][n]()}));a.hoverSeries===i&&i.onMouseOut();o&&a.legend.colorizeItem(i,e);i.isDirty=!0;i.options.stacking&&Ve(a.series,(function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}));Ve(i.linkedSeries,(function(t){t.setVisible(e,!1)}));r&&(a.isDirtyBox=!0);!1!==t&&a.redraw();Xe(i,n)},setTooltipPoints:function(e){var t,n,i,a,o=[],r=this.xAxis,s=r&&r.getExtremes(),l=r?r.tooltipLen||r.len:this.chart.plotSizeX,c=[];if(!1!==this.options.enableMouseTracking&&!this.singularTooltips){e&&(this.tooltipPoints=null);Ve(this.segments||this.points,(function(e){o=o.concat(e)}));r&&r.reversed&&(o=o.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(o);e=o.length;for(a=0;a<e;a++)if((t=(r=o[a]).x)>=s.min&&t<=s.max){i=o[a+1];t=n===B?0:n+1;for(n=o[a+1]?me(pe(0,he((r.clientX+(i?i.wrappedClientX||i.clientX:l))/2)),l):l;t>=0&&t<=n;)c[t++]=r}this.tooltipPoints=c}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===B?!this.selected:e;this.checkbox&&(this.checkbox.checked=e);Xe(this,e?"select":"unselect")},drawTracker:nt.drawTrackerGraph});e(re,{Axis:R,Chart:P,Color:rt,Point:bt,Tick:N,Renderer:M,Series:Ct,SVGElement:L,SVGRenderer:ct,arrayMin:T,arrayMax:I,charts:Oe,dateFormat:G,format:C,pathAnim:j,getOptions:function(){return H},hasBidiBug:Ae,isTouchDevice:ke,numberFormat:v,seriesTypes:He,setOptions:function(e){H=t(!0,H,e);A();return H},addEvent:Ye,removeEvent:Qe,createElement:m,discardElement:k,css:p,each:Ve,extend:e,map:Ke,merge:t,pick:f,splat:h,extendClass:g,pInt:n,wrap:b,svg:Ee,canvas:Le,vml:!Ee&&!Le,product:"Highcharts",version:"4.0.4"})})();e(Highcharts)})((function(t){e.exports=t}),n(9191))},2405:(e,t,n)=>{e.exports=n(4507)(93124)},2475:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>P});var i=n(1434),a=n.n(i),o=n(9520),r=n(519),s=n(1422),l=n(7875),c=n(9747),d=n(5024),u=n(4383),h=n(2595),f=n(3839),p=n(8286),m=n(9474),g=n(2065),v=n(8260);const y={Review:"review",Delivery:"delivery",Confirmation:"confirmation",OrderInformation:"orderInformation",None:null};const b=function(){this.fullName="";this.emailAddress="";this.phoneNumber="";this.faxNumber="";this.companyName="";this.address1="";this.address2="";this.city="";this.state="";this.postalCode="";this.country=""};const C=function(){this.orderSpecifiedDocuments=!1;this.orderSearchPartyName=!1;this.orderOther=!1;this.partyName="";this.includeAllExhibits=!1;this.requestedDocuments="";this.caseCaption="";this.caseNumber="";this.court=""};const S=function(){this.documentGuid="";this.orderedIndex=-1;this.returnUrl=null;this.clientId="";this.timeZone="";this.title="";this.court="";this.caseNumber="";this.orderItems=[];this.additionalDocumentInformation="";this.billingAddress=new b;this.emailDelivery=!1;this.faxDelivery=!1;this.overnightDelivery=!1;this.mailDelivery=!1;this.differentDeliveryAddress=!1;this.deliveryAddress=new b;this.contactSubmitter=!1;this.additionalDeliveryInformation="";this.checkSum=null;this.docPersistId=null;this.orderInformation=new C};var _=n(7617),D=n(1369),T=n(9191),I=n.n(T),x=n(4917),k=n(5382),w=n(2769),E=n(9914),A=n(1235),L=n(966);const N=function(){this.documentGuid=null;this.orderedIndex=null;this.orderPage=y.None;this.documentOrder=null;this.reviewPaginationSetting=20;this.reviewPaginationPage=1;this.infoBoxes={};this.reviewInformationBox=null;this.reviewNextError=null;this.checkSum=null;this.docPersistId=null;this.fromReport=!1;var e=this;this.SetDocumentGuid=function(t){e.documentGuid=t};this.SetOrderedIndex=function(t){e.orderedIndex=t};this.SetCheckSum=function(t){e.checkSum=t};this.SetDocPersistId=function(t){e.docPersistId=t};this.SetFromReport=function(){e.fromReport=!0};this.SetOrderPage=function(t){e.orderPage=t};this.SetReturnToUrl=function(t){e.returnToUrl=t};this.Go=function(){e.ProfessionalsReportCustomization();e.documentOrder=g["default"].GetMetadataFromDom(p["default"].ids.documentOrder);e.orderPage==y.Review?e.review():e.orderPage==y.Delivery?e.delivery():e.orderPage==y.OrderInformation?e.orderInformation():e.orderPage==y.Confirmation&&e.confirmation()};this.Store=async function(){if(null==e.documentOrder){e.documentOrder=new S;e.documentOrder.documentGuid=e.documentGuid;e.documentOrder.orderedIndex=e.orderedIndex;e.documentOrder.returnUrl=e.returnToUrl||window.location.href;e.documentOrder.checkSum=e.checkSum;e.documentOrder.docPersistId=e.docPersistId;e.documentOrder.clientId=_["default"].GetClientId();e.documentOrder.fromReport=e.fromReport}var t=D["default"].GetObject(p["default"].objectIds.provider);await t.StoreDocumentOrder(e.documentOrder)};this.review=function(){e.renderReviewPagination();e.updateSelected();e.moveSubHeaderIntoWebsitesSubHeader();g["default"].AttachClickHandler(document.body,e.reviewClickHandler)};this.delivery=function(){e.moveSubHeaderIntoWebsitesSubHeader();g["default"].AttachClickHandler(document.body,e.deliveryClickHandler)};this.orderInformation=function(){e.moveSubHeaderIntoWebsitesSubHeader();e.enableOrderInformationFields();e.populateCourtData("One");g["default"].AttachClickHandler(document.body,e.orderInformationClickHandler)};this.confirmation=function(){e.moveSubHeaderIntoWebsitesSubHeader();g["default"].AttachClickHandler(document.body,e.confirmationClickHandler)};this.moveSubHeaderIntoWebsitesSubHeader=function(){const e=document.querySelector(".co_subHeader");e&&document.getElementById("co_subHeader")?.appendChild(e)};this.reviewClickHandler=function(t){var n=g["default"].getEventSourceElement(t),i=g["default"].GetAncestorOrSelfElement(n,"input"),a=g["default"].GetAncestorOrSelfElement(n,"select"),o=g["default"].GetAncestorOrSelfElement(n,"a");let r;if(null!=i){r=i.id;(r.indexOf(p["default"].ids.documentOrderingItemCheckbox)>-1||r.indexOf(p["default"].ids.documentOrderingExhibitCheckbox)>-1)&&e.updateSelected()}if(null!=a){r=a.id;if(r==p["default"].ids.documentOrderingReviewPaginationSettingSelect){var s=document.getElementById(p["default"].ids.documentOrderingReviewPaginationSettingSelect);if(s.value!=e.reviewPaginationSetting){e.reviewPaginationSetting=s.value;e.renderReviewPagination()}}}if(null!=o){r=o.id;if(r==p["default"].ids.documentOrderingOrderAll)e.allOrders(!0);else if(r==p["default"].ids.documentOrderingOrderNone)e.allOrders(!1);else if(r==p["default"].ids.documentOrderingExhibitAll)e.allExhibits(!0);else if(r==p["default"].ids.documentOrderingExhibitNone)e.allExhibits(!1);else if(r==p["default"].ids.documentOrderingNext){null!=e.reviewNextError&&e.reviewNextError.Remove();for(var l=!1,c=0;c<e.documentOrder.orderItems.length;c++){var d=e.documentOrder.orderItems[c],u=document.getElementById(p["default"].ids.documentOrderingItemCheckbox+d.index);d.ordered=u.checked;d.ordered&&(l=!0);var h=document.getElementById(p["default"].ids.documentOrderingExhibitCheckbox+d.index);d.includeExhibit=h.checked}if(!l){if(null==e.reviewNextError){var f=document.getElementById(p["default"].ids.documentOrderingNextError);e.reviewNextError=new x["default"](f,k["default"].Failure,w["default"].Right,!0,!1,!1)}
e.reviewNextError.Draw("No items ordered.");t.preventDefault&&t.preventDefault();t.returnValue=!1;return!1}e.documentOrder.additionalDocumentInformation=document.getElementById(p["default"].ids.documentOrderingAdditionalInformation).value||"";e.Store(e.documentOrder)}else if(o.parentNode.parentNode.id==p["default"].ids.documentOrderingReviewPaginationPages){if(o.className.indexOf(p["default"].classes.disabled)<0){o.className.indexOf(p["default"].classes.previous)>-1?e.reviewPaginationPage--:o.className.indexOf(p["default"].classes.first)>-1?e.reviewPaginationPage=1:o.className.indexOf(p["default"].classes.next)>-1?e.reviewPaginationPage++:o.className.indexOf(p["default"].classes.last)>-1?e.reviewPaginationPage=Math.ceil(e.documentOrder.orderItems.length/e.reviewPaginationSetting):e.reviewPaginationPage=o.innerHTML;e.renderReviewPagination()}}else if(r==p["default"].ids.documentOrderingInformation){if(null==e.reviewInformationBox){var m=document.getElementById(p["default"].ids.documentOrderingInformationBox);e.reviewInformationBox=new x["default"](m,k["default"].None,w["default"].Right,!0,!0,!1)}var v=document.getElementById(p["default"].ids.documentOrderingInformationBoxValue).innerHTML;e.reviewInformationBox.Draw(v)}else r==p["default"].ids.courtExpressHelp&&e.courtExpressHelp()}};this.deliveryClickHandler=async function(t){var n=g["default"].getEventSourceElement(t),i=g["default"].GetAncestorOrSelfElement(n,"input");if(null!=i)i.id==p["default"].ids.documentOrderingDifferentDelivery&&e.enableDeliveryEntryFields(i);else{var a=g["default"].GetAncestorOrSelfElement(n,"a");if(null!=a){var o=a.id;if(o==p["default"].ids.documentOrderingSubmit){e.getDeliveryPageInformation();if(e.validDeliveryPageInformation()){t.preventDefault();await e.Store(e.documentOrder);window.location=n.href}else{t.preventDefault&&t.preventDefault();t.returnValue=!1}}else if(o==p["default"].ids.documentOrderingBack){e.getDeliveryPageInformation();t.preventDefault();await e.Store(e.documentOrder);window.location=n.href}else o==p["default"].ids.courtExpressHelp&&e.courtExpressHelp()}}};document.querySelectorAll(`[name='${p["default"].ids.documentOrderingCourtSelection}Options']`).forEach((t=>t.addEventListener("change",(t=>{switch(t.currentTarget.id){case p["default"].ids.documentOrderingCourtSelectionOption+"One":if("Select"==t.currentTarget.value){document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Two")?.replaceChildren();document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Three")?.replaceChildren();document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Two`)?.classList.add("co_hideState");document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Three`)?.classList.add("co_hideState");document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.add("co_hideState")}else if(t.currentTarget.value){document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Two")?.replaceChildren();document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Three")?.replaceChildren();document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Two`)?.classList.add("co_hideState");document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Three`)?.classList.add("co_hideState");document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.add("co_hideState");e.populateCourtData("Two",t.currentTarget.value)}break;case p["default"].ids.documentOrderingCourtSelectionOption+"Two":if("Select"==t.currentTarget.value){document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Three")?.replaceChildren();document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Three`)?.classList.add("co_hideState");document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.add("co_hideState")}else if(t.currentTarget.value){document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Three")?.replaceChildren();document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Three`)?.classList.add("co_hideState");document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.add("co_hideState");e.populateCourtData("Three",t.currentTarget.value)}break;case p["default"].ids.documentOrderingCourtSelectionOption+"Three":if("Select"==t.currentTarget.value){document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.add("co_hideState")}else if(t.currentTarget.value){document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.add("co_hideState");e.populateCourtData("Four",t.currentTarget.value)}}}))));this.orderInformationClickHandler=function(t){var n=g["default"].getEventSourceElement(t),i=g["default"].GetAncestorOrSelfElement(n,"input");if(null!=i)i.id==p["default"].ids.documentOrderingDifferentDelivery?e.enableDeliveryEntryFields(i):i.id!=p["default"].ids.documentOrderingOrderSpecifiedDocuments&&i.id!=p["default"].ids.documentOrderingOrderSearchPartyName&&i.id!=p["default"].ids.documentOrderingOrderOther||e.enableOrderInformationFields();else{var a=g["default"].GetAncestorOrSelfElement(n,"a");if(null!=a){var o=a.id;if(o==p["default"].ids.documentOrderingSubmit){e.getOrderInformationPageInformation();e.getDeliveryPageInformation();if(e.validOrderInformationPageInformation())e.Store(e.documentOrder);else{t.preventDefault&&t.preventDefault();t.returnValue=!1}}else o==p["default"].ids.courtExpressHelp&&e.courtExpressHelp()}}};this.confirmationClickHandler=function(t){var n=g["default"].getEventSourceElement(t),i=g["default"].GetAncestorOrSelfElement(n,"a");if(null!=i){i.id==p["default"].ids.courtExpressHelp&&e.courtExpressHelp()}};this.allOrders=function(t){for(var n=0;n<e.documentOrder.orderItems.length;n++){var i=e.documentOrder.orderItems[n];document.getElementById(p["default"].ids.documentOrderingItemCheckbox+i.index).checked=t}document.getElementById(p["default"].ids.documentOrderingOrdersSelected).textContent=t?e.documentOrder.orderItems.length:0};this.allExhibits=function(t){for(var n=0;n<e.documentOrder.orderItems.length;n++){var i=e.documentOrder.orderItems[n];document.getElementById(p["default"].ids.documentOrderingExhibitCheckbox+i.index).checked=t}document.getElementById(p["default"].ids.documentOrderingExhibitsSelected).textContent=t?e.documentOrder.orderItems.length:0};this.updateSelected=function(){for(var t=0,n=0,i=0;i<e.documentOrder.orderItems.length;i++){var a=e.documentOrder.orderItems[i];document.getElementById(p["default"].ids.documentOrderingItemCheckbox+a.index).checked&&t++;document.getElementById(p["default"].ids.documentOrderingExhibitCheckbox+a.index).checked&&n++}document.getElementById(p["default"].ids.documentOrderingOrdersSelected).textContent=t;document.getElementById(p["default"].ids.documentOrderingExhibitsSelected).textContent=n};this.renderReviewPagination=function(){var t=document.getElementById(p["default"].ids.documentOrderingReviewPaginationCounts),n=e.documentOrder.orderItems.length,i=(e.reviewPaginationPage-1)*e.reviewPaginationSetting+1,a=e.reviewPaginationPage*e.reviewPaginationSetting;a>n&&(a=n);for(let t=0;t<n;t++){var o=e.documentOrder.orderItems[t],s=document.getElementById(p["default"].ids.documentOrderingRow+o.index);t+1>=i&&t+1<=a?r["default"].RemoveClass(s,p["default"].classes.hideState):r["default"].AddClass(s,p["default"].classes.hideState)}
if(n<e.reviewPaginationSetting)document.getElementById(p["default"].ids.documentOrderingReviewPaginationPages).innerHTML="";else{var l=Math.ceil(n/e.reviewPaginationSetting),c="",d=" "+p["default"].classes.disabled;e.reviewPaginationPage>1&&(d="");c+="<li><a title='First' class='"+p["default"].classes.first+d+"'><span class='icon25 icon_first_prev_arrow'>First</span></a></li><li><a title='Previous' class='"+p["default"].classes.previous+d+"'><span class='icon25 icon_prev_arrow'>Previous</span></a></li>";for(let t=1;t<=l;t++)e.reviewPaginationPage==t?c+="<li><strong>"+t+"</strong></li>":c+="<li><a>"+t+"</a></li>";d=" "+p["default"].classes.disabled;e.reviewPaginationPage<l&&(d="");c+="<li><a title='Next' class='"+p["default"].classes.next+d+"'><span class='icon25 icon_next_arrow'>Next</span></a></li><li><a title='Last' class='"+p["default"].classes.last+d+"'><span class='icon25 icon_last_next_arrow'>Last</span></a></li>";document.getElementById(p["default"].ids.documentOrderingReviewPaginationPages).innerHTML=c}if(n>e.reviewPaginationSetting){var u="<label for='"+p["default"].ids.documentOrderingReviewPaginationSettingSelect+"' class='co_accessibilityLabel'>Items Per Page</label><select id='"+p["default"].ids.documentOrderingReviewPaginationSettingSelect+"'><option value='20'"+(20==e.reviewPaginationSetting?"selected='selected'":"")+">20</option><option value='50'"+(50==e.reviewPaginationSetting?"selected='selected'":"")+">50</option><option value='100'"+(100==e.reviewPaginationSetting?"selected='selected'":"")+">100</option></select>";document.getElementById(p["default"].ids.documentOrderingReviewPaginationSetting).innerHTML=u}n<e.reviewPaginationSetting?t.textContent="1-"+n:t.textContent=i+"-"+a+" of "+n};this.getOrderInformationPageInformation=function(){e.documentOrder.orderInformation.orderSpecifiedDocuments=document.getElementById(p["default"].ids.documentOrderingOrderSpecifiedDocuments).checked;e.documentOrder.orderInformation.orderSearchPartyName=document.getElementById(p["default"].ids.documentOrderingOrderSearchPartyName).checked;e.documentOrder.orderInformation.orderOther=document.getElementById(p["default"].ids.documentOrderingOrderOther).checked;var t=e.getCourtDropdownSelection(p["default"].ids.documentOrderingCourtSelectionOption+"One"),n=e.getCourtDropdownSelection(p["default"].ids.documentOrderingCourtSelectionOption+"Two"),i=e.getCourtDropdownSelection(p["default"].ids.documentOrderingCourtSelectionOption+"Three"),a=e.getCourtDropdownSelection(p["default"].ids.documentOrderingCourtSelectionOption+"Four");e.documentOrder.orderInformation.court="";if("ERROR"!==t&&"ERROR"!==n&&"ERROR"!==i&&"ERROR"!==a){var o="";t&&(o+=t+";");n&&(o+=" "+n+";");i&&(o+=" "+i+";");a&&(o+=" "+a+";");e.documentOrder.orderInformation.court=o}document.getElementById(p["default"].ids.documentOrderingPartyName).disabled||(e.documentOrder.orderInformation.partyName=document.getElementById(p["default"].ids.documentOrderingPartyName).value||"");document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).disabled||(e.documentOrder.orderInformation.requestedDocuments=document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).value||"");document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).disabled||(e.documentOrder.orderInformation.includeAllExhibits=document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).checked);document.getElementById(p["default"].ids.documentOrderingCaseCaption).disabled||(e.documentOrder.orderInformation.caseCaption=document.getElementById(p["default"].ids.documentOrderingCaseCaption).value||"");document.getElementById(p["default"].ids.documentOrderingCaseNumber).disabled||(e.documentOrder.orderInformation.caseNumber=document.getElementById(p["default"].ids.documentOrderingCaseNumber).value||"")};this.getCourtDropdownSelection=function(e){if((0,E.isVisible)(document.getElementById(e))){var t="",n=document.querySelectorAll(`#${e} option:checked`),i=document.querySelectorAll(`#${e} option:checked`).length;n.forEach((function(e,n){t+=e.textContent;n<i-1&&(t+=", ")}));if(!t||"Select"===t.trim())return"ERROR";return t.trim()}return""};this.validOrderInformationPageInformation=function(){var t=!1;for(var n in e.infoBoxes)e.infoBoxes[n].Remove();t=!e.validateOrderInformationPageOrderTypeSelected()||(e.validateOrderInformationPage()||t);t=e.validateDeliveryPageDeliveryMethodExists()||t;t=e.validateDeliveryPageBillingInformation()||t;return!(t=e.validateDeliveryPageDeliveryInformation()||t)};this.validateOrderInformationPageOrderTypeSelected=function(){var t=!1;if(!e.documentOrder.orderInformation.orderSpecifiedDocuments&&!e.documentOrder.orderInformation.orderSearchPartyName&&!e.documentOrder.orderInformation.orderOther){e.showError(p["default"].ids.documentOrderingOrderTypeError,"Select at least one checkbox.");t=!0}return!t};this.validateOrderInformationPage=function(){var t=!1,n=document.getElementById(p["default"].ids.documentOrderingOrderSpecifiedDocuments).checked,i=document.getElementById(p["default"].ids.documentOrderingOrderSearchPartyName).checked,a=document.getElementById(p["default"].ids.documentOrderingOrderOther).checked;if(n||i||a){if(i&&!a){if(!e.documentOrder.orderInformation.court){e.showError(p["default"].ids.documentOrderingCourtSelection+"Error","Error with court selection.");t=!0}if(!e.documentOrder.orderInformation.partyName){e.showError(p["default"].ids.documentOrderingPartyName+"Error","Error with party name.");t=!0}if(n&&!e.documentOrder.orderInformation.requestedDocuments){e.showError(p["default"].ids.documentOrderingRequestedDocuments+"Error","Error with requested document(s).");t=!0}}else if(!e.documentOrder.orderInformation.requestedDocuments){e.showError(p["default"].ids.documentOrderingRequestedDocuments+"Error","Error with requested document(s).");t=!0}}else{e.showError(p["default"].ids.documentOrderingOrderTypeError,"Select at least one checkbox.");t=!0}return t};this.enableOrderInformationFields=function(){var t="disabled",n="",i=document.getElementById(p["default"].ids.documentOrderingOrderSpecifiedDocuments).checked,a=document.getElementById(p["default"].ids.documentOrderingOrderSearchPartyName).checked,o=document.getElementById(p["default"].ids.documentOrderingOrderOther).checked,r=document.querySelectorAll(`#${p["default"].ids.documentOrderingCourtSelection} :is(input, select, textarea, button)`);if(i||a||o)if(!i||a||o)if(i||!a||o)if(i||a||!o){if(i&&a&&!o||i&&!a&&o||!i&&a&&o||i&&a&&o){r.forEach((function(e){e.disabled=!1}));document.getElementById(p["default"].ids.documentOrderingPartyName).disabled=n;document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).disabled=n;document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).disabled=n;document.getElementById(p["default"].ids.documentOrderingCaseCaption).disabled=n;document.getElementById(p["default"].ids.documentOrderingCaseNumber).disabled=n;document.getElementById(p["default"].ids.documentOrderingClientId).disabled=n}}else{r.forEach((function(e){e.disabled=!0}));document.getElementById(p["default"].ids.documentOrderingPartyName).disabled=n;document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).disabled=n;document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).disabled=n;document.getElementById(p["default"].ids.documentOrderingCaseCaption).disabled=t;document.getElementById(p["default"].ids.documentOrderingCaseNumber).disabled=t;document.getElementById(p["default"].ids.documentOrderingClientId).disabled=n}else{r.forEach((function(e){e.disabled=!1}));document.getElementById(p["default"].ids.documentOrderingPartyName).disabled=n;document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).disabled=t;document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).disabled=t;document.getElementById(p["default"].ids.documentOrderingCaseCaption).disabled=n;document.getElementById(p["default"].ids.documentOrderingCaseNumber).disabled=n;document.getElementById(p["default"].ids.documentOrderingClientId).disabled=n}else{r.forEach((function(e){e.disabled=!1}))
;document.getElementById(p["default"].ids.documentOrderingPartyName).disabled=t;document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).disabled=n;document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).disabled=n;document.getElementById(p["default"].ids.documentOrderingCaseCaption).disabled=n;document.getElementById(p["default"].ids.documentOrderingCaseNumber).disabled=n;document.getElementById(p["default"].ids.documentOrderingClientId).disabled=n}else{r.forEach((function(e){e.disabled=!0}));document.getElementById(p["default"].ids.documentOrderingPartyName).disabled=t;document.getElementById(p["default"].ids.documentOrderingIncludeAllExhibits).disabled=t;document.getElementById(p["default"].ids.documentOrderingRequestedDocuments).disabled=t;document.getElementById(p["default"].ids.documentOrderingCaseCaption).disabled=t;document.getElementById(p["default"].ids.documentOrderingCaseNumber).disabled=t;document.getElementById(p["default"].ids.documentOrderingClientId).disabled=t}I()("#"+p["default"].ids.documentOrderingCourtSelection+"Label").children("sup").remove();I()("#"+p["default"].ids.documentOrderingPartyName+"Label").children("sup").remove();I()("#"+p["default"].ids.documentOrderingRequestedDocuments+"Label").children("sup").remove();if(i||a||o)if(a&&!o){e.documentOrder.orderInformation.court||(document.getElementById(p["default"].ids.documentOrderingCourtSelection+"Label").innerHTML+="<sup>required</sup>");e.documentOrder.orderInformation.partyName||(document.getElementById(p["default"].ids.documentOrderingPartyName+"Label").innerHTML+="<sup>required</sup>");i&&(e.documentOrder.orderInformation.requestedDocuments||(document.getElementById(p["default"].ids.documentOrderingRequestedDocuments+"Label").innerHTML+="<sup>required</sup>"))}else e.documentOrder.orderInformation.requestedDocuments||(document.getElementById(p["default"].ids.documentOrderingRequestedDocuments+"Label").innerHTML+="<sup>required</sup>")};this.populateCourtData=function(e,t){var n,i="",a=!1,o="";o=(t=t||p["default"].novusTocData.westDocketOrderFormRootGuid)?"RawTOCData?collection="+p["default"].novusTocData.westDocketOrderFormCollection+"&guid="+t:"RawTOCData?collection="+p["default"].novusTocData.westDocketOrderFormCollection;A["default"].Get({relativeUrl:o,responseIsJson:!0,successCallback:function(t){(n=t).ChildrenCount>0&&I().each(n.Children,(function(){var e=this;a=a||e.ChildrenCount>0;i+="<option value='"+e.Guid+"'>"+e.Name+"</option>"}));var o=document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+e);if(a){document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}${e}`)?.classList.remove("co_hideState");i="<option value='Select'>Select</option>"+i;o?.insertAdjacentHTML("beforeend",i)}else if(i){o?.replaceChildren();document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}${e}`)?.classList.add("co_hideState");document.getElementById(p["default"].ids.documentOrderingCourtSelectionOption+"Four")?.insertAdjacentHTML("beforeend",i);document.getElementById(`${p["default"].ids.documentOrderingCourtSelection}Four`)?.classList.remove("co_hideState")}}})};this.enableDeliveryEntryFields=function(e){var t="disabled";e.checked&&(t="");document.getElementById(p["default"].ids.documentOrderingDeliveryFullName).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryCompany).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryEmailAddress).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryAddress1).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryAddress2).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryCity).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryState).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryPostalCode).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryCountry).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryPhoneNumber).disabled=t;document.getElementById(p["default"].ids.documentOrderingDeliveryFaxNumber).disabled=t};this.getDeliveryPageInformation=function(){e.getDeliveryPageBillingInformation();e.getDeliveryPageDeliveryInformation();e.getDeliveryPageOtherInformation()};this.validDeliveryPageInformation=function(){var t=!1;for(var n in e.infoBoxes)e.infoBoxes[n].Remove();t=e.validateDeliveryPageDeliveryMethodExists()||t;t=e.validateDeliveryPageBillingInformation()||t;return!(t=e.validateDeliveryPageDeliveryInformation()||t)};this.getDeliveryPageBillingInformation=function(){e.documentOrder.billingAddress.fullName=document.getElementById(p["default"].ids.documentOrderingFullName).value||"";e.documentOrder.billingAddress.companyName=document.getElementById(p["default"].ids.documentOrderingCompany).value||"";e.documentOrder.billingAddress.emailAddress=document.getElementById(p["default"].ids.documentOrderingEmailAddress).value||"";e.documentOrder.billingAddress.address1=document.getElementById(p["default"].ids.documentOrderingAddress1).value||"";e.documentOrder.billingAddress.address2=document.getElementById(p["default"].ids.documentOrderingAddress2).value||"";e.documentOrder.billingAddress.city=document.getElementById(p["default"].ids.documentOrderingCity).value||"";e.documentOrder.billingAddress.state=document.getElementById(p["default"].ids.documentOrderingState).value||"";e.documentOrder.billingAddress.postalCode=document.getElementById(p["default"].ids.documentOrderingPostalCode).value||"";e.documentOrder.billingAddress.country=document.getElementById(p["default"].ids.documentOrderingCountry).value||"";e.documentOrder.billingAddress.phoneNumber=document.getElementById(p["default"].ids.documentOrderingPhoneNumber).value||"";e.documentOrder.billingAddress.faxNumber=document.getElementById(p["default"].ids.documentOrderingFaxNumber).value||""};this.getDeliveryPageDeliveryInformation=function(){e.documentOrder.differentDeliveryAddress=document.getElementById(p["default"].ids.documentOrderingDifferentDelivery).checked;if(e.documentOrder.differentDeliveryAddress){e.documentOrder.deliveryAddress.fullName=document.getElementById(p["default"].ids.documentOrderingDeliveryFullName).value||"";e.documentOrder.deliveryAddress.companyName=document.getElementById(p["default"].ids.documentOrderingDeliveryCompany).value||"";e.documentOrder.deliveryAddress.emailAddress=document.getElementById(p["default"].ids.documentOrderingDeliveryEmailAddress).value||"";e.documentOrder.deliveryAddress.address1=document.getElementById(p["default"].ids.documentOrderingDeliveryAddress1).value||"";e.documentOrder.deliveryAddress.address2=document.getElementById(p["default"].ids.documentOrderingDeliveryAddress2).value||"";e.documentOrder.deliveryAddress.city=document.getElementById(p["default"].ids.documentOrderingDeliveryCity).value||"";e.documentOrder.deliveryAddress.state=document.getElementById(p["default"].ids.documentOrderingDeliveryState).value||"";e.documentOrder.deliveryAddress.postalCode=document.getElementById(p["default"].ids.documentOrderingDeliveryPostalCode).value||"";e.documentOrder.deliveryAddress.country=document.getElementById(p["default"].ids.documentOrderingDeliveryCountry).value||"";e.documentOrder.deliveryAddress.phoneNumber=document.getElementById(p["default"].ids.documentOrderingDeliveryPhoneNumber).value||"";e.documentOrder.deliveryAddress.faxNumber=document.getElementById(p["default"].ids.documentOrderingDeliveryFaxNumber).value||""}else{e.documentOrder.deliveryAddress.fullName="";e.documentOrder.deliveryAddress.companyName="";e.documentOrder.deliveryAddress.emailAddress="";e.documentOrder.deliveryAddress.address1="";e.documentOrder.deliveryAddress.address2="";e.documentOrder.deliveryAddress.city="";e.documentOrder.deliveryAddress.state="";e.documentOrder.deliveryAddress.postalCode="";e.documentOrder.deliveryAddress.country="";e.documentOrder.deliveryAddress.phoneNumber="";e.documentOrder.deliveryAddress.faxNumber=""}};this.getDeliveryPageOtherInformation=function(){
e.documentOrder.contactSubmitter=document.getElementById(p["default"].ids.documentOrderingContactMe).checked;e.documentOrder.additionalDeliveryInformation=document.getElementById(p["default"].ids.documentOrderingAdditionalDeliveryInformation).value||"";e.documentOrder.clientId=document.getElementById(p["default"].ids.documentOrderingClientId).value||"";e.documentOrder.emailDelivery=document.getElementById(p["default"].ids.documentOrderingDeliveredByEmail).checked;e.documentOrder.mailDelivery=document.getElementById(p["default"].ids.documentOrderingDeliveredByMail).checked;e.documentOrder.overnightDelivery=document.getElementById(p["default"].ids.documentOrderingDeliveredByOvernight).checked;e.documentOrder.faxDelivery=document.getElementById(p["default"].ids.documentOrderingDeliveredByFax).checked;var t=L["default"].Get("Global","TimeZone");e.documentOrder.timeZone=t};this.validateDeliveryPageDeliveryMethodExists=function(){var t=!1;if(!(e.documentOrder.emailDelivery||e.documentOrder.faxDelivery||e.documentOrder.overnightDelivery||e.documentOrder.mailDelivery)){e.showError(p["default"].ids.documentOrderingDeliveredByError,"Pick a delivery method");t=!0}return t};this.validateDeliveryPageBillingInformation=function(){var t=!1;if(!e.documentOrder.billingAddress.fullName){e.showError(p["default"].ids.documentOrderingFullName+"Error","Error with billing full name");t=!0}if(!e.documentOrder.billingAddress.emailAddress||!(0,h.ValidateSingleEmail)(e.documentOrder.billingAddress.emailAddress)){e.showError(p["default"].ids.documentOrderingEmailAddress+"Error","Error with billing e-mail");t=!0}if(!e.documentOrder.billingAddress.phoneNumber){e.showError(p["default"].ids.documentOrderingPhoneNumber+"Error","Error with billing phone number");t=!0}if(!e.documentOrder.billingAddress.companyName){e.showError(p["default"].ids.documentOrderingCompany+"Error","Error with billing company/firm name");t=!0}if(!e.documentOrder.billingAddress.address1){e.showError(p["default"].ids.documentOrderingAddress1+"Error","Error with billing address");t=!0}if(!e.documentOrder.billingAddress.city){e.showError(p["default"].ids.documentOrderingCity+"Error","Error with billing city");t=!0}if(!e.documentOrder.billingAddress.state){e.showError(p["default"].ids.documentOrderingState+"Error","Error with billing state");t=!0}if(!e.documentOrder.billingAddress.postalCode){e.showError(p["default"].ids.documentOrderingPostalCode+"Error","Error with billing postal code");t=!0}if(!e.documentOrder.billingAddress.country){e.showError(p["default"].ids.documentOrderingCountry+"Error","Error with billing country");t=!0}return t};this.validateDeliveryPageDeliveryInformation=function(){var t=!1;if(e.documentOrder.differentDeliveryAddress){if(!e.documentOrder.deliveryAddress.fullName){e.showError(p["default"].ids.documentOrderingDeliveryFullName+"Error","Error with deliver to full name");t=!0}if(!e.documentOrder.deliveryAddress.companyName){e.showError(p["default"].ids.documentOrderingDeliveryCompany+"Error","Error with deliver to company/firm name");t=!0}if(!e.documentOrder.deliveryAddress.emailAddress||!(0,h.ValidateSingleEmail)(e.documentOrder.deliveryAddress.emailAddress)){e.showError(p["default"].ids.documentOrderingDeliveryEmailAddress+"Error","Error with deliver to e-mail address");t=!0}if(!e.documentOrder.deliveryAddress.address1){e.showError(p["default"].ids.documentOrderingDeliveryAddress1+"Error","Error with deliver to address");t=!0}if(!e.documentOrder.deliveryAddress.city){e.showError(p["default"].ids.documentOrderingDeliveryCity+"Error","Error with deliver to city");t=!0}if(!e.documentOrder.deliveryAddress.state){e.showError(p["default"].ids.documentOrderingDeliveryState+"Error","Error with deliver to state");t=!0}if(!e.documentOrder.deliveryAddress.postalCode){e.showError(p["default"].ids.documentOrderingDeliveryPostalCode+"Error","Error with deliver to postal code");t=!0}if(!e.documentOrder.deliveryAddress.country){e.showError(p["default"].ids.documentOrderingDeliveryCountry+"Error","Error with deliver to country");t=!0}if(!e.documentOrder.deliveryAddress.phoneNumber){e.showError(p["default"].ids.documentOrderingDeliveryPhoneNumber+"Error","Error with deliver to phone number");t=!0}}return t};this.ProfessionalsReportCustomization=function(){var e=(new u["default"].QueryStringParser).GetValue("delivery");if("reportDelivery"==e){document.querySelectorAll("a").forEach((function(e){e.textContent.includes("Return to Docket")&&e.classList.add("co_hideState")}));const i=document.getElementById("co_documentOrderingClientId");i&&(i.value=_["default"].GetClientId()??"");document.getElementById("co_documentOrderingReturnTo")?.classList.add("co_hideState");var t="&delivery="+e,n=document.getElementById("co_documentOrderingSubmit")?.getAttribute("href")+t;document.getElementById("co_documentOrderingSubmit")?.setAttribute("href",n)}};this.showError=function(t,n){var i=e.infoBoxes[t];if(null==i){var a=document.getElementById(t);e.infoBoxes[t]=new x["default"](a,k["default"].Failure,w["default"].Right,!0,!1,!1);i=e.infoBoxes[t]}i.Draw(n)};this.courtExpressHelp=function(){g["default"].publishHubEvent(p["default"].events.documentOrderHelp,null,{},null)}};var R=a().extend({init:function(e){this.documentDisplay=e},documentDisplay:null,internalLinkWaitLightbox:null,highlightedElement:null,isInfinitesScroll:!1,GetDocumentElement:function(e=p["default"].ids.document){return this.isInfinitesScroll?document.getElementById(`documentContainer_${this.documentDisplay.DocumentGuid}`).querySelector(`#${e}`):document.getElementById(e)},AddImageEventHandlers:function(){var e=this,t=this.GetDocumentElement();if(t){f["default"].EnableIpad||f["default"].EnableIphone?r["default"].AddEventHandler(t,"touchstart",(function(t){e.imageClick(t)})):g["default"].AttachClickHandler(t,(function(t){e.imageClick(t)}));r["default"].AddEventHandler(t,"error",(function(t){e.imageError(t)}))}},imageClick:function(e){var t=g["default"].getEventSourceElement(e);if(g["default"].selfOrAncestorHasClassFromList(t,[p["default"].classes.image,p["default"].classes.shrunkImage])){this.publishImageClickEvent(t);var n=g["default"].GetAncestorOrSelfElement(t,"a");if(n&&n.href){e.preventDefault&&e.preventDefault();window.open(n.href);e.returnValue=!1;return!1}}},publishImageClickEvent:function(e){var t=g["default"].parseGuidFromLastSegmentOfUrl(e.src);if(null!=t){var n=t.lastIndexOf(".");n&&(t=t.substr(0,n))}var i=e.src.substring(e.src.lastIndexOf(".")+1),a=i.indexOf("?");-1!=a&&(i=i.slice(0,a));var o={docGuid:this.documentDisplay.DocumentGuid,imageGuid:t,imageType:i};g["default"].publishHubEvent(p["default"].events.imageClicked,null,o,{},p["default"].events.imageClicked,o)},imageError:function(e){var t=g["default"].getEventSourceElement(e);if(t.className===p["default"].classes.image||t.className===p["default"].classes.shrunkImage){var n=new m["default"];n.ContextualInfo=this.documentDisplay.ContextualInfo;var i=function(){};n.GetMetaInformation(this.documentDisplay.DocumentGuid,i,i)}},AttachDocumentLinkClickHandlers:function(e){var t=this,n=this.GetDocumentElement(e);n&&g["default"].AttachClickHandler(n,(function(e){t.routeClickedLinkHandlers(e)}))},routeClickedLinkHandlers:async function(e){var t=this,n=g["default"].getEventSourceElement(e),i=g["default"].GetAncestorOrSelfElement(n,"a");if(null!=i){t.isInternalLink(i)&&t.handleInternalLink(i,e);t.isBlobLink(i)&&t.handleBlobLink(i,e);t.isDocketsUpdateLink(i)&&t.handleDocketsUpdateLink();t.isDocketSendRunnerLink(i)&&await t.handleDocketSendRunnerLink(i)}const a=g["default"].GetAncestorOrSelfElement(n,"button");t.isExpandCollapseButton(a)&&t.handleExpandCollapseButton(a)},isInternalLink:function(e){var t=e.href;if(t){var n=window.location.href.replace(window.location.hash,"");return t&&t.indexOf("#")>-1&&(0==t.indexOf("#")||t.indexOf(n)>-1)}return!1},preHandleInternalLink:function(){},handleInternalLink:function(e,t){var n=this,i=g["default"].getEventSourceElement(t),a=n.GetInternalLinkTargetId(e);if(a.length>0){n.preHandleInternalLink(a);var o=function(t){
if(["co_footnote_","co_fnRef_","co_tablefootnote_","tnp_","tnp_fnRef_","crsw_fn_","crsw_fnRef_","co_modal_footnote_","co_modal_footnoteReference_"].some((e=>a.startsWith(e)))){const e=t.element.querySelector("a");e&&(t.element=e)}n.GoToInternalLink(e,t,e)};const t=e=>n.ShowInternalLinkWait(e);g["default"].GetElementById(a,o,t,o)}if(e.className===p["default"].classes.widgetCollapse){const e=document.getElementById(p["default"].ids.prelimContainer);e&&r["default"].AddClass(e,p["default"].classes.hideState);i.className=p["default"].classes.widgetExpand;null==i.firstChild?i.appendChild(document.createTextNode(p["default"].expand)):i.firstChild.nodeValue=p["default"].expand;s["default"].Publish(p["default"].events.documentMayHaveChangedSize,new d["default"]({}))}else if(e.className===p["default"].classes.widgetExpand){const e=document.getElementById(p["default"].ids.prelimContainer);e&&r["default"].RemoveClass(e,p["default"].classes.hideState);i.className=p["default"].classes.widgetCollapse;null==i.firstChild?i.appendChild(document.createTextNode(p["default"].collapse)):i.firstChild.nodeValue=p["default"].collapse;s["default"].Publish(p["default"].events.documentMayHaveChangedSize,new d["default"]({}))}t.preventDefault&&t.preventDefault();t.returnValue=!1},GetInternalLinkTargetId:function(e){var t=e.href;if(t)return t.substring(t.indexOf("#")+1,t.length);return null},GoToInternalLink:function(e,t,n){var i=this;if(null!=i.internalLinkWaitLightbox){i.internalLinkWaitLightbox.Remove();i.internalLinkWaitLightbox=null}else if(null!=window.internalLinkWaitLightbox){window.internalLinkWaitLightbox.Remove();window.internalLinkWaitLightbox=null}if(t){if(!f["default"].EnableIpad&&!f["default"].EnableIphone&&g["default"].selfOrAncestorHasId(t.element,p["default"].ids.expandedHeadnotes)){var a=i.documentDisplay.Headnote.ExpandHeadnotesBox;g["default"].ScrollToChunkedElement(t,a)}if(n){var o=l.ElementStorage.get(n,"scrollUp");g["default"].ScrollToChunkedElement(t,null,o)}else g["default"].ScrollToChunkedElement(t,s["default"].Publish(p["default"].events.beforeScrollToChunkedElement));g["default"].selfOrAncestorHasId(e,p["default"].ids.nrsOutline)&&i.highlightTarget(t.element)}},highlightTarget:function(e){null!=this.highlightedElement&&r["default"].RemoveClass(this.highlightedElement,p["default"].classes.nrsOutlineSelected);this.highlightedElement=e;r["default"].AddClass(e,p["default"].classes.nrsOutlineSelected)},ShowInternalLinkWait:function(e){if(!this.internalLinkWaitLightbox){const t=new o["default"];t.GetContentDomElement().innerHTML=`<span>${p["default"].texts.internalLinkWaitPleaseWait}</span>`;t.GetFooterDomElement().innerHTML=`<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<input type="button" class="co_defaultBtn" value="${p["default"].texts.cancel}" id="${p["default"].ids.internalLinkWaitLightbox}"/>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>`;this.internalLinkWaitLightbox=t;const n=()=>{e();this.internalLinkWaitLightbox.Remove();this.internalLinkWaitLightbox=null};t.SetCloseLinkObject({alt:p["default"].texts.internalLinkWaitClose,onclick:n});t.Draw();window.setTimeout((()=>{this.internalLinkWaitLightbox&&n()}),4e4);const i=document.getElementById(p["default"].ids.internalLinkWaitLightbox);g["default"].AttachClickHandler(i,n)}},isBlobLink:function(e){return e.href&&g["default"].IsBlobLink(e.pathname)||this.isBlobPdfLink(e)||this.isImageLink(e)},isBlobPdfLink:function(e){return e?.classList.contains("co_blobLink")&&"pdf"===this.getQuerystringvalues("extension",e.href,"")},isImageLink:function(e){const t=["jpg"],n=e.pathname.split(".");if(n.length>0){const i=n[n.length-1].toLowerCase();return t.indexOf(i)>=0&&e.hasAttribute("download")}return!1},handleBlobLink:function(e,t){window.open(e.href);g["default"].stopEventPropagationAndDefaultBehavior(t)},isDocketsUpdateLink:function(e){var t=e.id;if(t)return t==p["default"].ids.docketsUpdate;return!1},handleDocketsUpdateLink:function(){var e=g["default"].GetMetadataFromDom(p["default"].ids.docketsUpdateJson);s["default"].Publish(p["default"].events.docketsUpdate,e)},isDocketSendRunnerLink:function(e){var t=e.id;if(t)return t.indexOf(p["default"].ids.docketSendRunnerLink)>-1;return!1},handleDocketSendRunnerLink:async function(e){var t=e.id.replace(p["default"].ids.docketSendRunnerLink,""),n=document.getElementById(p["default"].ids.docketSendRunnerLink+t).href,i=this.getQuerystringvalues("checkSum",n,""),a=this.getQuerystringvalues("docPersistId",n,""),o=new N;o.SetDocumentGuid(this.documentDisplay.DocumentGuid);o.SetOrderedIndex(t);o.SetCheckSum(i);o.SetDocPersistId(a);await o.Store()},getQuerystringvalues:function(e,t,n){null==n&&(n="");e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==i?n:i[1]},AttachDocumentLinkMouseOverHandlers:function(e){var t=this,n=this.GetDocumentElement(e);if(n){var i="mouseover";(f["default"].EnableIpad||f["default"].EnableIphone)&&(i="touchstart");n.addEventListener(i,(function(e){t.routeLinkPopupHandlers(e)}))}},routeLinkPopupHandlers:function(e){var t=this,n=g["default"].getEventSourceElement(e),i=g["default"].GetAncestorOrSelfElement(n,"a");if(null!=i){t.documentDisplay.DraggableController.isDraggableLink(i)?t.documentDisplay.DraggableController.publishDraggableLink(i):t.documentDisplay.DraggableController.destroyDraggableLink(i);!f["default"].EnableIpad&&!f["default"].EnableIphone&&t.documentDisplay.Footnote&&t.documentDisplay.Footnote.IsFootnoteReference(i)&&t.documentDisplay.Footnote.FootnotesMouseOver(i)}},ProcessInternalLink:function(){const e=this.GetInternalLinkAnchor();if(e){var t=u["default"].Parse(window.location.href);if(t.QueryString.documentSection){delete t.QueryString.documentSection;const e=u["default"].Relative(t);history.replaceState(null,"",e)}this.JumpToInternalLink(e)}},GetInternalLinkAnchor:function(){var e=window.location.hash;if(!e){var t=u["default"].Parse(window.location.href).QueryString["documentSection"];if(t){return t.split(",").map((e=>e.replace(/–[0-9]+/,""))).find((e=>document.getElementById(e)))}}return e?.substring(1)},JumpToInternalLink:function(e){var t=this,n=function(n){if(null==n)return;null!=n.element&&t.ApplyInternalLinkStyle(e,n.element);t.GoToInternalLink(null,n,null)};setTimeout((function(){g["default"].GetElementById(e,n,(function(e){t.ShowInternalLinkWait(e)}),n)}),p["default"].timeouts.pinpointLinkScroll)},ApplyInternalLinkStyle:function(e,t){if((0,h.StartsWith)(e,"co_snip")||(0,h.StartsWith)(e,"co_term")||(0,h.StartsWith)(e,"co_pp_sp")){var n=!1;f["default"].IsBestPortionNavigationEnabled&&v["default"].ViewData&&(n=v["default"].ViewData.EnableBestPortion);if(!(n=n&&document.querySelector(`.${p["default"].classes.locateSnippet}`))||!(0,h.StartsWith)(e,"co_snip")){const e=document.createElement("span");e.className=p["default"].classes.pinpointIcon;e.textContent=" ";this.InsertPpElement(t,e)}}else if((0,h.StartsWith)(e,"co_overrulingRisk")&&c.A.IsOverrulingRiskEnabled()){var i=p["default"].classes.overrulingRiskMarkingPinpointIcon;const e=document.createElement("span");e.className=i;e.textContent=" ";t?.after(e)}},InsertPpElement:function(e,t){e?.after(t)},AddClickHandlersForIpad:function(e){for(var t,n=this,i=e.getElementsByTagName("a"),a=i.length;a--;){t=i[a];n.isInternalLink(t)&&(t.onclick=function(e){n.routeClickedLinkHandlers(e)})}R.AddImageLinkHandlersForIpad(e)},isExpandCollapseButton:function(e){return e&&e.id===p["default"].ids.docTocExpandCollapseButton},handleExpandCollapseButton:function(e){e.classList.toggle(p["default"].classes.widgetCollapse);e.classList.toggle(p["default"].classes.widgetExpand);const t=e.classList.contains(p["default"].classes.widgetCollapse);e.setAttribute("aria-expanded",t);const n=document.getElementById(p["default"].ids.prelimContainer);if(n){n.classList.toggle(p["default"].classes.hideState);s["default"].Publish(p["default"].events.documentMayHaveChangedSize,new d["default"]({}))}}});R.AddImageLinkHandlersForIpad=function(e){for(var t,n=e.getElementsByTagName("img"),i=n.length;i--;){t=n[i];g["default"].selfOrAncestorHasClassFromList(t,[p["default"].classes.image,p["default"].classes.shrunkImage])&&(t.onclick=function(e){
e.preventDefault&&e.preventDefault();e.returnValue=!1})}};const P=R},2495:(e,t,n)=>{e.exports=n(4507)(95393)},2496:(e,t,n)=>{e.exports=n(4507)(39017)},2502:(e,t,n)=>{e.exports=n(4507)(81870)},2525:(e,t,n)=>{"use strict";n.d(t,{C:()=>d});var i=n(3434),a=n(8660),o=n(4383),r=n(3903),s=n(6306),l=n(6094);function c(){s["default"].call(this)}c.prototype=new s["default"];c.prototype.constructor=c;c.prototype.submitWebRequest=function(e){var t="RelatedInfo/v1/flags",n=new l.A;n.addParameter("docGuid",e.documentGuid);var s=e.getDocumentCollection();r["default"].isNotNullOrUndefined(s)&&r["default"].trim(s).length>0&&n.addParameter("novusCollection",s);var c=e.getOriginationContext();r["default"].isNotNullOrUndefined(c)&&r["default"].trim(c).length>0&&n.addParameter("originationContext",c);var d=o["default"].PageContextData;r["default"].isNotNullOrUndefined(d)&&r["default"].trim(d).length>0&&n.addParameter("contextData",d);var u=e.getDocSource();r["default"].isNotNullOrUndefined(u)&&r["default"].trim(u).length>0&&n.addParameter("docSource",u);var h=e.getRank();r["default"].isNotNullOrUndefined(h)&&r["default"].trim(h).length>0&&n.addParameter("rank",h);var f=n.buildParametersString();r["default"].isNotNullOrUndefined(f)&&r["default"].trim(f).length>0&&(t+="?"+f);return new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};c.prototype.GetPopUpFlagsInfo=async function(e){var t=new a["default"](i["default"].RelatedInfo,"RelatedInfo/v1/flags",{headers:{"Content-Type":"application/json;charset=UTF-8"}});const n=e.guids.map((e=>({docGuid:e,detailLevel:"high",transitionType:"InlineKeyCiteFlags"}))),o=await t.Post(JSON.stringify(n));if(!o.ok){const e=`Failed to retrieve flags for guids. HTTP status code: ${o.status}.`;throw new Error(e)}{const t=await o.json();e.success(t)}};const d=new c},2530:(e,t,n)=>{e.exports=n(8846)(6751)},2532:(e,t,n)=>{e.exports=n(8846)(2656)},2587:(e,t,n)=>{e.exports=n(4507)(98101)},2595:(e,t,n)=>{e.exports=n(4507)(54637)},2597:(e,t,n)=>{e.exports=n(4507)(67088)},2637:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={Search:1,Browse:2,Document:4,Reserved:8}},2690:(e,t,n)=>{e.exports=n(8846)(3110)},2748:(e,t,n)=>{e.exports=n(4507)(8813)},2769:(e,t,n)=>{e.exports=n(4507)(68571)},2777:(e,t,n)=>{e.exports=n(4507)(98349)},2842:(e,t,n)=>{e.exports=n(4507)(27687)},2904:(e,t,n)=>{e.exports=n(8846)(2520)},2911:(e,t,n)=>{e.exports=n(4507)(37890)},2915:(e,t,n)=>{e.exports=n(4507)(86322)},2940:(e,t,n)=>{e.exports=n(4507)(52735)},2956:e=>{"use strict";e.exports='<button title="<%-previousTermText%>" id="<%-previousTermId%>" class="<%-previousTermClass%>">\n    <span class="icon25 icon_prev_arrow"><%-previousTermText%></span>\n</button>\n<%=termNavigationHtml%>\n<button title="<%-nextTermText%>" id="<%-nextTermId%>" class="<%-nextTermClass%>">\n    <span class="icon25 icon_next_arrow"><%-nextTermText%></span>\n</button>\n<%=termNavMessagingStructure%>\n'},2982:(e,t,n)=>{e.exports=n(4507)(75378)},3178:(e,t,n)=>{"use strict";n.d(t,{h:()=>u});var i=n(3434),a=n(8660),o=n(4383),r=n(6306),s=n(3903),l=n(6094),c=n(6357);function d(){r["default"].call(this)}d.prototype=new r["default"];d.prototype.constructor=d;d.prototype.submitWebRequest=function(e){var t="RelatedInfo/v1/flags",n=new l.A;n.addParameter("docGuid",e.documentGuid);n.addParameter("detailLevel","3");n.addParameter("transitionType","Document");n.addParameter("originationContext","docHeaderSnt");var r=function(){var e=c["default"].getItem("DistinguishedByContextData");if(!s["default"].isNotNullOrUndefined(e)){var t=o["default"].PageContextData.indexOf("(sc.Toggle)")>-1?"(sc.Default)":o["default"].PageContextData;c["default"].setItem("DistinguishedByContextData",t);e=t}return e}();s["default"].isNotNullOrUndefined(r)&&s["default"].trim(r).length>0&&n.addParameter("contextData",r);var d=e.getDocSource();s["default"].isNotNullOrUndefined(d)&&s["default"].trim(d).length>0&&n.addParameter("docSource",d);var u=e.getRank();s["default"].isNotNullOrUndefined(u)&&s["default"].trim(u).length>0&&n.addParameter("rank",u);var h=e.getDocumentCollection();s["default"].isNotNullOrUndefined(h)&&s["default"].trim(h).length>0&&n.addParameter("novusCollection",h);var f=n.buildParametersString();s["default"].isNotNullOrUndefined(f)&&s["default"].trim(f).length>0&&(t+="?"+f);return new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};const u=new d},3256:(e,t,n)=>{e.exports=n(8846)(9086)},3268:(e,t,n)=>{"use strict";var i=n(1446);var a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=i.useState,r=i.useEffect,s=i.useLayoutEffect,l=i.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!a(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),i=o({inst:{value:n,getSnapshot:t}}),a=i[0].inst,d=i[1];s((function(){a.value=n;a.getSnapshot=t;c(a)&&d({inst:a})}),[e,n,t]);r((function(){c(a)&&d({inst:a});return e((function(){c(a)&&d({inst:a})}))}),[e]);l(n);return n};t.useSyncExternalStore=void 0!==i.useSyncExternalStore?i.useSyncExternalStore:d},3300:(e,t,n)=>{e.exports=n(4507)(58337)},3364:(e,t,n)=>{e.exports=n(4507)(27533)},3423:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i={objectIds:{NewsletterCenter:"Cobalt.Alerts.Center.Newsletter",CenterTitle:"Cobalt.Alerts.Center.Title",FacetAlertTypes:"Cobalt.Alerts.Facet.AlertTypes",CenterRenderer:"Cobalt.Alerts.Center.Renderer",AlertResult:"Cobalt.Alerts.Center.AlertResult",ModerationAlertResults:"Cobalt.Alerts.Center.Moderation.AlertResults",CenterContent:"Cobalt.Alerts.History.Center.Content",ResultCenter:"Cobalt.Alerts.Result.Center",ResultCenterContent:"Cobalt.Alerts.Result.Center.Content",ToolbarSortDropDown:"Cobalt.Alerts.Toolbar.SortDropDown",NotifyActionRun:"Cobalt.Alerts.Toolbar.NotifyAction.Run",NotifyActionPause:"Cobalt.Alerts.Toolbar.NotifyAction.Pause",ToolbarMultipleEdit:"Cobalt.Alerts.Toolbar.MultipleEdit",ProviderContentData:"Cobalt.Alerts.Provider.ContentData",FacetRenderer:"Cobalt.Alerts.Facet.FacetRenderer",AlertGridItemRenderer:"Cobalt.Alerts.AlertGridItemRenderer",AlertListItemRenderer:"Cobalt.Alerts.AlertListItemRenderer"},classes:{},hourSelectionType:{Multi:[1,"checkbox"],Single:[2,"radio"]},HourSelectionType:{Multi:"multi",Single:"single",None:""},ViewType:{Options:"options",Summary:"summary",Header:"header"},AccordionSuccessKey:"SuccessfulAlert",AccordionFailureKey:"FailureAlert",ModerationSuccessKey:"SuccessfulModeration",ModerationFailureKey:"FailedModeration",Pause:"pause",RunNow:"run",Counties:{WDIR00000000000000000000104979793:"Orange",WDIR00000000000000000000112374859:"",WDIR00000000000000000000114957377:""},MultipleKeyCiteLimits:{NewsletterCreationWidget:{MaxLimitForAlerts:500}},FirmOwnerDataRoomPrismGuid:"Firm Owned",AlertFlowTypes:{Create:"Create",Edit:"Edit",Copy:"Copy"},multipleEdit:{ids:{rootContainer:"MultipleAlertEditFacetsContainer",selectorList:"multiple_edit_facet_selector_list",tabContentContainer:"multiple_edit_facet_content",tabListContainer:"edit_multiple_facet_selector_container"},getFacetSelectorItemId:e=>`${e}_multiple_edit_facet_selector_item`,getFacetContentId:e=>`${e}_facet_content_type`},onlyFailuresOrErrorsId:"enableOnlyFailedOrErrorAlerts"}},3434:(e,t,n)=>{e.exports=n(4507)(25670)},3444:(e,t,n)=>{e.exports=n(4507)(99738)},3523:(e,t,n)=>{e.exports=n(4507)(25539)},3546:(e,t,n)=>{e.exports=n(4507)(30005)},3595:(e,t,n)=>{e.exports=n(615)(1532)},3661:(e,t,n)=>{e.exports=n(4507)(595)},3783:(e,t,n)=>{e.exports=n(4507)(32651)},3792:(e,t,n)=>{e.exports=n(615)(5843)},3839:(e,t,n)=>{e.exports=n(615)(6700)},3871:(e,t,n)=>{"use strict";e.exports=n(3268)},3873:(e,t,n)=>{e.exports=n(4507)(90712)},3890:(e,t,n)=>{e.exports=n(4507)(80415)},3903:(e,t,n)=>{e.exports=n(4507)(2375)},4014:(e,t,n)=>{e.exports=n(4507)(9260)},4044:(e,t,n)=>{"use strict";n.d(t,{H:()=>x});var i=n(1446),a=n(7433),o=n(4046),r=n.n(o),s=n(2769);const l=i.createContext({});var c=n(9912);const d={containerClass:"a11yDropdown",menuListClass:"a11yDropdown-menu",iconClass:"icon25",
itemClass:"a11yDropdown-item",itemTextClass:"a11yDropdown-itemText",textWrapperClass:"a11yDropdown-itemTextWrapper",disabledItemClass:"co_disabled",selectedItemClass:"a11yDropdown-item_selected",separatorClass:"co_divider",buttonTextClass:"a11yDropdown-buttonText",classForButton:"a11yDropdown-button",classForDisabledButton:"co_disabled",labelForButton:c["default"].lookup("SC.Core.Widgets.MenuButton.DefaultLabel","Menu Button"),labelForEmptyButton:c["default"].lookup("SC.Core.Widgets.MenuButton.NoDataLabel","No Data"),itemRoles:["menuitem","menuitemradio","menuitemcheckbox"]},u=e=>Array.from(e.querySelectorAll("li, a")).filter((e=>d.itemRoles.includes(e.getAttribute("role"))));var h=n(9914);var f=n(1811);const p=i.memo((({children:e,className:t,focusOnCollapse:n=!0,onCollapsed:a=()=>{},onExpanded:o=()=>{}})=>{const s=r()(d.containerClass,t),c=(0,i.useRef)(null),[u,p]=(0,i.useState)(!1),[m,g]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[b,C]=(0,i.useState)(""),[S,_]=(0,i.useState)(!0),[D,T]=(0,i.useState)(!1),[I,x]=(0,i.useState)(!1),k={isArrowUpPressed:D,isMenuOpen:u,menuId:(0,i.useId)(),isRadioMenu:I,setIsRadioMenu:x,selectedId:m,selectedItemText:v,selectedItemLabel:b,shouldEventTriggerFocus:S,setSelectedId:g,setSelectedItemText:y,setSelectedItemLabel:C,setMenuState:p,setArrowUpPressed:T,onExpanded:o,onCollapsed:a};((e,t,n,a,o)=>{const r=()=>{document.removeEventListener("mousedown",c);document.removeEventListener("keydown",c);document.removeEventListener("touchstart",c);document.removeEventListener("click",c)},s=e=>{e&&a(!1);o();r()},l=e=>{if(e){r();a(!1);return!0}return!1};function c(i){const o=e.current?.contains(i.target),r=(0,h.isFocusable)(i.target);if(l("Tab"===i.key))return;a(n);if(o)return;t&&s(r)}(0,i.useEffect)((()=>{document.addEventListener("mousedown",c);document.addEventListener("keydown",c);document.addEventListener("touchstart",c);document.addEventListener("click",c);return r}),[t,e,n])})(c,u,n,_,(()=>{p(!1);a()}));return(0,f.jsx)("div",{className:s,ref:c,children:(0,f.jsx)(l.Provider,{value:k,children:e})})}));var m=n(3783);const g=({children:e,iconClass:t="icon_downMenu-gray",textClass:n})=>{const{selectedItemText:a}=(0,i.useContext)(l),o=r()(d.iconClass,t),s=r()(d.buttonTextClass,n),c=e??a;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:s,children:c}),(0,f.jsx)("span",{className:o})]})},v=i.forwardRef((({children:e,id:t,className:n,ariaLabel:a,textClass:o,isDisabled:s,ariaDescribedBy:u,includeDefaultClasses:h=!0,ariaControls:p,ariaLabelledBy:v,onAriaLabelChange:y,menuName:b},C)=>{const{isMenuOpen:S,menuId:_,setMenuState:D,shouldEventTriggerFocus:T,onExpanded:I,onCollapsed:x,setArrowUpPressed:k,selectedItemLabel:w,isRadioMenu:E}=(0,i.useContext)(l),A=(0,m["default"])(S),L=(0,i.useRef)(null);(0,i.useImperativeHandle)(C,(()=>L.current));const N=r()(h&&d.classForButton,n,s&&d.classForDisabledButton),R=r()(h&&d.buttonTextClass,o),P=e||(0,f.jsx)(g,{}),O=(0,f.jsx)("span",{className:R,children:P}),B=!i.isValidElement(e)?O:e;let M;M=E&&b&&!a?w?c["default"].format("SC.Core.Widgets.MenuButton.Selected.AriaLabel",{name:b,value:w},`${b}: ${w}`):c["default"].format("SC.Core.Widgets.MenuButton.NoSelection.AriaLabel",{name:b},`${b}: no selection`):a;(0,i.useEffect)((()=>{M&&y?.(M)}),[y,M]);(0,i.useEffect)((()=>{if(A&&!S&&T){k(!1);L.current.focus()}}),[S,A,T,k]);return(0,f.jsx)("button",{type:"button",tabIndex:0,"aria-haspopup":"true",id:t,className:N,"aria-label":M,disabled:s,"aria-expanded":S,"aria-controls":p??_,"aria-describedby":u,"aria-labelledby":v,ref:L,onClick:()=>{if(s)return;const e=S?x:I;D(!S);e()},onKeyDown:e=>{if(s)return;if("Enter"===e.key||" "===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key){e.preventDefault();k("ArrowUp"===e.key);const t=S?x:I;D(!S);t()}},children:B})})),y=i.memo(v);var b=n(9068),C=n(762);const S=i.memo((e=>{const{children:t,id:n,className:a,ariaLabel:o,isDisabled:s,onSelected:c,iconClass:u,textClass:h,textWrapperClass:p,selectedItemClass:m,liElement:g}=e;let{isSelected:v}=e;const{setMenuState:y,setSelectedItemText:b,selectedId:S,setSelectedItemLabel:_,setSelectedId:D,onCollapsed:T}=(0,i.useContext)(l);S&&(v=S===n);const I=r()(a,d.itemClass,{[d.selectedItemClass]:v,[m]:m&&v,[d.disabledItemClass]:s}),x=r()(p,d.textWrapperClass),k=r()(u,d.iconClass),w=r()(h,d.itemTextClass),E=i=>{D(n);b(t);const a=o||g?.current?.textContent;_?.(a);c&&c(i,e)};return(0,f.jsx)("li",{id:n,ref:g,role:"menuitemradio",tabIndex:-1,className:I,"aria-label":o,"aria-disabled":s,"aria-checked":v,onClick:e=>{if(s)return;v||E(e);y(!1);T()},onKeyDown:e=>{if(s)return;if(e.keyCode===C["default"].ENTER){e.preventDefault();y(!1);E(e);T()}if(e.keyCode===C["default"].SPACE){e.preventDefault();E(e)}},children:(0,f.jsxs)("span",{className:x,children:[u&&(0,f.jsx)("span",{className:k}),(0,f.jsx)("span",{className:w,children:t})]})})})),_=i.memo((({children:e,className:t,ariaLabel:n,focusOnSelectedItem:a=!0})=>{const{isMenuOpen:o,menuId:s,setMenuState:c,selectedId:h,setSelectedId:p,setSelectedItemText:m,onCollapsed:g,isArrowUpPressed:v,setIsRadioMenu:y,setSelectedItemLabel:C}=(0,i.useContext)(l),_=(0,i.useRef)(null),D=(0,i.useMemo)((()=>i.Children.map(e,(e=>{const t=i.createRef();return e&&i.cloneElement(e,{liElement:t})}))),[e]);(0,i.useEffect)((()=>{const t=i.Children.toArray(e).every((e=>e.type===S));y(t)}),[e,y]);const T=r()(d.menuListClass,t,{co_hideState:!o});(0,i.useEffect)((()=>{if(!o||!e.length)return;let t;const n=_.current,r=u(n);i.Children.forEach(D,(e=>{const{liElement:n,id:i}=e.props;if(i===h&&a){t=n.current;t.focus()}}));t||(v?r[r.length-1].focus():r[0].focus())}),[D,o,e,a,h,_,v]);(0,b["default"])((()=>{i.Children.forEach(D,(e=>{const{id:t,isSelected:n,children:i,ariaLabel:a,liElement:o}=e.props;if(!h&&n){p(t);m(i);const e=a||o.current.textContent;C(e)}}));_.current.addEventListener("keydown",(e=>{if("Escape"===e.key){e.preventDefault();e.stopPropagation();c(!1);g(e)}}))}));return(0,f.jsx)("ul",{id:s,className:T,"aria-label":n,role:"menu",ref:_,onKeyDown:e=>{const t=_.current,n=u(t),i=n.findIndex((t=>t===e.target)),a=n.length-1,o=i+1,r=i-1;switch(e.key){case"ArrowDown":e.preventDefault();i===a?n[0].focus():n[o].focus();break;case"ArrowUp":e.preventDefault();0===i?n[a].focus():n[r].focus();break;case"Home":e.preventDefault();n[0].focus();break;case"End":e.preventDefault();n[a].focus();break;case"Tab":c(!1);g(e)}},children:D})}));var D=n(4411);const T=({id:e,options:t,ariaLabel:n,selectedItemIndex:a,onItemChange:o,isTooltipRequired:l=!0})=>{const[c,d]=(0,i.useState)(n),[u,h]=(0,i.useState)(t[a]),[m,g]=(0,i.useState)(!1),v=r()("icon25",{"icon_downMenu-gray":!m,"icon_upMenu-gray":m}),[b,C]=(0,i.useState)(a),T=(e,t)=>{C(t.index);h(t.value);o&&o(t.index)},I=(0,f.jsxs)(y,{id:e,menuName:n,onAriaLabelChange:d,children:[(0,f.jsx)("span",{className:"a11yDropdown-buttonText",children:u}),(0,f.jsx)("span",{className:v})]});return(0,f.jsxs)(p,{onExpanded:()=>g(!0),onCollapsed:()=>g(!1),children:[l?(0,f.jsx)(D["default"],{text:c,position:s["default"].Bottom,children:I}):I,(0,f.jsx)(_,{className:"a11yDropdown-menu--left",ariaLabel:n,children:t.map(((e,t)=>(0,f.jsx)(S,{index:t,id:`a11yDropdown-menu--option_${e.replaceAll(/\s+/g,"")}`,value:e,isSelected:t===b,iconClass:t===b?"th_flat_icon icon_checkmark":"",onSelected:T,children:e},e)))})]})};T.displayName="DropdownMenu (Platform/js/PLCCore/Foundation/Core/Menu/DropdownMenu.jsx)";const I=T,x=(e,t,n,o,r,s)=>{const l=document.createElement("div"),c=i.createElement(I,{id:s,options:e,ariaLabel:t,selectedItemIndex:n,onItemChange:o,isTooltipRequired:r});(0,a.createRoot)(l).render(c);return l}},4046:(e,t,n)=>{e.exports=n(4507)(86365)},4082:(e,t,n)=>{e.exports=n(8846)(2359)},4095:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(3423),a=n(9691);(0,a.merge)(i.A,{classes:{draggableLink:"draggable_document_link",registeredDraggableLink:"co_draggabled"},ids:{alertWizardCustomContentId:"co_alertWizardCustomContent"}});const o=i.A},4120:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>ym});var i=n(8260),a=n(4383),o=n(3839),r=n(8286),s=n(3444),l=n(1434),c=n.n(l),d=n(2595),u=n(669),h=n(6494),f=n(1369),p=n(519),m=n(8307),g=n(966),v=n(2065),y=n(1422),b=n(5024),C=n(5732);function S(){
return f["default"].GetObject(r["default"].objectIds.draggable)}var _=n(9474),D=n(9912),T=n(5170),I=n(9191),x=n.n(I),k=n(6183);function w(){var e=this;this.killFunction=null;this.showFootnotes=!1;this.footnoteTimer=null;this.offsetAdjustment=15;this.displayFootnotesHover=function(t,n,i){var a=document.getElementById(r["default"].ids.footnoteHoverDiv);if(null==a){a=v["default"].buildElement("div",r["default"].ids.footnoteHoverDiv,r["default"].classes.footnoteHoverDiv+" "+r["default"].classes.highlightingExcludeAnnotations+" "+r["default"].classes.disableHighlightFeatures);var o=v["default"].buildElement("div",null,r["default"].classes.footnoteHoverTitle,"<span>&nbsp;</span>");a.setAttribute("role","tooltip");a.setAttribute("aria-hidden",!0);a.appendChild(o);var s=v["default"].buildElement("div",null,r["default"].classes.footnoteHoverBody);a.appendChild(s);var l=v["default"].buildElement("div",null,r["default"].classes.footnoteHoverContent,"&nbsp;");s.appendChild(l);var c=v["default"].buildElement("div",null,r["default"].classes.footnoteHoverFooter,"&nbsp;");a.appendChild(c);document.getElementById(r["default"].ids.document).appendChild(a);p["default"].AddEventHandler(a,"mouseover",(function(){clearTimeout(e.footnoteTimer);e.showFootnotes=!0}));p["default"].AddEventHandler(a,"mouseout",(function(t){e.footnotesMouseOut(t)}))}else{p["default"].ReplaceClassOnElement(a,r["default"].classes.footnoteHoverDivHidden,r["default"].classes.footnoteHoverDiv);a.setAttribute("aria-hidden",!1)}v["default"].GetElementById(t,(function(t){e.updateFootnoteDisplay(t,i)}),(function(t){e.updateFootnoteDisplayNotFoundYet(t,i)}),(function(){e.updateFootnoteDisplayNotFound(i)}))};this.updateFootnoteDisplay=function(t,n){e.killFunction=null;var i=t.element,a=v["default"].GetInnerText(i),o=this.getFootnoteContainer(i),r=this.getFootnoteContentInnerHtml(o);r&&e.populateFootnoteDisplay(a,r,n)};this.getFootnoteContainer=function(e){return v["default"].GetAncestorOrSelfElement(e,"div",r["default"].footnoteNumber).parentNode};this.updateFootnoteDisplayNotFoundYet=function(t,n){e.killFunction=t;var i=r["default"].texts.footnoteHoverTitleNotFound,a=r["default"].texts.footnoteHoverPleaseWait;e.populateFootnoteDisplay(i,a,n)};this.updateFootnoteDisplayNotFound=function(t){var n=r["default"].texts.footnoteHoverTitleNotFound,i=r["default"].texts.footnoteHoverUnavailable;e.populateFootnoteDisplay(n,i,t)};this.populateFootnoteDisplay=function(t,n,i){var a=document.getElementById(r["default"].ids.footnoteHoverDiv);p["default"].GetElementsByClassName(r["default"].classes.footnoteHoverTitle,null,a)[0].firstChild.innerHTML=D["default"].format("SC.Document.Footnote.FootnoteHoverTitlePrefix",{FootnoteNumberText:t},"Footnote "+t);var o=p["default"].GetElementsByClassName(r["default"].classes.footnoteHoverContent,null,a)[0];o.innerHTML=n;o.scrollTop=0;o.scrollLeft=0;var s=v["default"].determineElementPlacement(a,i,e.offsetAdjustment,!0);this.adjustPlacementForTOC(a,s);(0,T.isInfiniteScrollViewPage)()&&this.adjustPlacementForInfiniteScroll(a,s);a.style.top=s.y+"px";a.style.left=s.x+"px"};this.adjustPlacementForTOC=function(e,t){var n=document.getElementById("co_contentWrapper");if(n&&t.x+e.offsetWidth>n.offsetWidth){const i=t.x+e.offsetWidth-n.offsetWidth;t.x=t.x-i}};this.adjustPlacementForInfiniteScroll=function(e,t){var n=e.offsetParent?.offsetWidth??0,i=e.offsetWidth,a=t.x+i+30;a>n&&(t.x-=a-n);if(t.x<0){t.x=0;return}var o=x()(e.offsetParent).offset().left+t.x+i+30,r=window.pageXOffset+window.innerWidth;o>r&&(t.x-=o-r);t.x<0&&(t.x=0)};this.getFootnoteContentInnerHtml=function(e){for(var t="",n=p["default"].GetElementsByClassName(r["default"].classes.footnoteBody,null,e),i=0;i<n.length;i++)t+=n[i].innerHTML;return t};this.hideFootnotesHover=function(){if(null!=e.killFunction){e.killFunction();e.killFunction=null}var t=document.getElementById(r["default"].ids.footnoteHoverDiv);if(t){p["default"].ReplaceClassOnElement(t,r["default"].classes.footnoteHoverDiv,r["default"].classes.footnoteHoverDivHidden);t.setAttribute("aria-hidden",!0)}};this.footnotesMouseOut=function(){this.showFootnotes=!1;this.footnoteTimer=v["default"].SetTimeout((function(){e.showFootnotes||e.hideFootnotesHover()}),r["default"].timeouts.footnoteMouseOut)};this.FootnotesMouseOver=function(t){const n=x()(t).offset().left,i=x()(t).offset().top;this.showFootnotes=!0;if(t){var a=t.getAttribute("href"),o=a.substring(a.indexOf("#")+1);t.removeAttribute("aria-describedby");v["default"].SetTimeout((function(){if(e.showFootnotes){e.displayFootnotesHover(o,t,{x:n,y:i});t.setAttribute("aria-describedby",r["default"].ids.footnoteHoverDiv)}}),r["default"].timeouts.footnoteMouseOver)}};this.InitializeFootnotesFocus=function(){Array.from(document.querySelectorAll('a[href^="#co_footnote"], a[href^="#co_tablefootnote"], a[href^="#crsw_fn_"]')).forEach((e=>{e.addEventListener("focusin",(()=>{this.FootnotesMouseOver(e)}));e.addEventListener("keydown",(e=>{e.code===k["default"].Escape&&this.hideFootnotesHover()}))}));document.querySelectorAll('a[href^="#co_fnRef"]').forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();document.getElementById(e.hash.replace("#","")).firstChild.focus()}))}))};this.DeactivateHandler=function(t){const n=v["default"].GetAncestorOrSelfElement(t.target,"a");e.IsFootnoteReference(n)&&e.footnotesMouseOut()};this.InitializeFootnotesHover=function(t){var n=document.getElementById(t||r["default"].ids.document);n&&function(t){t.addEventListener("mouseout",(function(t){e.DeactivateHandler(t)}));t.addEventListener("focusout",(function(t){e.DeactivateHandler(t)}))}(n);this.InitializeFootnotesFocus()};this.IsFootnoteReference=function(e){if(null!=e)return p["default"].HasClass(e,r["default"].classes.footnoteReference)}}var E=n(8660),A=n(3434),L=n(9172);const N="GRID";var R=n(9422),P=n(4422);function O(){this.headnoteTimeout=null;this.fancyHeadNotesExpanded=null;this.documentGuid=null;this.chunkableHeadnotes=!1;this.updateCitedCaseReferenceCounts=!0;this.remainingInitializationEvents=1;var e=this;this.SetDocumentGuid=function(e){this.documentGuid=e};this.SetChunkableHeadnotes=function(e){this.chunkableHeadnotes=e};this.SetUpdateCitedCaseReferenceCounts=function(e){this.updateCitedCaseReferenceCounts=e};this.InitializeHeadnotesForUser=function(t){e.InitializeHeadnotes();if(!e.chunkableHeadnotes){var n=document.getElementById("co_headnotes");n?.className.indexOf(r["default"].classes.containsSearchTerms)>-1||n?.querySelector(`.${r["default"].classes.searchTerm}, .${r["default"].classes.searchWithinTerm}`)||this.SetHeadnotesVisiblity(t.hideHeadnotesBox);this.SetHeadnoteViewFromUserPreference(!this.shouldSetHeadnoteViewFromUserPreference()||t.headnotesDualColumnView)}e.PublishWhenFullyInitialized()};this.PublishWhenFullyInitialized=function(){e.remainingInitializationEvents--;0===e.remainingInitializationEvents&&setTimeout((function(){y["default"].Publish(r["default"].events.headnotesInitialized,new b["default"]({}))}),0)};this.SetHeadnoteViewFromUserPreference=function(t){t?e.SetDualColumnHeadnotesView():e.SetSingleColumnHeadnotesView()};this.SetHeadnotesVisiblity=function(t){!0===t?e.CollapseHeadnotesBox():e.ExpandHeadnotesBox()};this.InitializeHeadnotes=function(){if(e.chunkableHeadnotes){var t=e.GetHeadnotesContainerElement();e.SetSingleColumnHeadnotesView(t);const i=v["default"].GetElementById(r["default"].ids.headnoteHeader);let a;if(i&&i.element){a=i.element;var n=document.createElement("a");n.id=r["default"].ids.headnotesStart;n.className=r["default"].classes.headnoteSkipLink+" "+r["default"].classes.highlightingExcludeAnnotations+" "+r["default"].classes.disableHighlightFeatures;n.innerHTML=r["default"].texts.skipHeadNotes;n.href="javascript:void(0);";a.appendChild(n);v["default"].AttachClickHandler(n,e.NavigateToEndOfHeadNotesHandler);v["default"].GetElementById(r["default"].ids.headnotesEnd,e.AddStartOfHeadNotesLink)}}else e.BuildHeadnotesTools();e.InitializeHeadnotesHover();e.updateCitedCaseReferenceCounts&&e.UpdateHeadNoteCitedCaseReferenceCounts();if(!e.chunkableHeadnotes){const t=v["default"].GetElementById(r["default"].ids.headnoteHeader);if(t&&t.element){const n=t.element
;var i=n.childNodes[0].innerHTML;i=i&&i.indexOf("(")>-1?i.substring(0,i.indexOf("(")-1):n.innerHTML;var a=document.createElement("a");a.id=r["default"].ids.headnoteExpandCollapseLink;a.className=r["default"].classes.accessibleLink+" "+r["default"].classes.highlightingExcludeAnnotations+" "+r["default"].classes.disableHighlightFeatures;a.innerHTML=i;a.href="javascript:void(0);";a.setAttribute("role","button");a.setAttribute("aria-expanded",!0);a.setAttribute("aria-controls",r["default"].ids.expandedHeadnotes);n.appendChild(a);v["default"].AttachClickHandler(n,e.ToggleHeadnotesBoxHandler)}var s=document.getElementById(r["default"].ids.headnotesShowOrHideFancy);s&&v["default"].AttachClickHandler(s,e.ToggleHeadnotesColumnViewModeHandler)}y["default"].Subscribe(r["default"].events.setHeadnoteToGridViewWhenNavigateSearchTerm,((e,t)=>{if(!o["default"].EnableIpad&&!o["default"].EnableIphone){const{searchTermElement:e}=t;if(v["default"].hasAncestorWithClass(e,r["default"].classes.fancyHeadnotes)&&v["default"].hasAncestorWithClass(e,r["default"].classes.headnoteRow)){this.SetDualColumnHeadnotesView();this.ExpandHeadnotesBox();y["default"].Publish(r["default"].events.setHeadnoteToggleButtonView,{viewType:N})}else v["default"].selfOrAncestorHasId(e,r["default"].ids.expandedHeadnotes)&&this.ExpandHeadnotesBox()}}))};this.NavigateToEndOfHeadNotesHandler=function(){var e=v["default"].GetElementById(r["default"].ids.headnotesEnd);v["default"].ScrollToChunkedElement(e,null,null)};this.NavigateToStartOfHeadNotesHandler=function(){var e=v["default"].GetElementById(r["default"].ids.headnotesStart);v["default"].ScrollToChunkedElement(e,null,null)};this.AddStartOfHeadNotesLink=function(t){if(null==t)return;var n=r["default"],i=t.element;i.innerHTML=n.texts.skipToHeadnotesTop;i.href="javascript:void(0);";i.className=n.classes.headnoteTopSkipLink+" "+r["default"].classes.highlightingExcludeAnnotations+" "+r["default"].classes.disableHighlightFeatures;v["default"].AttachClickHandler(i,e.NavigateToStartOfHeadNotesHandler)};this.InitializeHeadnotesHover=function(){document.getElementById(r["default"].ids.document)&&(o["default"].EnableIpad||o["default"].EnableIphone?p["default"].AddEventHandler(document.body,"touchstart",e.fancyHeadNoteClickHandler):v["default"].AttachClickHandler(document.body,e.fancyHeadNoteClickHandler))};this.BuildHeadnotesTools=function(){var e=v["default"].GetElementById(r["default"].ids.expandedHeadnotes);if(null==e)return;var t=e.element,n=document.createElement("div");n.id=r["default"].ids.headnoteTools;t.insertBefore(n,t.childNodes[0]);var i=document.createElement("a");i.id=r["default"].ids.headnotesShowOrHideFancy;i.href="javascript:void(0);";i.className=r["default"].classes.fancyHeadnotesShowHide+" "+r["default"].classes.highlightingExcludeAnnotations+" "+r["default"].classes.disableHighlightFeatures;i.innerHTML=D["default"].lookup("SC.Document.Headnote.HeadnoteToggleLinkInnerHtml","Change View");n.appendChild(i)};this.SetHeadnotesBoxPreferences=function(e){g["default"].Set(r["default"].prefs.documentPreferenceSpace,r["default"].prefs.hideHeadnotesBoxPref,e)};this.ToggleHeadnotesBoxHandler=function(t){var n=v["default"].getEventSourceElement(t);if(n&&v["default"].selfOrAncestorHasId(n,r["default"].ids.headnoteHeader)){var i=document.getElementById(r["default"].ids.headnoteHeader),a=document.getElementById(r["default"].ids.expandedHeadnotes);if(i&&a){const t="none"==a.style.display;t?e.ExpandHeadnotesBox(i,a):e.CollapseHeadnotesBox(i,a);e.SetHeadnotesBoxPreferences(!t)}t.preventDefault&&t.preventDefault();t.returnValue=!1;return!1}};this.CollapseHeadnotesBox=function(e,t){e||(e=document.getElementById(r["default"].ids.headnoteHeader));t||(t=document.getElementById(r["default"].ids.expandedHeadnotes));if(t&&e&&"none"!=t.style.display){e.className=r["default"].classes.headnoteHeader+" "+r["default"].classes.headnoteInactive;t.style.display="none"}var n=v["default"].GetElementById(r["default"].ids.headnoteExpandCollapseLink);n&&n.element&&n.element.setAttribute("aria-expanded",!1);y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))};this.ExpandHeadnotesBox=function(e,t){e||(e=document.getElementById(r["default"].ids.headnoteHeader));t||(t=document.getElementById(r["default"].ids.expandedHeadnotes));if(t&&e&&"none"==t.style.display){e.className=r["default"].classes.headnoteHeader;t.style.display="block"}var n=v["default"].GetElementById(r["default"].ids.headnoteExpandCollapseLink);n&&n.element&&n.element.setAttribute("aria-expanded",!0);y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))};this.ToggleHeadnotesColumnViewModeHandler=function(t){if(v["default"].getEventSourceElement(t)&&v["default"].selfOrAncestorHasId(r["default"].ids.headnotesShowOrHideFancy)){e.ToggleHeadnotesColumnViewMode();t.preventDefault&&t.preventDefault();t.returnValue=!1;return!1}};this.ToggleHeadnotesColumnViewMode=function(){var t=e.GetHeadnotesContainerElement();if(e.chunkableHeadnotes)e.SetSingleColumnHeadnotesView(t);else if(t&&p["default"].HasClass(t,r["default"].classes.fancyHeadnotes)){e.SetDualColumnHeadnotesView(t);g["default"].Set(r["default"].prefs.documentPreferenceSpace,r["default"].prefs.headnotesDualColumnViewPref,!0,(function(){}),(function(){}))}else{e.SetSingleColumnHeadnotesView(t);g["default"].Set(r["default"].prefs.documentPreferenceSpace,r["default"].prefs.headnotesDualColumnViewPref,!1,(function(){}),(function(){}))}};this.GetHeadnotesContainerElement=function(){var e,t=v["default"].GetElementById(r["default"].ids.headnotes);t&&null!=t&&(e=t.element);return e};this.SetDualColumnHeadnotesView=function(t){if(e.chunkableHeadnotes)return;t&&null!=t||(t=e.GetHeadnotesContainerElement());var n=r["default"].classes.fancyHeadnotes;t&&p["default"].HasClass(t,n)&&p["default"].RemoveClass(t,n);y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))};this.SetSingleColumnHeadnotesView=function(t){t||(t=e.GetHeadnotesContainerElement());var n=r["default"].classes.fancyHeadnotes;t&&!p["default"].HasClass(t,n)&&p["default"].AddClass(t,n);y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))};this.HeadnoteTopicsContainSearchTerms=function(){var e="#"+r["default"].ids.headnotes+" div."+r["default"].classes.headnoteTopics+" ."+r["default"].classes.searchTerm+", "+("#"+r["default"].ids.headnotes+" div."+r["default"].classes.headnoteTopics+" ."+r["default"].classes.currentSearchTerm);return!!document.querySelector(e)};this.fancyHeadNoteClickHandler=function(t){var n=v["default"].getEventSourceElement(t),i=v["default"].selfOrAncestorHasClassFromList(n,[r["default"].classes.headnoteKeyIcon]);if(v["default"].selfOrAncestorHasClassFromList(n,[r["default"].classes.fancyKeyciteContainer]))return;if(i)if(null!=e.fancyHeadNotesExpanded)if(e.fancyHeadNotesExpanded!==n.parentNode){e.hideHeadnotes();e.showHeadnote(n.parentNode)}else e.hideHeadnotes();else e.showHeadnote(n.parentNode);else e.hideHeadnotes()};this.showHeadnote=function(t){var n=p["default"].GetElementsByClassName(r["default"].classes.popupHeadnote,"div",t),i=t.parentNode.className;if(n&&i.indexOf(r["default"].classes.keyIcon)>=0){var a=e.GetHeadnotesTableFromHeadnoteTopicCell(t);a&&(n[0].innerHTML=a.innerHTML)}var o=r["default"].classes.showUp,s=r["default"].classes.fancyHeadnotesActive;p["default"].AddClass(t,o);p["default"].AddClass(t,s);this.fancyHeadNotesExpanded=t;if(n&&n.length){const e=Array.from(n[0].querySelectorAll(".co_headnoteKeyPair"));this.writeKeyNumberPopupUxEvent(e,t.parentNode)}};this.hideHeadnotes=function(){for(var e=r["default"].classes.showUp,t=r["default"].classes.fancyHeadnotesActive,n=document.getElementById(r["default"].ids.document),i=v["default"].GetElementsByClassName(t,"div",n),a=0;a<i.length;a++){var o=i[a].element;p["default"].RemoveClass(o,t);p["default"].RemoveClass(o,e)}this.fancyHeadNotesExpanded=null};this.writeKeyNumberPopupUxEvent=(e,t)=>{const n=t.previousElementSibling?.textContent.replace(/\r?\n|\r/g," "),i=(0,P.next)(t,".co_lastKeyNumber")?.textContent.replace(/\r?\n|\r/g," ")??"";for(var a=t.nextElementSibling;a;){
if(a.classList.contains("co_lastKeyText")){var o=a.textContent.replace(/\r?\n|\r/g," ");break}a=a.nextElementSibling}const s=t.parentNode;for(var l=s.previousElementSibling,c=[];l;){l.classList.contains("co_primaryHeadnoteNodes")&&c.push(l);l=l.previousElementSibling}const d=[s,...c].flatMap((e=>[...e.children])),u=d.find((e=>e.querySelector(".co_headnoteNumber"))),h=u?.id.split("_").pop();if(e?.length>0){const t=e.map((e=>e.textContent));(0,R.postUXEvent)(r["default"].events.westHeadnoteKeyNumberPopupOpened,{parentKeyName:n,lastKeyNumber:i,lastKeyText:o,headnoteNumber:h,childKeys:t})}};this.GetHeadnotesTableFromHeadnoteTopicCell=function(t){var n,i,a;if(t)for(var o,s=!1,l=t.parentNode;l&&!s;){const t=" "+l.className+" ";if(t.indexOf(" "+r["default"].classes.keyIcon+" ")>=0)o=l;else if(t.indexOf(" "+r["default"].classes.headnoteCellInner+" ")>=0){i=l;a=e.GetKeyIconIndex(o,l);s=!0}l=l.parentNode}if(i&&"undefined"!=i){for(var c=null,d=i.parentNode.parentNode.childNodes,u=0;u<d.length;u++){var h=d[u];if(h.className===r["default"].classes.headnotesTopicCell){c=h;break}}if(c){if((" "+c.className+" ").indexOf(" "+r["default"].classes.headnotesTopicCell+" ")>=0){n=p["default"].GetElementsByClassName(r["default"].classes.topicKeyContentTable,"div",c)[a]}}}return n};this.GetKeyIconIndex=function(e,t){if(e&&t)for(var n=-1,i=t.childNodes,a=0;a<i.length;a++)for(var o=i[a].childNodes,s=0;s<o.length;s++){if((" "+o[s].className+" ").indexOf(" "+r["default"].classes.keyIcon+" ")>=0){n++;if(o[s]===e)return n}}return-1};this.getCountDataFromHeadnoteFacetResponse=function(e){let t;try{t=JSON.parse(e?.ResponseText)}catch(e){}const n=t?.facets?.[0]?.children?.map((e=>{let n;t?.headnotes?.forEach(((t,i)=>{t.headnoteId===parseInt(e.name,10)&&(n=t.sequenceNumber??i+1)}));return{headnoteId:e.key,headnoteCount:e.count,sequenceNumber:n}}));return Array.isArray(n)?n:[]};this.modifyDOMWithHeadnoteCitationCountData=function(t){if(!Array.isArray(t)||!t?.length)return;t.forEach((e=>{if(!e.headnoteCount||!e.headnoteId)return;const t=document.querySelector(`#co_anchor_${e.headnoteId} .co_headnoteCitedCaseRef a`);if(!t)return;const n=document.createElement("span");n.className=`${r["default"].classes.citedRefCount} ${r["default"].classes.highlightingExcludeAnnotations} ${r["default"].classes.disableHighlightFeatures}`;n.textContent=`${e.headnoteCount} `;"1"===e.headnoteCount&&(t.textContent=r["default"].texts.caseThatCitesThisHeadnote);t.prepend(n);t.classList.remove("co_hideState")}));e.PublishWhenFullyInitialized()};this.getRelatedInfoHeadnoteFacetRequest=function(){const t=new L["default"]("RelatedInfo/v1/kcCitingReferences/facets");t.addParameter("docGuid",e.documentGuid);t.addParameter("includeFacet",r["default"].queryParameters.westHeadnotes);const n=t.buildUrl();return new E["default"](A["default"].RelatedInfo,n,{timeout:9e4,headers:{Accept:"application/json"}})};this.UpdateHeadNoteCitedCaseReferenceCounts=async function(){const t=e.GetHeadnoteIdFromCitedCaseRefs();if(!Array.isArray(t)||!t.length>0)return;e.remainingInitializationEvents++;const n=e.getRelatedInfoHeadnoteFacetRequest(),i=await n.Get(),a=e.getCountDataFromHeadnoteFacetResponse(i);e.modifyDOMWithHeadnoteCitationCountData(a)};this.GetHeadnoteIdFromCitedCaseRefs=function(){var t=r["default"],n=[],i=p["default"].GetElementsByClassName(t.classes.headnoteCitedCaseRef,"div",e.GetHeadnotesContainerElement());if(i&&null!=i)for(var a=0;a<i.length;a++)n[a]=i[a].id.substring(t.ids.citedCaseRefHeadnoteIdPrefix.length);return n};this.shouldSetHeadnoteViewFromUserPreference=function(){var e=document.getElementById("co_headnotes");const t=e?.classList.contains(r["default"].classes.containsSearchTerms);return!t}}var B=n(1821);const M=[];var F=c().extend({init:function(e){this.chunks=[];this.currentChunk=0;this.documentDiv=e;this.lastChunkAdded=!1},GetChunkCount:function(){return this.chunks.length},GetChunkAt:function(e){return this.chunks[e]},GetCurrentChunk:function(){return this.currentChunk},IsLastChunkAdded:function(){return this.lastChunkAdded},AddChunk:function(e,t,n,i){if(this.chunks.length!=t)throw new Error("ArgumentException: chunks out of sync");this.chunks.push(e);this.AddChunkCallback&&this.AddChunkCallback(e);this.lastChunkAdded=i;M.push(e);v["default"].publishHubEvent(r["default"].events.chunkAdded,null,{},null);!0===n&&this.RenderChunk(e,t);!0===i&&v["default"].publishHubEvent(r["default"].events.lastChunkAdded,null,{},null)},LoadFirstChunkFromDom:function(){var e=document.getElementById(r["default"].ids.partialDocumentChunkPrefix+"0");null!=e&&this.AddChunk(e,0,!1,!1)},RenderChunkAt:function(e){if(e==this.GetCurrentChunk())return;this.RenderChunk(this.GetChunkAt(e),e)},RenderChunk:function(e,t){var n=this.currentChunk,i=document.getElementById(r["default"].ids.partialDocumentChunkPrefix+n);i&&this.documentDiv.removeChild(i);this.documentDiv.appendChild(e);this.currentChunk=t;var a={chunkNumber:t,oldChunkNumber:n};v["default"].publishHubEvent(r["default"].events.chunkRendered,null,a,null)},FindElementInChunkById:function(e,t){var n="#"+v["default"].EscapeSelector(e);return this.FindElementInChunkBySelector(n,t)},FindElementInChunkBySelector:function(e,t){let n=null;if(t)for(let t=this.chunks.length-1;t>-1;t--){n=this._getElementInChunkBySelectorAndChunkNumber(e,t);if(n)break}else for(let t=0;t<this.chunks.length;t++){n=this._getElementInChunkBySelectorAndChunkNumber(e,t);if(n)break}return n},GetElementInChunkByIdAndChunkNumber:function(e,t){if(t>=this.chunks.length)return null;if(this.chunks[t].id===e)return{element:this.chunks[t],chunkNumber:t};var n="#"+e,i=x()(this.chunks[t]).find(n);if(i.length>0)return{element:i[0],chunkNumber:t};return null},GetElementInChunkBySelectorAndChunkNumber:function(e,t){if(t>=this.chunks.length)return null;return this._getElementInChunkBySelectorAndChunkNumber(e,t)},_getElementInChunkBySelectorAndChunkNumber:function(e,t){const n=x()(this.chunks[t]);if(n.is(e))return{element:this.chunks[t],chunkNumber:t};const i=n.find(e);if(i.length>0)return{element:i[0],chunkNumber:t};return null},FindElementsInChunksByClassName:function(e,t){for(var n=t+"."+e,i=[],a=0;a<this.chunks.length;a++){var o=x()(this.chunks[a]).find(n);if(o.length>0)for(var r=0;r<o.length;r++)i.push({element:o[r],chunkNumber:a})}return i},AddChunkCallback:null});F.CreateProductSpecificInstance=function(e){return new F(e)};F.Create=function(e,t){if(null==e)throw new Error("ArgumentNullException: documentDiv");h["default"].Instance=F.CreateProductSpecificInstance(e);h["default"].Instance.AddChunkCallback=t;h["default"].Instance.LoadFirstChunkFromDom();v["default"].publishHubEvent(r["default"].events.chunkManagerCreated,null,{},null);return h["default"].Instance};const W=F;var H=W.prototype.init;W.prototype.init=function(e){this.chunkedElements=[];return H.call(this,e)};W.prototype.FindElementsInChunksByClassName=function(e,t){for(var n=t+"."+e,i=[],a=this.FindChunkedElementIndexBySelector(n),o=0;o<this.chunks.length;o++){var r=x()(this.chunks[o]).find(n);if(r.length>0)for(var s=0;s<r.length;s++)i.push({element:r[s],chunkNumber:o})}this.UpdateChunkedElementAtIndex(a,n,i);return i};W.prototype.FindElementsInSubChunksByClassName=function(e,t,n){var i=t+"."+e,a=[],o=this.FindChunkedElementIndexBySelector(i);o>-1&&(a=this.chunkedElements[o].value);for(var r=n;r<this.chunks.length;r++){var s=x()(this.chunks[r]).find(i);if(s.length>0)for(var l=0;l<s.length;l++)a.push({element:s[l],chunkNumber:r})}this.UpdateChunkedElementAtIndex(o,i,a);return a};W.prototype.FindChunkedElementIndexBySelector=function(e){for(var t=-1,n=0;n<this.chunkedElements.length;n++)if(this.chunkedElements[n].key===e){t=n;break}return t};W.prototype.UpdateChunkedElementAtIndex=function(e,t,n){e>-1?this.chunkedElements[e].value=n:this.chunkedElements.push({key:t,value:n})};W.prototype.GetChunkedElements=function(e,t){var n=t+"."+e,i=this.FindChunkedElementIndexBySelector(n);return i>-1?this.chunkedElements[i].value:[]};W.prototype.RenderChunk=function(e,t){var n=this.currentChunk,a=document.getElementById(r["default"].ids.partialDocumentChunkPrefix+n);if(a){if(i["default"].displayOptions.isNewDocumentView){var o=x()("#co_docContentHeader")
;if(o[0]&&0===t){var s=x()(e).find("#co_docContentBody");e.insertBefore(o[0],s[0])}else o[0]&&t>0&&e.appendChild(o[0])}this.documentDiv.removeChild(a)}this.documentDiv.appendChild(e);this.currentChunk=t;var l={chunkNumber:t,oldChunkNumber:n};v["default"].publishHubEvent(r["default"].events.chunkRendered,null,l,null)};const G=W;var U=n(4917),j=n(2769),$=n(5382);const V=c().extend({init:function(e){this.chunkManager=null;this.currentChunkStatusHtmlElement=null;this.chunkCountStatusHtmlElement=null;this.navWidgetHtmlElement=null;this.topRegion=null;this.parentDiv=null;this.listItemCount=null;this.nextNav=null;this.errorInfoBox=null;this.showPartLabel=!1!==e||e;this.isTopWidget=!1},SetChunkManager:function(e){this.chunkManager=e},SetParentDiv:function(e){this.parentDiv=e},SetTopRegion:function(e){this.topRegion=e},GetPreviousChunkButton:function(e){return document.getElementById(e+r["default"].ids.previousChunkButton)},GetNextChunkButton:function(e){return document.getElementById(e+r["default"].ids.nextChunkButton)},getChunkManager:function(){var e=this;if(null==this.chunkManager){this.chunkManager=h["default"].Instance;if(null==this.chunkManager){y["default"].Subscribe(r["default"].events.chunkManagerCreated,(function(){e.Draw()}));return}}if(null==this.chunkManager)throw new Error("ArgumentNullException: chunkManager");if(null==this.parentDiv)throw new Error("ArgumentNullException: parentDiv")},buildChunkNavHtml:function(e){var t=this,n=r["default"],i=document.createElement("div");i.className=n.classes.chunkPagination;"co_top"===e&&(i.className+=" co_hideState");i.id=e+n.ids.chunkNav;var a="<ul class='"+n.classes.navFooterPagination+"' id='"+e+n.ids.chunkNavFooterPagination+"'>",o="";!0===this.showPartLabel&&(o="<li><strong>"+D["default"].lookup("SC.Document.Widget.ChunkNavigation.PartLabel","Part:")+"</strong></li>");var s=t.buildNavButtonHtml(e+n.ids.previousChunkButton,n.classes.widgetPrev,n.classes.icon25+" "+n.classes.iconArrowPrev,n.texts.previousPart),l=this.buildStatusHtml(e);this.nextNav=t.buildNavButtonHtml(e+n.ids.nextChunkButton,n.classes.next,n.classes.icon25+" "+n.classes.iconArrowNext,n.texts.nextPart);var c="<div class='"+n.classes.clear+"'></div>";i.innerHTML=this._concatNavChunks(a,o,s,l,"</ul>",c);var d=document.createElement("div"),u=t.isTopWidget?j["default"].Bottom:j["default"].Top;this.errorInfoBox=new U["default"](d,$["default"].None,u,!0,!0,!1);i.appendChild(d);this.parentDiv.appendChild(i);this.currentChunkStatusHtmlElement=document.getElementById(e+n.ids.currentChunkStatus);this.chunkCountStatusHtmlElement=document.getElementById(e+n.ids.chunkCountStatus);this.navWidgetHtmlElement=document.getElementById(e+n.ids.chunkNavFooterPagination);p["default"].AddEventHandler(this.currentChunkStatusHtmlElement,"keypress",(function(e){t.chunkEntryKeyPressHandler(e)}));p["default"].AddEventHandler(this.currentChunkStatusHtmlElement,"blur",(function(e){t.chunkEntryBlurHandler(e)}))},_concatNavChunks:function(e,t,n,i,a,o){return e+t+n+i+a+o},Draw:function(e){var t=this;t.getChunkManager();if(null==t.chunkManager)return;t.isTopWidget=null!=e&&e===r["default"].texts.regionTop;t.buildChunkNavHtml(e);t.attachChunkNavEventHandlers(e);t.updateCount(e);t.updateCurrent(e)},attachChunkNavEventHandlers:function(e){var t=this;v["default"].AttachClickHandler(t.GetPreviousChunkButton(e),(function(){t.ClickPrevious(e);return!1}));t.GetPreviousChunkButton(e).onclick=function(){return!1};y["default"].Subscribe(r["default"].events.chunkAdded,(function(){t.updateCount(e)}));y["default"].Subscribe(r["default"].events.chunkRendered,(function(){t.updateCurrent(e)}))},buildNavButtonHtml:function(e,t,n,i){return"<li><button id='"+e+"' class='"+t+"'><span class='"+n+"'>"+i+"</span></button></li>"},buildStatusHtml:function(e){return"<li><label><span class='co_accessibilityLabel'>"+D["default"].lookup("SC.Document.Widget.ChunkNavigation.AccessibleLabel","Go To Document Part")+'</span><input type="text" id="'+e+r["default"].ids.currentChunkStatus+'" size="1" maxlength="4"/></label> '+D["default"].lookup("SC.Document.Widget.ChunkNavigation.OfConnector","of")+' <strong id="'+e+r["default"].ids.chunkCountStatus+'">...</strong></li>'},updateCount:function(e){this.updateButtons(e)},updateCurrent:function(e){this.currentChunkStatusHtmlElement.value=this.chunkManager.GetCurrentChunk()+1;this.updateButtons(e)},updateButtons:function(e){var t=this,n=this.GetPreviousChunkButton(e),a=this.GetNextChunkButton(e),o=!1;i["default"].documentData&&i["default"].documentData.metaInformation&&i["default"].documentData.metaInformation.isLargeDocument&&(o=i["default"].documentData.metaInformation.isLargeDocument);if((o||this.chunkManager.IsLastChunkAdded())&&null==a){var s=document.createElement("ul");s.innerHTML=this.nextNav;this.navWidgetHtmlElement.appendChild(s.childNodes[0]);a=this.GetNextChunkButton(e);v["default"].AttachClickHandler(a,(function(){t.ClickNext(e);return!1}));t.GetNextChunkButton(e).onclick=function(){return!1}}this.updateChunkCountStatus(o);var l=r["default"].classes.disabled;if(n)if(0==this.chunkManager.GetCurrentChunk()){p["default"].AddClass(n,l);n.disabled=!0}else{p["default"].RemoveClass(n,l);n.disabled=!1}if(null!=a)if(this.chunkManager.GetCurrentChunk()==this.chunkManager.GetChunkCount()-1){p["default"].AddClass(a,l);a.disabled=!0}else{p["default"].RemoveClass(a,l);a.disabled=!1}},chunkEntryBlurHandler:function(e){this.errorInfoBox&&this.errorInfoBox.Remove();var t=v["default"].getEventSourceElement(e);t&&t.value&&(t.value=this.chunkManager.GetCurrentChunk()+1)},chunkEntryKeyPressHandler:function(e){var t=this;if(v["default"].IsEnterKey(e)){var n,i,a=v["default"].getEventSourceElement(e),o=t.chunkManager.GetChunkCount(),r=!0;if(a&&a.value){n=a.value;i=Number(n);if(n.match(/^\d+$/)&&!isNaN(i)&&i>=1&&i<=o){r=!1;t.changeChunk(i-1)}}r&&t.errorInfoBox.Draw(D["default"].format("SC.Document.Widget.ChunkNavigation.BasicErrorMessage",{MaxPartNumber:o},`Please enter a number 1-${o}`))}else t.errorInfoBox&&t.errorInfoBox.Remove()},ClickPrevious:function(e){var t=this,n=t.GetPreviousChunkButton(e);p["default"].HasClass(n,r["default"].classes.disabled)||t.changeChunk(t.chunkManager.GetCurrentChunk()-1)},ClickNext:function(e){var t=this,n=t.GetNextChunkButton(e);p["default"].HasClass(n,r["default"].classes.disabled)||t.changeChunk(t.chunkManager.GetCurrentChunk()+1)},changeChunk:function(e){var t=this;t.chunkManager.RenderChunkAt(e);t.topRegion&&v["default"].scrollToElement(t.topRegion)},updateChunkCountStatus:function(e){var t=this.chunkManager.GetChunkCount();this.chunkManager.IsLastChunkAdded()?this.chunkCountStatusHtmlElement.innerHTML=t:e&&(this.chunkCountStatusHtmlElement.innerHTML=D["default"].format("SC.Document.Widget.ChunkNavigation.FormattedEllipsis",{chunkCount:t},`${t}...`))}});var q=n(2475),z=c().extend({init:function(e){this.documentDisplay=e},documentDisplay:null,InitializeChunking:function(e){var t=document.getElementById(r["default"].ids.document);this.createChunkManager(t);var n=document.createElement("div");n.id=r["default"].ids.chunkNavOne;var i=document.createElement("div");i.id=r["default"].ids.chunkNavTwo;e.insertBefore(n,t);e.appendChild(i,t);this.drawChunkingNavWidgets(e,n,i)},createChunkManager:function(e){if(o["default"].EnableIpad||o["default"].EnableIphone){var t=new q["default"](this.documentDisplay);G.Create(e,t.AddClickHandlersForIpad.bind(t))}else G.Create(e)},drawChunkingNavWidgets:function(e,t,n){var i=!(o["default"].EnableIpad?o["default"].EnableIpad:o["default"].EnableIphone),a=new V(i);a.SetChunkManager(h["default"].Instance);a.SetTopRegion(e);a.SetParentDiv(t);a.Draw(r["default"].texts.regionTop);var s=new V(i);s.SetChunkManager(h["default"].Instance);s.SetTopRegion(e);s.SetParentDiv(n);s.Draw(r["default"].texts.regionBottom)},LoadChunk:function(e){var t=this,n=f["default"].GetObject(r["default"].objectIds.provider);n.ContextualInfo=t.documentDisplay.ContextualInfo;var i=t.documentDisplay.ChunkSizeSuggestion;t.documentDisplay.View==s["default"].FullText&&t.documentDisplay.IsDocketsUpdate?n.GetUpdatedDocketV3(t.documentDisplay.DocumentGuid,(function(n){t.loadChunkCallback(n,e)
}),t.loadChunkErrorCallback,e,i):t.documentDisplay.View==s["default"].PersistedDoc?n.GetPersistedDocument(t.documentDisplay.DocumentGuid,(function(n){t.loadChunkCallback(n,e)}),t.loadChunkErrorCallback,e,t.documentDisplay.PersistProperties.SubContentTypeId,t.documentDisplay.PersistProperties.PersistedState,t.documentDisplay.cacheScope):t.documentDisplay.IsUserDocument?n.GetUserDocument(t.documentDisplay,e,(function(n){t.loadChunkCallback(n,e)}),t.loadChunkErrorCallback):n.GetFullText(t.documentDisplay,e,(function(n){t.loadChunkCallback(n,e)}),t.loadChunkErrorCallback)},loadChunkCallback:function(e,t){var n=document.createElement("div"),i=!1;n.innerHTML=e;if(n.childNodes.length>0){i=this.hasMoreChunks(n);h["default"].Instance.AddChunk(n.firstChild,t,!1,!i);!0===i&&this.LoadChunk(t+1);this.documentDisplay.IsNewDocumentView||document.getElementById("co_topChunkNav")?.classList.remove("co_hideState")}},loadChunkErrorCallback:function(e,t){throw t},hasMoreChunks:function(e){var t,n=!1,i=r["default"].ids.finalChunkMarker;if(this.documentDisplay.View!==s["default"].Preview)if(e&&e.childNodes){n=!0;for(var a=(t=e.childNodes).length;a--;)if(t[a].id==i){n=!1;break}}else{n=!document.getElementById(i)}return n}});const K=z;var Y=n(4953),Q=n(1987),X=n.n(Q),J=n(2288),Z=n(4341),ee=n(7022),te=n(7617),ne=n(3364),ie=n(1554),ae=n(5166),oe=n(7018),re=n(6015),se=n(18),le=n(180),ce=n(1808),de=n(1562),ue=n(9101),he=n(3256),fe=n(9520),pe=n(2152),me=n(7718),ge=n(7875);function ve(){this._notes=[];this._highlights=[];this._orphanHighlights=[];this._selectedContacts=[];this._optionalProvider=null;this._docguid=null;this._documentDisplay=null;this.initialGroupsList=null;this.lightBox=null;this.lastCallback="";this.lastLength=0;this.SetNotesAndHighlights=function(e){if(!e){e.inlineHighlightsAndNotes=[];e.orphanHighlightsAndNotes=[];e.documentLevelNotes=[]}this._notes=e.documentLevelNotes;this._highlights=e.inlineHighlightsAndNotes;this._orphanHighlights=e.orphanHighlightsAndNotes};this.setProvider=function(e){this._optionalProvider=e};this.SetDocumentDisplay=function(e){this._documentDisplay=e};this.Draw=function(){this._subscribeToEvents()};this.SetDocumentGuid=function(e){this._docguid=e}}ve.prototype.AreSharedHighlightsAllowed=function(){return v["default"].AreSharedHighlightsAllowed()};ve.prototype._subscribeToEvents=function(){var e=this;y["default"].Subscribe("Cobalt.Website.ContactWidget.ContactsSelectedForShareAllNotes",(function(t,n){JSON.parse(n.Data).SelectedContacts.length>0&&e.DisplayLightbox("share",n)}));y["default"].Subscribe("Cobalt.Foldering.NoteMenu.UnShareAllNotesEvent",(function(){e.DisplayLightbox("unShare",null)}))};ve.prototype.shareAllNotes=function(e){var t=this;he["default"].RemoveAllUndoMessages();t._selectedContacts=JSON.parse(e.Data);const n=(oe["default"].IsInfiniteScroll?x()(`#documentContainer_${this._docguid}`):x()(document)).find(".IsCreatedByCurrentUser").closest(".co_noteContainer").find(".co_noteHeader_createdBy");x()(n).each((function(){this.querySelector(".icon_people")||this.insertAdjacentHTML("afterbegin",'<div class="icon25 icon_people"></div>')}));document.getElementById("co_noteMenu_unShareAllNotes")?.classList.remove("disabled");const i=document.getElementById("co_noteMenu_unShareAllNotes");i&&(i.style.pointerEvents="auto");t._selectedContacts.SelectedContacts.length>0&&t._optionalProvider.GetNotesAndHighlights(t._docguid,te["default"].GetUserNameEncoded(),g["default"].Get("Global","TimeZone"),(function(e){var n="",i="";if(e.orphanHighlightsAndNotes.length>0){n="Orphan";i=e.orphanHighlightsAndNotes.length}else if(e.inlineHighlightsAndNotes.length>0||e.documentLevelNotes.length>0){n="Inline";i=e.inlineHighlightsAndNotes.length;(0,R.postUXEvent)("Cobalt.Foldering.Annotations.Share",{docGuid:t._docguid})}t.InitiateProcessNotes(e.documentLevelNotes,"Add","Document",n,i);t.InitiateProcessHighlights(e.inlineHighlightsAndNotes,"Add","Inline",n,i);t.InitiateProcessHighlights(e.orphanHighlightsAndNotes,"Add","Orphan",n,i);t.UpdateContactsAfterShareAll();t._optionalProvider.UpdatePreviouslySelectedContacts(t._selectedContacts,(function(){}));t.AreSharedHighlightsAllowed()&&ie["default"].ShareAllHighlights(t._docguid);ue["default"].IsSharedNoteCountsUpToDate=!1;ue["default"].prototype.UpdateNoteCounts();var a=e.documentLevelNotes.length+e.inlineHighlightsAndNotes.length+e.orphanHighlightsAndNotes.length,o=t._selectedContacts.SelectedContacts.length;setTimeout((function(){if(t.lightBox){const e=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllTitleAnnotations","Share All My Annotations"),n=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllTitle","Share All My Notes");if(t.lightBox._title==e||t.lightBox._title==n){t.lightBox.Remove();t.DisplayShareAlert();document.getElementById("co_annotationsMenuButton")?.focus()}}}),a*o/6*700)}),null,null,null,null)};ve.prototype.DisplayLightbox=function(e,t){var n,i,a,o,r=this;if(r.AreSharedHighlightsAllowed())if("unShare"==e){n=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllTitleAnnotations","Stop Sharing My Annotations");i=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllInitial","<p> It may take several minutes to remove all contacts.</p><br><p> To ensure success, please do not close this window.</p>");a=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllButton","Stop Sharing");o="co_stopSharing"}else{n=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllTitleAnnotations","Share All My Annotations");i=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllInitialAnnotations","<p> It may take several minutes to share all annotations.</p><br><p> To ensure success, the process must complete in its entirety.</p>");a=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllButton","Continue");o="co_shareAll"}else if("unShare"==e){n=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllTitle","Stop Sharing My Notes");i=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllInitial","<p> It may take several minutes to remove all contacts.</p><br><p> To ensure success, please do not close this window.</p>");a=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllButton","Stop Sharing");o="co_stopSharing"}else{n=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllTitle","Share All My Notes");i=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllInitial","<p> It may take several minutes to share all notes.</p><br><p> To ensure success, the process must complete in its entirety.</p>");a=D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllButton","Continue");o="co_shareAll"}r.lightBox=new fe["default"];r.lightBox.SetId("co_sharedNotesLightbox");r.lightBox.SetClass("co_overlayBox_delivery");r.lightBox.SetTitle(n);r.lightBox.SetCloseLinkObject({id:"co_deliveryLightbox_closeLink",alt:D["default"].lookup("SC.Foldering.ShareUnshareAll.CloseButton","Close"),onclick:function(){r.lightBox.Remove()}});r.lightBox.GetContentDomElement().innerHTML='<div class="ddcdisplaymodefulltext"><div class="co_infoBox_content"><div>'+i+'</div></div><div class="co_infoBox_bottom"><div><span></span></div></div></div>';r.lightBox.GetFooterDomElement().innerHTML='<ul><li><input type="button" tabindex="405" id="'+o+'" name="'+a+'" value="'+a+'" class="co_primaryBtn"/></li><li><a href="javascript:void(0);" id="shareCancelButton" tabindex="410" class="co_overlayBox_buttonCancel"><strong>'+D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllClose","Close")+"</strong></a></li></ul>";r.lightBox.Draw();r.ShareAndUnshareEvents(o,t)};ve.prototype.ShareAndUnshareEvents=function(e,t){var n,i=this;"co_shareAll"==e?document.getElementById(e)?.addEventListener("click",(function(){i.lightBox.Remove();i.lightBox=null;i.lightBox=new fe["default"];let e;e=i.AreSharedHighlightsAllowed()?D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllTitleAnnotations","Share All My Annotations"):D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllTitle","Share All My Notes");i.lightBox.SetId("co_sharedNotesLightbox");i.lightBox.SetClass("co_overlayBox_delivery");i.lightBox.SetTitle(e);i.lightBox.SetCloseLinkObject({id:"co_deliveryLightbox_closeLink",
alt:D["default"].lookup("SC.Foldering.ShareUnshareAll.CloseButton","Close"),onclick:function(){i.lightBox.Remove()}});n=i.AreSharedHighlightsAllowed()?D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllDialogAnnotations",'<span class="co_loading"></span><div class="spinnerMessage">Updating annotations...<br>To ensure success, please do not close this window.<br></div>'):D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllDialog",'<span class="co_loading"></span><div class="spinnerMessage">Updating notes...<br>To ensure success, please do not close this window.<br></div>');i.lightBox.GetContentDomElement().innerHTML='<div class="ddcdisplaymodefulltext"><div class="co_infoBox_content"><div>'+n+'</div></div><div class="co_infoBox_bottom"><div><span></span></div></div></div>';i.lightBox.GetFooterDomElement().innerHTML='<ul><li><a href="javascript:void(0);" id="shareCancelButton" tabindex="410" class="co_primaryBtn co_overlayBox_buttonCancel"><strong>'+D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllClose","Close")+"</strong></a></li></ul>";i.lightBox.Draw();a();i.shareAllNotes(t)})):document.getElementById(e)?.addEventListener("click",(function(){i.lightBox.Remove();i.lightBox=null;i.lightBox=new fe["default"];let e;e=i.AreSharedHighlightsAllowed()?D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllTitleAnnotations","Stop Sharing My Annotations"):D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllTitle","Stop Sharing My Notes");i.lightBox.SetId("co_sharedNotesLightbox");i.lightBox.SetClass("co_overlayBox_delivery");i.lightBox.SetTitle(e);i.lightBox.SetCloseLinkObject({id:"co_deliveryLightbox_closeLink",alt:D["default"].lookup("SC.Foldering.ShareUnshareAll.CloseButton","Close"),onclick:function(){i.lightBox.Remove()}});n=i.AreSharedHighlightsAllowed()?D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllDialogAnnotations",'<span class="co_loading"></span><div class="spinnerMessage">Updating annotations...<br>To ensure success, please do not close this window.<br></div>'):D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllDialog",'<span class="co_loading"></span><div class="spinnerMessage">Updating notes...<br>To ensure success, please do not close this window.<br></div>');i.lightBox.GetContentDomElement().innerHTML='<div class="ddcdisplaymodefulltext"><div class="co_infoBox_content"><div>'+n+'</div></div><div class="co_infoBox_bottom"><div><span></span></div></div></div>';i.lightBox.GetFooterDomElement().innerHTML='<ul><li><a href="javascript:void(0);" id="shareCancelButton" tabindex="410" class="co_primaryBtn co_overlayBox_buttonCancel"><strong>'+D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllClose","Close")+"</strong></a></li></ul>";i.lightBox.Draw();document.querySelectorAll(".spinnerMessage").forEach((e=>e.style.paddingTop="30px"));a();i.UnShareAllNotes()}));function a(){document.getElementById("shareCancelButton")?.addEventListener("click",(function(){i.lightBox.Remove()}))}a()};ve.prototype.DisplayShareAlert=function(){let e;e=this.AreSharedHighlightsAllowed()?'<div class="co_notesUndoContainer"><div class="co_infoBox success" role="alert" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllAlertAnnotations","All annotations in this document have been shared.")+"</div></div></div></div></div></div>":'<div class="co_notesUndoContainer"><div class="co_infoBox success" role="alert" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Foldering.ShareUnshareAll.ShareAllAlert","All notes in this document have been shared.")+"</div></div></div></div></div></div>";document.getElementById("coid_website_documentWidgetDiv")?.insertAdjacentHTML("afterbegin",e);setTimeout((function(){var e=function(){document.querySelector(".co_notesUndoContainer")?.remove();document.removeEventListener("click",e)};document.addEventListener("click",e)}),100)};ve.prototype.DisplayUnshareAlert=function(){let e;e=this.AreSharedHighlightsAllowed()?'<div class="co_notesUndoContainer"><div class="co_infoBox success" role="alert" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Foldering.ShareUnshareAll.UnshareAllAlertAnnotations","Annotations are no longer shared.")+"</div></div></div></div></div></div>":'<div class="co_notesUndoContainer"><div class="co_infoBox success" role="alert" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Foldering.ShareUnshareAll.UnshareAllAlert","Notes are no longer shared.")+"</div></div></div></div></div></div>";document.getElementById("coid_website_documentWidgetDiv")?.insertAdjacentHTML("afterbegin",e);setTimeout((function(){var e=function(){document.querySelector(".co_notesUndoContainer")?.remove();document.removeEventListener("click",e)};document.addEventListener("click",e)}),100)};ve.prototype.InitiateProcessNotes=function(e,t,n,i,a){var o=null,r=!1;n==i&&(o=a);for(var s=0;s<e.length;s++){o&&s==o-1&&(r=!0);if(!0===e[s].createdByCurrentUser){const n=this.getNoteIdSent(e[s]);this.ProcessNotes(n,null,t,r)}}};ve.prototype.InitiateProcessHighlights=function(e,t,n,i,a){var o=null,r=!1;n==i&&(o=a);for(var s=0;s<e.length;s++){o&&s==o-1&&(r=!0);const n=e[s];if(this.AreSharedHighlightsAllowed()){if(!0===n.createdByCurrentUser){let e=null;"highlight"==n._type&&(e=n.id);const i=this.getNoteIdSent(n);i?this.ProcessNotes(i,e,t,r):this.ProcessNotes(e,e,t,r)}}else if(!0===n.createdByCurrentUser&&null!==n.noteText){let e=null;"highlight"==n._type&&(e=n.id);const i=this.getNoteIdSent(n);this.ProcessNotes(i,e,t,r)}}};ve.prototype.ProcessNotes=function(e,t,n){var i=this;if("Add"===n)for(var a=0;a<this._selectedContacts.SelectedContacts.length;a++)this._optionalProvider.AddNotePermission(e,t,this._selectedContacts.SelectedContacts[a]);else this._optionalProvider.UnshareNotePermissions(e,(function(n){for(var a=0;a<n.length;a++)"REVIEWER"==n[a].PermissionRole&&i._optionalProvider.RemoveNotePermission(e,t,n[a])}))};ve.prototype.UpdateContactsAfterShareAll=function(){for(var e=this,t=[],n=0,i=0;i<this._selectedContacts.SelectedContacts.length;i++)if(this._selectedContacts.SelectedContacts[i].GroupId){t[n]=this._selectedContacts.SelectedContacts[i];n++}if(this._selectedContacts.SelectedContacts.length>0){var a={shareNoteOrigin:"shareallnotes",contentType:me["default"][0].ContentType};(async()=>{var e="/Document/v2/ShareNoteEvent?q="+(new Date).getTime();const t=new E["default"](A["default"].Document,e,{headers:{Accept:"application/json","Content-Type":"application/json"}});await t.Put(JSON.stringify(a))})()}this._optionalProvider.GetDecryptedGroupIds(t,(function(t){for(var n=0;n<t.length;n++)for(var i=0;i<e._selectedContacts.SelectedContacts.length;i++)e._selectedContacts.SelectedContacts[i].GroupId&&e._selectedContacts.SelectedContacts[i].GroupId===t[n].GroupId&&(e._selectedContacts.SelectedContacts[i].ContactId=t[n].GroupName);e.UpdateGroupIdsForInitialContacts()}))};ve.prototype.UpdateGroupIdsForInitialContacts=function(){var e=this,t=this.GetContactsDiv();this.initialGroupsList=[];for(var n=0;n<t.length;n++){const e=t[n];if(e.classList.contains("IsCreatedByCurrentUser")){var i=e.querySelector(".co_contacts_addedContactsInput"),a=ge.ElementStorage.get(i,"json");if(null==a)continue;"object"!=typeof a&&(a=JSON.parse(a));for(var o=null,r=0;r<a.SelectedContacts.length;r++)if(a.SelectedContacts[r].GroupId){o=!1;for(var s=0;s<this.initialGroupsList.length;s++)if(a.SelectedContacts[r].GroupId===this.initialGroupsList[s].GroupId){o=!0;break}!1===o&&this.initialGroupsList.push(a.SelectedContacts[r])}}}this._optionalProvider.GetDecryptedGroupIds(this.initialGroupsList,(function(t){for(var n=e.GetContactsDiv(),i=0;i<n.length;i++){const T=n[i];if(T.classList.contains("IsCreatedByCurrentUser")){
var a=[],o=!1,r=T.querySelector(".co_contacts_addedContactsInput");if(!r?.matches("ul")){var s=document.createElement("div"),l='<div><a id="sharedWith" class="sharedWithInactive" href="javascript:void(0);" title="'+D["default"].lookup("SC.Foldering.SharedNotes.ViewShared","View Shared List")+'"><span id="dropRight" class="icon25 icon_grey_right_arrow toggleArrow"></span><span class="sharedWithText"></span></a>';l+='<a href="javascript:void(0);" class="co_sharedNotesBtn"><span id="deleteBtn" class="icon25 icon_close deleteBtnInactive" title="'+D["default"].lookup("SC.Foldering.SharedNotes.RemoveAll","Remove All")+'">'+D["default"].lookup("SC.Foldering.SharedNotes.DeleteAll","Delete All")+'</span></a><a  href="javascript:void(0);" class="co_sharedNotesBtn"><span id="addBtn" class="icon25 icon_plus addBtnInactive" title="'+D["default"].lookup("SC.Foldering.SharedNotes.AddContacts","Add Contacts")+'""></a></span></div>';s.innerHTML=l;T.innerHTML="";T.append(...s.childNodes);l='<ul class="co_defaultInput co_contacts_addedContactsInput ui-droppable coid_contacts_addedContactsInputInactive" title="'+D["default"].lookup("SC.Foldering.SharedNotes.AddContacts","Add Contacts")+'"" id="coid_contacts_addedContactsInput"></ul>';s.innerHTML=l;r=s.firstChild;T.append(r);ge.ElementStorage.put(r,"json",{SelectedContacts:[]})}var c=ge.ElementStorage.get(r,"json");"object"!=typeof c&&(c=JSON.parse(c));for(var d=0;d<t.length;d++)for(var u=0;u<c.SelectedContacts.length;u++)if(c.SelectedContacts[u].GroupId&&c.SelectedContacts[u].GroupId===t[d].GroupId){c.SelectedContacts[u].ContactId=t[d].GroupName;break}for(var h=0,f=null,p=0;p<e._selectedContacts.SelectedContacts.length;p++){f=!1;if(0===c.SelectedContacts.length){for(var m=0;m<e._selectedContacts.SelectedContacts.length;m++){a[h]=e._selectedContacts.SelectedContacts[m];h++}break}for(var g=0;g<c.SelectedContacts.length;g++){if(c.SelectedContacts[g].ContactId===e._selectedContacts.SelectedContacts[p].ContactId){f=!0;break}o=!0}if(o&&!f){e._selectedContacts.SelectedContacts[p].GroupId?a[h]={BrowserKey:e._selectedContacts.SelectedContacts[p].BrowserKey,DuplicateMemberAdded:e._selectedContacts.SelectedContacts[p].DuplicateMemberAdded,GroupId:e._selectedContacts.SelectedContacts[p].GroupId,GroupName:e._selectedContacts.SelectedContacts[p].GroupName,GroupPermission:e._selectedContacts.SelectedContacts[p].GroupPermission,GroupType:e._selectedContacts.SelectedContacts[p].GroupType,NumberOfMembers:e._selectedContacts.SelectedContacts[p].NumberOfMembers}:a[h]=e._selectedContacts.SelectedContacts[p];h++}}if(a.length>0){var v=ge.ElementStorage.get(r,"json");"object"!=typeof v&&(v=JSON.parse(v));for(var y={SelectedContacts:v.SelectedContacts.concat(a)},b=0;b<y.SelectedContacts.length;b++)y.SelectedContacts[b].GroupId&&delete y.SelectedContacts[b].ContactId;var C="";T.querySelector(".sharedWithText").textContent=D["default"].format("SC.Foldering.SharedNotes.SharedWith",{Count:y.SelectedContacts.length},"Shared with "+y.SelectedContacts.length);for(h=0;h<y.SelectedContacts.length;h++)if(y.SelectedContacts[h].ContactId){var S=D["default"].format("SC.Foldering.SharedNotes.RemoveFullName",{FirstName:y.SelectedContacts[h].FirstName,LastName:y.SelectedContacts[h].LastName},"Remove </span><span>"+y.SelectedContacts[h].FirstName+" "+y.SelectedContacts[h].LastName);const e=D["default"].format("SC.Foldering.SharedNotes.RemoveTitle",{Name:y.SelectedContacts[h].LastName},"Remove "+y.SelectedContacts[h].LastName);C+='<li id="'+y.SelectedContacts[h].BrowserKey+'" class="co_sharedNotesPerson removerClass'+y.SelectedContacts[h].BrowserKey+'" style="display:none">';C+='<a id="notePerson'+y.SelectedContacts[h].BrowserKey+'" title="'+e+'" href="javascript:void(0);"><span class="icon25 icon_close">'+S+"</span></a></li>"}else{var _=D["default"].format("SC.Foldering.SharedNotes.RemoveGroup",{GroupName:y.SelectedContacts[h].GroupName},"Remove </span><span>"+y.SelectedContacts[h].GroupName);const e=D["default"].format("SC.Foldering.SharedNotes.RemoveTitle",{Name:y.SelectedContacts[h].GroupName},"Remove "+y.SelectedContacts[h].GroupName);C+='<li id="'+y.SelectedContacts[h].BrowserKey+'" class="co_sharedNotesGroup removerClass'+y.SelectedContacts[h].BrowserKey+'" style="display:none;">';C+='<a id="noteGroup'+y.SelectedContacts[h].BrowserKey+'" title="'+e+'" href="javascript:void(0);"><span class="icon25 icon_close">'+_+"</span></a></li>"}r.innerHTML=C;ge.ElementStorage.put(r,"json",y)}}}for(var T=0;T<e._selectedContacts.SelectedContacts.length;T++)e._selectedContacts.SelectedContacts[T].GroupId&&delete e._selectedContacts.SelectedContacts[T].ContactId}))};ve.prototype.UnShareAllNotes=function(){var e=this;he["default"].RemoveAllUndoMessages();document.getElementById("co_noteMenu_unShareAllNotes")?.classList.add("disabled");const t=document.getElementById("co_noteMenu_unShareAllNotes");t&&(t.style.pointerEvents="none");(oe["default"].IsInfiniteScroll?x()(`#documentContainer_${this._docguid}`):x()(document)).find(".IsCreatedByCurrentUser").closest(".co_noteContainer").find(".icon_people").remove();e._optionalProvider.GetNotesAndHighlights(e._docguid,te["default"].GetUserNameEncoded(),g["default"].Get("Global","TimeZone"),(function(t){var n="",i="";if(t.orphanHighlightsAndNotes.length>0){n="Orphan";i=t.orphanHighlightsAndNotes.length}else if(t.inlineHighlightsAndNotes.length>0){n="Inline";i=t.inlineHighlightsAndNotes.length}else if(t.documentLevelNotes.length>0){n="Document";i=t.documentLevelNotes.length}e.InitiateProcessNotes(t.documentLevelNotes,"Remove","Document",n,i);e.InitiateProcessHighlights(t.inlineHighlightsAndNotes,"Remove","Inline",n,i);e.InitiateProcessHighlights(t.orphanHighlightsAndNotes,"Remove","Orphan",n,i);e.UpdateContactsAfterUnShareAll();e.AreSharedHighlightsAllowed()&&ie["default"].UnshareAllHighlights(e._docguid);ue["default"].IsSharedNoteCountsUpToDate=!1;ue["default"].prototype.UpdateNoteCounts();var a=t.documentLevelNotes.length+t.inlineHighlightsAndNotes.length+t.orphanHighlightsAndNotes.length;setTimeout((function(){if(e.lightBox){const t=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllTitleAnnotations","Stop Sharing My Annotations"),n=D["default"].lookup("SC.Foldering.ShareUnshareAll.RemoveAllTitle","Stop Sharing My Notes");if(e.lightBox._title==t||e.lightBox._title==n){e.lightBox.Remove();e.DisplayUnshareAlert();document.getElementById("co_annotationsMenuButton")?.focus()}}}),a/3*700)}),null,null,null,null)};ve.prototype.UpdateContactsAfterUnShareAll=function(){for(var e=this.GetContactsDiv(),t=0;t<e.length;t++){const o=e[t];if(o.classList.contains("IsCreatedByCurrentUser")){var n=o.querySelector(".co_contacts_addedContactsInput"),i=document.createElement("div"),a=pe["default"].prototype.getInitialHyper(!1);i.innerHTML=a;o.innerHTML="";o.append(...i.childNodes);ge.ElementStorage.put(n,"json",{SelectedContacts:[]})}}};ve.prototype.GetContactsDiv=function(){let e;e=oe["default"].IsInfiniteScroll?document.querySelectorAll(`#documentContainer_${this._docguid} .contactsInactive`):document.querySelectorAll(".contactsInactive");return e};ve.prototype.getNoteIdSent=function(e){return pe["default"].prototype.getNoteIdSent(e)};const ye=ve;var be=n(9265),Ce=n(2690),Se=n(2532),_e=n(4638),De=n(8657),Te=n(9542),Ie=c().extend({init:function(e){this.documentDisplay=e;if(this.documentDisplay.IsPersistedView||this.documentDisplay.IsDocketsUpdate){this.SetEditable(!1);this.SetDeletable(!0)}},documentDisplay:null,AnnotationsProvider:null,mostRecentWidth:null,mostRecentHeight:null,progressIndicator:null,isTocExpanded:!1,InitializeHighlightingEvents:function(e,t){if(this.AreSharedAnnotationsAllowed()){var n=t.createScrollButtonHolder(e);p["default"].AddEventHandler(n,"click",(function(e){t.scrollButtonClick(e)}))}if(!v["default"].isNarrowTocDisplayEnabled()){p["default"].AddEventHandler(e,"mouseover",(function(e){t.inlineMouseover(e)}),{passive:!0});p["default"].AddEventHandler(e,"touchstart",(function(e){t.inlineMouseover(e)}),{passive:!0});p["default"].AddEventHandler(e,"mouseout",(function(e){t.inlineMouseout(e)}),{passive:!0})}!0===t.documentDisplay.DoCompleteSizeChecking?setInterval((function(){t.checkIfDocumentSizeChanged()
}),r["default"].timeouts.checkDocSizeChangedInterval):p["default"].AddEventHandler(window,"resize",(function(e){t.checkIfDocumentSizeChanged(e)}));y["default"].Subscribe(r["default"].events.documentMayHaveChangedSize,(function(){t.checkIfDocumentSizeChanged()}))},InitializeNotesPanel:function(e){const t=this.getInitialShouldMinify();this.GetInlineNotesContainer().appendChild(e);document.body.classList.add("hasNotesColumn");(0,be.HideRightColumn)();this.showProgressIndicator();g["default"].GetAsync("Website","ChevronHelpDisplayed").then((e=>{e||X().mutate((()=>{this.DisplayHelpMessage()}))}));t&&X().mutate((()=>{(0,be.CollapseRightColumn)()}))},InitializeHighlightingFunctionalityViaFastdom:function(e){X().measure((function(){var t=document.createElement("div"),n=this,i=document.getElementById(n.documentDisplay.DomId);n.mostRecentWidth=(0,u.getElementWidth)(i);n.mostRecentHeight=(0,u.getElementHeight)(i);oe["default"].currentDocGuid=n.documentDisplay.DocumentGuid;n.AnnotationsProvider=ce["default"].CreateAnnotationsProvider(n.documentDisplay.DocumentGuid,{contextualInfo:n.documentDisplay.ContextualInfo});ae["default"].instance=n.AnnotationsProvider;this.documentDisplay.NavigationProperties.List&&this.documentDisplay.NavigationProperties.ListSource&&this.documentDisplay.NavigationProperties.NavigationPath&&this.documentDisplay.NavigationProperties.Rank&&(oe["default"].ListParameters={list:n.documentDisplay.NavigationProperties.List,listSource:n.documentDisplay.NavigationProperties.ListSource,navigationPath:n.documentDisplay.NavigationProperties.NavigationPath,rank:n.documentDisplay.NavigationProperties.Rank,isSnapSnippet:n.documentDisplay.NavigationProperties.IsSnapSnippetLink||!1});oe["default"].chunkSizeSuggestion=n.documentDisplay.ChunkSizeSuggestion;oe["default"].chunkableHeadnotes=n.documentDisplay.ChunkableHeadnotes;oe["default"].IsNewDocumentView=n.documentDisplay.IsNewDocumentView;ie["default"].Initialize();t.id=r["default"].ids.documentLevelNotes;t.setAttribute("role","region");t.setAttribute("aria-label",D["default"].lookup("SC.Document.DocumentDisplayHighlighting.DocumentNotes","Document notes"));var a=document.createElement("div");this.AreSharedAnnotationsAllowed()&&this.AddProductClass(a);a.id=r["default"].ids.inlineNotes;a.setAttribute("role","region");a.setAttribute("aria-label",D["default"].lookup("SC.Document.DocumentDisplayHighlighting.InlineNotes","Inline notes"));var o=document.createElement("div");o.id=r["default"].ids.hiddenInlineNotes;o.style.visibility="hidden";o.style.display="none";a.appendChild(o);var s=this.GetDocumentElement();this.InitializeHighlightingEvents(a,n);var l=x()(t),c=x()(a);X().mutate((function(){if(n.documentDisplay.IsNewDocumentView){t.classList.add(r["default"].classes.highlightingExcludeAnnotations);this.renderNewDocumentViewLevelNotes(c,l)}else{document.getElementById("co_skopos")?s.parentNode.insertBefore(t,document.getElementById("co_skopos")):s.parentNode.insertBefore(t,s);if(v["default"].isNarrowTocDisplayEnabled()){if(v["default"].isRightColumnWithFeaturesEnabled()){const t=()=>{this.InitializeNotesPanel(a);e()};document.querySelector(`.DocumentPanel-content #${r["default"].ids.inlineNotesContainer}`)?t():y["default"].SubscribeOnce("Cobalt.Document.NotesContainer.Ready",t);return}this.InitializeNotesPanel(a)}else s.parentNode.insertBefore(a,s)}e()}),this)}),this);if(v["default"].isNarrowTocDisplayEnabled()){y["default"].Subscribe(r["default"].events.annotationAdded,this.AnnotationAddedHandler,this);y["default"].Subscribe(r["default"].events.documentMayHaveChangedSize,this.DocumentLevelNotesAlignmentHandler,this);y["default"].Subscribe("Cobalt.Foldering.Note.Add",this.DocumentLevelNotesAlignmentHandler,this);y["default"].Subscribe("Cobalt.Foldering.Note.Delete",this.DocumentLevelNotesAlignmentHandler,this);y["default"].Subscribe("Cobalt.Foldering.Note.Converted",this.ExpandRightColumnIfHidden,this);y["default"].Subscribe("Cobalt.Document.TOC.Expand",((e,t)=>this.TOCChangeHandler(!0,t.Data)),this);y["default"].Subscribe("Cobalt.Document.TOC.Collapse",((e,t)=>this.TOCChangeHandler(!1,t.Data)),this);y["default"].Subscribe("Cobalt.Document.TOC.Display",((e,t)=>this.TOCDisplayHandler(t.isTocExpanded)),this);y["default"].Subscribe("Cobalt.Document.FullTOC.Expand",((e,t)=>this.TOCChangeHandler(!0,t.Data)),this);y["default"].Subscribe("Cobalt.Document.FullTOC.Collapse",((e,t)=>this.TOCChangeHandler(!1,t.Data)),this);y["default"].Subscribe("Cobalt.Document.FullTOC.Display",((e,t)=>this.TOCDisplayHandler(t.isTocExpanded)),this);y["default"].Subscribe("Cobalt.Document.AlrJurisdictionFacets.Expand",((e,t)=>this.TOCChangeHandler(!0,t.Data)),this);y["default"].Subscribe("Cobalt.Document.AlrJurisdictionFacets.Collapse",((e,t)=>this.TOCChangeHandler(!1,t.Data)),this);y["default"].Subscribe("Cobalt.Document.AlrJurisdictionFacets.Display",((e,t)=>this.TOCDisplayHandler(t.isTocExpanded)),this);y["default"].Subscribe("Cobalt.Website.RightColumn.Toggled",this.ChevronHandler,this);y["default"].Subscribe("Cobalt.Document.ScrollToHighlightedText",this.HighlightScrolledHandler,this);y["default"].Subscribe(r["default"].events.notesAndHighlightsFinishedLoading,this.hideProgressIndicator,this);window.addEventListener("resize",this.DisplayResizeHandler.bind(this))}},renderNewDocumentViewLevelNotes:function(e,t){const n=this.GetDocumentContentHeader();e.insertAfter(n);t.insertAfter(n)},GetDocumentElement:function(){return document.getElementById(r["default"].ids.document)},GetDocumentContentHeader:function(){return document.getElementById(r["default"].ids.documentContentHeader)},GetInlineNotesContainer:function(){return document.getElementById(r["default"].ids.inlineNotesContainer)},GetDocumentLevelNotes:function(){return document.getElementById(r["default"].ids.documentLevelNotes)},GetInlineNotes:function(){return document.getElementById(r["default"].ids.inlineNotes)},DisplayHelpMessage:function(){const e=v["default"].isRightColumnHidden()?j["default"].Left:j["default"].Bottom,t=document.getElementById("collapseButtonInfoBoxContainer"),n=D["default"].lookup("SC.Document.DocumentHighlighting.ChevronHelpMessage","Display or hide your notes by expanding or collapsing the notes column. Your last interaction will be saved as your preferred notes display.");this.messageBox=new J.A({message:n,wrapper:!0,status:null,referenceElement:t,hasPointer:!0,hasCloseButton:!0,destroyOnClickoff:!1,position:e,destroyCallback:()=>{g["default"].Set("Website","ChevronHelpDisplayed",!0);delete this.messageBox}});return this.messageBox},ExpandRightColumnIfHidden:function(){v["default"].isRightColumnHidden()&&X().mutate((()=>{(0,be.ExpandRightColumn)()}))},HighlightScrolledHandler:function(e,t){const n=(0,se.GetHighlightIdFromStorageId)(t.Data.scrollLocation);Se["default"].GetHighlightTypeOfCachedHighlight(n)===le["default"].Note&&this.ExpandRightColumnIfHidden()},AnnotationAddedHandler:function(e,t){v["default"].isRightColumnHidden()&&t&&t.Data&&"Note"===t.Data.AnnotationType&&X().mutate((()=>{(0,be.ExpandRightColumn)()}))},DocumentLevelNotesAlignmentHandler:function(){const e=this.GetDocumentLevelNotes(),t=this.GetInlineNotesContainer();if(!e)return;if(!t)return;X().measure((()=>{const n=e.offsetHeight;X().mutate((()=>{t.style.marginTop=`${n}px`}))}))},TOCChangeHandler:function(e,t){const n=t.collapseRightRail;this.isTocExpanded=e;X().mutate((()=>{n&&!v["default"].isRightColumnHidden()&&(0,be.CollapseRightColumn)()}))},TOCDisplayHandler:function(e){this.isTocExpanded=e;e&&this.DisplayResizeHandler()},ChevronHandler:function(e,t){const n=t.Data.collapseRightRail,i=this.GetInlineNotes(),a=this.GetDocumentElement();n?X().mutate((()=>{i&&a.parentNode.insertBefore(i,a);if(this.messageBox){this.messageBox._domElement.classList.add("left");this.messageBox._domElement.classList.remove("bottom")}})):this.TransferAnnotationsToRightRail();!0!==t.Data.skipPreference&&this.setPreferenceShouldMinify(n)},DisplayResizeHandler:function(){v["default"].isRightColumnHidden()||(v["default"].isNarrowTocSituation()&&this.isTocExpanded?(0,be.ToggleRightColumn)(!0):this.TransferAnnotationsToRightRail())},shouldShowNoteMargin:function(){
return 0!==Ce["default"].size&&!this.isNoteMenuPreferenceHide()},isNoteMenuPreferenceHide:function(){if(this.AreSharedAnnotationsAllowed()){return g["default"].Get("ADC",r["default"].prefs.noteMenuSharingPreferenceName)===r["default"].prefs.noteMenuSharingHideNotes}return g["default"].Get("Foldering",r["default"].prefs.noteMenuTogglePreferenceName)===r["default"].prefs.noteMenuToggleHide},TransferAnnotationsToDocumentColumn:function(){if(v["default"].isNarrowTocSituation()&&!v["default"].isRightColumnHidden()){const e=this.GetInlineNotes(),t=this.GetDocumentElement();X().mutate((()=>{document.body.classList.remove("hasNotesColumn");(0,be.HideRightColumn)();t.parentNode.insertBefore(e,t)}))}},TransferAnnotationsToRightRail:function(){if(!v["default"].isRightColumnHidden()){const e=this.GetInlineNotes(),t=this.GetInlineNotesContainer();v["default"].isNarrowTocSituation()&&y["default"].Publish("Cobalt.Document.NoteMaximized");X().mutate((()=>{document.body.classList.add("hasNotesColumn");this.shouldShowNoteMargin()&&(0,be.ShowRightColumn)();t&&e&&t.appendChild(e);if(this.messageBox){this.messageBox._domElement.classList.remove("left");this.messageBox._domElement.classList.add("bottom")}}))}},InitializeHighlightingFunctionality:function(){return new Promise((e=>{if(o["default"].EnableIpad||o["default"].EnableIphone){var t=document.createElement("div"),n=this,i=document.getElementById(n.documentDisplay.DomId);n.mostRecentWidth=(0,u.getElementWidth)(i);n.mostRecentHeight=(0,u.getElementHeight)(i);oe["default"].currentDocGuid=n.documentDisplay.DocumentGuid;n.AnnotationsProvider=ce["default"].CreateAnnotationsProvider(n.documentDisplay.DocumentGuid,{contextualInfo:n.documentDisplay.ContextualInfo});ae["default"].instance=n.AnnotationsProvider;this.documentDisplay.NavigationProperties.List&&this.documentDisplay.NavigationProperties.ListSource&&this.documentDisplay.NavigationProperties.NavigationPath&&this.documentDisplay.NavigationProperties.Rank&&(oe["default"].ListParameters={list:n.documentDisplay.NavigationProperties.List,listSource:n.documentDisplay.NavigationProperties.ListSource,navigationPath:n.documentDisplay.NavigationProperties.NavigationPath,rank:n.documentDisplay.NavigationProperties.Rank,isSnapSnippet:n.documentDisplay.NavigationProperties.IsSnapSnippetLink||!1});oe["default"].chunkSizeSuggestion=n.documentDisplay.ChunkSizeSuggestion;oe["default"].chunkableHeadnotes=n.documentDisplay.ChunkableHeadnotes;oe["default"].IsNewDocumentView=n.documentDisplay.IsNewDocumentView;ie["default"].Initialize();t.id=r["default"].ids.documentLevelNotes;t.setAttribute("role","region");t.setAttribute("aria-label",D["default"].lookup("SC.Document.DocumentDisplayHighlighting.DocumentNotes","Document notes"));var a=document.createElement("div");this.AreSharedAnnotationsAllowed()&&this.AddProductClass(a);a.id=r["default"].ids.inlineNotes;var s=document.createElement("div");s.id=r["default"].ids.hiddenInlineNotes;s.style.visibility="hidden";s.style.display="none";a.appendChild(s);var l=this.GetDocumentElement();if(n.documentDisplay.IsNewDocumentView){var c=this.GetDocumentContentHeader();t.classList.add(r["default"].classes.highlightingExcludeAnnotations);c?.after(a);c?.after(t)}else{l.parentNode.insertBefore(t,l);l.parentNode.insertBefore(a,l)}this.InitializeHighlightingEvents(a,n);e()}else this.InitializeHighlightingFunctionalityViaFastdom(e)}))},createScrollButtonHolder:function(e){var t=document.createElement("div");t.id=r["default"].ids.scrollButton;t.className=r["default"].classes.hideState;t.insertAdjacentHTML("beforeend",'<a href="javascript:void(0);" class="co_scrollButton">'+D["default"].lookup("SC.Document.DocumentHighlighting.ScrollButtonLabel","Scroll to top note")+"</a>");e.before(t);return t},scrollButtonClick:function(e){if(this.AreSharedAnnotationsAllowed()&&"click"===e.type){var t=this.GetDocumentElement(),n=x()(t).find("span.co_hl")[0];Te["default"].ScrollNoteInRail(n.className,n.id)}},inlineMouseover:function(e){var t=v["default"].getEventSourceElement(e),n=v["default"].GetAncestorOrSelfElement(t,"span",r["default"].classes.noteHolder);if(n){var i=this.GetDocumentElement(),a=p["default"].GetElementsByClassName(_e["default"].GetSelectionInstanceIdFromNoteHolder(n),"span",i);if(a.length>0){p["default"].AddClass(a,r["default"].classes.activeHighlight);De["default"].DisplayNoteUpFront(De["default"].ParseSelectionInstanceFromClassValue(a[0].className),!1)}}},inlineMouseout:function(e){if(e.relatedTarget?.closest(".mce-tooltip"))return;var t=e.srcElement?e.srcElement:e.target,n=v["default"].GetAncestorOrSelfElement(t,"span",r["default"].classes.noteHolder);if(n){var i=this.GetDocumentElement(),a=p["default"].GetElementsByClassName(_e["default"].GetSelectionInstanceIdFromNoteHolder(n),"span",i);a&&p["default"].RemoveClass(a,r["default"].classes.activeHighlight)}},checkIfDocumentSizeChanged:function(){X().measure((function(){var e,t=this,n=document.getElementById(t.documentDisplay.DomId),i=(0,u.getElementWidth)(n),a=(0,u.getElementHeight)(n);if(null!=t.mostRecentWidth&&null!=t.mostRecentHeight&&(i!=t.mostRecentWidth||a!=t.mostRecentHeight)){e=0;null!=h["default"]&&null!=h["default"].Instance&&(e=h["default"].Instance.GetCurrentChunk());ie["default"].RecalculateNoteDisplayPositionsForChunk(e)}X().mutate((function(){t.mostRecentWidth=i;t.mostRecentHeight=a}),this)}),this)},SetEditable:function(e){oe["default"].IsEditable=e},SetDeletable:function(e){oe["default"].IsDeletable=e},AreSharedAnnotationsAllowed:function(){return!(o["default"].EnableIpad?o["default"].EnableIpad:o["default"].EnableIphone)&&ne["default"].Instance.IsUserDocument},AreSharedNotesAllowed:function(){return!!ie["default"].AreSharedNotesAllowed()&&!(o["default"].EnableIpad?o["default"].EnableIpad:o["default"].EnableIphone)},GetRelocateSnippetUrl:function(e,t){return"/Document/v1/RelocateSnippet/"+e+"?onePassUserName="+encodeURIComponent(t)},GetRelocateOutlineSnippetUrl:function(e,t){return"/Document/v1/RelocateOutlineSnippet/"+e+"?onePassUserName="+encodeURIComponent(t)},ResolveLocationThenRelocateAndScrollToSnippet:function(e,t=!1){var n=this,i=new _["default"];i.ContextualInfo=n.documentDisplay.ContextualInfo;var a=te["default"].GetUserNameEncoded();i.GetSnippetLocation(n.documentDisplay.DocumentGuid,a,e,(function(e){n.relocateAndScrollToSnippet(e,t)}),null,t?n.GetRelocateOutlineSnippetUrl:n.GetRelocateSnippetUrl)},PostRelocatePreScrollToSnippet:null,relocateAndScrollToSnippet:function(e,t=!1){var n=this;if(e&&e.snippet){var i=e.snippet;ie["default"].MultipleRelocateAndTag([i],r["default"].classes.searchTerm,this.GetDocumentElement(),n.documentDisplay.DocumentGuid,null,(function(){n.PostRelocatePreScrollToSnippet&&n.PostRelocatePreScrollToSnippet();n.ShowHiddenContentContainingSnippet();var e=Se["default"].GetInstanceIdClass(r["default"].ids.snippetSuffix);v["default"].GetElementById(e,(function(e){v["default"].ScrollToChunkedElement(e,null)}),null)}),t)}},RetrieveAndDisplayDocumentLevelNotes:function(){var e=this;if(!0===o["default"].isFeatureEnabled("ANNOTATIONS")&&!e.documentDisplay.IsDocketsUpdate){var t=ce["default"].CreateAnnotationsProvider(e.documentDisplay.DocumentGuid,{contextualInfo:e.documentDisplay.ContextualInfo});e.AreSharedNotesAllowed()&&t.InitializePreviouslyShared();var n=g["default"].Get("Global","TimeZone"),i=te["default"].GetUserNameEncoded(),a=e.documentDisplay,r=a.PersistProperties&&a.PersistProperties.SubContentTypeId,s=a.PersistProperties&&a.PersistProperties.PersistedState,l=a.WebsiteProperties&&a.WebsiteProperties.CacheScope;t.GetNotesAndHighlights(e.documentDisplay.DocumentGuid,i,n,(function(n){e.RetrieveAndDisplayDocumentLevelNotesCallback(n,t)}),null,r,s,l)}},SetAllNotesData:function(e){if(re["default"].allNotesData){const t=re["default"].allNotesData;t.inlineHighlightsAndNotes=t.inlineHighlightsAndNotes.concat(e.inlineHighlightsAndNotes);t.documentLevelNotes=t.documentLevelNotes.concat(e.documentLevelNotes);t.orphanHighlightsAndNotes=t.orphanHighlightsAndNotes.concat(e.orphanHighlightsAndNotes)}else re["default"].allNotesData=e},RetrieveAndDisplayDocumentLevelNotesCallback:function(e,t){this.SetAllNotesData(e);if(this.AreSharedNotesAllowed()){
this.RetrieveReviewerPermissions(t,e);var n="Cobalt.DocumentHighlighting.AnnotationsRetrievedEvent";y["default"].Publish(n,new b["default"]({},{},n,"1.0",e))}else this.DisplayDocumentNotes(e)},RetrieveReviewerPermissions:function(e,t){var n=this;if(e.GetReviewerPermission)if(ne["default"].Instance.IsUserDocument)e.GetReviewerPermission(n.documentDisplay.DocumentGuid,(function(e){t.reviewerStatus=e.Status;n.DisplayDocumentNotes(t)}),null);else{t.reviewerStatus="";n.DisplayDocumentNotes(t)}else n.DisplayDocumentNotes(t)},DisplayDocumentNotes:function(e){const t=this.GetDocGuidFromHighlights(e)||this.documentDisplay.DocumentGuid;var n=this.GetDocumentElement(t),i=this.GetDocumentLevelNotes(t);this.DisplayDocLevelAndOrphanedNotes(e,this,i);e.inlineHighlightsAndNotes&&e.inlineHighlightsAndNotes.length>0?ie["default"].MultipleRelocateAndTag(e.inlineHighlightsAndNotes,r["default"].classes.highlight,n,t):y["default"].Publish(r["default"].events.notesAndHighlightsFinishedLoading,new b["default"]({}));y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}));this.UpdateNoteCounts()},GetDocGuidFromHighlights:function(e){if(e.documentLevelNotes&&e.documentLevelNotes.length)return e.documentLevelNotes[0].documentGuid;if(e.inlineHighlightsAndNotes&&e.inlineHighlightsAndNotes.length)return e.inlineHighlightsAndNotes[0].documentGuid;if(e.orphanHighlightsAndNotes&&e.orphanHighlightsAndNotes.length)return e.orphanHighlightsAndNotes[0].documentGuid;return null},UpdateNoteCounts:function(){this.AreSharedNotesAllowed()?ue["default"].prototype.InitialNoteCounts():ue["default"].prototype.UpdateNoteCounts()},DisplayDocLevelAndOrphanedNotes:function(e,t,n){var i=e.documentLevelNotes,a=ce["default"].CreateAnnotationsProvider(t.documentDisplay.DocumentGuid),o=new de["default"];o.setProvider(a);o.SetParent(n);o.SetNotes(i);o.SetDocumentGuid(t.documentDisplay.DocumentGuid);o.SetDocumentLevelWidget(!0);o.SetViewOnly(!oe["default"].IsEditable);if(this.AreSharedAnnotationsAllowed()){he["default"].SetReviewerPermission(e.reviewerStatus);this.AddProductClass(n)}o.Draw();t.AreSharedNotesAllowed()&&this.InitializeShareNotes(t);var r=o,s=e.orphanHighlightsAndNotes;s&&this.DisplayOrphanedNotes(s,r);ie["default"].OrphanContainer=r;return o},InitializeShareNotes:function(e){var t=ce["default"].CreateAnnotationsProvider(e.documentDisplay.DocumentGuid,{contextualInfo:e.documentDisplay.ContextualInfo});this.shareNotes=new ye;this.shareNotes.setProvider(t);this.shareNotes.SetDocumentDisplay(this.documentDisplay);this.shareNotes.SetDocumentGuid(this.documentDisplay.DocumentGuid);this.shareNotes.Draw()},DisplayOrphanedNotes:function(e,t){for(var n=0;n<e.length;n++){e[n].location=null;a["default"].Parse(window.location.href).QueryString.sectionFilter||t.AddExistingNote(e[n],null)}},AddProductClass:function(e){"ClientMatterTree"===Z["default"].PageData.CobaltPage?.ViewData?.FeatureConfigurations.matterTreeType?e.classList.add("Matter-tree","Matter-FirmCentral"):e.classList.add("Matter-tree")},ShowHiddenContentContainingSnippet:function(){},getInitialShouldMinify:function(){return Z["default"].PageData.DocumentTabView.InlineNotesMinified||!1},setPreferenceShouldMinify:function(e){g["default"].Set("Website","InlineNotesMinified",e)},showProgressIndicator:function(){if(null===this.progressIndicator){this.progressIndicator=new ee["default"](document.getElementById("co_rightColumn"),"small",D["default"].lookup("SC.Foldering.Progress.Indicator","Loading, please wait."));this.progressIndicator.Draw()}else this.progressIndicator.Show()},hideProgressIndicator:function(){this.progressIndicator?.Hide()}});const xe=Ie.extend({ShowHiddenContentContainingSnippet:function(){if(i["default"].documentData&&i["default"].documentData.ContentType&&"Intellectual Property"===i["default"].documentData.ContentType)this.checkAndOpenPatentTableSections()},checkAndOpenPatentTableSections:function(){document.querySelectorAll(".patentSpecificationCollapsibleSection .co_selection_snippet").length;document.querySelectorAll(".patentClaimsCollapsibleSection .co_selection_snippet").length}});var ke=n(8717),we=n(6246),Ee=n(8854),Ae=n(9417),Le=n(7596),Ne=function(){};Ne.prototype.GetItem=async function(e,t,n){if(void 0===te["default"].GetUserNameEncoded()){(0,Ee.publishErrorMessage)(A["default"].Foldering,D["default"].lookup("SC.Foldering.ItemsProvider.MissingUsernameError","Missing username for items provider"));throw new Error("Missing username for items provider")}var i="/Foldering/v4/"+te["default"].GetUserNameEncoded()+"/items/"+e;n&&(i+="?categoryId="+n);var a=new E["default"](A["default"].Foldering,i);const o=await a.Get();if(200!==o.StatusCode)throw new Error("An error occurred while retrieving item data.");t(await o.json())};Ne.prototype.GetSnippetFromDataRoom=function(e,t,n,i,a,o){(0,Ae.ValidateNotUndefined)(te["default"].GetUserName(),"User.GetUserName() returns undefined, this value is required.");(0,Ae.ValidateNotUndefined)(e,"'snippetId' is undefined, this parameter is required.");(0,Ae.ValidateNotUndefined)(t,"'callback' is undefined, this parameter is required.");(0,Ae.ValidateNotUndefined)(n,"'containerGuid' is undefined, this parameter is required.");(0,Ae.ValidateNotUndefined)(i,"'dataRoomContainerType' is undefined, this parameter is required.");(0,Ae.ValidateNotUndefined)(a,"'contentType' is undefined, this parameter is required.");var r=this._convertFromDataRoomContainerTypeToFolderingContainerType(i),s="/Foldering/v1/"+te["default"].GetUserName()+"/containers/"+n+"/snippets/"+e+"?containerType="+r+"&contentType="+a;return(0,Le.GetRequest)({url:s,success:t,error:function(){throw new Error("An error occurred while retrieving item data from DataRoom.")},targetAccountKey:o})};Ne.prototype._convertFromDataRoomContainerTypeToFolderingContainerType=function(e){(0,Ae.ValidateNotUndefined)(e,"'dataRoomContainerType' is undefined, this parameter is required.");var t;if("folders"===e)t="folder";else{if("projects"!==e)throw new Error("Illegal value for 'dataRoomContainerType' ["+e+"], legal values: 'folders', 'projects'.");t="matter"}return t};const Re=Ne;var Pe=n(1424),Oe=n(6364),Be=n(2911);function Me(e){this.red={flagImage:"/images/v1/flag_red_small.png",className:"co_rFlagSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.RedFlagAltText.GridHover",{documentTitle:e},`KeyCite Red Flag for ${e}`),colorAbbr:"R"};this.yellow={flagImage:"/images/v1/flag_yellow_small.png",className:"co_yFlagSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.YellowFlagAltText.GridHover",{documentTitle:e},`KeyCite Yellow Flag for ${e}`),colorAbbr:"Y"};this.grey={flagImage:"/images/v1/flag_question_small.png",className:"co_gFlagSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.GreyFlagAltText.GridHover",{documentTitle:e},`A problem occured gathering KeyCite information for ${e}`)};this.blueH={flagImage:"/images/v2/H_icon_sm.png",className:"co_blueHSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.BlueHAltText.GridHover",{documentTitle:e},`KeyCite History available for ${e}`)};this.blue={flagImage:"/images/v1/flag_blue_small.png",className:"co_bFlagSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.BlueFlagAltText.GridHover",{documentTitle:e},`KeyCite Blue-Striped Flag for ${e}`),colorAbbr:"B"};this.green={flagImage:"/images/v2/C_icon_sm.png",className:"co_greenCSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.GreenCAltText.GridHover",{documentTitle:e},`KeyCite Citing References available for ${e}`)};this.blueD={flagImage:"/images/v2/case_on_appeal.gif",className:"co_blueHSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.BlueHAltText.GridHover",{documentTitle:e},`KeyCite History available for ${e}`)};this.impliedOverrulings={flagImage:"/images/v1/caution_orange_small.png",className:"co_cautionSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.OverrulingsAltText.GridHover",{documentTitle:e},`KeyCite overruling risk - negative treatment for ${e}`)};this.redStriped={flagImage:"/images/v1/flag_red_striped_small.png",className:"co_rStripedFlagSm",altText:D["default"].format("SC.RelatedInfo.FlagInfo.RedStripedAltText.GridHover",{documentTitle:e
},`KeyCite Red-Striped Flag - Overruled in Part for ${e}`)}}function Fe(e,t,n){const i=new Me(t);if(n)return i["grey"];if(void 0!==e&&null!=e)switch(e.id){case"direct.history.strong":case"statute.status.repealed":case"statute.status.revoked":case"statute.status.expired":case"statute.status.spent":case"future.note.strong":case"statute.unconstitutional.strong":case"negative.indirect.history.strong":case"proposed.reg.strong":case"pending.legislation.strong":case"legislative.action.strong":case"reg.action.strong":return i["red"];case"direct.history.mild":case"negative.indirect.history.mild":case"statute.unconstitutional.mild":case"proposed.reg.mild":case"reg.action.mild":case"pending.legislation.mild":case"legislative.action.mild":case"future.note.mild":return i["yellow"];case"direct.history.pending":case"direct.history.pending-neutral":return i["blue"];case"direct.history.neutral":case"negative.indirect.history.neutral":return i["blueH"];case"case.under.appeal":return i["blueD"];case"citing.references":return i["green"];case"implied.overrulings.implied_overrulings":return i["impliedOverrulings"];case"negative.indirect.history.strong.partial":return i["redStriped"]}}var We=n(3903);function He(){this.documentGuid=null;this.originationContext=null;this.docSource=null;this.rank=null;this.documentCollection=null}He.prototype={setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setDocumentCollection:function(e){this.documentCollection=e},getDocumentCollection:function(){return this.documentCollection},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setRank:function(e){this.rank=e},getRank:function(){return this.rank},setOriginationContext:function(e){this.originationContext=e},getOriginationContext:function(){return this.originationContext},equals:function(e){var t=!1;We["default"].isNotNullOrUndefined(e)&&e instanceof He&&this.documentGuid===e.getDocumentGuid()&&this.originationContext===e.getOriginationContext()&&this.documentCollection===e.getDocumentCollection()&&(t=!0);return t}};n(2525);function Ge(){this.documentGuid=null;this.docSource=null;this.rank=null;this.documentCollection=null}Ge.prototype={setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setDocumentCollection:function(e){this.documentCollection=e},getDocumentCollection:function(){return this.documentCollection},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setRank:function(e){this.rank=e},getRank:function(){return this.rank},setFlagOriginationContext:function(e){this.flagOriginationContext=e},getFlagOriginationContext:function(){return this.flagOriginationContext},setDocLinkOriginationContext:function(e){this.docLinkOriginationContext=e},getDocLinkOriginationContext:function(){return this.docLinkOriginationContext},equals:function(e){var t=!1;We["default"].isNotNullOrUndefined(e)&&e instanceof Ge&&this.documentGuid===e.getDocumentGuid()&&this.flagOriginationContext===e.getFlagOriginationContext()&&this.docLinkOriginationContext===e.getDocLinkOriginationContext()&&this.documentCollection===e.getDocumentCollection()&&(t=!0);return t}};var Ue=n(3178),je=c().extend({init:function(){this.renderCompleteEventName="Cobalt.RelatedInfo.RenderSntComplete";this.parentDiv=null;this.guid=null;this.flagOriginationContext=null;this.docLinkOriginationContext=null;this.docSource=null;this.rank=null;this.documentCollection=null;this.hasBeenDrawn=!1;this.kcFlag=null;this.statuteSNTListItem=null},setParentDiv:function(e){this.parentDiv=e},setGuid:function(e){this.guid=e},setDocumentCollection:function(e){this.documentCollection=e},setFlagOriginationContext:function(e){this.flagOriginationContext=e},setDocLinkOriginationContext:function(e){this.docLinkOriginationContext=e},setDocSource:function(e){this.docSource=e},setRank:function(e){this.rank=e},getRedFlagImageUrl:function(){return A["default"].GetUrl(A["default"].Images,"/images/v1/flag_red.png")},getYellowFlagImageUrl:function(){return A["default"].GetUrl(A["default"].Images,"/images/v1/flag_yellow.png")},getBlueFlagImageUrl:function(){return A["default"].GetUrl(A["default"].Images,"/images/v1/flag_blue.png")},getOverrulingFlagImageUrl:function(){return A["default"].GetUrl(A["default"].Images,"/images/v1/caution_orange.png")},isOverruling:function(e){return"implied.overrulings.implied_overrulings"===e.id},drawViewAllLink:function(){},buildReturnToLink:function(e,t){return t},draw:function(){var e=this;if(null===e.parentDiv){(0,Ee.publishErrorMessage)(A["default"].RelatedInfo,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("parentDiv must not be null.")}if(null===e.guid){(0,Ee.publishErrorMessage)(A["default"].RelatedInfo,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("guid must not be null.")}if(null===e.flagOriginationContext){(0,Ee.publishErrorMessage)(A["default"].RelatedInfo,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("flagOriginationContext must not be null.")}if(null===e.docLinkOriginationContext){(0,Ee.publishErrorMessage)(A["default"].RelatedInfo,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("docLinkOriginationContext must not be null.")}if(!e.hasBeenDrawn){e.hasBeenDrawn=!0;var t=new Ge;t.setDocumentGuid(e.guid);t.setFlagOriginationContext("flagOC");t.setDocLinkOriginationContext("docLinkOC");t.setDocSource(e.docSource);t.setRank(e.rank);t.setDocumentCollection(e.documentCollection);var n=function(t){const n=t.flags;if(We["default"].isNullOrUndefined(n)||n.length<1)return;var i=n[0].categoryId?n[0].categoryId:"",a=!0;"kcNegativeTreatment"!==i&&"kcJudicialHistory"!==i&&"OtherHistory"!==i||(a=!1);if(a)e._renderStatueSpan(t);else{(t.flags||[]).filter((t=>e.isOverruling(t))).length?e._renderOverrulingNonStatueSpan(t):e._renderNonStatuteSpan(t)}y["default"].Publish(e.renderCompleteEventName,{})},i=document.getElementById("co_documentFlagInfo");i?setTimeout((function(){n(JSON.parse(i.value))})):Ue.h.requestData(t,n)}},_renderFlagLink:function(e,t){var n=Fe(e),i=document.createElement("a"),a=document.createElement("img");i.id=t;e.link&&(i.href=e.link);if("R"===n.colorAbbr){a.alt="KeyCite Red Flag - Severe Negative Treatment";a.src=this.getRedFlagImageUrl();i.className="co_rFlagLg"}else if("Y"===n.colorAbbr){a.alt="KeyCite Yellow Flag - Negative Treatment";a.src=this.getYellowFlagImageUrl();i.className="co_yFlagLg"}else if("B"===n.colorAbbr){a.alt="KeyCite Blue Flag - Negative Treatment";a.src=this.getBlueFlagImageUrl();i.className="co_bFlagLg"}else if(this.isOverruling(e)){a.alt="KeyCite overruling risk - negative treatment";a.src=this.getOverrulingFlagImageUrl();i.className="co_cautionLg"}i.appendChild(a);return i},_renderStatueSpan:function(e){var t=e.flags,n=document.createElement("span");n.id="NegativeTreatmentWidget_"+e.docGuid;for(var a=document.createElement("ol"),o=300-30*(t.length-1),r=0;r<t.length;r++){var s=document.createElement("li"),l=t[r],c=Fe(l);if(0!==r){if(We["default"].isNotNullOrUndefined(l)&&We["default"].isNotNullOrUndefined(c)){this._renderStaticPhase(l,c,r,s);a.appendChild(s)}}else if(0===r&&i["default"].displayOptions.isNewDocumentView&&"R"===c.colorAbbr||0===r&&!i["default"].displayOptions.isNewDocumentView){if(We["default"].isNotNullOrUndefined(l.metadata)){var d=l.metadata.staticPhrase?l.metadata.staticPhrase:"";if(We["default"].isNotNullOrUndefined(d)&&""!==d){o-=d.length;const e=document.createElement("span");e.className="co_relatedInfo_SNT_StaticPhrase";e.id="coid_relatedInfo_SNT_Statute_staticPhrase_"+r;e.innerHTML=d;s.appendChild(e)}var u=l.metadata.treatmentPhrase;if(We["default"].isNotNullOrUndefined(u)&&""!==u){if(o<u.length){if(o>=0){u=u.substring(0,o);u+="..."}else u="";o=-1}else o-=d.length;var h=document.createElement("span");h.className="co_relatedInfo_SNT_TreatmentPhrase";h.id="coid_relatedInfo_SNT_Statute_treatmentPhrase";h.innerHTML=u;s.appendChild(h)}
var f=l.metadata.title;if(We["default"].isNotNullOrUndefined(f)&&""!==f){if(o<f.length){if(o>=0){f=f.substring(0,o);f+="..."}else f="";o=-1}else o-=f.length;var p=l.metadata.titleLink;if(We["default"].isNotNullOrUndefined(p)&&""!==p){var m=document.createElement("a");m.className="co_relatedInfo_SNT_TreatmentPhrase";m.id="coid_relatedInfo_SNT_Statute_title";m.href=this.buildReturnToLink(l.categoryId,p);m.innerHTML=f;s.appendChild(m);this.kcFlag=l;this.statuteSNTListItem=s;this.drawViewAllLink()}else{var g=document.createElement("span");g.className="co_relatedInfo_SNT_TreatmentPhrase";g.id="coid_relatedInfo_SNT_Statute_title";g.innerHTML=f;s.appendChild(g)}}var v=l.metadata.court;if(We["default"].isNotNullOrUndefined(v)&&""!==v){if(o<v.length){if(o>0){v=v.substring(0,o);v+="..."}else v="";o=-1}else o-=v.length;var y=document.createElement("span");y.id="coid_relatedInfo_SNT_Statute_court";y.className="co_relatedInfo_SNT_TreatmentPhrase";y.innerHTML=v;s.appendChild(y)}var b=l.metadata.liveDate;if(We["default"].isNotNullOrUndefined(b)&&""!==b){if(o<b.length){if(o>0){b=b.substring(0,o);b+="..."}else b="";o=-1}else o-=b.length;var C=document.createElement("span");C.id="coid_relatedInfo_SNT_Statute_date";C.className="co_relatedInfo_SNT_TreatmentPhrase";C.innerHTML=b;s.appendChild(C)}}a.appendChild(s)}}n.appendChild(a);this.parentDiv.appendChild(n)},_renderStaticPhase:function(e,t,n,a){const o=this._renderFlagLink(e,"coid_relatedInfo_SNT_Statute_kcFlag_"+n);if(i["default"].displayOptions.isNewDocumentView&&"R"===t.colorAbbr||!i["default"].displayOptions.isNewDocumentView){a.appendChild(o);if(We["default"].isNotNullOrUndefined(e.metadata)&&We["default"].isNotNullOrUndefined(e.metadata.staticPhrase)){const t=document.createElement("span");t.className="co_relatedInfo_SNT_StaticPhrase";t.id="coid_relatedInfo_SNT_Statute_staticPhrase_"+n;t.innerHTML=e.metadata.staticPhrase;a.appendChild(t)}}},_renderOverrulingNonStatueSpan:function(e){const t=e.flags,n=document.createElement("ol");n.id="co_snt_nonStatute_negativeTreatmentList";const i={};t.forEach(((t,a)=>{const o=this.isOverruling(t)?"overruling":"other";if(!i[o]){i[o]=!0;const r=document.createElement("li"),s=document.createElement("span");s.id=`NegativeTreatmentWidget_${e.docGuid}_${a}`;a>0&&s.appendChild(this._renderFlagLink(t,`coid_relatedInfo_SNT_Statute_kcFlag_${a}`));this._renderNonStatuteFlagMetaData(t,s);r.appendChild(s);n.appendChild(r)}}));this.parentDiv.appendChild(n)},_renderNonStatuteSpan:function(e){var t=e.flags[0],n=document.createElement("span");n.id="NegativeTreatmentWidget_"+e.docGuid;this._renderNonStatuteFlagMetaData(t,n);this.parentDiv.appendChild(n)},_renderNonStatuteFlagMetaData:function(e,t){if(We["default"].isNotNullOrUndefined(e.metadata)&&t){var n=e.metadata.fileLineType,i=We["default"].isNotNullOrUndefined(n)&&""!==n;if(!i){var a=e.metadata.subsequentDetermination;if(We["default"].isNotNullOrUndefined(a)&&"Y"===a){var o=document.createElement("span");o.innerHTML="In Subsequent Determination, ";o.className="co_snt_subsequentDetermination";t.appendChild(o)}}var r=e.metadata.treatmentPhrase;if(We["default"].isNotNullOrUndefined(r)&&""!==r){var s=document.createElement("span");s.innerHTML=r+" ";s.className="co_snt_treatmentPhrase";t.appendChild(s)}var l=e.metadata.appendedText;if(We["default"].isNotNullOrUndefined(l)&&""!==l){var c=document.createElement("span");c.innerHTML=l+" ";c.className="co_snt_appendedText";t.appendChild(c)}if(i){var d=e.metadata.writDate;if(We["default"].isNotNullOrUndefined(d)&&""!==d){var u=document.createElement("span");u.innerHTML=d+" ";u.className="co_snt_writDate";t.appendChild(u)}}else{var h=e.metadata.title;if(We["default"].isNotNullOrUndefined(h)&&""!==h){var f=e.metadata.titleLink;if(We["default"].isNotNullOrUndefined(f)&&""!==f){var p=document.createElement("a");p.href=f;p.innerHTML=h;t.appendChild(p);var m=document.createElement("span");m.innerHTML=", ";t.appendChild(m)}else{var g=document.createElement("span");g.innerHTML=h+", ";g.className="co_snt_shortTitle";t.appendChild(g)}}var v=e.metadata.court;if(We["default"].isNotNullOrUndefined(v)&&""!==v){var y=document.createElement("span");y.innerHTML=v+", ";y.className="co_snt_courtLine";t.appendChild(y)}else{var b=e.metadata.citation;if(We["default"].isNotNullOrUndefined(b)&&""!==b){var C=document.createElement("span");C.innerHTML=b+", ";C.className="co_snt_officialCitation";t.appendChild(C)}}var S=e.metadata.liveDate;if(We["default"].isNotNullOrUndefined(S)&&""!==S){var _=document.createElement("span");_.innerHTML=S;_.className="co_snt_dateFiled";t.appendChild(_)}if(!We["default"].isNotNullOrUndefined(e.metadata.titleLink)){var T=document.createElement("span");T.innerHTML=" "+D["default"].lookup("SC.RelatedInfo.NegativeTreatment.BNATextNotAvailable","(TEXT NOT AVAILABLE)");T.className="co_snt_textNotAvailableForBNA";t.appendChild(T)}}}}});const $e=je;var Ve={};function qe(){var e=this;e.RequestData=function(t,n){var i=!1,o=e.createKey(t);if("undefined"===Ve[o]||null==Ve[o]){Ve[o]=[];i=!0}Ve[o].push(n);if(i){var r=Ve[o],s=function(e){r?.forEach((t=>t(e,o)));Ve={}},l=new L["default"]("RelatedInfo/v1/kcValidity/enactedLegislationCount");l.addParameter("docGuid",t.docGuid);l.addParameter("contextData",a["default"].PageContextData);"undefined"!==t.docSource&&l.addParameter("docSource",t.docSource);var c=a["default"].GetResearchOrganizerOriginalContext(),d=te["default"].GetClientMatter(),u=null,h=null,f=null;if(We["default"].isNotNullOrUndefined(d)){u=d.ClientId;h=d.MatterId;f=d.ClientMatterSeparator}l.addParameter("originalContext",c);l.addParameter("clientId",u);l.addParameter("matterId",h);l.addParameter("matterSeparator",f);var p=l.buildUrl(),m=new E["default"](A["default"].RelatedInfo,p,{timeout:3e5,headers:{Accept:"application/json"}});setTimeout((function(){m.Get(s)}),1)}};e.createKey=function(e){return e.docGuid+":"+e.detailLevel}}var ze=n(6482);const Ke=$e.extend({drawViewAllLink:function(){var e=new qe,t={docGuid:i["default"].ViewData.DocumentGuid};e.RequestData(t,this.providerCallback.bind(this))},providerCallback:async function(e){if(e.ok){const a=await e.text(),o=JSON.parse(a||null);if(o){if(o.enactedLegislationCount>1){var t=this.kcFlag.link,n=document.createElement("span");n.className="co_relatedInfo_SNT_TreatmentPhrase";n.id="coid_relatedInfo_SNT_Statute_title";var i=document.createElement("a");i.className="co_relatedInfo_SNT_TreatmentPhrase";i.id="coid_relatedInfo_SNT_Statute_title";i.href=t;i.innerHTML=D["default"].lookup("SC.RelatedInfo.KcStatutesAffected.ViewAllLink","View all");n.appendChild(i);this.statuteSNTListItem.appendChild(n)}}}else{document.querySelectorAll("div.coid_relatedInfo_loading_spinner_div").forEach((e=>e.style.display="none"));const e=document.getElementById(`NegativeTreatmentWidget_${this.kcFlag.metadata.docGuid}`);if(e){e.innerHTML=ze.ContentErrorMessage;e.style.display=""}}}});function Ye(){var e=this;this.formData=null;this.Draw=function(){var e=r["default"].texts.expertWitnessRTGFormHeader,t=r["default"].texts.expertWitnessRTGFormPhoneNumber,n=r["default"].texts.expertWitnessRTGFormCallText,i=r["default"].texts.expertWitnessRTGFormCallExtendedText,a=r["default"].texts.expertWitnessRTGFormUserName,o=r["default"].texts.expertWitnessRTGFormUserPhoneEmail,s=r["default"].texts.expertWitnessRTGFormFieldRequired,l=document.createElement("div"),c=document.getElementById(r["default"].ids.expertWitnessRTGForm);l.id="co_expertWitnessRTGFormWithinContainer";l.classList.add("co_excludeAnnotations");var d=[];d[d.length]='<form action="" id="mExpertRefPushEmailForm" onsubmit="return false;">';d[d.length]="<p>";d[d.length]=e;d[d.length]="</p>";d[d.length]='<div id="mExpertRefPushEmail" class="ExpertRefHookUp ExpertRefFormProfile Informational">';d[d.length]="<p>";d[d.length]=n;d[d.length]="<Strong>";d[d.length]=t;d[d.length]="</strong>";d[d.length]=i;d[d.length]="</p><ul>";d[d.length]='<li class="co_formTextSelect"><label for="co_ewCustomerName">';d[d.length]="<P><Strong>";d[d.length]=a;d[d.length]="</Strong></P>";d[d.length]='</label><input type="text" id="co_ewCustomerName" /></li>';d[d.length]='<li class="co_formTextSelect"><label for="co_ewUserContactInfo">'
;d[d.length]="<p><strong>";d[d.length]=o;d[d.length]="<sup>";d[d.length]=s;d[d.length]='</sup></strong></p></label><input type="text" id="co_ewUserContactInfo" /></li>';d[d.length]='<li><input type="submit" id="co_rtgForm_submit" class="co_primaryBtn" value="'+D["default"].lookup("SC.Document.ExpertRoundTableGroup.ExpertWitnessRTGFormFieldSubmit","Submit")+'" /></li>';d[d.length]="</ul></form>";d[d.length]='<div id="formSubmissionInfoBox"></div>';l.innerHTML=d.join("");c.parentNode.appendChild(l);this.AttachSubmitClick(this)};this.AttachSubmitClick=function(){var t="/Document/v1/RTGFormEmail/Submission?";document.getElementById("co_rtgForm_submit")?.addEventListener("click",(async function(){const n=document.getElementById("co_ewUserContactInfo");if(""==n?.value){var i=D["default"].lookup("SC.Document.ExpertWitnessRTGForm.EmptyPhoneEmailField","Please enter Email/Phone.");e.displayUserMessage(i,$["default"].Failure);return}e.formData=document.getElementById("co_expertWitnessRTGForm").value;var o=[];o=e.formData.split("|");var s=document.getElementById("co_ewCustomerName").value,l=document.getElementById("co_ewUserContactInfo").value;a["default"].PageContextData&&(t+=r["default"].queryParameters.contextData+"="+a["default"].PageContextData);const c=new Headers({[r["default"].headers.contentTypeHeader]:r["default"].headers.contentTypeJsonRequest});this.ContextualInfo&&c.set(r["default"].headers.contextualInfoHeader,this.ContextualInfo.toString());var d=new E["default"](A["default"].Document,t,{headers:c}),u=await d.Post(JSON.stringify({expertWitnessName:o[0],expertWitnessLocation:o[1],expertWitnessGuid:o[2],userName:escape(s),userContactInfo:escape(l)}));if(200!==u.StatusCode){var h=`Request failed: ${u.ResponseText}. Status code: ${u.StatusCode}.`;throw new Error(h)}var f=D["default"].lookup("SC.Document.ExpertWitnessRTGForm.EmailSentSuccessfully","Email sent successfully.");e.displayUserMessage(f,$["default"].Success);document.getElementById("mExpertRefPushEmailForm").reset()}))};this.displayUserMessage=function(e,t){new U["default"](document.getElementById("formSubmissionInfoBox"),t,"bottom",!0,!0,!0).Draw(e)}}function Qe(){this.Go=function(){if(document.getElementById(r["default"].ids.expertWitnessRTGForm)){(new Ye).Draw()}};this.EmailAddressIsValid=function(e){var t=!1;-1!=e.search(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i)&&(t=!0);return t}}var Xe=n(9691),Je=n.n(Xe),Ze=n(6397),et=n(2217),tt=n(5293),nt=n(6724);function it(){this.pdfFileUrl=null;this.xmlDescription=null;this.originalDocId=null;this.document=null;this.lightbox=null;this.docTitle=null;this.docDescription=null;this.numberOfParts=0;this.pdfParts=[];this.isNewWindow=!0;this.classes={dialogWindowClass:"co_documentMultiPartPdfDialogClass",ViewButton:"co_tbButton"};this.ids={dialogWindowId:"co_documentMultiPartPdfDialogId"};this.messages={dialogWindowTitle:D["default"].lookup("SC.Document.MultiPartPdfManager.DialogWindowTitle","Please wait! Processing the request..."),dialogWindowErrorTitle:D["default"].lookup("SC.Document.MultiPartPdfManager.DialogWindowErrorTitle","Processing failed!"),generalErrorMessage:D["default"].lookup("SC.Document.MultiPartPdfManager.GeneralErrorMessage","Failed to process the PDF document."),missingUrlError:D["default"].lookup("SC.Document.MultiPartPdfManager.MissingUrlError","The URL to the XML document with PDF parts description is missing!"),failedToParseXmlError:D["default"].lookup("SC.Document.MultiPartPdfManager.FailedToParseXmlError","Unable to retrieve PDF details from the court. Please try again later."),failedToPopulateDialogBadXmlError:D["default"].lookup("SC.Document.MultiPartPdfManager.FailedToPopulateDialogBadXmlError","Error translating PDF response"),unavailablePDFImage:D["default"].lookup("SC.Document.MultiPartPdfManager.UnavailablePDFImage","Requested image unavailable from court website"),altMessage:D["default"].lookup("SC.Document.MultiPartPdfManager.DialogAltMessage","Close the Multi-Part PDF window"),pdfIsSealed:D["default"].lookup("SC.Website.Dockets.PdfDownloadManager.PdfIsSealed","Permission to View denied by the Court.")}}it.prototype={ShowMultiPartPdfLightbox:function(){this.HideLightbox();try{this.lightbox=new fe["default"];this.lightbox.SetId(this.ids.dialogWindowId);this.lightbox.SetClass(this.classes.dialogWindowClass);this.lightbox.SetCloseLinkObject({alt:this.messages.altMessage,onclick:()=>this.HideLightbox()});this.lightbox.SetTitle(this.messages.dialogWindowTitle);this.lightbox.GetContentDomElement().innerHTML='<span class="co_loading"></span>';this.lightbox.Draw()}catch(e){(0,et["default"])(e)}},HideLightbox:function(){if(this.lightbox){this.lightbox.Remove();this.lightbox=null;this.xmlDescription=null;this.pdfParts.length=0}},IsPdfSealed:function(e){return e.errors?.some((e=>8001==e.errorCode))||e.xmlResponse?.includes("<code>8001</code>")||8001==e.errorCode},isMultipartPdf:function(e){return e.xmlResponse},replaceExtention:function(e){return e.replace(/\.pdf(?!.*\.pdf)/,".json").replace(".tiff",".json","gi")},GetXMLDescriptionOfMultiPartPdf:async function(e,t){if(!e)return this.ShowErrorMessage(this.messages.missingUrlError);const n=this.replaceExtention(e);let i={};try{i=await this.RequestMultipartDocumentWithTask(n,t)}catch(e){return this.ShowDownloadErrorMessage(e?.message)}try{const t=JSON.parse(i.ResponseData);if(t.errors)return this.ShowErrorMessage(this.messages.unavailablePDFImage);this.isMultipartPdf(t)&&!this.IsPdfSealed(t)?this._handleMultipartPdf(t):this._handleSinglepartPdf(t,e)}catch(e){return this.ShowErrorMessage(this.messages.failedToParseXmlError)}},RequestMultipartDocument:async function(e,t){const n=a["default"].Parse(e),i=a["default"].Relative(n),o=new E["default"](A["default"].Website,i),r=t||"",s=await o.Post(r);if(200!==s.StatusCode)throw new Error(s.ResponseText);return s.json()},RequestMultipartDocumentWithTask:async function(e,t){const n=await this.RequestMultipartDocument(e,t),i=await this.RetrieveMultipartResult(e,n.TaskId);if(200!==i.StatusCode)throw new Error(i.ResponseData);return i},RetrieveMultipartResult:async function(e,t){const n=a["default"].Parse(e);n.Path=`/Result/${t}${n.Path}`;const i=a["default"].Relative(n),o=new E["default"](A["default"].Website,i),r=await o.Get();if(200!==r.StatusCode){const e=await r.text();throw new Error(e)}const s=await r.json();s.Status=s.Status?.toLowerCase()??nt["default"].Unknown;if(s.Status===nt["default"].InProgress)return await this._repeateRertieveMultipartResult(e,t);return s},_repeateRertieveMultipartResult:function(e,t){return new Promise(((n,i)=>{setTimeout((()=>this.RetrieveMultipartResult(e,t).then(n).catch(i)),500)}))},BuildUrlToPdfDocument:function(e,t){const n=x()(e).children().get(0),i=n?.getAttribute("key"),a=i?.substr(0,i.indexOf(";")).replace("|",",");let o=this.pdfFileUrl.replace("/"+this.originalDocId+"/","/"+a+"/").replace("&isFromBatchDownload=true","");t&&(o=o.concat("&localImageGuid=",t));return o},GetOriginalDocumentId:function(){let e=this.pdfFileUrl.lastIndexOf("/");const t=this.pdfFileUrl.substr(0,e);e=t.lastIndexOf("/");return t.substr(e+1)},GetPartDescription:function(e){return""!=e?e:"Description not provided by the court."},PopulateDialog:function(){try{const t=x().parseXML(this.xmlDescription);this.originalDocId=this.GetOriginalDocumentId();this.docTitle=x()(t).find("doc_title").text();this.docDescription=x()(t).find("doc_description").text();this.numberOfParts=x()(t).find("parts_total").text();x()(t).find("download_parts").find("part").each(((e,t)=>{var n={number:"",description:"",pages:"",url:"",localImageGuid:""};n.number=x()(t).find("part_number").text();n.description=this.GetPartDescription(x()(t).find("part_description").text());n.pages=x()(t).find("part_pages").text();n.localImageGuid=x()(t).find("localImageGuid").text();n.url=this.BuildUrlToPdfDocument(x()(t).find("part_url"),n.localImageGuid);this.pdfParts.push(n)}));var e="View PDF Parts ("+this.numberOfParts+")";this.batchDownload&&(e+=" - Batch Download");this.lightbox.SetTitle(e);this.lightbox.GetContentDomElement().innerHTML=this.GenerateMultiPartPdfHTML();this.AddFooterButtons()}catch(e){
this.ShowErrorMessage(this.messages.failedToPopulateDialogBadXmlError)}},ShowErrorMessage:function(e){try{this.lightbox.SetTitle(this.messages.dialogWindowErrorTitle);var t=new B["default"](this.lightbox.GetContentDomElement(),!1,!1,this.messages.generalErrorMessage);t.SetListItemIdPrefix("coid_deliveryOptionsErrorMessage");t.Draw();t.SetHiddenMessage(e);tt["default"].ConsoleMessage(e,tt["default"].Level.Error,"Cobalt.Website.ErrorSummaryWidget.ProcessingError")}catch(e){tt["default"].ConsoleMessage(`Error creating Cobalt.Widget.ErrorsSummary widget: ${e}`,tt["default"].Level.Error,"Cobalt.Website.ErrorSummaryWidget.ProcessingError")}},ShowDownloadErrorMessage:function(e){const t=this.ParseError(e);if(this.IsPdfSealed(t))return this.ShowErrorMessage(this.messages.pdfIsSealed);return this.ShowErrorMessage(this.messages.unavailablePDFImage)},ParseError:function(e){let t={};try{t=JSON.parse(e)}catch(t){tt["default"].ConsoleMessage(`Error parsing the response string: ${e}`,tt["default"].Level.Error)}return t},GenerateMultiPartPdfHTML:function(){return`<div class="co_document co_dockets">\n\t\t\t\t\t<h2 class="co_docketsHeading">${this.docTitle}</h2>\n\t\t\t\t\t<table id="tbl_pdfParts" class="co_docketsTable">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th colspan=2>${D["default"].lookup("SC.Document.MultiPartPdfManager.Description","DESCRIPTION")}</th>\n\t\t\t\t\t\t\t\t<th width="100px">${D["default"].lookup("SC.Document.MultiPartPdfManager.Part","PART")}</th>\n\t\t\t\t\t\t\t\t<th width="100px">${D["default"].lookup("SC.Document.MultiPartPdfManager.Pages","PAGES")}</th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<td colspan="4">${this.docDescription}</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t\t${this.pdfParts.map((e=>this.AddPdfPartInfo(e))).join("")}\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t   </div>`},AddPdfPartInfo:function(e){return`<tr>\n\t\t\t\t\t<td style="border-right:0;">${e.description}</td>\n\t\t\t\t\t<td width="130px">\n                        ${this.AddGreenCarat(e)}\n\t\t\t\t\t\t<a href="${e.url}" target="_blank" class="co_blobLink co_tbButton co_pdfButton" style="margin-bottom:0;">\n\t\t\t\t\t\t\t<span class="icon25 icon_pdf-blue"></span>\n\t\t\t   \t\t\t\t${D["default"].lookup("SC.Document.MultiPartPdfManager.View","View")}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<strong>${e.number}</strong>\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<strong>${e.pages}</strong>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>`},AddGreenCarat:function(e){if(o["default"].isFeatureEnabled("PASSTHRUPDFS")&&e.localImageGuid){return`<div class="co_relative">\n                        <span title="${D["default"].lookup("SC.Document.MultiPartPdfManager.PdfStatus","Stored PDF")}" class="co_docketStatus active">${D["default"].lookup("SC.Document.MultiPartPdfManager.DocketStatus","Docket Status")}</span>\n                    </div>`}return""},AddFooterButtons:function(){var e=this.lightbox.GetFooterDomElement(),t=document.createElement("ul"),n=document.createElement("li"),i=document.createElement("input");i.setAttribute("type","submit");i.setAttribute("class","co_primaryBtn");i.id="co_multipartPdfDialogCloseButton";i.value="Close";i.onclick=()=>this.HideLightbox();n.appendChild(i);t.setAttribute("class","co_overlayBox_optionsBottom");t.appendChild(n);e.appendChild(t)},Draw:function(e,t){document.getElementById("coid_website_documentWidgetDiv")&&!this._document&&(this.document=x()("#coid_website_documentWidgetDiv"));this.ShowMultiPartPdfLightbox();null!=this.xmlDescription?this.PopulateDialog():this.GetXMLDescriptionOfMultiPartPdf(e,t)},_handleMultipartPdf:function(e){this.xmlDescription=e.xmlResponse;this.PopulateDialog()},_handleSinglepartPdf:function(e,t){"image/tiff"===e.mimeType&&(t=t.replace(/\.pdf/gi,".tiff"));const n=a["default"].Parse(t),i=Je().pickBy({docpersistid:e.persistId,persistchecksum:e.persistChecksum,ispdfsealed:this.IsPdfSealed(e),totalpagecount:e.totalPagecount,billablepagecount:e.billablePagecount,acquisitionguid:e.acquisitionGuid,renditionGuid:e.renditionGuid},(e=>!Je().isNil(e)));Je().assign(n.QueryString,i);this.HideLightbox();const o=a["default"].Absolute(n);Ze["default"].PageTransition(o,this.isNewWindow)}};const at=new it;function ot(e,t){if(function(){const e=window.open(null,"","width=100,height=100");try{e.close();return!1}catch(e){return!0}}())t?Ze["default"].PageTransition.Post(e,t,!0):Ze["default"].PageTransition(e,at.isNewWindow);else if(function(e){return!!a["default"].Parse(e).QueryString["localImageGuid"]}(e))Ze["default"].PageTransition(e,at.isNewWindow);else{at.pdfFileUrl=e;at.Draw(e,t)}}var rt=n(6669),st=n.n(rt),lt=n(2842);function ct(){var e=this;function t(e,n){this.tableElement=e;this.options=(0,Xe.merge)({},t.DEFAULTS,n)}t.DEFAULTS={linkClass:r["default"].classes.fullscreenButton,linkText:null,linkHref:null};t.prototype.draw=function(){if(this.$linkElement)return;if(!this.tableElement?.children.length){(0,lt.hideElements)(this.tableElement);return}if(null===this.options.linkHref||null===this.options.linkText||!this.tableElement?.querySelectorAll("table tr > td:nth-child(2)").length)return;this.$linkElement=x()(st().template('<a class="<%=linkClass%> co_excludeAnnotations" href="<%=linkHref%>" title="<%=linkText%>" target="_blank"><span class="th_simple_icon icon_table_fullscreen"></span><%=linkText%></a>',this.options)).insertBefore(this.tableElement)};t.prototype.destroy=function(){if(!this.$linkElement)return;this.$linkElement.remove();this.$linkElement=null};function n(e,t){this.$window=x()(window);this.tableElement=e;this.options=(0,Xe.merge)({},n.DEFAULTS,t)}n.DEFAULTS={shadowClass:"co_hasShadow",shadowAsync:!0};n.prototype.draw=function(){this.$window.data("events")&&!this.$window.data("events")["resize.table.shadow"]&&this.$window.on("resize.table.shadow",this.process.bind(this,!1));this.process(!1)};n.prototype.process=function(e){if(!e&&this.options.shadowAsync){setTimeout(this.process.bind(this,!0));return}var t=this.tableElement,n=Array.from(t?.children??[]).filter((e=>e.matches("table")&&(0,u.getElementWidth)(t)<(0,u.getElementWidth)(e)));t?.classList.toggle(this.options.shadowClass,n)};n.prototype.destroy=function(){this.$window.off("resize.table.shadow");this.tableElement?.classList.remove(this.options.shadowClass)};function i(){var e=ge.ElementStorage.get(this,"Cobalt.Document.Widget.Table.FullScreenLink");if(!e){const n={linkClass:ge.ElementStorage.get(this,"linkClass"),linkText:ge.ElementStorage.get(this,"linkText"),linkHref:ge.ElementStorage.get(this,"linkHref")};ge.ElementStorage.put(this,"Cobalt.Document.Widget.Table.FullScreenLink",e=new t(this,n))}e.draw()}function a(){var e=ge.ElementStorage.get(this,"Cobalt.Document.Widget.Table.FullScreenLink");e&&e.destroy()}function o(){var e=ge.ElementStorage.get(this,"Cobalt.Document.Widget.Table.TableShadow");if(!e){const t={shadowClass:ge.ElementStorage.get(this,"shadowClass"),shadowAsync:ge.ElementStorage.get(this,"shadowAsync")};ge.ElementStorage.put(this,"Cobalt.Document.Widget.Table.TableShadow",e=new n(this,t))}e.draw()}function s(){var e=ge.ElementStorage.get(this,"Cobalt.Document.Widget.Table.TableShadow");e&&e.destroy()}function l(){i.apply(this,arguments);o.apply(this,arguments)}function c(){a.apply(this,arguments);s.apply(this,arguments)}this.Draw=function(){e.chunkRendered||(e.chunkRendered=y["default"].Subscribe(r["default"].events.chunkRendered,e.Refresh));e.Refresh()};this.Refresh=function(){document.querySelectorAll("."+r["default"].classes.fullscreenTable).forEach((e=>l.call(e)))};this.Destroy=function(){if(e.chunkRendered){y["default"].Unsubscribe(e.chunkRendered);e.chunkRendered=null}document.querySelectorAll("."+r["default"].classes.fullscreenTable).forEach((e=>c.call(e)))}}var dt=n(6912),ut=n(1809),ht=n(6123),ft=n(7861);const pt={AddToFolder:"AddToFolder",AddToOutline:"AddToOutline"};var mt=n(4941),gt=n(8332);function vt(){let e;gt["default"].apply(this,arguments);const t=this.Erase;this.Erase=()=>{e?.();return t.call(this)};this.SetCloseFunction=t=>{e=t}}vt.prototype=Object.create(gt["default"].prototype);vt.prototype.constructor=vt
;const yt=vt;function bt(){this.closeFunction=void 0;mt["default"].apply(this,arguments);this.SetCloseFunction=function(e){this.closeFunction=e};this.CreateSaveToPopup=function(e){const t=new yt(e);t.SetCloseFunction(this.closeFunction);return t}}bt.prototype=Object.create(mt["default"].prototype);bt.prototype.constructor=bt;const Ct=bt;var St=n(4082);const _t={[pt.AddToFolder]:(new class{addLinkToFolder=async e=>{const t=await(e=>new Promise((t=>{const n=e.href;n&&(n.includes("/Link/Document/FullText")?(new St["default"]).ResolveLinkToGuid(e.search,(e=>t(e))):t(v["default"].GetDocumentGuidFromUrl(n)))})))(e),n=new Ct(t);n.Init();n.SetContentCallback((()=>[{DocGuid:t}]));n.SetMessagePopupReferenceElement(e);n.SetCloseFunction((()=>{e?.focus()}));n.Open()};build(){return{label:D["default"].lookup("SC.Document.DocumentLinksMenu.AddToFolder.Label","Add To Folder"),isEnabled:()=>!0,handler:e=>this.addLinkToFolder(e)}}}).build()};var Dt=n(2114),Tt=n(2237);class It{constructor(e,t){this.link=e;this.items=t;this.container=this.#e()}draw(){this.buttonOpts=this.#t();const e=this.#n();this.menu=new Tt["default"](e);new Dt["default"](this.menu,this.buttonOpts).draw();this.#i()}show(){this.container.classList.remove(r["default"].classes.hideState);this.#a()}hide(){this.container.classList.add(r["default"].classes.hideState)}#a(){const e=this.link.getBoundingClientRect(),t=this.link.getClientRects()[0];this.container.style.left=e.left-t.left+"px"}#e(){const e=document.createElement("span");e.className="docLinkWrapper";this.link.parentNode.insertBefore(e,this.link.nextSibling);const t=document.createElement("div");t.classList.add(r["default"].classes.hideState,r["default"].classes.highlightingExcludeAnnotations);e.appendChild(this.link);e.appendChild(t);return t}#t(){return{iconClass:"icon25 icon_downMenu-gray",iconAfterText:!0,labelForButton:D["default"].lookup("SC.Document.DocumentLinksMenu.Button.Text","View Options"),ariaLabelForButton:D["default"].format("SC.Document.DocumentLinksMenu.Button.AriaLabel",{linkTitle:this.link.textContent},`View options for ${this.link.textContent}`),dropdownContainer:this.container}}#n(){return{items:this.#o(),ariaLabelForMenuContainer:D["default"].lookup("SC.Document.DocumentLinksMenu.Dropdown.AriaLabel","Document Link Menu")}}#i(){this.container.addEventListener("focusout",(e=>{this.container.contains(e.relatedTarget)||this.link===e.relatedTarget||this.hide()}));this.menu.getDOMElement().addEventListener("menu-item-selected",(e=>{const t=e.detail.items[0].value;this.items[t].handler(this.link)}))}#o(){return Object.keys(this.items).map((e=>{const{label:t}=this.items[e];return{content:t,value:e}}))}}class xt{constructor(){this.itemsConfig=this.getEnabledItems(_t)}applyLinkMenu(){[...document.querySelectorAll(`a.${r["default"].classes.draggableLink}`)].filter((e=>!e.closest(".co_glossaryTerm")&&!e.closest("#co_docHeaderTitleLine"))).forEach((e=>{const t=new It(e,this.itemsConfig);t.draw();this.addLinkEventListeners(e,t)}))}getEnabledItems(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>e.isEnabled())))}addLinkEventListeners(e,t){e.addEventListener("focusin",(()=>t.show()));e.addEventListener("blur",(e=>{t.container.contains(e.relatedTarget)||t.hide()}))}}var kt=c().extend({init:function(){this.showLightboxOnClickHandler=this.showLightboxOnClickHandler.bind(this);this.eventQueue=new C["default"];this.Headnote.SetUpdateCitedCaseReferenceCounts(!0);this.Footnote=new w;this.DraggableController=S();ne["default"].Instance=this;y["default"].Publish(r["default"].events.documentDisplayReady,new b["default"]({}));var e=this;y["default"].Subscribe(r["default"].events.containsInlineNotes,(function(){e.toggleHasInlineNotes()}));y["default"].Subscribe(r["default"].events.noInlineNotes,(function(){e.toggleHasInlineNotes()}));this.eventQueueDockReadySubscription=this.eventQueue.Subscribe(r["default"].events.dockReady,(function(t,n,i){e.dockReadyEventCallback(t,n,i)}))},snippetRelocationInfo:null,eventQueue:null,sntWidgetRenderSubscription:null,documentNavigation:null,DocumentGuid:null,DomId:null,View:null,UrmId:null,ContextualInfo:null,TermNavigationState:null,ChunkSizeSuggestion:null,ChunkableHeadnotes:!1,DoCompleteSizeChecking:!0,FinishedRendering:!1,IsPersistedView:!1,IsDocketsUpdate:!1,NavigationProperties:{},PersistProperties:{},SearchWithinProperties:{},WebsiteProperties:{},Headnote:new O,Footnote:null,DraggableController:null,IsUserDocument:!1,ContainerId:null,ContainerType:null,AccountKey:null,DisableKeyCiteSnt:!1,DisableKeyCiteSntText:!1,InlineWarningView:!1,IsNewDocumentView:!1,DisableDocToolbar:!1,DocumentSections:[],SecureContentHash:null,HasDraftingNotes:!1,HasDocumentSections:!1,RulebookMode:!1,RulebookModeContent:!1,OutlineId:null,OutlineNodeId:null,SetDocumentGuid:function(e){this.DocumentGuid=e;this.Headnote.SetDocumentGuid(this.DocumentGuid)},SetDomId:function(e){this.DomId=e},SetView:function(e){e&&(e=e.toLowerCase());this.View=e;this.IsPersistedView&&this.View==s["default"].FullText&&(this.View=s["default"].PersistedDoc)},SetNavigationProperties:function(e){this.NavigationProperties=e},SetPersistProperties:function(e){this.PersistProperties=e;this.IsPersistedView=null!=this.PersistProperties.PersistedDocumentGuid&&null!=this.PersistProperties.Checksum&&null!=this.PersistProperties.SubContentTypeId;this.IsPersistedView&&this.View==s["default"].FullText&&(this.View=s["default"].PersistedDoc)},SetWebsiteProperties:function(e){this.WebsiteProperties=e},SetSearchWithinProperties:function(e){this.SearchWithinProperties=e},SetUrmId:function(e){this.UrmId=e},SetContextualInfo:function(e){this.ContextualInfo=e},SetTermNavigationState:function(e){this.TermNavigationState=e},SetIsDocketsUpdate:function(e){this.IsDocketsUpdate=e},SetDisableKeyCiteSnt:function(e){this.DisableKeyCiteSnt=e},SetDisableKeyCiteSntText:function(e){this.DisableKeyCiteSntText=e},SetInlineWarningView:function(e){this.InlineWarningView=e},SetIsNewDocumentView:function(e){this.IsNewDocumentView=e},SetDisableDocToolbar:function(e){this.DisableDocToolbar=e},SetDocumentSections:function(e){this.DocumentSections=e},SetSecureContentHash:function(e){this.SecureContentHash=e},SetHasDraftingNotes:function(e){this.HasDraftingNotes=e},SetHasDocumentSections:function(e){this.HasDocumentSections=e},SetRulebookMode:function(e){this.RulebookMode=e},SetRulebookModeContent:function(e){this.RulebookModeContent=e},SetOutlineNodeId:function(e){this.OutlineNodeId=e},SetOutlineId:function(e){this.OutlineId=e},Configure:function(e){var t,n;for(t in e){n=e[t];(0,d.AreSame)(t,"chunkSize")?this.setChunkSize(n):(0,d.AreSame)(t,"chunkableHeadnotes")?this.setChunkableHeadnotes(n):(0,d.AreSame)(t,"snippetRelocationInfo")?this.setSnippetRelocationInfo(n):(0,d.AreSame)(t,"doCompleteSizeChecking")?this.setDoCompleteSizeChecking(n):(0,d.AreSame)(t,"isNewDocumentView")?this.SetIsNewDocumentView(n):(0,d.AreSame)(t,"disableDocToolbar")?this.SetDisableDocToolbar(n):(0,d.AreSame)(t,"outlineNodeId")?this.SetOutlineNodeId(n):(0,d.AreSame)(t,"outlineId")&&this.SetOutlineId(n)}},setChunkSize:function(e){if(e){var t,n=!1,i={small:"S",medium:"M",large:"L"};for(t in i)if(i[t]==e){n=!0;break}if(!n)throw new Error("Invalid chunk size suggestion made: "+e);this.ChunkSizeSuggestion=e}},setChunkableHeadnotes:function(e){if(!0!==e&&!1!==e)throw new Error("Value passed for chunkable headnotes configuration must be a Boolean: "+e);this.ChunkableHeadnotes=e;this.Headnote.SetChunkableHeadnotes(this.ChunkableHeadnotes||(o["default"].EnableIpad?o["default"].EnableIpad:o["default"].EnableIphone))},setSnippetRelocationInfo:function(e){if(e&&(0,d.IsNotNullOrEmpty)(e.snippetId)){(0,d.IsNullOrEmpty)(e.categoryId)&&(e.categoryId=null);this.snippetRelocationInfo=e}},setDoCompleteSizeChecking:function(e){if(!0!==e&&!1!==e)throw new Error("Value passed for doing complete size checking configuration must be a Boolean: "+e);this.DoCompleteSizeChecking=e},Draw:function(){this.RenderDocumentContent();(0,m.AttachPageUpDownKeyEventHandlers)((()=>this.calculatePageHeight()))},calculatePageHeight:function(){
const{ids:e}=r["default"],t=[document.getElementById(e.websiteHeader),document.getElementById(e.documentFixedHeader),document.getElementById(e.documentPrimaryTabNavigationContainer),document.getElementById(e.documentToolbar)];return window.innerHeight-(0,m.GetLargestHeightFromTop)(t)},RenderDocumentContent:function(){var e,t=r["default"].ids;if(document.getElementById(t.documentUnavailable))this.postRender();else{var n=this.CreateDocDisplayChunking(this),i=n.hasMoreChunks();this.checkIfChunkingNeeded(i,n);this.postRender();if(this.scrollableContent()){var a=(e={},function(t,n,i){i||(i="Don't call this twice without a uniqueId");e[i]&&clearTimeout(e[i]);e[i]=setTimeout(t,n)}),o=this;window.addEventListener("resize",(function(){a((function(){o.scrollableContent()}),150,"scrollableContent")}))}i&&n.LoadChunk(1)}const s=document.getElementById(t.document);s?.setAttribute("role","region");s?.setAttribute("aria-label",D["default"].lookup("SC.Website.Cobalt.Widget.CobaltMaster.DocumentAriaLabel","Document"))},checkIfChunkingNeeded:function(e,t){if(e){var n=document.getElementById(this.DomId);t.InitializeChunking(n)}},isContentScrollable:function(){var e=r["default"].ids,t=r["default"].classes,n=document.getElementById(e.preformattedText);return document.body.classList.contains(t.scrollableDocument)||null!=n&&"true"==n.value||document.querySelector(`${t.document}, .co_contentTypeEdgar`)||document.querySelector(`${t.document}, .co_contentTypePrivateEquityFunds`)||document.querySelector(`${t.document}, .co_peDeals`)||document.querySelector(`${t.document}, .co_contentTypeLocatePrecedentAgreements`)},scrollableContent:function(){var e=r["default"].ids,t=r["default"].classes;if(this.isContentScrollable()){var n=window.innerHeight,i=(0,ft.offset)(document.getElementById(e.websiteWidgetDiv)).top,a=(0,u.getOuterHeight)(document.getElementById(e.documentFooter)),o=new ut["default"];a=o.getDocFooterHeight(a);const r=document.getElementById(e.websiteWidgetDiv);r&&(r.style.height=n-i-a+"px");document.body.classList.contains(t.scrollableDocument)||document.body.classList.add(t.scrollableDocument);o.calculateTocHeight();return!0}return!1},showLightboxOnClickHandler:function(e){const t=e.target.closest("a.xslLinkoutShowLightboxOnClick");if(!e.currentTarget.contains(t))return;var n=ge.ElementStorage.get(t,"external-url"),i=ge.ElementStorage.get(t,"external-title");(0,Be.website_LinkoutAndShowTimeoutLightboxExternalWithoutRefresh)(n,i)},postRender:function(){var e=this;this.renderComplete();this.FinishedRendering=!0;if(this.View===s["default"].Preview&&!this.InlineWarningView)return;var t=f["default"].GetObject(r["default"].objectIds.documentDisplayEventHandlers);t.documentDisplay=this;if(!o["default"].EnableIpad&&!o["default"].EnableIphone){this.initializeSelectedTextMenuWidget();this.Footnote.InitializeFootnotesHover();t.AddImageEventHandlers();t.AttachDocumentLinkClickHandlers();t.AttachDocumentLinkMouseOverHandlers()}this.eventQueue.PublishEventsAndActivateSubscriptions();if(null!=h["default"].Instance){o["default"].EnableIpad||o["default"].EnableIphone||y["default"].Subscribe(r["default"].events.chunkRendered,(function(){e.DraggableController.initializeDraggables()}));y["default"].Subscribe(r["default"].events.lastChunkAdded,(function(){e.xmlDocumentLoaded()}))}else{if(o["default"].EnableIpad||o["default"].EnableIphone){var n=document.getElementById(r["default"].ids.document);n&&t.AddClickHandlersForIpad(n)}this.xmlDocumentLoaded()}y["default"].Subscribe(r["default"].events.tocInformationRetrieved,(function(t,n,i){e.tocDataReadyCallback(t,n,i)}));!1!==this.IsPersistedView||this.IsDocketsUpdate||!1!==this.DisableKeyCiteSnt||this.displayKeyCiteSntWidget();null==this.snippetRelocationInfo&&y["default"].SubscribeOnce(r["default"].events.headnotesInitialized,(function(){t.ProcessInternalLink()}));this.getUserPreferencesAndExecuteTasks();this.documentNavigation=new Y.A;y["default"].Subscribe(r["default"].events.billingSuspended,(function(){document.documentElement.classList.add("co_overflowHidden")}));if(this.documentNavigation.hasLoadedData)this.showMessageIfNeeded();else{var i=r["default"].events.docNavDataIsReady;y["default"].Subscribe(i,(function(){e.showMessageIfNeeded()}));this.documentNavigation.FetchNextPreviousData(e.NavigationProperties.ListSource,e.NavigationProperties.NavigationPath,e.NavigationProperties.List,e.NavigationProperties.Rank)}e.IsUserDocument&&document.querySelectorAll("body style").forEach((e=>{document.head.append(e)}));if(document.getElementById(r["default"].ids.expertWitnessProfile)){(new Qe).Go()}const a=document.getElementById("co_document");a?.addEventListener("click",(function(e){const t=e.target.closest("a.xslPauseSessionOnClick");if(e.currentTarget.contains(t)){o["default"].isFeatureEnabled("BLOCKSESSIONPAUSEDISPLAY")||(0,Be.website_ShowResumeResearchLightbox)("pause",!0)}}));a?.addEventListener("click",this.showLightboxOnClickHandler);a?.addEventListener("click",(function(e){const t=e.target.closest("a.xslShowMultiPartPdfOnClick");if(!e.currentTarget.contains(t))return;const n=t.dataset.pdfLink,i=t.dataset.hasImageGuid;if(n){let e;if(i){const n=t.closest("tr").cells,i=[...t.closest("tbody").rows[0].cells],a=i.findIndex((e=>e.textContent.startsWith("Date"))),o=i.findIndex((e=>e.textContent.startsWith("Description")));if(a>-1&&o>-1){const t=n[a].innerText,i=n[o]?.innerText;e={description:i,date:t}}}ot(n,e)}}));(0,dt.attachMatterMapClickHandlers)();this.setupLinkMenuButtons();(new ct).Draw()},setupLinkMenuButtons:function(){if(o["default"].IsDocumentLinkOptionsMenuEnabled){(new xt).applyLinkMenu()}},initializeSelectedTextMenuWidget:function(){if(f["default"].IsRegistered(r["default"].objectIds.widget$SelectedTextMenu)){var e=f["default"].GetObject(r["default"].objectIds.widget$SelectedTextMenu);e.Initialize(this.DomId,this.DocumentGuid);e.Draw()}},renderComplete:function(){var e=this,t=new _["default"];t.ContextualInfo=e.ContextualInfo;t.GetMetaInformation(e.DocumentGuid,(function(t){e.metaInfoRetrieved(t)}),(function(t){e.metaInfoRetrieved(t)}),this.IsUserDocument)},metaInfoRetrieved:function(e){ke["default"].metaInfo=e;we["default"].metaInfo=e;v["default"].publishHubEvent(r["default"].events.documentRenderComplete,this,null,e)},checkForLowercaseLAndO:function(e){var t=document.getElementById(e);t.hasChildNodes()&&this.searchForLowercaseLAndONextToNumber(t.childNodes,0)},searchForLowercaseLAndONextToNumber:function(e,t){var n=this,i=/[0-9]+[ol]+/;if(e){var a=e[t];a.hasChildNodes()?n.searchForLowercaseLAndONextToNumber(a.childNodes,0):"#text"===a.nodeName&&a.nodeValue.search(i)>=0&&n.addBoldAndItalics(a.parentNode,a,i);t<e.length-1&&n.searchForLowercaseLAndONextToNumber(e,t+1)}},addBoldAndItalics:function(e,t,n){var i=t.nodeValue,a=i.match(n);if(null!==a){for(var o=(a=a[0]).search("o")>=0?"o":"l",r=document.createElement("strong"),s=document.createElement("em"),l=i.indexOf(a)+a.indexOf(o),c=a.lastIndexOf(o)-a.indexOf(o)+1,d=document.createTextNode(i.substring(0,l)),u=document.createTextNode(""),h=0;h<c;h++)u.nodeValue+=o;s.appendChild(u);r.appendChild(s);var f=document.createTextNode(i.substring(l+c));e.insertBefore(d,t);e.insertBefore(r,t);e.insertBefore(f,t);e.removeChild(t)}},tocDataReadyCallback:function(e,t){var n=this,i=t.Data.tocInfo.flyoutXhtml;i&&n.markupDocumentPrelimNodes(i);var a=t.Data.tocInfo.tocNode;a&&n.markupBrowseAllPrelimNodes(a);n.checkForLowercaseLAndO(r["default"].ids.document);n.checkForLowercaseLAndO(r["default"].ids.docHeaderTitle);y["default"].Publish("Cobalt.Document.TOC.Rendered")},markupBrowseAllPrelimNodes:function(){},markupDocumentPrelimNodes:function(e){if(!e||null==e||e.length<=0)return;var t=document.getElementById(r["default"].ids.prelimGoldenLeaf);if(!t||null==t)return;var n=[],i=document.createElement("div");i.innerHTML=e;for(var a=p["default"].GetElementsByClassName(r["default"].classes.activeClass,"li",i)[0].parentNode,o=0,s=null,l=null;"LI"===a.parentNode.nodeName.toUpperCase()&&(s=a.parentNode).childNodes[0].href;){l=s.childNodes[0].href;n[o]=l;o++;a=s.parentNode}if(o>0){var c=t,d=null;o=0;for(;c.className.includes(r["default"].classes.headText);){d=c.parentNode;if(null==n[o])break
;for(var u=0,h=c.childNodes.length;u<h;u++){var f=c.childNodes[u];if("A"===f.nodeName.toUpperCase()||"DIV"===f.nodeName.toUpperCase())continue;var m=document.createElement("a");m.href=n[o];m.className=r["default"].classes.prelimNodeLink;var g=f.parentNode.replaceChild(m,f);m.appendChild(g)}o++;(c=d).className.includes(r["default"].classes.headText)||(c=d.parentNode)}}this.SuperBrowse(e)},IsSuperBrowseSupportedFeature:function(){var e=["Statutes","Regulations","Legislation"].includes(ke["default"].metaInfo.ContentType),t=ke["default"].metaInfo.metaInformation.isRefsAndAnnos,n=o["default"].isFeatureSupported("SuperBrowse");return e&&!t&&n},SuperBrowse:function(e){if(!this.IsSuperBrowseSupportedFeature())return;const t=document.getElementById(r["default"].ids.prelimGoldenLeaf);if(!t)return;let n=t.querySelector(":scope > a[href]");if(!n)return;let i=a["default"].Parse(n.href);i.Path=i.Path.replace("/Browse/","/SuperBrowse/");i.QueryString["transitionType"]="SuperBrowse1";i.QueryString["docguid"]=this.DocumentGuid;n.insertAdjacentHTML("beforebegin",'<a class="co_excludeAnnotations icon25 icon_superbrowse" title="'+D["default"].lookup("SC.Document.DocumentDisplay.SuperBrowse.LinkText","SuperBrowse")+'" href="'+a["default"].Absolute(i)+'">'+D["default"].lookup("SC.Document.DocumentDisplay.SuperBrowse.LinkText","SuperBrowse")+"</a>");t.insertAdjacentHTML("beforeend","<div id='superBrowseToc' class='co_hideState'>"+e+"</div>");if(x()("div#superBrowseToc").find(".co_active").parentsUntil("ul#co_docTocOverlay_list").length>6){n=t.parentElement.querySelector(":scope > a[href]");if(!n)return;i=a["default"].Parse(n.href);i.Path=i.Path.replace("/Browse/","/SuperBrowse/");i.QueryString["transitionType"]="SuperBrowse2";i.QueryString["docguid"]=this.DocumentGuid;n.insertAdjacentHTML("beforebegin",'<a class="co_excludeAnnotations icon25 icon_superbrowse" title="'+D["default"].lookup("SC.Document.DocumentDisplay.SuperBrowse.LinkText","SuperBrowse")+'" href="'+a["default"].Absolute(i)+'">'+D["default"].lookup("SC.Document.DocumentDisplay.SuperBrowse.LinkText","SuperBrowse")+"</a>")}document.getElementById("superBrowseToc")?.remove()},_renderReadingModeCitatorFlag:function(e){var t=document.createElement("div");t.id=r["default"].ids.readingModeCitatorFlag;var n=e.innerHTML,i=e.children;i.length>1&&(n=i[0].outerHTML);t.innerHTML=n;var a=x()(t).find("a");a.attr("href")&&a.attr("href",(function(){return this.href.replace("originationContext=docHeaderFlag","originationContext="+r["default"].texts.docHeaderSntTitleFlagOriginationContext)}));return t},displayKeyCiteSntWidget:function(){var e,t,n,i,a=this;if(!(e=document.getElementById(r["default"].ids.docHeaderCitatorFlag))||0==x()(e).find("img").length)return;(t=document.getElementById(r["default"].ids.keyCiteFlagPlaceHolder))||(t=p["default"].GetElementsByClassName(r["default"].classes.document,"div",null)[0])&&(t=t.firstChild);if(t){(n=document.createElement("div")).id=r["default"].ids.readingModeKC;n.className=r["default"].classes.keyCiteFlagWidgetContainer+" "+r["default"].classes.hideState+" "+r["default"].classes.highlightingExcludeAnnotations;n.appendChild(a._renderReadingModeCitatorFlag(e));(i=document.createElement("div")).id=r["default"].ids.readingModeNegativeTreatment;n.appendChild(i);t.parentNode.insertBefore(n,t);if(!o["default"].EnableIphone&&!o["default"].EnableIpad){const e=x()(n).find(".co_citatorFlag a");if(1===e.length){const t=e.find("img");new ht["default"](e,t.attr("title")).render();t.removeAttr("title")}}if(!1===this.DisableKeyCiteSntText){a.sntWidgetRenderSubscription=y["default"].Subscribe(r["default"].events.sntWidgetRendered,(function(e,t,n){a.unhideReadingModeCitatorArea(e,t,n)}));(function(e,t,n,i,a,o){var r=new Ke;r.setParentDiv(e);r.setGuid(t);r.setFlagOriginationContext(n);r.setDocLinkOriginationContext(i);r.setDocSource(a);r.setRank(o);r.draw()})(i,a.DocumentGuid,r["default"].texts.docHeaderSntTitleFlagOriginationContext,r["default"].texts.docHeaderSntTitleOriginationContext,a.WebsiteProperties.DocSource,a.NavigationProperties.Rank)}else p["default"].RemoveClass(n,r["default"].classes.hideState)}},unhideReadingModeCitatorArea:function(){var e,t=this;if(e=document.getElementById(r["default"].ids.readingModeKC)){p["default"].RemoveClass(e,r["default"].classes.hideState);y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))}if(t.sntWidgetRenderSubscription){y["default"].Unsubscribe(t.sntWidgetRenderSubscription);t.sntWidgetRenderSubscription=null}},showMessageIfNeeded:function(){var e=this;if(e.documentNavigation.hasMessage){var t=document.getElementById(e.DomId);if(null!=t){var n=document.createElement("div");t.insertBefore(n,t.childNodes[0]);var i=new B["default"](n);i.Draw();i.SetMessage(e.documentNavigation.message)}}},getUserPreferencesAndExecuteTasks:async function(){var e=[new g["default"].Id("Document",r["default"].prefs.headnotesDualColumnViewPref),new g["default"].Id("Document",r["default"].prefs.hideHeadnotesBoxPref)];try{const t=await g["default"].GetMultiple(e);this.getUserPreferencesSuccessCallback(t)}catch{this.getUserPreferencesFailedCallback()}},getUserPreferencesSuccessCallback:function(e){var t=new g["default"].Id("Document",r["default"].prefs.headnotesDualColumnViewPref),n=new g["default"].Id("Document",r["default"].prefs.hideHeadnotesBoxPref),i={headnotesDualColumnView:e[t],hideHeadnotesBox:e[n]};this.executePreferenceRequiredTasks(i)},getUserPreferencesFailedCallback:function(){this.executePreferenceRequiredTasks({headnotesDualColumnView:!1,hideHeadnotesBox:!1})},executePreferenceRequiredTasks:function(e){this.Headnote.InitializeHeadnotesForUser(e)},CreateDocDisplayChunking:function(e){return new K(e)},CreateDocDisplayHighlighting:function(e){return new xe(e)},xmlDocumentLoaded:function(){var e=this,t=null,n=null;(o["default"].isFeatureEnabled("FOLDERS")||o["default"].isFeatureEnabled("ANNOTATIONS"))&&(n=(t=e.CreateDocDisplayHighlighting(e)).InitializeHighlightingFunctionality());if(!o["default"].EnableIpad&&!o["default"].EnableIphone){e.OutlineId&&e.OutlineNodeId&&(0,Pe.getNodes)(e.OutlineId,e.OutlineNodeId,0).then((n=>{const i=n.outlineNodes[e.OutlineNodeId];if(i.nodeType!==Oe.NodeType.citation){const e={documentGuid:i.documentGuid,location:i.location,selectedHtml:i.highlightHtml,selectedText:i.highlightText};t.ResolveLocationThenRelocateAndScrollToSnippet(e,!0)}}));if(o["default"].isFeatureEnabled("FOLDERS")&&null!=e.snippetRelocationInfo){var i=new Re;e.snippetRelocationInfo.containerGuid&&e.snippetRelocationInfo.containerType?i.GetSnippetFromDataRoom(e.snippetRelocationInfo.snippetId,(function(e){t.ResolveLocationThenRelocateAndScrollToSnippet(e)}),e.snippetRelocationInfo.containerGuid,e.snippetRelocationInfo.containerType,e.snippetRelocationInfo.contentType,e.snippetRelocationInfo.accountKey):i.GetItem(e.snippetRelocationInfo.snippetId,(function(e){t.ResolveLocationThenRelocateAndScrollToSnippet(e)}),e.snippetRelocationInfo.categoryId)}}if(f["default"].IsRegistered(r["default"].objectIds.docketSections)){f["default"].GetObject(r["default"].objectIds.docketSections).SetupDocketSections()}this.checkIfDisplayDocumentNotes()&&n.then((function(){t.RetrieveAndDisplayDocumentLevelNotes()}))},checkIfDisplayDocumentNotes:function(){return o["default"].isFeatureEnabled("ANNOTATIONS")&&!this.IsDocketsUpdate},toggleHasInlineNotes:function(){var e=r["default"].classes,t=document.getElementById(this.DomId);t&&(p["default"].HasClass(t,e.hasInlineNotes)?p["default"].RemoveClass(t,e.hasInlineNotes):p["default"].AddClass(t,e.hasInlineNotes))},dockReadyEventCallback:function(e,t,n){if(!o["default"].EnableIpad&&!o["default"].EnableIphone&&o["default"].isFeatureEnabled("FOLDERS")){f["default"].GetObject(r["default"].objectIds.widget$SelectedTextMenu).dockReadyEventCallback(e,t,n)}},CheckSearchTermContext:function(e){if(v["default"].IsAncestorDisabled(e))return{status:"skip"};return{status:"ok"}},hideDocument:function(){document.getElementById(r["default"].ids.document)?.replaceChildren()}});const wt=kt;const Et=function(){this.containerDiv=null;let e=!1,t=null,n=null;const i={},a=new _["default"];this.handleMouseOver=e=>{
if(!e.target.closest)return;const t=e.target.closest("#co_document span.co_inlineKeyCiteFlag > img"),n=e.target.closest("#co_document span.co_inlineKeyCiteFlag > a");e.currentTarget.contains(t)&&this.displayEvent(t);e.currentTarget.contains(n)&&this.displayEvent(n)};this.handleMouseOut=e=>{if(!e.target.closest)return;const t=e.target.closest("#co_document span.co_inlineKeyCiteFlag > img"),n=e.target.closest("#co_document span.co_inlineKeyCiteFlag > a");e.currentTarget.contains(t)&&this._hideEvent(t);e.currentTarget.contains(n)&&this._hideEvent(n)};this.handleFocusIn=e=>{const t=e.target.closest("#co_document span.co_inlineKeyCiteFlag");e.currentTarget.contains(t)&&this.displayEvent(t)};this.handleFocusOut=e=>{const t=e.target.closest("#co_document span.co_inlineKeyCiteFlag");e.currentTarget.contains(t)&&this._hideEvent(t)};this.handleKeyDown=e=>{const t=e.target.closest("#co_document span.co_inlineKeyCiteFlag");e.code===k["default"].Escape&&this._hideEvent(t)};this.initializeEvents=()=>{document.querySelectorAll(".co_document").forEach((e=>{e.addEventListener("mouseover",this.handleMouseOver);e.addEventListener("mouseout",this.handleMouseOut);e.addEventListener("focusin",this.handleFocusIn);e.addEventListener("focusout",this.handleFocusOut);e.addEventListener("keydown",this.handleKeyDown)}))};this.displayEvent=t=>{o();n=setTimeout((()=>{null===this.containerDiv&&this._buildContainerDiv();const i="SPAN"===t.tagName?t:t.parentNode;this._buildContainerStructure(i);this._displayContainerDiv(i,t);e=!0;n=null}),250)};this._hideEvent=n=>{if(e){const i=this.containerDiv.previousSibling;t=setTimeout((()=>{const a=this.containerDiv.previousSibling;if(n==a||n==a.children[0]||(n==this.containerDiv||this.containerDiv.contains(n))&&i==a){(0,lt.hideElements)(this.containerDiv);this.containerDiv?.classList.remove(r["default"].classes.inlineKeyCiteProposedLegisHoverClass,r["default"].classes.inlineKeyCiteGrayFlagHoverClass);e=!1;t=null}}),500)}else o()};this._popUpMouseEnter=()=>s();this._displayContainerDiv=(e,t)=>{this._positionContainerDiv(e);const n=e.getAttribute("guid"),o=e.getAttribute("data-pub-num"),r=e.getAttribute("data-serial-num"),s=e.getAttribute("data-flag-id");n?i[n]?l(i[n],s,t):a.GetKeyCiteFlagDocGuid(n,3,"InlineKeyCiteFlags","(sc.Default)",c):o&&r&&(i["PS:"+o+r]?l(i["PS:"+o+r],s,t):a.GetKeyCiteFlagPubSerial(r,o,3,"InlineKeyCiteFlags","(sc.Default)",c));function c(e){n?i[n]=e:o&&r&&(i["PS:"+o+r]=e);l(e,s,t)}};this._buildContainerDiv=()=>{this.containerDiv=document.createElement("div");this.containerDiv.className=`co_genericPopUp ${r["default"].classes.highlightingExcludeAnnotations} ${r["default"].classes.disableHighlightFeatures}`;this.containerDiv.addEventListener("mouseenter",this._popUpMouseEnter);this.containerDiv.addEventListener("mouseleave",(e=>this._hideEvent(e.currentTarget)))};this._positionContainerDiv=e=>{const t=e.children[0].offsetTop-30,n=e.children[0].offsetLeft+16;e.parentNode.insertBefore(this.containerDiv,e.nextSibling);if(this.containerDiv){this.containerDiv.style.top=`${t}px`;this.containerDiv.style.left=`${n}px`;this.containerDiv.style.top="absolute";(0,lt.showElements)(this.containerDiv)}};this._repositionContainerDiv=()=>{const e=v["default"].determineOffset(this.containerDiv).x+this.containerDiv.offsetWidth-window.innerWidth-window.pageXOffset,t=this.containerDiv.offsetTop-this.containerDiv.offsetHeight+25;this.containerDiv.style.top=`${t}px`;const n=parseFloat(getComputedStyle(this.containerDiv).left)-(e>0?e:0);this.containerDiv.style.left=`${n}px`};this._buildContainerStructure=()=>{this.containerDiv.innerHTML="";const e=document.createElement("span");e.id="inlineFlag_popup_loading";e.className="co_icon co_loadingSmall";this.containerDiv.appendChild(e);const t=document.createElement("p");t.className="co_hideState";this.containerDiv.appendChild(t);const n=document.createElement("span");t.appendChild(n);const i=document.createElement("a");i.href="javascript:void()";i.innerText="";i.addEventListener("focusin",this._popUpMouseEnter);i.addEventListener("focusout",(e=>this._hideEvent(e.currentTarget)));t.appendChild(i);const a=document.createElement("span");t.appendChild(a)};this._showContent=()=>{const e=this.containerDiv.getElementsByTagName("p")[0],t=document.getElementById("inlineFlag_popup_loading");e?.classList.remove("co_hideState");t?.classList.add("co_hideState")};this._shouldShowLoading=()=>!0;const o=()=>{if(null!==n){clearTimeout(n);n=null}},s=()=>{if(null!==t){clearTimeout(t);t=null}},l=(e,t,n)=>{const i=this.containerDiv.previousSibling;if(n==i||n==i.children[0]){const n=((e,t)=>{if(!e?.flags?.length)return;let n;t&&(n=e.flags.find((e=>e.id===t)));n||(n=e.flags[0]);return n})(e,t),i=n.categoryId,a=n.metadata,o=this.containerDiv.getElementsByTagName("p")[0],s=o.childNodes[0];let l="",c=",";if("kcValidity"===i){l=a.staticPhrase?`<b>${a.staticPhrase}</b> `:"";l+=a.treatmentPhrase?`| ${a.treatmentPhrase} `:"";c=" |"}else{l+=a.treatmentPhrase?`<b>${a.treatmentPhrase}</b> `:"";l+=a.writDate?" "+a.writDate:""}s.innerHTML=l;const d=o.childNodes[1];if(a.title){a.titleLink=a.titleLink.replace(new RegExp("transitionType=[^&]*","g"),"transitionType=InlineKeyCiteFlags");d.href=a.titleLink;d.innerHTML=a.title}(0,lt.toggleVisibility)(d,!!a.title);const u=o.childNodes[2];let h=a.court?c+" "+a.court+c:"";h+=a.liveDate?" "+a.liveDate:"";u.innerHTML=h||"";const f=D["default"].lookup("SC.Document.Widget.InlineKeyCiteFlags.ProposedLegislationText","Proposed Legislation");s.innerHTML.indexOf(`<b>${f}</b>`)>=0&&this.containerDiv?.classList.add(r["default"].classes.inlineKeyCiteProposedLegisHoverClass);this._showContent();this._repositionContainerDiv()}}};const At=function(){Et.apply(this,arguments);const e=this._displayContainerDiv;this._displayContainerDiv=(n,i)=>{"False"===n.getAttribute("data-is-unique")?t(n):e.call(this,n,i)};const t=e=>{this._positionContainerDiv(e);const t=this.containerDiv.getElementsByTagName("p")[0];t.childNodes[0].innerHTML=r["default"].texts.inlineKeyCitesNonUniqueHoverText;t.childNodes[1].innerHTML="";t.childNodes[2].innerHTML="";this.containerDiv.classList.add(r["default"].classes.inlineKeyCiteGrayFlagHoverClass);this._showContent();this._repositionContainerDiv()}};var Lt=n(8844),Nt=n(5904),Rt=n(813),Pt=n(4046),Ot=n.n(Pt),Bt=n(2495),Mt=n(2502),Ft=n(6357);const Wt=function(){Bt["default"].apply(this,arguments);this.additionalRequestParams=null;const e=this.appendPanelToolbar,t=this.updatePreviewContainer;this.shouldDisplayFoldersWidget=!1;this.shouldDisplayDeliveryWidget=!1;const n=D["default"].lookup("SC.PLCCore.Document.GPSL.Preview.MultipleImageLinkOutBlock","Images omitted from preview"),i=D["default"].lookup("SC.PLCCore.Document.GPSL.Preview.SingleImageLinkOutBlock","Image omitted from preview"),a=D["default"].lookup("SC.PLCCore.Document.GPSL.Preview.ExpandSynopsis","Expand Synopsis"),r=D["default"].lookup("SC.PLCCore.Document.GPSL.Preview.CollapseSynopsis","Collapse Synopsis"),s="Sidebar-Preview-container",l="co_synopsisContentContainer",c="co_synopsisExpandCollapseLink",d="co_synopsisCollapsed";this.setSynopsisCollapsedFlag=e=>{Ft["default"].setItem("gpslSynopsisCollapsed",e)};this.getSynopsisCollapsedFlag=()=>"true"===Ft["default"].getItem("gpslSynopsisCollapsed");this.appendPanelToolbar=t=>{const n=t?.querySelector(`#${Nt["default"].ids.documentContentContainer}`);if(n){const e=document.createElement("div");e.className=Nt["default"].classes.panelToolbar;n.before(e)}else e(t)};this.updatePreviewContainer=(e,n)=>{t(e,n);this.showContent()};this.showContent=()=>{const e=x()(`#${Nt["default"].ids.previewDocumentContainer}`);e.find("#co_docContentMetaInfo").removeClass("co_hideState");e.find("#co_docContentBody").removeClass("co_hideState");const t=e.find("#co_document").find("a[href]");if(t.length>0){t.off();(new Mt["default"]).processExternalLinks(t.toArray())}this.populateLinkOutPlaceholders("co_imagePlaceholder",i,n);this.initializeSynopsis()};this.createSynopsisHeader=()=>{document.querySelector(`#${s} .co_synopsis`)?.insertAdjacentHTML("afterbegin",'<h2 id="co_synopsis" class="co_printHeading">Synopsis</h2>')}
;this.isClassicStyling=()=>Lt["default"].isPracticalLawUSCompartment()&&!o["default"].IsIndigoDisplayEnabled;this.initializeSynopsis=()=>{const e=this.getSynopsisCollapsedFlag();let t=document.querySelector(`#${s} #co_synopsis`);if(!t){this.createSynopsisHeader();t=document.querySelector(`#${s} #co_synopsis`)}const n=document.createElement("div");n.id=l;(0,ft.wrapAllElements)(document.querySelectorAll(".co_synopsis > :not(h2)"),n);e&&document.querySelector(`#${s} #${l}`)?.classList.add("co_hideState");e&&t?.classList.add(d);let i=Ot()("icon25",{"icon_add-gray":e},{"icon_remove-gray":!e});this.isClassicStyling()&&(i="co_synopsisExpandCollapseSpan");t?.insertAdjacentHTML("beforeend",`<button id="${c}" aria-expanded=${!e} aria-controls=${l} href="javascript:void(0);">\n                <span class="${i}">${e?a:r}</span>\n            </button>`);t?.addEventListener("click",(e=>{this.toggleSynopsis(e.currentTarget)}))};this.toggleSynopsis=e=>{let t=this.getSynopsisCollapsedFlag();if(e?.classList.contains(d)===t){t=!t;this.setSynopsisCollapsedFlag(t)}e?.classList.toggle(d);document.getElementById(l)?.classList.toggle("co_hideState");document.getElementById(c)?.setAttribute("aria-expanded",!t);if(!this.isClassicStyling()){const e=document.querySelector(`#${c} span`);["icon_add-gray","icon_remove-gray"].forEach((t=>e?.classList.toggle(t)))}(document.querySelector(`#${c} span`)??{}).textContent=t?a:r};this.populateLinkOutPlaceholders=(e,t,n)=>{const i=document.querySelectorAll(`.${e}`);(0,Xe.forEach)(i,(i=>{if(!i)return!1;let a=!1,o=(0,P.next)(i);for(;o&&o.matches(`.${e}`);){o.remove();a=!0;o=(0,P.next)(i)}const r=this.getLinkoutMessageBlock(a?n:t);i.append(r)}))};this.getLinkoutMessageBlock=e=>{const t=document.createElement("div");t.className="co_linkOutMessageBlock";const n=document.createElement("p");n.textContent=e;t.appendChild(n);const i=this.getLinkOut();i&&t.append(i);return t};this.getLinkOut=()=>{const e=document.getElementById("Sidebar-Document-linkOut")?.cloneNode(!0);e?.removeAttribute("id");return e};this.setAdditionalRequestParameters=e=>{this.additionalRequestParams=e};this.retrieveStandaloneDocument=e=>{this.retrieveStandaloneDocumentHtml(e,{isRequestedForPreviewPane:!0,...this.additionalRequestParams})};this.setupPreviewHeader=()=>{}};var Ht=n(4883),Gt=n(8890);const Ut=class{constructor(){this.documentLinkProcessor=new Mt["default"]}GetDocumentGuidFromUrl(e){const t=this.IsPlcRefUrl(e);if(t)return(0,Gt.getDocumentIdByPlcRef)(t[0]);if(this.IsExternalLinkUrl(e))return this.GetExternalDocGuid(e);{const t=this.IsInternalLinkUrl(e);if(t)return t[1]}}GetExternalDocGuid(e){const t=new Ht["default"],n=e.substring(e.indexOf("?"));return new Promise((e=>{t.GetDocumentGuid(n,e)}))}IsExternalLinkUrl(e){return e.match(this.documentLinkProcessor.externalLinkExp)}IsInternalLinkUrl(e){return e.match(this.documentLinkProcessor.internalLinkExp)}IsPlcRefUrl(e){return e.match(this.documentLinkProcessor.plcRefExp)}};var jt=n(1235);const $t=class{constructor(){this.urlService=new Ut;this.documentGuid="";this.additionalRequestParams=null}AppendPreviewContainer(e){const t=D["default"].lookup("SC.PLCCore.Document.GPSL.Preview.HidePreview","Hide preview"),n=document.createElement("button");n.className="Sidebar-ToggleButton";n.setAttribute("type","button");const i=document.createElement("span");i.classList.add("icon25","icon_close-blue");i.textContent=t;n.append(i);const a=D["default"].lookup("SC.PLCCore.Document.GPSL.Preview.Loading","Loading, please wait."),o=document.createElement("div");o.className="co_loading";o.textContent=a;const r=document.createElement("div");r.id=Nt["default"].ids.previewDocumentContainer;r.append(o);const s=document.createElement("div");s.id="co_documentByWestlaw";const l=document.createElement("span"),c=document.createElement("em");c.textContent=D["default"].lookup("SC.PLCCore.Document.Preview.DocumentByWestlawLabel.DocumentBy","Document by");const d=document.createElement("strong");d.textContent=D["default"].lookup("SC.PLCCore.Document.Preview.DocumentByWestlawLabel.Westlaw","Westlaw");l.append(c);l.append(d);s.append(l);const u=document.createElement("div");u.id="Sidebar-Preview-container";u.setAttribute("role","dialog");u.setAttribute("aria-modal",!0);u.classList.add(Nt["default"].classes.containerRight);u.style.zIndex=1500;u.style.width="700px";u.style.position="absolute";u.style.overflow="auto";u.append(n);u.append(Lt["default"].isPracticalLawConnectCompartment()||Lt["default"].isPracticalLawComplianceCompartment()?"":s);u.append(r);e.append(u);n.addEventListener("click",(()=>{e.remove();document.body.classList.toggle("Sidebar-Preview-opened",!1)}))}Draw(e){y["default"].Publish(r["default"].events.closeTableOfContents);this.OpenPreviewPane(e)}IsDocumentPreviewEnabled(){return o["default"].isIacOn("IAC-PLUS-GLOBAL-LINKS")}async InitializeRequestParametersFromUrl(e){const t=a["default"].Parse(e);this.additionalRequestParams={refType:t.QueryString["refType"],transitionType:t.QueryString["transitionType"]};const n=await this.urlService.GetDocumentGuidFromUrl(e);this.documentGuid=await this.GetDocumentGuid(n)}GetDocumentGuid(e){const t=a["default"].Relative({Path:`/GetPLCCoreWestlawDocumentInfoByGuid/${e}`});return new Promise(((e,n)=>{jt["default"].Get({vertical:A["default"].Website,relativeUrl:t,responseIsJson:!0,timeoutMillisecs:6e4,successCallback:e,failedCallback:n})}))}OpenPreviewPane(e){const t=D["default"].format("SC.PLCCore.Document.GPSL.Preview.AriaLabelText",{previewTitle:e},`Preview for ${e}`),n=document.createElement("div");n.id="coid_previewPaneOverlay";n.classList.add("co_lightboxOverlay");n.setAttribute("aria-label",t);n.setAttribute("aria-hidden",!1);n.setAttribute("tabindex",-1);document.getElementById("co_mainContainer")?.append(n);const i=document.querySelector("#Sidebar-Preview-container"),a=new Wt({documentId:this.documentGuid,title:e});a.setAdditionalRequestParameters(this.additionalRequestParams);a.renderPreviewContainer(this.documentGuid,null);i&&i.remove();this.AppendPreviewContainer(n);const o=n.querySelector("#Sidebar-Preview-container");(0,Rt.previewContainerTransitionHandler)(o,!0);document.body.classList.toggle("Sidebar-Preview-opened",!0)}ProceedWithDefaultEvent(e,t){e.dataset.loaded="true";const n=new PointerEvent(t.type,{pointerId:t.originalEvent.pointerId,bubbles:t.bubbles,cancelable:t.cancelable,pointerType:t.originalEvent.pointerType,width:t.originalEvent.width,height:t.originalEvent.height,isPrimary:t.originalEvent.isPrimary});e.dispatchEvent(n,e)}SaveDataBeforeReload(e){if(document.getElementById("Sidebar-Preview-container")){const t={openedPageUrl:this.GetCurrentHref(),previewPaneDocUrl:e,scrollPosition:window.scrollY};sessionStorage.removeItem("previewPaneReopenData");sessionStorage.setItem("previewPaneReopenData",JSON.stringify(t))}}ReopenPreviewPane(e){const t=JSON.parse(sessionStorage.getItem("previewPaneReopenData"));sessionStorage.removeItem("previewPaneReopenData");if(t&&t.openedPageUrl==this.GetCurrentHref()){this.InitializeRequestParametersFromUrl(t.previewPaneDocUrl).then((()=>{this.Draw(e);window.scrollTo(0,t.scrollPosition)}));return t.previewPaneDocUrl}}GetCurrentHref(){return window.location.href}},Vt=wt.extend({init:function(){this._super();this.inlineKeyCitesHoverDisplay=new At},postRender:function(){this._super();this.initMatterMapsTopScroll();this.initInlineKeyCiteFlagsHover();this.initGlobalPrimarySourceHandlers();this.processDocumentLinks()},processDocumentLinks:()=>{const e=document.getElementById("co_document")?.querySelectorAll('a[target="_blank"], a[target="_new"]');if(e?.length>0){(new Mt["default"]).processExternalLinks(e)}},initInlineKeyCiteFlagsHover:function(){(o["default"].isFeatureEnabled("INLINE KC CASES BRIEF")||o["default"].isFeatureEnabled("INLINE KC FLAGS CUSTOM SELECT"))&&this.inlineKeyCitesHoverDisplay.initializeEvents()},initMatterMapsTopScroll:function(){const e=document.querySelector(".co-TaskBoard");if(!e)return;const t=`<div class='co-TaskBoardTopScrollWrapper'>\n                                    <div class='co-TaskBoardTopScroll' style='width:${this.getTaskBoardWidth()}px;'></div>\n                                </div>`
;e.insertAdjacentHTML("beforebegin",t);const n=document.querySelector(".co-TaskBoardTopScrollWrapper");e.addEventListener("scroll",(function(){n&&(n.scrollLeft=e.scrollLeft)}));n?.addEventListener("scroll",(function(){e.scrollLeft=n.scrollLeft}))},initGlobalPrimarySourceHandlers:function(){const e=new $t;let t,n;document.querySelectorAll("a.co_link.co_gpsl").forEach((function(e){const t=a["default"].Parse(e.getAttribute("href"));t.QueryString.isGpslDoc=!0;e.setAttribute("href",a["default"].Absolute(t))}));if(e.IsDocumentPreviewEnabled()){document.querySelectorAll("a.co_link.co_gpsl").forEach((i=>i.addEventListener("click",(async i=>{if(0!==i.button||i.ctrlKey)return;const a=i.currentTarget;if(!a.dataset.loaded||"false"===a.dataset.loaded){i.preventDefault();i.stopPropagation();t=a.href;n=a.innerHTML;await e.InitializeRequestParametersFromUrl(t);e.Draw(n)}}))));window.addEventListener("beforeunload",(()=>{e.SaveDataBeforeReload(t)}));t=e.ReopenPreviewPane(n)}},getTaskBoardWidth:function(){let e=0;document.querySelectorAll(".co-TaskBoard-column").forEach((function(t){e+=t.offsetWidth}));return e}}),qt=Vt;var zt,Kt=n(8835),Yt=Kt["default"].prototype._getDefaultStateForItemsOptionsModalId,Qt=Kt["default"].prototype.ShowAll,Xt=Kt["default"].prototype.HideAll,Jt=Kt["default"].prototype.Draw,Zt=Kt["default"].prototype._draftingNotesIconClick,en=Kt["default"].prototype._buildWidgetTemplateOptions;function tn(e,t){var n=Z["default"].ViewModelData.DocumentGuid,i=an(n);t?i.splice(i.indexOf(e),1):i.push(e);sessionStorage.setItem(n,i);nn.call(this,i)}function nn(e){var t=x()(this.modalDomStructure),n=t.find("li#"+r["default"].ids.draftingNotesShowOnlyItemsOption).hasClass(r["default"].classes.activeClass);if(n||e.length!=zt)if(n||0!=e.length){t.find("li#"+r["default"].ids.draftingNotesShowAllItemsOption).removeClass(r["default"].classes.activeClass);t.find("li#"+r["default"].ids.draftingNotesHideAllItemsOption).removeClass(r["default"].classes.activeClass)}else{t.find("li#"+r["default"].ids.draftingNotesHideAllItemsOption).removeClass(r["default"].classes.activeClass);t.find("li#"+r["default"].ids.draftingNotesShowAllItemsOption).addClass(r["default"].classes.activeClass)}else{t.find("li#"+r["default"].ids.draftingNotesShowAllItemsOption).removeClass(r["default"].classes.activeClass);t.find("li#"+r["default"].ids.draftingNotesHideAllItemsOption).addClass(r["default"].classes.activeClass)}}function an(e){var t=sessionStorage.getItem(e);return null!=t&&t.length?t.split(","):[]}Kt["default"].prototype.Draw=function(){zt=document.querySelectorAll(".co_notesIcon").length;Jt.call(this);var e=an(Z["default"].ViewModelData.DocumentGuid);!e.length&&v["default"].isPracticalLawUsDocument()?this._showDefaultView():e.forEach((function(e){var t=document.getElementById(e);if(t){t.classList.toggle("is-active");var n=(0,P.prev)(t);n&&n.querySelector("a").setAttribute("aria-expanded",t.classList.contains("is-active"))}}))};var on=Kt["default"].prototype.modifyQueryStringView;Kt["default"].prototype.modifyQueryStringView=function(e){v["default"].isPracticalLawUsDocument()&&on.call(this,e)};Kt["default"].prototype.ShowAll=function(){(function(){var e=Z["default"].ViewModelData.DocumentGuid;const t=[...document.querySelectorAll(".co_notesContent")].map((e=>e.id));sessionStorage.setItem(e,t)})();Qt.call(this)};Kt["default"].prototype.HideAll=function(){e=Z["default"].ViewModelData.DocumentGuid,sessionStorage.removeItem(e);var e;Xt.call(this)};Kt["default"].prototype._draftingNotesIconClick=function(e){Zt.call(this,e);const t=(0,P.next)(e.parentNode);t&&tn.call(this,t.id,!t.classList.contains("is-active"))};Kt["default"].prototype._getDefaultStateForItemsOptionsModalId=function(){var e=an(Z["default"].ViewModelData.DocumentGuid);if(this._lastButtonState==r["default"].ids.draftingNotesShowOnlyItemsOption)return this._lastButtonState;return e.length==zt||this.isShowAllDraftingNotes()?r["default"].ids.draftingNotesShowAllItemsOption:0==e.length?Yt.call(this):r["default"].ids.draftingNotesShowOnlyItemsOption};Kt["default"].prototype.isShowAllDraftingNotes=function(){if(Z["default"].ViewModelData&&Z["default"].ViewModelData.DocumentGuid){var e=v["default"].GetMetadataFromDom(r["default"].ids.embeddedMetaInfoPrefix+Z["default"].ViewModelData.DocumentGuid);if(e&&e.countryDocumentGuid&&e.countryDocumentCountry){var t=document.querySelector(".co_notesContent")?.classList.contains("is-active");if(t)return!0}}return!1};Kt["default"].prototype._buildWidgetTemplateOptions=function(){const e=en.call(this);return Object.assign({},e,{anchorSpanText:an(Z["default"].ViewModelData.DocumentGuid).length!=zt?r["default"].texts.toggleExpandDraftingNotesWidgetSpanText:r["default"].texts.toggleCollapseDraftingNotesWidgetSpanText})};const rn=Kt["default"];var sn=c().extend({wireUpClickEventOnAdditionalCites:function(){document.querySelectorAll(".co_allCitationsLink > a").forEach((e=>{e.addEventListener("click",(e=>{f["default"].GetObject(r["default"].objectIds.documentDisplayEventHandlers).handleInternalLink(e.currentTarget,e)}))}))}});const ln=sn;const cn=function(){O.call(this);var e=this.BuildHeadnotesTools,t=this.InitializeHeadnotesForUser,n=this.shouldSetHeadnoteViewFromUserPreference,i=this.SetDualColumnHeadnotesView,a=this;this.headnotesDocumentType=null;this.BuildHeadnotesTools=function(){"CaselawDigestHeadnotes"!==a.headnotesDocumentType&&e.call(this)};this.InitializeHeadnotesForUser=function(e){a.headnotesDocumentType=ge.ElementStorage.get(document.querySelector(`.${r["default"].classes.document}`),"headnote-type");"CaselawDigestHeadnotes"===a.headnotesDocumentType&&(e.headnotesDualColumnView=!1);y["default"].Subscribe("Cobalt.Document.Headnotes.Expand",((e,t)=>{a.ExpandAndScrollTo(t)}));t.call(this,e)};this.shouldSetHeadnoteViewFromUserPreference=function(){var e;if("CaselawDigestHeadnotes"===a.headnotesDocumentType)e=!0;else{var t=document.getElementById("co_headnotes");const i=t?.querySelector(`.${r["default"].classes.searchTerm}, .${r["default"].classes.searchWithinTerm}`);e=!i&&n.call(this)}return e};this.SetDualColumnHeadnotesView=function(e){if("CaselawDigestHeadnotes"===a.headnotesDocumentType)return;i.call(this,e)};this.ExpandAndScrollTo=function(e){this.ExpandHeadnotesBox();if(e.Data.scrollLocation){const t="Cobalt.Document.ScrollToHighlightedText";y["default"].Publish(t,new b["default"]({scrollLocation:e.Data.scrollLocation},{},t,"2.0"))}}};const dn=c().extend({init:function(e){this.fancyTableId=e},documentGuid:null,fancyTableId:null,prefrences:null,expandCollapseAnchor:null,headerElement:null,bodyElement:null,Initialize:function(){var e=this;e.headerElement=v["default"].GetElementById(e.fancyTableId+r["default"].ids.wlnFancyTableHeaderSuffix);e.bodyElement=v["default"].GetElementById(e.fancyTableId+r["default"].ids.wlnFancyTableBodySuffix);if(e.headerElement&&e.headerElement.element&&e.bodyElement&&e.bodyElement.element){var t=e.headerElement.element,n=t.childNodes[0].innerHTML;n.indexOf("(")>-1&&(n=n.substring(0,n.indexOf("(")-1));e.expandCollapseAnchor=document.createElement("a");e.expandCollapseAnchor.id=e.fancyTableId+r["default"].texts.wlnFancyTableExpandCollapseSuffix;e.expandCollapseAnchor.className=r["default"].classes.accessibleLink+" "+r["default"].classes.highlightingExcludeAnnotations+" "+r["default"].classes.disableHighlightFeatures;e.expandCollapseAnchor.href="javascript:void(0);";e.expandCollapseAnchor.innerHTML=D["default"].lookup("SC.Document.FancyTable.AnchorText","click here");var i="none"!=e.bodyElement.element.style.display?D["default"].format("SC.Document.FancyTable.crswFancyTableCollapse",{HeaderText:n},"Collapse "+n):D["default"].format("SC.Document.FancyTable.crswFancyTableExpand",{HeaderText:n},"Expand "+n);t.appendChild(e.expandCollapseAnchor);t.setAttribute("title",i);e.expandCollapseAnchor.setAttribute("title",i);v["default"].AttachClickHandler(t,(function(){e.ToggleView()}))}},SetDocumentGuid:function(e){this.documentGuid=e},ToggleView:function(){var e=this;e.headerElement||(e.headerElement=v["default"].GetElementById(e.fancyTableId+r["default"].texts.wlnFancyTableHeaderSuffix))
;e.bodyElement||(e.bodyElement=v["default"].GetElementById(e.fancyTableId+r["default"].texts.wlnFancyTableBodySuffix));var t=e.headerElement.element,n=e.bodyElement.element,i=t.childNodes[0].innerHTML;i.indexOf("(")>-1&&(i=i.substring(0,i.indexOf("(")-1));if(t&&n){var a,o,s;if("none"==n.style.display){a="block";o=D["default"].format("SC.Document.FancyTable.crswFancyTableExpand",{HeaderText:i},"Expand "+i);s=D["default"].format("SC.Document.FancyTable.crswFancyTableCollapse",{HeaderText:i},"Collapse "+i)}else{a="none";o=D["default"].format("SC.Document.FancyTable.crswFancyTableCollapse",{HeaderText:i},"Collapse "+i);s=D["default"].format("SC.Document.FancyTable.crswFancyTableExpand",{HeaderText:i},"Expand "+i)}t.classList.toggle(r["default"].classes.headnoteInactive);n.style.display=a;var l=t.getAttribute("title");if(l){l=l.replace(o,s);t.setAttribute("title",l);e.expandCollapseAnchor.setAttribute("title",l)}y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))}return!1}});var un=n(1045),hn=n(9054),fn=n(6846),pn=n(9289),mn=n(762),gn=n(68),vn=n(9344);const yn='<div id="co_document" class="co_document co_documentFixedHeaderView">\n    <div id="co_docContentHeader">\n        <div id="co_docHeaderContainer">\n            <div class="co_documentHead">\n                <div class="co_center"><%- citation %></div>\n                <div class="co_title"><%- documentTitle %></div>\n            </div>\n        </div>\n    </div>\n    <div id="co_blockedContentAll" class="co_DocContentAll">\n        <div id="co_docContentBody">\n            <div id="co_blockedBox" class="co_genericBox">\n                <div class="co_genericBoxContent">\n                    <div class="co_blockedContainer">\n                        <div class="co_blockedHead">\n                            <div class="co_blockedIcon">\n                                <span class="icon32 icon32_lock-gray"></span>\n                            </div>\n                            <h3><%= blockTitle %></h3>\n                        </div>\n                        <div class="co_blockedContent">\n                            <p><%= blockMessage %></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n';function bn(){Bt["default"].apply(this,arguments);this.additionalJurisdictionsSelector=`.${Nt["default"].classes.expandAllJurisdictions}`;const e="Modal-FullScreen-showRightColumn",t="Rightsidebar-Preview-opened",n="Sidebar-FullScreenMap-Container";this.renderDocumentPreviewLightbox=()=>{document.getElementById(n)?.remove();const i=(0,Xe.template)('<div id="<%- lightboxMapContainerId %>" class="co_screenOverlay th_lightGray" aria-hidden="false" tabindex="-1">\n    <div id="<%- lightboxMapContainer %>" class="<%- modalMapContainerClass %>"></div>\n    <div\n        id="<%- documentPreviewContainer %>"\n        class="<%- containerRight %>"\n        role="dialog"\n        aria-label="<%- documentPreviewContainerTitle %>"\n        aria-modal="true"\n    >\n        <button id="Sidebar-Close" class="Sidebar-ToggleButton" type="button" role="button">\n            <span class="icon25 icon_close-blue"><%-closeButtonText%></span>\n        </button>\n        <div id="<%- previewDocumentContainer %>">\n            <span class="co_loading"></span>\n        </div>\n    </div>\n</div>\n')({lightboxMapContainer:Nt["default"].ids.lightboxMapContainer,documentPreviewContainer:Nt["default"].ids.documentPreviewContainer,containerRight:Nt["default"].classes.containerRight,previewDocumentContainer:Nt["default"].ids.previewDocumentContainer,closeButtonText:D["default"].lookup("SC.Document.DocumentPreview.HidePreview","Hide preview"),modalMapContainerClass:e,lightboxMapContainerId:n,documentPreviewContainerTitle:this.props.title??""});document.getElementById("co_mainContainer").insertAdjacentHTML("beforeend",i);document.documentElement.classList.add("co_overflowHidden");document.body.classList.add(t);(0,Rt.previewContainerTransitionHandler)(document.getElementById(n),!0);this.hideOnOutsideClick();const a=document.getElementById("Sidebar-Close");a.addEventListener("click",(()=>{this.onPreviewContainerClose()}));a.focus()};this.retrieveStandaloneDocumentHtmlOnError=e=>{const t=document.getElementById(Nt["default"].ids.previewDocumentContainer);if(!t)return;const n=(0,Xe.template)('<div id="co_document" class="co_document co_documentFixedHeaderView">\n    <div id="co_docContentHeader">\n        <div id="co_docHeaderContainer">\n            <div class="co_documentHead">\n                <div class="co_title"><%- documentTitle %></div>\n            </div>\n        </div>\n    </div>\n    <div class="co_DocContentAll">\n        <div id="co_blockedBox" class="co_genericBox co_systemErrorBox">\n            <div class="co_genericBoxContent">\n                <div class="co_blockedContainer">\n                    <div class="co_blockedHead">\n                        <h3><%= errorTitle %></h3>\n                    </div>\n                    <div class="co_blockedContent">\n                        <p><%= errorMessage %></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n')({documentTitle:this.props.title,errorTitle:D["default"].lookup("SC.Document.DocumentPreview.BlockView.Error","Could not retrieve Preview document from server."),errorMessage:D["default"].lookup("SC.Document.DocumentPreview.BlockView.Reason.Tech","There is a technical issue.")+` (${e})`});t.innerHTML=n;this.appendBackButton(t);this.appendViewFullTextDiv(t,this.props.documentId)};this.showDocumentWarning=e=>{const t=this.getDocumentWarningContainer(e);this.appendBackButton(t);this.appendViewFullTextDiv(t,this.props.documentId)};this.getDocumentWarningContainer=e=>{const t=document.getElementById(Nt["default"].ids.previewDocumentContainer);if(!t)return;const n=(0,Xe.template)(yn)({citation:e,documentTitle:this.props.title,blockTitle:D["default"].lookup("SC.PLCCore.Widgets.DocumentPreview.Widget.Document.OOP","This Document is Out of Plan"),blockMessage:D["default"].lookup("SC.Document.DocumentPreview.WarnView.Reason.Subscription","<b>Your subscription doesn&rsquo;t include this resource.</b> You may also view this document on a pay per view basis. Select “view full document” for further details.")});t.innerHTML=n;return t};this.getBlockedMessaging=()=>({blockTitle:D["default"].lookup("SC.Document.DocumentPreview.BlockView.Title","We&rsquo;ve just checked, and it looks like you don&rsquo;t have access to this resource"),blockMessage:D["default"].lookup("SC.Document.DocumentPreview.BlockView.Reason.Subscription","<b>Your subscription doesn&rsquo;t include it.</b> If this happens often, there may be other subscriptions available to you.")});this.processBlockedContent=(e,t)=>{const n=document.getElementById(Nt["default"].ids.previewDocumentContainer);if(!n)return;const{blockTitle:i,blockMessage:a}=this.getBlockedMessaging(),o=(0,Xe.template)(yn)({citation:t,documentTitle:this.props.title,blockTitle:i,blockMessage:a});n.innerHTML=o;this.appendBackButton(n);this.appendViewFullTextDiv(n,this.props.documentId)};this.onPreviewContainerClose=()=>{document.getElementById(Nt["default"].ids.lightboxMapContainer)?.classList.remove(e);document.documentElement.classList.remove("co_overflowHidden");document.body.classList.remove(t);this.hideVideoPlayer();this.props.elemToFocusOnClose?.focus();const n=(0,vn.buildSearchStorageKey)(this.previewItemId);pn["default"].removeItem(n);this.unsubscribe()};this.hideVideoPlayer=()=>{const e=document.getElementById(Nt["default"].ids.previewDocumentContainer).querySelectorAll(".co_videoPlayerIframe");for(const t of e)t.remove();const t=document.getElementById(Nt["default"].ids.documentPreviewContainer);t.classList.remove("PreviewPanelPulseAnimation");t.offsetWidth;t.classList.add("PreviewPanelPulseAnimation")};this.hideOnOutsideClick=()=>{const e=e=>{const t=document.getElementById(Nt["default"].ids.documentPreviewContainer)?.contains(e.target);t||this.onPreviewContainerClose()},t=document.getElementById(n);t?.addEventListener("mousedown",e)
;t?.addEventListener("keydown",this.onKeyDown);t?.addEventListener("touchstart",e)};this.onKeyDown=e=>{gn["default"].call(document.getElementById(n),e);e.keyCode===mn["default"].ESCAPE&&this.onPreviewContainerClose()};this.restoreScrollPosition=()=>{const e=this.props?.scrollTop;if(e){document.getElementById(Nt["default"].ids.documentPreviewContainer).scrollTop=e}};this.calculateScrollPosition=()=>document.getElementById(Nt["default"].ids.documentPreviewContainer)?.scrollTop;this.setupPreviewHeader=()=>{}}const Cn=e=>"object"==typeof e&&null!=e&&1===e.nodeType,Sn=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,_n=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){const n=getComputedStyle(e,null);return Sn(n.overflowY,t)||Sn(n.overflowX,t)||(e=>{const t=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)})(e)}return!1},Dn=(e,t,n,i,a,o,r,s)=>o<e&&r>t||o>e&&r<t?0:o<=e&&s<=n||r>=t&&s>=n?o-e-i:r>t&&s<n||o<e&&s>n?r-t+a:0,Tn=e=>{const t=e.parentElement;return null==t?e.getRootNode().host||null:t},In=(e,t)=>{var n,i,a,o;if("undefined"==typeof document)return[];const{scrollMode:r,block:s,inline:l,boundary:c,skipOverflowHiddenElements:d}=t,u="function"==typeof c?c:e=>e!==c;if(!Cn(e))throw new TypeError("Invalid target");const h=document.scrollingElement||document.documentElement,f=[];let p=e;for(;Cn(p)&&u(p);){if(p=Tn(p),p===h){f.push(p);break}null!=p&&p===document.body&&_n(p)&&!_n(document.documentElement)||null!=p&&_n(p,d)&&f.push(p)}const m=null!=(i=null==(n=window.visualViewport)?void 0:n.width)?i:innerWidth,g=null!=(o=null==(a=window.visualViewport)?void 0:a.height)?o:innerHeight,{scrollX:v,scrollY:y}=window,{height:b,width:C,top:S,right:_,bottom:D,left:T}=e.getBoundingClientRect();let I="start"===s||"nearest"===s?S:"end"===s?D:S+b/2,x="center"===l?T+C/2:"end"===l?_:T;const k=[];for(let e=0;e<f.length;e++){const t=f[e],{height:n,width:i,top:a,right:o,bottom:c,left:d}=t.getBoundingClientRect();if("if-needed"===r&&S>=0&&T>=0&&D<=g&&_<=m&&S>=a&&D<=c&&T>=d&&_<=o)return k;const u=getComputedStyle(t),p=parseInt(u.borderLeftWidth,10),w=parseInt(u.borderTopWidth,10),E=parseInt(u.borderRightWidth,10),A=parseInt(u.borderBottomWidth,10);let L=0,N=0;const R="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-E:0,P="offsetHeight"in t?t.offsetHeight-t.clientHeight-w-A:0,O="offsetWidth"in t?0===t.offsetWidth?0:i/t.offsetWidth:0,B="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(h===t)L="start"===s?I:"end"===s?I-g:"nearest"===s?Dn(y,y+g,g,w,A,y+I,y+I+b,b):I-g/2,N="start"===l?x:"center"===l?x-m/2:"end"===l?x-m:Dn(v,v+m,m,p,E,v+x,v+x+C,C),L=Math.max(0,L+y),N=Math.max(0,N+v);else{L="start"===s?I-a-w:"end"===s?I-c+A+P:"nearest"===s?Dn(a,c,n,w,A+P,I,I+b,b):I-(a+n/2)+P/2,N="start"===l?x-d-p:"center"===l?x-(d+i/2)+R/2:"end"===l?x-o+E+R:Dn(d,o,i,p,E+R,x,x+C,C);const{scrollLeft:e,scrollTop:r}=t;L=Math.max(0,Math.min(r+L/B,t.scrollHeight-n/B+P)),N=Math.max(0,Math.min(e+N/O,t.scrollWidth-i/O+R)),I+=r-L,x+=e-N}k.push({el:t,top:L,left:N})}return k};function xn(e,t){if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;const n=(e=>{const t=window.getComputedStyle(e);return{top:parseFloat(t.scrollMarginTop)||0,right:parseFloat(t.scrollMarginRight)||0,bottom:parseFloat(t.scrollMarginBottom)||0,left:parseFloat(t.scrollMarginLeft)||0}})(e);if((e=>"object"==typeof e&&"function"==typeof e.behavior)(t))return t.behavior(In(e,t));const i="boolean"==typeof t||null==t?void 0:t.behavior;for(const{el:a,top:o,left:r}of In(e,(e=>!1===e?{block:"end",inline:"nearest"}:(e=>e===Object(e)&&0!==Object.keys(e).length)(e)?e:{block:"start",inline:"nearest"})(t))){const e=o-n.top+n.bottom,t=r-n.left+n.right;a.scroll({top:e,left:t,behavior:i})}}function kn(e,t,n){const i=e.querySelector("span."+r["default"].classes.icon25),a=e.querySelector("."+r["default"].classes.expandCollapseHeader),o=e.querySelector("."+r["default"].classes.expanded);t.setAttribute("aria-expanded",!n);t.innerHTML=n?t.dataset.collapsedtext:t.dataset.expandedtext;a.classList.toggle(r["default"].classes.expandCollapseInactive);o.classList.toggle(r["default"].classes.showState);o.classList.toggle(r["default"].classes.hideState);i.classList.toggle(r["default"].classes.collapseIcon);i.classList.toggle(r["default"].classes.expandIcon);y["default"].Publish(r["default"].events.documentMayHaveChangedSize)}function wn(e){document.getElementById(e).addEventListener("click",En);(function(){if(history.state?.expandFootnotes){const e=document.querySelector("."+r["default"].classes.catalystFootnotesExpandableContainer),t=e.querySelector("."+r["default"].classes.catalystExpandCollapseLink);e&&t&&kn(e,t,!1)}})()}function En(e){const t=e.target,n=t.classList.contains(r["default"].classes.catalystExpandCollapseLink)||t.nextSibling?.classList?.contains(r["default"].classes.catalystExpandCollapseLink),i=t.classList.contains(r["default"].classes.footnoteReference),a=function(e,t,n){let i;if(t){i=e.closest("."+r["default"].classes.catalystFootnotesExpandableContainer);i||(i=e.closest("."+r["default"].classes.catalystBodyExpandableContainer))}else if(n){const t=e.closest("."+r["default"].classes.catalystBody);i=t?.querySelector("."+r["default"].classes.catalystFootnotesExpandableContainer)}return i}(t,n,i);if(t.closest(".co_footnoteBody")){const e={...history.state,expandFootnotes:!0};history.replaceState(e,"",window.location.href)}if(a){const e=a.querySelector("."+r["default"].classes.catalystExpandCollapseLink),o="true"===e.getAttribute("aria-expanded");if(n||i&&!o){kn(a,e,o);if(i){xn(document.getElementById(t.hash.substr(1)),{block:"center",inline:"center",scrollMode:"always"})}}}}var An=qt.extend({Headnote:new cn,init:function(){this._super();var e=this;e.WestlawNextAbridgment=new dn(r["default"].ids.wlnAbridgment);e.WestlawNextHeadnote=new dn(r["default"].ids.wlnHeadnote);e.WestlawNextAnnotation=new dn(r["default"].ids.wlnAnnotation);e.WestlawNextTableOfAuthorities=new dn(r["default"].ids.wlnTableOfAuthorities);document.querySelector(".crsw_document")&&this.SetDisableKeyCiteSntText(!0)},xmlDocumentLoaded:function(){this._super();this.setupPublicSearch();const e=a["default"].ParseQueryString(window.location.search).relevantPortionId;if(e){const t="co_anchor_"+e;v["default"].GetElementById(t,(function(e){if(e.element.parentElement){e.element=e.element.parentElement;setTimeout((()=>{v["default"].ScrollToChunkedElement(e)}),0)}}))}},postRender:function(){this._super();var e=this;if(o["default"].isFeatureEnabled("USER ACADEMIC")){var t;(new _["default"]).GetMetaInformation(ke["default"].guid,(function(n){"Cases"===(t=n).ContentType&&e.displayBriefIt()}))}(new ln).wireUpClickEventOnAdditionalCites();document.getElementById("co_document")?.addEventListener("click",(function(e){if(e.target.closest("button#showFullTextId")){var t=e.target.closest("button#showFullTextId"),n=e.currentTarget.querySelector("#synopsisTextId");if(n.classList.length>0){n.classList.remove("co_document_hiddenText");t.innerHTML=D["default"].lookup("SC.Document.ShowLessText","Show less text")}else{n.classList.add("co_document_hiddenText");t.innerHTML=D["default"].lookup("SC.Document.ShowFullText","Show full text")}}const i=e.target.closest("a.xslNavToCatPageOnClick");e.currentTarget.contains(i)&&(0,fn.website_CategoryPageLinkClicked)(i.href)}));Lt["default"].isPracticalLawUSCompartment()&&document.querySelectorAll(".co_internalLink").forEach((e=>e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("href");window.history.pushState(null,null,t)}))));document.querySelector(".co_catalyst")&&wn(r["default"].ids.document);this.initPreviewPane()},WestlawNextAbridgment:null,WestlawNextHeadnote:null,WestlawNextAnnotation:null,WestlawNextTableOfAuthorities:null,Draw:function(){var e=this;e.WestlawNextAbridgment.Initialize();e.WestlawNextHeadnote.Initialize();e.WestlawNextAnnotation.Initialize();e.WestlawNextTableOfAuthorities.Initialize()
;this._super()},SetDocumentGuid:function(e){this._super(e);var t=this;t.WestlawNextAbridgment.SetDocumentGuid(this.DocumentGuid);t.WestlawNextHeadnote.SetDocumentGuid(this.DocumentGuid);t.WestlawNextAnnotation.SetDocumentGuid(this.DocumentGuid);t.WestlawNextTableOfAuthorities.SetDocumentGuid(this.DocumentGuid)},displayBriefIt:function(){var e,t,n,i=document.getElementById(this.DomId),a=document.getElementById(r["default"].ids.document);(e=document.getElementById(r["default"].ids.websiteWidgetDiv))||(e=p["default"].GetElementsByClassName(r["default"].classes.document,"div",null)[0])&&(e=e.firstChild);if(e){(t=document.createElement("div")).id=r["default"].ids.briefItDiv;t.className=r["default"].classes.highlightingExcludeAnnotations;n=this.createBriefItButton();t.appendChild(n);var o=document.createElement("div");o.className=r["default"].classes.briefItButtonClearDiv;t.appendChild(o);i.insertBefore(t,a);y["default"].Subscribe(r["default"].events.documentToolbarRenderComplete,(function(){var e=un["default"].BriefItReadingModeView.Get();"briefIt"===e?ne["default"].Instance.DisplayInBriefItMode(e):ne["default"].Instance.DisplayInRegularMode("regular")}))}},createBriefItButton:function(){const e=document.createElement("button");e.id=r["default"].ids.briefItButton;e.innerHTML=D["default"].lookup("SC.Document.BriefItMode","Brief It");e.onclick=this.ToggleBriefFeature.bind(this);e.className=r["default"].classes.briefItPrimaryClass+" "+r["default"].classes.briefItFloatRightClass;return e},ToggleBriefFeature:function(){var e=un["default"].BriefItReadingModeView.Get();(0,d.IsNotNullOrEmpty)(e)?this._view=e:this._view="regular";this._view="regular"===this._view?"briefIt":"regular";un["default"].BriefItReadingModeView.Set(this._view);"briefIt"===this._view?this.DisplayInBriefItMode():this.DisplayInRegularMode()},DisplayInBriefItMode:function(){var e=this.getWidgetToHideInBriefItMode();document.body.classList.add("co_readingMode");document.getElementById(r["default"].ids.briefItButton).innerHTML=D["default"].lookup("SC.Document.ExitBriefItMode","Exit Brief It");ne["default"].Instance.AddRemoveClass("briefIt");for(var t=0;t<e.length;t++)"undefined"!==e[t]&&null!==e[t]&&e[t].classList.add("co_hideState");y["default"].Publish(r["default"].events.briefItActive)},getWidgetToHideInBriefItMode:function(){var e=[];e.push(document.getElementById(r["default"].ids.docToolbarInlineKeyCitesWidget));e.push(document.getElementById(r["default"].ids.docToolbarGoTo));e.push(document.getElementById(r["default"].ids.docToolbarKeyCiteWidget));e.push(document.getElementById(r["default"].ids.docToolbarSearchWithinDocument));e.push(document.getElementById(r["default"].ids.docToolbarDisplayOptions));e.push(document.getElementById(r["default"].ids.docToolbarReadingModeWidget));return e},setupPublicSearch:function(){document.querySelectorAll(`.${r["default"].classes.publicSearch}, .${r["default"].classes.runnerToCourt}`).forEach((e=>e.addEventListener("click",(function(e){(0,hn["default"])(this.href,!0);(0,Be.website_ShowResumeResearchLightbox)();e.preventDefault();e.stopPropagation()}))))},DisplayInRegularMode:function(){var e=this.getWidgetToHideInBriefItMode(),t=document.body;t.classList.remove("co_readingMode");t.classList.remove("Header-readingMode");document.getElementById(r["default"].ids.briefItButton).innerHTML=D["default"].lookup("SC.Document.BriefItMode","Brief It");ne["default"].Instance.AddRemoveClass("regular");for(var n=0;n<e.length;n++)"undefined"!==e[n]&&null!==e[n]&&e[n].classList.remove("co_hideState");y["default"].Publish(r["default"].events.briefItInactive)},AddRemoveClass:function(e){var t=document.getElementById(r["default"].ids.briefItButton);"briefIt"===e?t?.classList.add(r["default"].classes.briefItModeClass):t?.classList.remove(r["default"].classes.briefItModeClass);for(var n=document.querySelectorAll(".co_briefItState"),i=0;i<n.length;i++){var a=n[i];a.classList.contains("co_synopsis")||a.classList.contains("co_synopsisHolding")||a.classList.contains("co_courtBlock")||a.classList.contains("co_docketBlock")||("briefIt"===e?n[i].classList.add("co_hideState"):"regular"===e&&n[i].classList.remove("co_hideState"))}},SetHasDraftingNotes:function(e){var t=new rn;this.HasDraftingNotes=e||t.DraftingNotesExistInDOM()},initPreviewPane:()=>{},getDocumentGuid:function(e,t){const n=a["default"].Parse(e),i=n.Path,o=i.match(t.plcRefExp),r=i.match(t.internalLinkExp),s=i.match(t.externalLinkExp);if(o)return(0,Gt.getDocumentIdByPlcRef)(o[0]);if(r)return Promise.resolve(r[1]);if(s)return(0,Gt.getDocumentIdByCiteRef)(n.QueryString).then((e=>e.guid))},drawPreviewPane:function(e,t,n){(0,Gt.getDocumentMetadataInfo)(e).then((e=>{const{documentId:i,resourceType:a,title:o}=e,r=new bn({documentId:i,title:o,anchor:t,documentLink:n});r.renderDocumentPreviewLightbox();r.renderPreviewContainer(i,a)}))}});const Ln=An;var Nn=null;const Rn={Document:"Document",DualSearchDocument:"DualSearchDocument",DocumentUnavailable:"DocumentUnavailable",DocumentPersisted:"DocumentPersisted"};var Pn=n(170),On=n.n(Pn);function Bn(){this.parentObject=null;this.widgetErrors=[];this.leftWidgets=null;this.rightWidgets=null;this.responsiveMenu=null;this.alreadyDrawn=!1;var e=this;this.SetParentDiv=function(e){this.parentObject=e};this.SetLeftWidgets=function(e){this.leftWidgets=e};this.SetRightWidgets=function(e){this.rightWidgets=e};this.setResponsiveMenu=function(e){this.responsiveMenu=e};this.AddBeginningRightWidgets=function(e){this.rightWidgets.unshift(e)};this.Draw=function(){const t=e?.parentObject;if(!t)throw new Error("DocToolbar: parentElement is undefined. Call SetParentDiv before calling Draw");if(e.alreadyDrawn)return;e.alreadyDrawn=!0;var n=r["default"].ids,i=document.createElement("div"),a=document.createElement("ul"),o=document.createElement("ul"),s=null;i.id=n.docToolbarMenu;a.id=n.docToolbarMenu1;i.appendChild(a);o.id=n.docToolbarMenu2;i.appendChild(o);t?.insertBefore(i,t?.childNodes[0]);if(this.responsiveMenu){const e=this.responsiveMenu.render();e&&t?.append(e);document.getElementById(n.documentHeader)?.insertAdjacentHTML("afterend",`<div id='${n.docResponsiveStatusIcons}'></div>`);const i=document.querySelector(`#${n.docToolbarResponsiveHeader} #${n.docStatusIcons}`),a=document.getElementById(n.docResponsiveStatusIcons);a&&i&&a.appendChild(i);document.getElementById(n.documentToolbar)?.insertAdjacentHTML("afterend",`<div id='${n.docResponsiveToolbar}'></div>`)}if(null!=e.leftWidgets)for(let t=0;t<e.leftWidgets.length;t++)if(null!=(s=e.leftWidgets[t])){const n=e.getListElement(s,a.id,t);a.appendChild(n);e.drawWidget(s,n)}if(null!=e.rightWidgets)for(let t=0;t<e.rightWidgets.length;t++)if(null!=(s=e.rightWidgets[t])){const n=e.getListElement(s,o.id,t);o.appendChild(n);e.drawWidget(s,n)}v["default"].AreSharedHighlightsAllowed()&&document.querySelectorAll("#co_docToolbarAddNoteWidget .co_dropdownBoxCollapsed").forEach((e=>e.style.width="205px"));if(e.widgetErrors.length>0)throw e.widgetErrors[0]};this.drawWidget=function(t,n){try{t.SetParentDiv(n);t.Draw()}catch(t){(0,et["default"])(t);e.widgetErrors.push(t)}};this.getListElement=function(e,t,n){var i=document.createElement("li");i.id=(0,d.IsNotNullOrEmpty)(e.Id)?e.Id:t+r["default"].texts.childWidget+n;(0,d.IsNotNullOrEmpty)(e.ClassName)&&(i.className=e.ClassName);return i}}function Mn(){var e=this;this.Name="BackToResults";this.Id=r["default"].ids.docToolbarBackToResults;this.backToResultsWidget=f["default"].GetObject(r["default"].objectIds.widget$BackToResults);this.SetParentDiv=function(t){e.backToResultsWidget.SetParentDiv(t)};this.SetDocumentNavigation=function(t){e.backToResultsWidget.SetDocumentNavigation(t)};this.Draw=function(){e.backToResultsWidget.Draw()}}const Fn=function(){this.parent=null;this.docNavigation=null;this.listSource=null;this.navigationPath=null;this.list=null;this.rank=null;this.nextDocButton=null;this.previousDocButton=null;var e=this;this.SetParentDiv=function(t){e.parent=t};this.GetParentDiv=function(){return e.parent};this.FetchData=function(t,n,i,a){e.listSource=t;e.navigationPath=n;e.list=i;e.rank=a;e.docNavigation=e.CreateDocumentNavigation();if(e.docNavigation.hasLoadedData){e.isDataReady=!0;e.Draw()
}else{y["default"].Subscribe(r["default"].events.docNavDataIsReady,(function(){e.isDataReady=!0;e.Draw()}));e.docNavigation.FetchNextPreviousData(t,n,i,a)}};this.GetTitleForDocument=function(t){return e.docNavigation.useInPlanDocumentsOnly?t?e.docNavigation.nextDocumentInPlanTitle:e.docNavigation.previousDocumentInPlanTitle:t?e.docNavigation.nextDocumentUrlAndTitle.Title:e.docNavigation.previousDocumentUrlAndTitle.Title};this.HandleUseDocumentsInPlanHasChanged=function(){var t=D["default"].lookup("SC.Document.DocumentNavigation.PreviousDocument","Previous Document"),n=e.GetTitleForDocument(!1);""!=n&&(t=n);var i=D["default"].lookup("SC.Document.DocumentNavigation.NextDocument","Next Document"),a=e.GetTitleForDocument(!0);""!=a&&(i=a);var o=document.getElementById(r["default"].ids.documentNavigationNextImage);o&&(o.attributes.alt.value=i);(o=document.getElementById(r["default"].ids.documentNavigationPreviousImage))&&(o.attributes.alt.value=t)};this.shouldDrawNavigation=()=>e.docNavigation.totalDocuments>1;this.Draw=function(){if(!e.isDataReady)return;if(!e.docNavigation.hasNavigationData||!this.shouldDrawNavigation())return;var t=document.createElement("DIV");t.id=r["default"].ids.documentNavigation;t.className=r["default"].classes.docToolbarDocumentNavigationPrevNext;t.innerHTML=e.GetMarkup();e.parent.appendChild(t);e.previousDocButton=t.querySelector(`#${r["default"].ids.documentNavigationPrevious}`);e.nextDocButton=t.querySelector(`#${r["default"].ids.documentNavigationNext}`);if(!e.nextDocButton||!e.previousDocButton)throw new Error("DocNavigation: nextButton or previousButton is not in the DOM.");e.AttachEventHandlers();new ht["default"](e.previousDocButton,D["default"].lookup("SC.Document.DocumentNavigation.PreviousDocument","Previous Document")).render();new ht["default"](e.nextDocButton,D["default"].lookup("SC.Document.DocumentNavigation.NextDocument","Next Document")).render();e.SetDirections();y["default"].Subscribe(r["default"].events.useDocumentsInPlanValueChange,(function(){e.HandleUseDocumentsInPlanHasChanged()}))};this.CreateDocumentNavigation=function(){return new Y.A};this.SetDirections=function(){var t=r["default"].classes.disabled;if(e.docNavigation.IsFirstDocument()){var n=D["default"].lookup("SC.Document.DocumentNavigation.PreviousDocumentUnavailable","Previous Document unavailable");p["default"].AddClass(e.previousDocButton,t);e.previousDocButton.setAttribute("aria-label",n)}else{p["default"].RemoveClass(e.previousDocButton,t);e.previousDocButton.removeAttribute("aria-label")}if(e.docNavigation.IsLastDocument()){var i=D["default"].lookup("SC.Document.DocumentNavigation.NextDocumentUnavailable","Next Document unavailable");p["default"].AddClass(e.nextDocButton,t);e.nextDocButton.setAttribute("aria-label",i)}else{p["default"].RemoveClass(e.nextDocButton,t);e.nextDocButton.removeAttribute("aria-label")}};this.GetMarkup=function(){var t=D["default"].lookup("SC.Document.DocumentNavigation.PreviousDocument","Previous Document"),n=D["default"].lookup("SC.Document.DocumentNavigation.NextDocument","Next Document");const i=this.docResultsMarkup(e.docNavigation);return`<a href="#" title='${t}' id='${r["default"].ids.documentNavigationPrevious}' class='${r["default"].classes.previous}'>\n\t                <span class='icon25 icon_prev_arrow'>${t}</span>\n                </a>\n                <span class='${r["default"].classes.docToolbarDocumentNavigationNavText}'>${i}</span>\n                <a href="#" title='${n}'  id='${r["default"].ids.documentNavigationNext}' class='${r["default"].classes.next}'>\n                    <span class='icon25 icon_next_arrow'>${n}</span>\n                </a>`};this.docResultsMarkup=function(e){var t=e.GetFormattedCurrentDocument(),n=e.GetFormattedTotalDocuments();return D["default"].format("SC.Document.DocumentNavigation.DocumentResults",{Current:t,Total:n},`<strong>${t}</strong> of <strong>${n} results</strong>`)};this.ShowMessage=function(e){var t=document.getElementById(r["default"].ids.documentNavigationToasterMessageBox),n=document.getElementById(r["default"].ids.documentNavigationToasterMessage),i=r["default"].classes.hideState;if(null!=n){n.innerHTML=e;p["default"].RemoveClass(t,i)}};this.ClickNext=function(){if(!e.docNavigation.IsLastDocument()){var t="";e.docNavigation.IsCitingReference()&&(t=D["default"].lookup("SC.Document.Navigation.SkipLinkOutMessage.Next","The next document is not yet available on Westlaw Next. Do you wish to return to the reference list or skip to the next available document?"));e.docNavigation.NavigateToNextUrl(e.ChangeUrl,t,!0)}};this.ClickPrevious=function(){if(!e.docNavigation.IsFirstDocument()){var t="";e.docNavigation.IsCitingReference()&&(t=D["default"].lookup("SC.Document.Navigation.SkipLinkOutMessage.Previous","The previous document is not yet available on Westlaw Next. Do you wish to return to the reference list or skip to the previous available document?"));e.docNavigation.NavigateToPreviousUrl(e.ChangeUrl,t,!0)}};this.ChangeUrl=function(e){window.location.href=e};this.AttachEventHandlers=()=>{v["default"].AttachClickHandler(e.nextDocButton,(function(t){e.ClickNext(t);return!1}));v["default"].AttachClickHandler(e.previousDocButton,(function(t){e.ClickPrevious(t);return!1}))}};var Wn=n(9459);const Hn=function(){Fn.call(this);var e=this.ClickNext,t=this.ClickPrevious,n=this;this.ClickNext=function(t){this.HandleNavigation(t,e)};this.ClickPrevious=function(e){this.HandleNavigation(e,t)};this.HandleNavigation=function(e,t){if(!e.currentTarget.classList.contains("co_disabled"))if(Wn.A.isEnabled()){var i=new a["default"].QueryStringParser(n.docNavigation.returnTo.Url).GetValue("searchId");Wn.A.showFeedbackLightbox(t,{searchId:i})}else t()}};function Gn(){var e=this;this.documentDisplay=null;this.Name="DocumentNavigation";this.Id=r["default"].ids.docToolbarDocumentNavigation;this.docNavWidget=new Hn;this.SetParentDiv=function(t){e.docNavWidget.SetParentDiv(t)};this.GetParentDiv=function(){return e.docNavWidget.GetParentDiv()};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){e.docNavWidget.FetchData(e.documentDisplay.NavigationProperties.ListSource,e.documentDisplay.NavigationProperties.NavigationPath,e.documentDisplay.NavigationProperties.List,e.documentDisplay.NavigationProperties.Rank)}}function Un(){var e=this;this.parent=null;this.docNavigation=null;this.SetParentDiv=function(t){e.parent=t;e.docNavigation=new Y.A};this.Draw=function(){e.docNavigation.showInPlanDocumentsOnly;var t=document.createElement("div");t.id=r["default"].ids.showDocumentsInPlan;var n="";e.docNavigation.useInPlanDocumentsOnly&&(n=" checked='checked'");var i="<span><input type='checkbox' value='"+e.docNavigation.useInPlanDocumentsOnly+"' id='"+r["default"].ids.showDocumentsInPlanCheckbox+"'"+n+"/>"+r["default"].texts.skipInPlan+"</span>";t.innerHTML=i;e.parent.appendChild(t);var a=t.getElementsByTagName("input")[0];v["default"].AttachClickHandler(a,(function(){e.toggleSkipDocumentsInPlan();return!1}))};this.toggleSkipDocumentsInPlan=function(){e.docNavigation.ToggleInPlanDocumentsValue()}}function jn(){var e=this;this.Name="ShowDocumentsInPlan";this.Id=r["default"].ids.docToolbarShowDocumentsInPlan;this.showDocsInPlanWidget=new Un;this.SetParentDiv=function(t){e.showDocsInPlanWidget.SetParentDiv(t)};this.Draw=function(){e.showDocsInPlanWidget.Draw()}}function $n(e){if(null==e){(0,Ee.publishErrorMessage)(A["default"].Document,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Invalid document object passed to create show source widget.")}var t=this;this.parent=null;this.documentDisplay=e;this.SetParentDiv=function(e){t.parent=e};this.Draw=function(e){var n=document.createElement("a");t.xmlAnchor=n;n.href="javascript:void(0);";var i=document.createElement("DIV");switch(e){case r["default"].texts.showXmlInnerHtml:n.setAttribute("aria-label",D["default"].format("SC.Document.Toolbar.NewTabLinksAriaLabel",{title:r["default"].texts.showXmlAltText},`${r["default"].texts.showXmlAltText}, opens in a new tab`));n.id=r["default"].ids.docShowXmlAnchor;n.className=r["default"].classes.showXmlLink
;n.innerHTML=r["default"].texts.showXmlInnerHtml;v["default"].AttachClickHandler(n,t.ShowSourceXml);i.id=r["default"].ids.docDivShowXml;i.className=r["default"].classes.docDivShowXml;break;case r["default"].texts.showAmpexInnerHtml:n.setAttribute("aria-label",D["default"].format("SC.Document.Toolbar.NewTabLinksAriaLabel",{title:r["default"].texts.showAmpexAltText},`${r["default"].texts.showAmpexAltText}, opens in a new tab`));n.id=r["default"].ids.docShowAmpexAnchor;n.className=r["default"].classes.showAmpexLink;n.innerHTML=r["default"].texts.showAmpexInnerHtml;v["default"].AttachClickHandler(n,t.ShowAmpex);break;case r["default"].texts.showRawXmlInnerHtml:n.setAttribute("aria-label",D["default"].format("SC.Document.Toolbar.NewTabLinksAriaLabel",{title:r["default"].texts.showRawXmlAltText},`${r["default"].texts.showRawXmlAltText}, opens in a new tab`));n.id=r["default"].ids.docShowRawXmlAnchor;n.className=r["default"].classes.showRawXmlLink;n.innerHTML=r["default"].texts.showRawXmlInnerHtml;v["default"].AttachClickHandler(n,t.ShowRawXml);i.id=r["default"].ids.docDivShowRawXml;i.className=r["default"].classes.docDivShowRawXml;break;case r["default"].texts.showMetadocInnerHtml:n.setAttribute("aria-label",D["default"].format("SC.Document.Toolbar.NewTabLinksAriaLabel",{title:r["default"].texts.showMetadocAltText},`${r["default"].texts.showMetadocAltText}, opens in a new tab`));n.id=r["default"].ids.docShowMetadocAnchor;n.className=r["default"].classes.showMetadocLink;n.innerHTML=r["default"].texts.showMetadocInnerHtml;v["default"].AttachClickHandler(n,t.ShowMetadoc);i.id=r["default"].ids.docDivShowMetadoc;i.className=r["default"].classes.docDivShowMetadoc;break;case r["default"].texts.showVersionHistoryInnerHtml:n.setAttribute("aria-label",D["default"].format("SC.Document.Toolbar.NewTabLinksAriaLabel",{title:r["default"].texts.showVersionHistoryAltText},`${r["default"].texts.showVersionHistoryAltText}, opens in a new tab`));n.id=r["default"].ids.docShowVersionHistoryAnchor;n.className=r["default"].classes.showVersionHistoryLink;n.innerHTML=r["default"].texts.showVersionHistoryInnerHtml;v["default"].AttachClickHandler(n,t.ShowVersionHistory);i.id=r["default"].ids.docDivShowVersionHistory;i.className=r["default"].classes.docDivShowVersionHistory;break;case r["default"].texts.showSummaryInnerHtml:n.setAttribute("aria-label",D["default"].format("SC.Document.Toolbar.NewTabLinksAriaLabel",{title:r["default"].texts.showSummaryAltText},`${r["default"].texts.showSummaryAltText}, opens in a new tab`));n.id=r["default"].ids.docShowSummaryAnchor;n.className=r["default"].classes.showSummaryLink;n.innerHTML=r["default"].texts.showSummaryInnerHtml;v["default"].AttachClickHandler(n,t.ShowSummary);i.id=r["default"].ids.docDivShowSummary;i.className=r["default"].classes.docDivShowSummary}i.appendChild(t.xmlAnchor);t.parent.appendChild(i)};this.ShowSourceXml=function(){var e=window.open("","newwin","scrollbars=no,toolbar=no,menubar=no,location=no,status=no");(new _["default"]).GetDocumentXml(t.documentDisplay.DocumentGuid,(function(t){e.document.write("<TEXTAREA style='width:100%; height:100%; border:none;'>");e.document.write(t);e.document.write("</TEXTAREA>")}))};this.ShowRawXml=function(){var e=window.open("","newwin","scrollbars=no,toolbar=no,menubar=no,location=no,status=no");(new _["default"]).GetDocumentRawXml(t.documentDisplay.DocumentGuid,(function(t){e.document.write("<TEXTAREA style='width:100%; height:100%; border:none;'>");e.document.write(t);e.document.write("</TEXTAREA>")}))};this.ShowMetadoc=function(){var e=window.open("","newwin","scrollbars=no,toolbar=no,menubar=no,location=no,status=no");(new _["default"]).GetDocumentMetadoc(t.documentDisplay.DocumentGuid,(function(t){for(var n=JSON.parse(t||null),i="",a=0;a<n.length;a++)i+="<strong>"+n[a].field+"</strong>: "+n[a].value+"<br>";e.document.write(i)}))};this.ShowAmpex=function(){var e=t.documentDisplay,n=window.open("","newwin","scrollbars=no,toolbar=no,menubar=no,location=no,status=no");(new _["default"]).GetMetaInformation(e.DocumentGuid,(function(e){var t=e.metaInformation;n.location=(0,d.FormatStatic)(r["default"].paths.ampexDocumentPath,t.westlawDatabaseIdentifier,t.westlawDocumentNumber)}),null,e.IsUserDocument)};this.ShowVersionHistory=function(){if(i["default"].displayOptions){var e="",t=[],n={},o=i["default"].displayOptions.snippetRelocationInfo,r=o.containerGuid,s="projects"===o.containerType?"matter":"folder",l=i["default"].ViewData.DocumentGuid,c=i["default"].ViewData.ProductBasedOnRegKey,d=location.toString().substring(location.toString().indexOf("?")+1),u=new a["default"].QueryStringParser(d).Params;if(u.accountkey){t[t.length]="identity="+u.accountkey;n["accountKey"]=u.accountkey}if("FIRMCENTRAL"===c){var h="Matter";"folder"===s&&(h="Subfolder");e=`/wb/Documents/#DocumentVersionHistory/${r}?documentId=${l}&containerType=${h}`;(0,Be.website_LinkoutAndShowTimeoutLightboxInternal)("FirmCentral",e,"Go",!0,n)}}};this.ShowSummary=function(){var e=window.open("","newwin","scrollbars=no,toolbar=no,menubar=no,location=no,status=no");(new _["default"]).GetDocumentSummary(t.documentDisplay.DocumentGuid,(function(t){const n=document.createElement("textarea");n.style.width="100%";n.style.height="100%";n.style.border="none";n.textContent=t;e.document.body?.append(n)}))}}function Vn(){var e=this;this.documentDisplay=null;this.xmlAnchor=null;this.parentObject=null;this.Name="ShowSource";this.Id=r["default"].ids.docToolbarShowSource;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){var t=new $n(e.documentDisplay);t.SetParentDiv(e.parentObject);t.Draw(r["default"].texts.showXmlInnerHtml)}}function qn(){var e=this;this.documentDisplay=null;this.xmlAnchor=null;this.parentObject=null;this.Name="ShowRawXml";this.Id=r["default"].ids.docToolbarShowRawXml;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){var t=new $n(e.documentDisplay);t.SetParentDiv(e.parentObject);t.Draw(r["default"].texts.showRawXmlInnerHtml)}}function zn(){var e=this;this.documentDisplay=null;this.xmlAnchor=null;this.parentObject=null;this.Name="ShowMetadoc";this.Id=r["default"].ids.docToolbarShowMetadoc;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){var t=new $n(e.documentDisplay);t.SetParentDiv(e.parentObject);t.Draw(r["default"].texts.showMetadocInnerHtml)}}function Kn(){var e=this;this.documentDisplay=null;this.xmlAnchor=null;this.parentObject=null;this.Name="ShowAmpex";this.Id=r["default"].ids.docToolbarShowAmpex;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){var t=e.documentDisplay;(new _["default"]).GetMetaInformation(t.DocumentGuid,(function(t){var n=t.metaInformation;if(n.hasOwnProperty("westlawDatabaseIdentifier")&&n.hasOwnProperty("westlawDocumentNumber")&&""!==n.westlawDatabaseIdentifier&&""!==n.westlawDocumentNumber){var i=new $n(e.documentDisplay);i.SetParentDiv(e.parentObject);i.Draw(r["default"].texts.showAmpexInnerHtml)}}),null,t.IsUserDocument)}}function Yn(){var e=this;this.documentDisplay=null;this.xmlAnchor=null;this.parentObject=null;this.Name="ShowSummary";this.Id=r["default"].ids.docToolbarShowSummary;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){var t=new $n(e.documentDisplay);t.SetParentDiv(e.parentObject);t.Draw(r["default"].texts.showSummaryInnerHtml)}}function Qn(){var e=this;this.Id=r["default"].ids.docToolbarShowVersionHistory;this.Name="VersionHistory";this.ClassName=r["default"].classes.co_toolbarVersionHistory;this.documentDisplay=null;this.xmlAnchor=null;this.parentObject=null;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){var t=new $n(e.documentDisplay);t.SetParentDiv(e.parentObject);t.Draw(r["default"].texts.showVersionHistoryInnerHtml)}}var Xn=n(9122),Jn=n(5074),Zn=n(5151);function ei(){this.createListGrade=function(e,t,n){
var i=function(e,t,n){var i=Zn["default"].Context;i+="/v3/grading/list/grade";i+="?baseSearchGuid="+e;i+="&grade="+t;i+="&comments="+encodeURIComponent(n);return i}(e,t,n),a=Jn["default"].getWebRequest(i,"application/json","text/ascii");Jn["default"].Post(a,"",(function(){}))};this.createDocumentGrade=function(e,t,n,i,a,o){var r=function(e,t,n,i,a,o){var r=Zn["default"].Context;r+="/v3/grading/document/grade";r+="?baseSearchGuid="+e;r+="&documentGuid="+t;r+="&documentContentType="+n;r+="&resultIndex="+i;r+="&documentView="+a;r+="&grade="+o;return r}(e,t,n,i,a,o),s=Jn["default"].getWebRequest(r,"application/json","text/ascii");Jn["default"].Post(s,"",(function(){}))};this.retrieveDocumentGradingDisplay=function(e,t){var n=function(e){var t=Zn["default"].Context;t+="/v3/grading/document/display";t+="?gradingContext="+e;return t}(t),i=Jn["default"].getWebRequest(n,"application/json");Jn["default"].Get(i,e)}}var ti=n(8730),ni=n(370);function ii(e,t){var n,i=this,a=e,o=t,r=!1,s="co_search_inline_grader_list_dialog",l=new ei,c=[],d="",u=!0;this.showListDialog=function(){(function(){var e=document.getElementById(s);(0,ni.addEscapeListener)(e,i.hideListDialog)})();if(!r){var e=document.getElementById(s);e.className="co_overlayBox_container";""!==d&&f();p["default"].AddEventHandler(document.getElementById("co_search_inline_grader_list_comment"),"keyup",h);ti["default"].addPageTouchedListener(i.hideListDialog,e);r=!0;document.querySelector("#co_search_inline_grader_list_grades a")?.focus()}};this.hideListDialog=function(){document.getElementById(s).className="co_overlayBox_container co_hideState";document.getElementById("co_search_grader_list_error").className="co_grading_error co_hideState";ti["default"].removePageTouchedListener(i.hideListDialog);r=!1};this.setListGrade=function(e,t){i.clearListGradeSelection(e.parentNode);e.className="selected";d=t;i.saveNeeded();document.getElementById("co_search_grader_list_error").className="co_grading_error co_hideState";f()};function h(){var e=document.getElementById("co_search_inline_grader_list_comment");e.value.length>1e3&&(e.value=e.value.substring(0,1e3))}function f(){document.getElementById("co_search_inline_grader_list_dialog_clear_button").className="reset"}this.clearListGradeSelection=function(e){m(e);d=""};this.saveNeeded=function(){u=!1};this.saveListGrade=function(){if(""===d)document.getElementById("co_search_grader_list_error").className="co_grading_error";else{document.getElementById("co_search_inline_grader_list_control_expand").innerHTML=`Search Results Rating: ${d}<span>Expand</span>`;document.getElementById("co_search_inline_grader_list_control_collapse").innerHTML=`Search Results Rating: ${d}<span>Collapse</span>`;i.hideListDialog();u||(e=d,t=document.getElementById("co_search_inline_grader_list_comment").value,l.createListGrade(Xn["default"].SearchResult.getBaseSearchStateGuid(),e,t));u=!0}var e,t};this.showDocDialog=function(e,t){if(!r){i.clearDocGradeSelection(document.getElementById("co_search_inline_grader_doc"));var n=e.getAttribute("grade");if(""!==n){var a="co_search_inline_grader_doc_"+n.toLowerCase();document.getElementById(a).className="selected";document.getElementById("co_search_inline_grader_doc_dialog_clear_button").className="reset"}var o=document.getElementById(t);(function(e){return c.includes(e)})(t)||function(e){(0,ni.addEscapeListener)(e,i.hideDocDialog);c.push(e.id)}(o);var s=document.getElementById("co_search_inline_grader_doc_dialog"),l=s.innerHTML;s.innerHTML="";o.innerHTML=l;document.getElementById("co_search_inline_grader_doc_control_id").value=e.id;document.getElementById("co_search_inline_grader_doc_dialog_id").value=t;o.className="co_overlayBox_container";ti["default"].addPageTouchedListener(i.hideDocDialog,o);r=!0;o.querySelector("#co_search_inline_grader_doc a")?.focus()}};this.hideDocDialog=function(){var e=document.getElementById(document.getElementById("co_search_inline_grader_doc_dialog_id").value);e.className="co_overlayBox_container co_hideState";document.getElementById("co_search_inline_grader_doc_dialog_clear_button").className="reset co_hideState";var t=document.getElementById("co_search_inline_grader_doc_dialog"),n=e.innerHTML;e.innerHTML="";t.innerHTML=n;document.getElementById("co_search_inline_grader_doc_control_id").value="";document.getElementById("co_search_inline_grader_doc_dialog_id").value="";ti["default"].removePageTouchedListener(i.hideDocDialog);r=!1};this.saveDocGrade=function(e){var t=document.getElementById(document.getElementById("co_search_inline_grader_doc_control_id").value);t.getAttributeNode("grade").value="Z"!==e?e:"";t.innerHTML=function(e){var t,n=e.querySelector("span:not(.co_accessibilityLabel)");t=""!==e.getAttribute("grade")?`<span class="co_accessibilityLabel">Grade </span>${e.getAttribute("grade")}`:"Rate";return`${t}<span>${n.innerHTML}</span>`}(t);i.hideDocDialog();(function(e,t,n,i){var a,o,r=v();if(r){a="Document";o=r.resultGuid;e=r.documentGuid;t=r.contentType;n=r.resultListIndex}else{a="Result List";o=Xn["default"].SearchResult.getBaseSearchStateGuid()}l.createDocumentGrade(o,e,t,n,a,i)})(t.getAttribute("documentGuid"),t.getAttribute("documentContentType"),t.getAttribute("rank"),e)};this.clearDocGradeSelection=function(e){m(e)};function m(e){var t=e.childNodes;for(var n in t)void 0!==t[n].nodeName&&"li"===t[n].nodeName.toLowerCase()&&"selected"===t[n].className&&(t[n].className="")}this.showHover=function(e){n=setTimeout((()=>{document.getElementById(e).className="co_infoBox bottom"}),1e3)};this.hideHover=function(e){clearTimeout(n);document.getElementById(e).className="co_infoBox bottom co_hideState"};function g(e){e.displayGrading&&(o.innerHTML=e.gradingControl)}this.draw=function(){null!=(e=v())&&e.isGradeable?l.retrieveDocumentGradingDisplay((function(e){g((0,ni.jsonResponse)(e))}),a):g({displayGrading:!1})};function v(){if(a){var e={};if("na"==a)e.isGradeable=!1;else{var t=a.split("-");4!=t.length&&tt["default"].ConsoleMessage("invalid docGradingContextParameter...not correct number of parms",tt["default"].Level.Error);e.isGradeable=!0;e.resultGuid=t[0];e.documentGuid=t[1];e.contentType=t[2];e.resultListIndex=parseInt(t[3])}return e}return null}ii.Instance=i}ii.Instance=null;const ai=ii;function oi(){var e=this;this.parentObject=null;this.searchGradingId=null;this.Name="SearchGrading";this.Id=r["default"].ids.docToolbarSearchGradingWidget;this.SetParentDiv=function(t){e.parentObject=t};this.SetSearchGradingId=function(t){e.searchGradingId=t};this.Draw=function(){new ai(e.searchGradingId,e.parentObject).draw()}}function ri(){var e=this;this.direction={previous:"Previous",next:"Next"};this.hasLoadedData=!1;this.PreviousSectionInfo={direction:e.direction.previous,title:null,url:null};this.NextSectionInfo={direction:e.direction.next,title:null,url:null};this.IsFirstDocumentInToc=function(){return null==e.PreviousSectionInfo.url};this.IsLastDocumentInToc=function(){return null==e.NextSectionInfo.url};this.IsNotInToc=function(){return null==e.PreviousSectionInfo.url&&null==e.NextSectionInfo.url};this.GetInformation=function(e){if(null==e)throw new Error("ArgumentNullException: guid");return f["default"].GetObject(r["default"].objectIds.provider).GetTocInformation(e,(function(e){v["default"].publishHubEvent(r["default"].events.tocInformationRetrieved,null,{tocInfo:e},null);t(e)}),(function(){t([])}))};function t(t){if(t){t.previousNode&&(e.PreviousSectionInfo=t.previousNode);t.nextNode&&(e.NextSectionInfo=t.nextNode)}e.hasLoadedData=!0;var n=r["default"].events.tocNavDataReady;v["default"].publishHubEvent(n,null,{},null)}}function si(){var e=this,t=D["default"].lookup("SC.Document.TocNavigation.AriaLabel","Section");this.parent=null;this.tocNavigation=null;this.documentGuid=null;this.SetParentDiv=function(t){e.parent=t};this.GetParentDiv=function(){return e.parent};this.SetGuid=function(t){e.documentGuid=t};this.fetchData=function(){y["default"].Subscribe(r["default"].events.tocNavDataReady,(function(){e.finishDraw()}));e.tocNavigation=new ri;e.tocNavigation.GetInformation(e.documentGuid)};this.Draw=function(){if(!e.parent||!e.documentGuid)return
;(new _["default"]).GetMetaInformation(e.documentGuid,e.metaInfoCallback)};this.metaInfoCallback=function(t){t.GetTocData&&e.fetchData()};this.finishDraw=function(){var n=e.tocNavigation.PreviousSectionInfo.url,i="",a="",o="",s="",l=document.createElement("div"),c="",u=r["default"].classes.hideState;if(n){n=n.replace("originationContext=document","originationContext=previousnextsection");n=(0,d.DecodeHtml)(n)}a=n||"#";if(n=e.tocNavigation.NextSectionInfo.url){n=n.replace("originationContext=document","originationContext=previousnextsection");n=(0,d.DecodeHtml)(n)}i=n||"#";(o=e.tocNavigation.PreviousSectionInfo.title||r["default"].texts.previousSectionText)&&(o=(0,d.EncodeHtml)(o));(s=e.tocNavigation.NextSectionInfo.title||r["default"].texts.nextSectionText)&&(s=(0,d.EncodeHtml)(s));l.id=r["default"].ids.tocNavigation;l.className=r["default"].classes.tocNavigationDisabled;const{texts:h,classes:f,ids:m}=r["default"];c=`\n\t\t<a title="${h.previousSection} - ${o}" id="${m.tocNavigationPrevious}" aria-label="${h.previousSection} - ${o}" class="${f.link} ${f.previous}" href="${a}">\n\t\t\t<span class="icon25 icon_prev_arrow"></span>\n\t\t</a>\n\t\t<span aria-label="${t}">${h.widgetCaption}</span>\n\t\t<a title="${h.nextSection} - ${s}" id="${m.tocNavigationNext}" aria-label="${h.nextSection} - ${s}" class="${f.link} ${f.next}" href="${i}">\n\t\t\t<span class="icon25 icon_next_arrow"></span>\n\t\t</a>`;l.innerHTML=c;e.parent.appendChild(l);var g=l.querySelector("#"+m.tocNavigationPrevious),v=l.querySelector("#"+m.tocNavigationNext);const b=new ht["default"](g),C=new ht["default"](v);b.render();C.render();e.tocNavigation.IsFirstDocumentInToc()&&p["default"].AddClass(g,u);e.tocNavigation.IsLastDocumentInToc()&&p["default"].AddClass(v,u);e.tocNavigation.IsNotInToc()||p["default"].ReplaceClassOnElement(l,r["default"].classes.tocNavigationDisabled,r["default"].classes.tocNavigation);y["default"].Publish(r["default"].events.tocNavDrawReady)}}function li(){var e=this;this.Name="TocNavigation";this.Id=r["default"].ids.docToolbarTocNavigation;this.tocNavWidget=new si;this.SetParentDiv=function(t){e.tocNavWidget.SetParentDiv(t)};this.GetParentDiv=function(){return e.tocNavWidget.GetParentDiv()};this.SetDocumentGuid=function(t){e.tocNavWidget.SetGuid(t)};this.Draw=function(){e.tocNavWidget.Draw()}}var ci=n(2530),di=n(5648),ui=n(1433);const hi=c().extend({init:function(){this.parentObject=null;this.Name="Redline";this.id=r["default"].ids.docToolbarRedlineWidget;this.options=null},SetParentDiv:function(e){this.parentObject=e},SetOptions:function(e){this.options=e},Draw:function(){var e=D["default"].lookup("SC.Document.Redline.Toolbar.RedlineButtonText","Redline Tool"),t=D["default"].lookup("SC.Document.Redline.Toolbar.LaunchRedlineButtonText","Launch Redline Comparison Tool"),n=[];n[n.length]='<div class="co_redline_toolbarButton">';n[n.length]=`<a id="${r["default"].ids.coidRedlineToolbarButtonLink}" class="co_tbButton" href="javascript:void(0);" title="${t}">`;n[n.length]=e;n[n.length]="</a>";n[n.length]="</div>";if(this.parentObject){this.parentObject.insertAdjacentHTML("beforeend",n.join(""));this.parentObject.querySelector(".co_redline_toolbarButton")?.addEventListener("click",(()=>{ui["default"].LaunchTool(this.options)}))}}}).extend({init:function(e){this._super();this.documentData=e},Draw:function(){var e=this,t=this._super;di["default"].getSettings().then((function(n){ci["default"].DocumentAllowsRedline(n.contentTypes,e.documentData.SubContentType)&&t.call(e)}))}});function fi(){var e=this;this.readingModeManager=null;this.Name="DisplayOptions";this.Id=r["default"].ids.docToolbarDisplayOptions;this.SetParentDiv=function(t){e.readingModeManager.SetDisplayOptionsDiv(t)};this.SetReadingModeManager=function(t){e.readingModeManager=t};this.Draw=function(){e.readingModeManager.Draw()}}function pi(){var e=this;this.readingModeManager=null;this.Name="ReadingMode";this.Id=r["default"].ids.docToolbarReadingModeWidget;this.SetParentDiv=function(t){e.readingModeManager.SetReadingModeDiv(t)};this.SetReadingModeManager=function(t){e.readingModeManager=t};this.Draw=function(){e.readingModeManager.Draw()}}function mi(){var e=this;this.documentDisplay=null;this.parentObject=null;this.Name="KeyCiteAlert";this.Id=r["default"].ids.docToolbarKeyCiteWidget;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Draw=function(){this.keyCiteAlertWidget=f["default"].GetObject(r["default"].objectIds.widget$KeyCiteAlert);this.keyCiteAlertWidget.SetParentDiv(e.parentObject);this.keyCiteAlertWidget.SetDocumentDisplay(e.documentDisplay);this.keyCiteAlertWidget.Draw()};this.isVisible=function(){return this.keyCiteAlertWidget.isVisible}}function gi(){var e=this;this.Name="GoTo";this.Id=r["default"].ids.docToolbarGoTo;this.GoToWidget=f["default"].GetObject(r["default"].objectIds.widget$GoTo);this.SetParentDiv=function(t){e.GoToWidget.SetParentDiv(t)};this.SetDocumentDisplay=function(t){e.GoToWidget.SetDocumentDisplay(t)};this.Draw=function(){e.GoToWidget.Draw()}}function vi(){var e=this;this.parentObject=null;this.Name="Separator";this.ClassName=r["default"].classes.toolbarSeparator;this.SetParentDiv=function(t){e.parentObject=t};this.Draw=function(){}}function yi(){this._readingModeToggleDiv=null;this._displayOptionsDivClass="co_website_displayOptions";this._allowDisplayOptionsOnly=!1;this._onWidget=!1;this._view="regular";this._preferencesData={regular:{textSize:"",font:"",margin:""},fullscreen:{textSize:"",font:"",margin:"",showLinks:"",showSearchTerms:""}};this._originalPreferencesData={regular:{textSize:"",font:"",margin:""},fullscreen:{textSize:"",font:"",margin:"",showLinks:"",showSearchTerms:""}};this._lightbox=null;this._textSizeOptions=null;this._fontOptions=null;this._marginOptions=null;this._linkOption=null;this._searchTermOption=null;this._preview=null;this._save=null;this._cancel=null;this._document=null;this._tooltip=null;this._classNames={TextSmall:"co_disOpt_textSizeSmall",TextMedium:"co_disOpt_textSizeMedium",TextLarge:"co_disOpt_textSizeLarge",TextExtraLarge:"co_disOpt_textSizeExtraLarge",FontArial:"co_dipOpt_fontArial",FontVerdana:"co_dipOpt_fontVerdana",FontGeorgia:"co_dipOpt_fontGeorgia",FontTimesNewRoman:"co_dipOpt_fontTimesNewRoman",MarginNarrow:"co_dipOpt_marginNarrow",MarginNormal:"co_dipOpt_marginNormal",MarginWide:"co_dipOpt_marginWide",HideLinks:"co_disOpt_noLinks",HideSearchTerms:"co_disOpt_noSearchTerms"};this._inputGroup={TextSize:"co_disOpt_textSize",Font:"co_dipOpt_font",Margin:"co_dipOpt_margin"};this._defaultDisplayOptions={regular:{textSize:this._classNames.TextLarge,font:this._classNames.FontArial,margin:this._classNames.MarginNormal},fullscreen:{textSize:this._classNames.TextLarge,font:this._classNames.FontGeorgia,margin:this._classNames.MarginWide,showLinks:!0,showSearchTerms:!0}}}yi.prototype={SetReadingModeToggleDiv:function(e){this._readingModeToggleDiv=e},SetDisplayOptionsDiv:function(e){this._displayOptionsDiv=e},SetDisplayOptionsDivClass:function(e){this._displayOptionsDivClass=e},SetAllowDisplayOptionsOnly:function(e){this._allowDisplayOptionsOnly=e},Draw:function(){if(!this._allowDisplayOptionsOnly&&!this._readingModeToggleDiv)throw new Error("Reading Mode Display Widget Error: reading mode toggle div element not provided");if(!this._displayOptionsDiv)throw new Error("Reading Mode Display Widget Error: display options div element not provided");document.getElementById("coid_website_documentWidgetDiv")&&!this._document&&(this._document=document.getElementById("coid_website_documentWidgetDiv"));const e=un["default"].ReadingModeView.Get();(0,d.IsNotNullOrEmpty)(e)&&(this._view=e);this.InitializePreferenceValues();this._allowDisplayOptionsOnly||this.DrawToggleHtml(this._readingModeToggleDiv);this.NeedToDrawDisplayOptions()&&this.DrawOptionsHtml(this._displayOptionsDiv)},DrawToggleHtml:function(e){let t="";if("regular"==this._view)t=D["default"].lookup("SC.Website.Widget.ReadingModeManager.FullscreenMode","Fullscreen Mode");else{t=D["default"].lookup("SC.Website.Widget.ReadingModeManager.ExitFullscreenMode","Exit Fullscreen Mode")
;document.body.classList.contains("co_readingMode")||document.body.classList.add("co_readingMode")}e.innerHTML=`\n        <button id="co_fullscreenModeLink" class="co_tbButton" title="${t}" type="button">\n            <span class="icon25 icon_fullscreen">${t}</span>\n\t\t</button>`;const n=document.getElementById("co_fullscreenModeLink");if(n){n.addEventListener("click",(()=>this.ToggleFullscreen()));this._tooltip=this._ApplyAccessibleTooltip(n)}},NeedToDrawDisplayOptions:function(){return!o["default"].IsIndigoDisplayEnabled},DrawOptionsHtml:function(e){let t,n="";if("kh_icon"===this._displayOptionsDivClass)t="kh_icon icon-text-resize";else{t="icon25 icon_text_resize";n='class="co_tbButton" '}const i=D["default"].lookup("SC.Website.Widget.ReadingModeManager.DisplayOptionsTitle","Display Options");e.innerHTML=`\n        <button id="co_displayOptionsLink" ${n} title="${i}" type="button">\n            <span class="${t}">${i}</span>\n        </button>`;const a=document.getElementById("co_displayOptionsLink");if(a){a.addEventListener("click",(()=>this.ShowDisplayOptionsLightbox()));this._ApplyAccessibleTooltip(a)}},ToggleFullscreen:function(){this._view="regular"==this._view?"fullscreen":"regular";var e=this.FindCentralElement(),t=document.body;if("fullscreen"==this._view){t.classList.contains("co_readingMode")||t.classList.add("co_readingMode");document.querySelectorAll("#co_fullscreenModeLink span").forEach((e=>{e.classList.remove("icon_fullscreen");e.classList.add("icon_exit_fullscreen")}));document.getElementById("co_fullscreenModeLink")?.classList.add("co_readingModeOn")}else{t.classList.contains("co_readingMode")&&t.classList.remove("co_readingMode");document.querySelectorAll("#co_fullscreenModeLink span").forEach((e=>{e.classList.add("icon_fullscreen");e.classList.remove("icon_exit_fullscreen")}));document.getElementById("co_fullscreenModeLink")?.classList.remove("co_readingModeOn")}this.UpdateDocument();this.UpdateToggleButtonText();this.MoveElementToCenterByScrollingDocument(e);un["default"].ReadingModeView.Set(this._view);y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))},UpdateToggleButtonText:function(){const e=document.querySelector("#co_fullscreenModeLink span.icon25"),t="regular"==this._view?D["default"].lookup("SC.Website.Widget.ReadingModeManager.FullscreenMode","Fullscreen Mode"):D["default"].lookup("SC.Website.Widget.ReadingModeManager.ExitFullscreenMode","Exit Fullscreen Mode");e.textContent=t;if(o["default"].EnableIphone||o["default"].EnableIpad){document.getElementById("co_fullscreenModeLink").title=t}else this._tooltip&&this._tooltip.setTooltipText(t)},GetDocumentHeaders:function(){return[]},FindTopBorderOfDocument:function(e){var t=e.filter((function(e){if(1===e.length){var t=e.offset().top,n=window.pageYOffset,i=window.innerHeight;if(t>=n&&t<n+i)return!0}}));return t.length?t[0].offset().top+t[0].outerHeight():window.pageYOffset},FindVisibleDocumentCenterPosition:function(){return(this.FindTopBorderOfDocument(this.GetDocumentHeaders())+window.pageYOffset+window.innerHeight)/2},GetDocumentSelector:()=>x()("#co_document"),FindCentralElement:function(){var e,t=this.FindVisibleDocumentCenterPosition(),n=Number.MAX_VALUE;(function e(n,a){if(!n)return;a(n);var o,r,s=Number.MAX_VALUE;x()(n).children().filter(":visible").each((function(){var e=i(this);if(e<s){s=e;o=this}var n=(0,ft.offset)(this).top,a=(0,ft.offset)(this).top+(0,u.getOuterHeight)(this);t>=n&&t<=a&&(r=this)}));e(o,a);o!==r&&e(r,a)})(this.GetDocumentSelector(),(t=>{if(i(t)<n){n=i(t);e=t}}));function i(e){return Math.abs(x()(e).offset().top-t)}var a=t-x()(e).offset().top;return{element:e,elementRelativePosition:a}},MoveElementToCenterByScrollingDocument:function(e){var t=x()(e.element).offset().top-(this.FindVisibleDocumentCenterPosition()-window.pageYOffset)+e.elementRelativePosition;window.scrollTo(0,t)},ShowDisplayOptionsLightbox:function(){this._lightbox&&this._lightbox.Remove();try{var e=this;const t=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.SaveButton","Save"),n=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.CancelButton","Cancel");this._lightbox=new fe["default"];this._lightbox.SetId("co_documentReadingModePreferences");this._lightbox.SetClass("co_documentReadingModePreferences");this._lightbox.SetCloseLinkObject({alt:D["default"].lookup("SC.Website.Widget.ReadingModeManager.CloseTheDisplayOptionsWindow","Close the Display Options window"),onclick:function(){e.CancelOptions()}});this._lightbox.SetTitle(D["default"].lookup("SC.Website.Widget.ReadingModeManager.DisplayOptionsTitle","Display Options"));this._lightbox.GetContentDomElement().appendChild(this.GetDisplayOptionsContentHtml());this._lightbox.GetFooterDomElement().innerHTML=`<ul>\n                                                                <li><button id="co_disOpt_Save" class="co_primaryBtn" type="button">${t}</button></li>\n                                                                <li><button id="co_disOpt_Cancel" class="co_overlayBox_buttonCancel" type="button">${n}</button></li>\n                                                              </ul>`;this._lightbox.Draw();this.InitializeValues();this.InitializeEvents();this.UpdatePreview()}catch(e){tt["default"].ConsoleMessage("StyledLightbox widget failed to render while attempting to create the reading mode display options lightbox.",tt["default"].Level.Error)}},GetDisplayOptionsContentHtml:function(){var e=document.createElement("form");e.setAttribute("method","");var t=document.createElement("div");e.appendChild(t);"regular"==this._view?t.className="co_3Column":t.className="co_4Column";const n=document.createElement("div");n.className="co_column";n.setAttribute("id","co_disOpt_sizeContainer");t.appendChild(n);const i=document.createElement("fieldset");n.appendChild(i);const a=document.createElement("legend");a.className="co_formLabel co_formLabelBold";a.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Text.SizeHeader","Size");i.appendChild(a);i.appendChild(this._CreateInputDiv("radio",this._inputGroup.TextSize,this._classNames.TextSmall,this._classNames.TextSmall,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Text.Small","Small")));i.appendChild(this._CreateInputDiv("radio",this._inputGroup.TextSize,this._classNames.TextMedium,this._classNames.TextMedium,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Text.Medium","Medium"),!0));i.appendChild(this._CreateInputDiv("radio",this._inputGroup.TextSize,this._classNames.TextLarge,this._classNames.TextLarge,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Text.Large","Large")));i.appendChild(this._CreateInputDiv("radio",this._inputGroup.TextSize,this._classNames.TextExtraLarge,this._classNames.TextExtraLarge,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Text.ExtraLarge","Extra Large")));const o=document.createElement("div");o.className="co_column";o.setAttribute("id","co_disOpt_fontContainer");t.appendChild(o);const r=document.createElement("fieldset");o.appendChild(r);const s=document.createElement("legend");s.className="co_formLabel co_formLabelBold";s.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Font.FontHeader","Font");r.appendChild(s);this.SetFontColumnDivs(r);const l=document.createElement("div");l.className="co_column";l.setAttribute("id","co_disOpt_widthContainer");t.appendChild(l);const c=document.createElement("fieldset");l.appendChild(c);const d=document.createElement("legend");d.className="co_formLabel co_formLabelBold";d.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Width.WidthHeader","Width");c.appendChild(d);c.appendChild(this._CreateInputDiv("radio",this._inputGroup.Margin,this._classNames.MarginNarrow,this._classNames.MarginNarrow,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Width.Wide","Wide")))
;c.appendChild(this._CreateInputDiv("radio",this._inputGroup.Margin,this._classNames.MarginNormal,this._classNames.MarginNormal,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Width.Normal","Normal"),!0));c.appendChild(this._CreateInputDiv("radio",this._inputGroup.Margin,this._classNames.MarginWide,this._classNames.MarginWide,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Width.Narrow","Narrow")));if("regular"!=this._view){const e=document.createElement("div");e.className="co_column";t.appendChild(e);const n=document.createElement("fieldset");e.appendChild(n);const i=document.createElement("legend");i.className="co_formLabel co_formLabelBold";i.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Show.ShowHeader","Show");n.appendChild(i);n.appendChild(this._CreateInputDiv("checkbox",this._classNames.HideLinks,this._classNames.HideLinks,this._classNames.HideLinks,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Show.Links","Links")));n.appendChild(this._CreateInputDiv("checkbox",this._classNames.HideSearchTerms,this._classNames.HideSearchTerms,this._classNames.HideSearchTerms,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Show.SearchTerms","Search Terms"),!0))}var u=document.createElement("div");u.className="co_clear";t.appendChild(u);const h=document.createElement("button");h.id="co_disOpt_restoreDefaults";h.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.RestoreDefaultOptions","Restore Default Options");e.appendChild(h);var f=document.createElement("h4");f.className="co_displayOptionsPreviewLabel";f.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.PreviewHeader","Preview");e.appendChild(f);var p=document.createElement("div");p.id="co_displayOptionsPreview";e.appendChild(p);p.innerHTML=D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.PreviewText",'<p>Hence his <span class="co_searchTerm">presence</span> within the territorial <span class="co_searchTerm">jurisdiction</span> of court was prerequisite to its rendition of a judgment personally <span class="co_searchTerm">binding</span> him. <a href="javascript:void(0);" aria-label="Pennoyer v. Neff, 95 U.S. 714, 733, 24 L.Ed. 565. Example link does not work.">Pennoyer v. Neff, 95 U.S. 714, 733, 24 L.Ed. 565</a>.</p><p>An \'estimate of the <span class="co_searchTerm">inconveniences</span>\' which would result to the <span class="co_searchTerm">corporation</span> from a trial away from its \'home\' or <span class="co_searchTerm">principal place of business</span> is relevant in this connection. <a href="javascript:void();" aria-label="Hutchinson v. Chase &amp; Gilbert, supra, 45 F.2d 141. Example link does not work.">Hutchinson v. Chase &amp; Gilbert, supra, 45 F.2d 141</a>.</p>');return e},HideLightbox:function(){if(null!=this._lightbox){this._lightbox.Remove();this._lightbox=null}},InitializePreferenceValues:function(){this._preferencesData=this.GetPreferencesObject();this._originalPreferencesData.regular.textSize=this._preferencesData.regular.textSize;this._originalPreferencesData.regular.font=this._preferencesData.regular.font;this._originalPreferencesData.regular.margin=this._preferencesData.regular.margin;this._originalPreferencesData.fullscreen.textSize=this._preferencesData.fullscreen.textSize;this._originalPreferencesData.fullscreen.font=this._preferencesData.fullscreen.font;this._originalPreferencesData.fullscreen.margin=this._preferencesData.fullscreen.margin;this._originalPreferencesData.fullscreen.showLinks=this._preferencesData.fullscreen.showLinks;this._originalPreferencesData.fullscreen.showSearchTerms=this._preferencesData.fullscreen.showSearchTerms},InitializeValues:function(){var e=this;this._textSizeOptions=document.querySelectorAll("input[type=radio][name="+this._inputGroup.TextSize+"]");this._fontOptions=document.querySelectorAll("input[type=radio][name="+this._inputGroup.Font+"]");this._marginOptions=document.querySelectorAll("input[type=radio][name="+this._inputGroup.Margin+"]");this._linkOption=document.getElementById(this._classNames.HideLinks);this._searchTermOption=document.getElementById(this._classNames.HideSearchTerms);this._preview=x()("#co_displayOptionsPreview");this._save=document.getElementById("co_disOpt_Save");this._cancel=document.getElementById("co_disOpt_Cancel");this._textSizeOptions.length>0&&this._textSizeOptions.forEach((function(t){if("regular"==e._view&&e._preferencesData.regular.textSize){t.checked=t.value==e._preferencesData.regular.textSize;if(t.value==e._preferencesData.regular.textSize){e._lightbox._contentElement.querySelector("li."+e._inputGroup.TextSize)?.classList.remove("co_selected");t.parentElement.classList.add("co_selected")}}"fullscreen"==e._view&&e._preferencesData.fullscreen.textSize&&(t.checked=t.value==e._preferencesData.fullscreen.textSize)}));this._fontOptions.length>0&&this._fontOptions.forEach((function(t){if("regular"==e._view&&e._preferencesData.regular.font){t.checked=t.value==e._preferencesData.regular.font;if(t.value==e._preferencesData.regular.font){e._lightbox._contentElement.querySelector("li."+e._inputGroup.Font)?.classList.remove("co_selected");t.parentElement.classList.add("co_selected")}}"fullscreen"==e._view&&e._preferencesData.fullscreen.font&&(t.checked=t.value==e._preferencesData.fullscreen.font)}));this._marginOptions.length>0&&this._marginOptions.forEach((function(t){"regular"==e._view&&e._preferencesData.regular.margin&&(t.checked=t.value==e._preferencesData.regular.margin);"fullscreen"==e._view&&e._preferencesData.fullscreen.margin&&(t.checked=t.value==e._preferencesData.fullscreen.margin)}));if(this._linkOption){document.getElementById(e._classNames.HideLinks).checked=e._preferencesData.fullscreen.showLinks}if(this._searchTermOption){document.getElementById(e._classNames.HideSearchTerms).checked=e._preferencesData.fullscreen.showSearchTerms}},InitializeEvents:function(){var e=this,t=document.getElementById("co_disOpt_restoreDefaults");t?.addEventListener("click",(function(){e.RestoreDefaults()}));this._textSizeOptions.length>0&&this._textSizeOptions.forEach((function(t){t.addEventListener("click",(function(){this.checked=!0;"regular"==e._view?e._preferencesData.regular.textSize=this.value:e._preferencesData.fullscreen.textSize=this.value;x()(e._lightbox._contentElement).find("li."+e._inputGroup.TextSize).removeClass("co_selected");this.parentElement.classList.add("co_selected");e.UpdatePreview()}))}));this._fontOptions.length>0&&this._fontOptions.forEach((function(t){t.addEventListener("click",(function(){this.checked=!0;"regular"==e._view?e._preferencesData.regular.font=this.value:e._preferencesData.fullscreen.font=this.value;x()(e._lightbox._contentElement).find("li."+e._inputGroup.Font).removeClass("co_selected");this.parentElement.classList.add("co_selected");e.UpdatePreview()}))}));this._marginOptions.length>0&&this._marginOptions.forEach((function(t){t.addEventListener("click",(function(){this.checked=!0;"regular"==e._view?e._preferencesData.regular.margin=this.value:e._preferencesData.fullscreen.margin=this.value;e.UpdatePreview()}))}));this._linkOption?.addEventListener("click",(function(){var t=document.getElementById(e._classNames.HideLinks);"regular"!=e._view&&(e._preferencesData.fullscreen.showLinks=t.checked);e.UpdatePreview()}));this._searchTermOption?.addEventListener("click",(function(){var t=document.getElementById(e._classNames.HideSearchTerms);"regular"!=e._view&&(e._preferencesData.fullscreen.showSearchTerms=t.checked);e.UpdatePreview()}));this._save?.addEventListener("click",(function(){e.SavePreferences()}));this._cancel?.addEventListener("click",(function(){e.CancelOptions()}))},CancelOptions:function(){this._preferencesData.regular.textSize=this._originalPreferencesData.regular.textSize;this._preferencesData.regular.font=this._originalPreferencesData.regular.font;this._preferencesData.regular.margin=this._originalPreferencesData.regular.margin;this._preferencesData.fullscreen.textSize=this._originalPreferencesData.fullscreen.textSize
;this._preferencesData.fullscreen.font=this._originalPreferencesData.fullscreen.font;this._preferencesData.fullscreen.margin=this._originalPreferencesData.fullscreen.margin;this._preferencesData.fullscreen.showLinks=this._originalPreferencesData.fullscreen.showLinks;this._preferencesData.fullscreen.showSearchTerms=this._originalPreferencesData.fullscreen.showSearchTerms;this.HideLightbox()},UpdatePreview:function(){var e=[],t={};if("regular"==this._view){t=this._preferencesData.regular;e.push(t.textSize);e.push(t.font);e.push(t.margin)}else{t=this._preferencesData.fullscreen;e.push(t.textSize);e.push(t.font);e.push(t.margin);t.showLinks||e.push(this._classNames.HideLinks);t.showSearchTerms||e.push(this._classNames.HideSearchTerms)}this._preview.attr("class","");this._preview.addClass(e.join(" "))},RestoreDefaults:function(){"regular"===this._view?Object.assign(this._preferencesData.regular,this._defaultDisplayOptions.regular):Object.assign(this._preferencesData.fullscreen,this._defaultDisplayOptions.fullscreen);this.InitializeValues();this.UpdatePreview()},UpdateDocument:function(){var e=this,t=[],n={};if("regular"==e._view){n=e._preferencesData.regular;t.push(n.textSize);t.push(n.font);t.push(n.margin)}else{n=e._preferencesData.fullscreen;t.push(n.textSize);t.push(n.font);t.push(n.margin);n.showLinks||t.push(e._classNames.HideLinks);n.showSearchTerms||t.push(e._classNames.HideSearchTerms)}e.document?.classList.remove(e._classNames.TextSmall,e._classNames.TextMedium,e._classNames.TextLarge,e._classNames.TextExtraLarge,e._classNames.FontArial,e._classNames.FontVerdana,e._classNames.FontGeorgia,e._classNames.FontTimesNewRoman,e._classNames.MarginNarrow,e._classNames.MarginNormal,e._classNames.MarginWide,e._classNames.HideLinks,e._classNames.HideSearchTerms);e._document?.classList.add(...t.filter(Boolean));y["default"].Publish(r["default"].events.documentMayHaveChangedSize,new b["default"]({}))},SavePreferences:function(){this.UpdateDocument();this.SetPreferencesObject(this._preferencesData);this.HideLightbox()},GetPreferencesObject:function(){var e={regular:{textSize:"",font:"",margin:""},fullscreen:{textSize:"",font:"",margin:"",showLinks:"",showSearchTerms:""}};e.regular.textSize=g["default"].Get("Website","DocumentDisplayTextSize");e.regular.font=g["default"].Get("Website","DocumentDisplayFont");e.regular.margin=g["default"].Get("Website","DocumentDisplayMargin");e.fullscreen.textSize=g["default"].Get("Website","DocumentFullscreenTextSize");e.fullscreen.font=g["default"].Get("Website","DocumentFullscreenFont");e.fullscreen.margin=g["default"].Get("Website","DocumentFullscreenMargin");e.fullscreen.showLinks=g["default"].Get("Website","DocumentFullscreenShowLinks");e.fullscreen.showSearchTerms=g["default"].Get("Website","DocumentFullscreenShowTerms");return e},SetPreferencesObject:function(e){var t={};t[new g["default"].Id("Website","DocumentDisplayTextSize")]=null==e.regular.textSize?"co_disOpt_textSizeMedium":e.regular.textSize;t[new g["default"].Id("Website","DocumentDisplayFont")]=null==e.regular.font?"co_dipOpt_fontArial":e.regular.font;t[new g["default"].Id("Website","DocumentDisplayMargin")]=null==e.regular.margin?"co_dipOpt_marginNormal":e.regular.margin;t[new g["default"].Id("Website","DocumentFullscreenTextSize")]=null==e.fullscreen.textSize?"co_disOpt_textSizeMedium":e.fullscreen.textSize;t[new g["default"].Id("Website","DocumentFullscreenFont")]=null==e.fullscreen.font?"co_dipOpt_fontArial":e.fullscreen.font;t[new g["default"].Id("Website","DocumentFullscreenMargin")]=null==e.fullscreen.margin?"co_dipOpt_marginNormal":e.fullscreen.margin;t[new g["default"].Id("Website","DocumentFullscreenShowLinks")]=null==e.fullscreen.showLinks||e.fullscreen.showLinks;t[new g["default"].Id("Website","DocumentFullscreenShowTerms")]=null==e.fullscreen.showSearchTerms||e.fullscreen.showSearchTerms;g["default"].SetMultiple(t)},SetFontColumnDivs:function(e){e.appendChild(this._CreateInputDiv("radio",this._inputGroup.Font,this._classNames.FontArial,this._classNames.FontArial,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Font.Arial","Arial"),!0));e.appendChild(this._CreateInputDiv("radio",this._inputGroup.Font,this._classNames.FontVerdana,this._classNames.FontVerdana,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Font.Verdana","Verdana")));e.appendChild(this._CreateInputDiv("radio",this._inputGroup.Font,this._classNames.FontGeorgia,this._classNames.FontGeorgia,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Font.Georgia","Georgia")));e.appendChild(this._CreateInputDiv("radio",this._inputGroup.Font,this._classNames.FontTimesNewRoman,this._classNames.FontTimesNewRoman,D["default"].lookup("SC.Website.Widget.ReadingModeManager.Lightbox.Font.TimesNewRoman","Times New Roman")))},_CreateInputDiv:function(e,t,n,i,a,o){var r=document.createElement("div");r.className=t;var s=document.createElement("input");s.setAttribute("name",t);s.setAttribute("type",e);s.setAttribute("id",n);s.setAttribute("value",i);o&&s.setAttribute("checked","checked");var l=document.createElement("label");l.setAttribute("for",n);l.innerHTML=a;r.appendChild(s);r.appendChild(l);return r},_ApplyAccessibleTooltip:function(e){var t=new ht["default"](e);t.render();return t}};const bi=yi;const Ci=class extends bi{GetDocumentHeaders(){return[x()("#co_docContentHeader #co_docHeaderContainer"),x()("#co_docToolbarContainer #co_docToolbar")]}};function Si(){this.readingModeDiv=null;this.displayOptionsDiv=null;this.displayOptionsDivClass=null;this.allowDisplayOptionsOnly=!1;var e=this;this.SetReadingModeDiv=function(t){e.readingModeDiv=t};this.SetDisplayOptionsDiv=function(t){e.displayOptionsDiv=t};this.SetDisplayOptionsDivClass=function(t){e.displayOptionsDivClass=t};this.SetAllowDisplayOptionsOnly=function(t){e.allowDisplayOptionsOnly=t};this.Draw=function(){if(null!=e.displayOptionsDiv&&(e.allowDisplayOptionsOnly||!e.allowDisplayOptionsOnly&&null!=e.readingModeDiv)){var t=new Ci;t.SetReadingModeToggleDiv(e.readingModeDiv);t.SetDisplayOptionsDiv(e.displayOptionsDiv);t.SetAllowDisplayOptionsOnly(e.allowDisplayOptionsOnly);null!=e.displayOptionsDivClass&&t.SetDisplayOptionsDivClass(e.displayOptionsDivClass);t.Draw()}}}const _i=c().extend({init:function(e){this.deliveryWidget=f["default"].GetObject("Cobalt.Widget.Delivery");this.deliveryWidget.SetIsDownloadEnabled(!e);this.deliveryWidget.SetContextCallback(this.deliveryCallback)},Name:"Delivery",Id:r["default"].ids.docToolbarDeliveryWidget,deliveryCallback:function(e){return f["default"].GetObject(r["default"].objectIds.provider).GetDocumentDeliveryMetaInfo(e).ContextData},SetParentDiv:function(e){this.deliveryWidget.SetParentDiv(e)},GetDocumentGuid:function(){return this.deliveryWidget.GetDocGuid()},SetDocumentGuid:function(e){this.deliveryWidget.SetDocGuid(e)},GetDeliveryMedia:function(){return this.deliveryWidget.DeliveryMedia},Disable:function(){this.deliveryWidget.Disable()},Draw:function(){const e=v["default"].GetDeliveryContextView();this.deliveryWidget.SetContextView(e);this.deliveryWidget.Draw()}});class Di{constructor(e){this.Name="Delivery";this.Id=r["default"].ids.docToolbarDeliveryWidget;this.deliveryWidget=f["default"].GetObject("Cobalt.Widget.DeliveryA11yWidget");this.deliveryWidget.setContextCallback(this.deliveryCallback);this.deliveryWidget.updateDeliveryOptions({isDownloadEnabled:!e})}deliveryCallback(e){return f["default"].GetObject(r["default"].objectIds.provider).GetDocumentDeliveryMetaInfo(e).ContextData}SetParentDiv(e){this.deliveryWidget.updateDeliveryOptions({parentDiv:e})}GetDeliveryMedia(){return this.deliveryWidget.GetDeliveryMedia()}GetDocumentGuid(){return this.deliveryWidget.GetDocGuid()}SetDocumentGuid(e){this.deliveryWidget.updateDeliveryOptions({documentGuid:e})}Disable(){this.deliveryWidget.disable()}Draw(){const e=v["default"].GetDeliveryContextView();this.deliveryWidget.updateDeliveryOptions({contextView:e});this.deliveryWidget.draw()}}const Ti=c().extend({init:function(){this.parentObject=null;this.documentObject=null;this.metainfo=null},SetParentDiv:function(e){this.parentObject=e},SetDocumentObject:function(e){this.documentObject=e},Draw:function(){
var e=this;if(this.documentObject){var t=document.getElementById(r["default"].ids.docketsTrackLink);if(t){(new _["default"]).GetMetaInformation(e.documentObject.DocumentGuid,(function(n){e.metainfo=n;e.initializeDocketsTrackNavigation(t)}))}}},RetrieveParameterValue:function(e,t){var n;if(""!=(n=""==t||null==t?(n=document.getElementById(r["default"].ids.docketsTrackLink)).value:t)||null!=n){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var i=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(n);return null==i?"":decodeURIComponent(i[1])}},initializeDocketsTrackNavigation:function(e){if(null!=e){var t=this,n=document.createElement("div");n.id=r["default"].ids.docToolbarDocketsTrackLinkContainer;var i=document.createElement("a");i.title=e.title;i.innerHTML=r["default"].texts.docketsTrackText;if(te["default"]._AlertsAccessFunctionalityTurnedOn&&te["default"]._AlertsAccessCategoryApplied){const e=t.RetrieveParameterValue("dnum",""),n=t.RetrieveParameterValue("county",""),r=t.RetrieveParameterValue("ctype",""),s=t.RetrieveParameterValue("juris",""),l=t.RetrieveParameterValue("gwCaseType",""),c=(0,d.IsNotNullOrEmpty)(t.metainfo.FunctionalCite)?t.metainfo.FunctionalCite:t.metainfo.Cite,u=window.location.pathname+window.location.search,h=t.RetrieveParameterValue("alertInfo",""),f={alertType:"DocketTrack",dnum:e,county:n,ctype:r,juris:s,addlCaseType:l,docketTrack:c,returnTo:u,returnToDescription:c||e,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData,alertInfo:h};var o=a["default"].Absolute(a["default"].Page.AlertsCreate(f));i.className="co_keyCiteAlert_link";i.href=o.toString()}else{i.id=r["default"].ids.docToolbarDocketsTrackLink;i.href=e.value}n.appendChild(i);t.parentObject.appendChild(n)}}});function Ii(){var e=this;this.Name="DocketsTrack";this.Id=r["default"].ids.docToolbarDocketsTrack;this.docketsTrackWidget=new Ti;this.SetParentDiv=function(t){e.docketsTrackWidget.SetParentDiv(t)};this.SetDocumentObject=function(t){e.docketsTrackWidget.SetDocumentObject(t)};this.Draw=function(){e.docketsTrackWidget.Draw()}}const xi=c().extend({init:function(){this.parentObject=null;this.documentObject=null;this.metainfo=null},SetParentDiv:function(e){this.parentObject=e},SetDocumentObject:function(e){this.documentObject=e},Draw:function(){var e=this;if(this.documentObject){var t=document.getElementById(r["default"].ids.dealTrackLink);if(t){(new _["default"]).GetMetaInformation(e.documentObject.DocumentGuid,(function(n){e.metainfo=n;e.initializeDealTrackNavigation(t)}))}}},initializeDealTrackNavigation:function(){var e=this,t=document.createElement("div");t.id=r["default"].ids.docToolbarDealTrackLinkContainer;var n=document.createElement("a"),i=D["default"].lookup("SC.Document.DealTrack.titleText","Deal Track");n.title=n.innerHTML=i;if(te["default"]._AlertsAccessFunctionalityTurnedOn&&te["default"]._AlertsAccessCategoryApplied){var o=window.location.pathname+window.location.search,s={alertType:"DealTrack",cite:e.metainfo["Cite"],guid:e.documentObject["DocumentGuid"],alertName:e.metainfo["TitleText"],returnTo:o,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData,returnToDescription:i},l=a["default"].Absolute(a["default"].Page.AlertsCreate(s));n.className="co_keyCiteAlert_link";n.href=l.toString()}else n.id=r["default"].ids.docToolbarDealTrackLink;t.appendChild(n);e.parentObject.appendChild(t)}});function ki(){var e=this;this.Name="DealTrack";this.Id=r["default"].ids.docToolbarDealTrack;this.dealTrackWidget=new xi;this.SetParentDiv=function(t){e.dealTrackWidget.SetParentDiv(t)};this.SetDocumentObject=function(t){e.dealTrackWidget.SetDocumentObject(t)};this.Draw=function(){e.dealTrackWidget.Draw()}}var wi=n(8653),Ei=n(4506),Ai=n(4249),Li=n(3300);function Ni(){var e=this;this.parent=null;this.innerXhtml=null;this.searchLimit=1;this.searchBoxId=r["default"].searchBoxId;this.searchDefaultText=r["default"].texts.tocSearchDefaultText;this.searchNotFound=r["default"].texts.tocSearchNotFound;this.SetParentDiv=function(t){e.parent=t};this.SetXhtml=function(t){e.innerXhtml=t};this.SetSearchDefaultText=function(t){e.searchDefaultText=t};this.SetSearchBoxId=function(t){e.searchBoxId=t};this.SetSearchLimit=function(t){e.searchLimit=t};this.Draw=function(){if(!e.parent)return;e.DrawCallback()};this.DrawCallback=function(){var t=document.createElement("div");t.className=r["default"].classes.overlayNextPrevious;const n=document.createElement("button");n.textContent=D["default"].lookup("SC.Document.TocFlyout.PreviousTerm","Previous Term");n.id=r["default"].ids.previousResult;n.className=r["default"].classes.previousLink;v["default"].AttachClickHandler(n,(function(){e.TocNavigate("previous")}));t.appendChild(n);const i=document.createElement("button");i.textContent=D["default"].lookup("SC.Document.TocFlyout.NextTerm","Next Term");i.id=r["default"].ids.nextResult;i.className=r["default"].classes.nextLink;v["default"].AttachClickHandler(i,(function(){e.TocNavigate("next")}));t.appendChild(i);var a=document.createElement("input");a.type="text";a.id=r["default"].ids.searchBoxId;a.value=e.searchDefaultText;a.className=r["default"].classes.defaultText;a.setAttribute("aria-label",e.searchDefaultText);p["default"].AddEventHandler(a,"focus",(function(){if(a.value===e.searchDefaultText){a.value="";a.className=""}}));p["default"].AddEventHandler(a,"blur",(function(){if(""===a.value){a.className=r["default"].classes.defaultText;a.value=e.searchDefaultText}}));p["default"].AddEventHandler(a,"keyup",(function(){e.SearchBoxKeyUp()}));var o=document.createElement("div");o.setAttribute("role","status");o.id=r["default"].ids.overlaySearchResults;var s=document.createElement("div");s.id=r["default"].ids.overlaySearch;s.appendChild(a);s.appendChild(t);this.parent.appendChild(s);this.parent.appendChild(o)};this.SearchBoxKeyUp=function(){var t=document.getElementById(r["default"].ids.searchBoxId),n=document.getElementById(r["default"].ids.textList),i=document.getElementById(r["default"].ids.overlaySearch),a=document.getElementById(r["default"].ids.overlaySearchResults);if(t.value.length>=e.searchLimit&&" "!=t.value){var o=t.value.toLowerCase();n.innerHTML=e.innerXhtml;if(e.HasSearchTerm(n.childNodes,0,o)){e.HighlightTextNode(n.childNodes,0,o);e.TocNavigate("next");i.className=r["default"].classes.activeClass;a.innerHTML=""}else{n.innerHTML=e.innerXhtml;i.className="";a.innerHTML=e.searchNotFound}}else{n.innerHTML=e.innerXhtml;i.className="";a.innerHTML=""}};this.HasSearchTerm=function(t,n,i){var a=!1;if(t){var o=t[n];o.hasChildNodes()?a=e.HasSearchTerm(o.childNodes,0,i):"#text"===o.nodeName&&o.nodeValue.toLowerCase().search(i)>=0&&(a=!0);n<t.length-1&&!a&&(a=e.HasSearchTerm(t,++n,i))}return a};this.HighlightTextNode=function(t,n,i){if(t){var a=t[n];if(a.hasChildNodes())e.HighlightTextNode(a.childNodes,0,i);else if("#text"===a.nodeName&&a.nodeValue.search(new RegExp("("+i+")","gi"))>=0){a.nodeValue=e.ReplaceText(a.parentNode,a,i);++n}n<t.length-1&&e.HighlightTextNode(t,++n,i)}};this.ReplaceText=function(e,t,n){var i=t.nodeValue,a=i.toLowerCase().indexOf(n),o=a+n.length,s="",l="",c="",d="";if(a>=0){s=document.createTextNode(i.substring(0,a));l=document.createElement("SPAN");c=document.createTextNode(i.substring(a,o));l.appendChild(c);l.className=r["default"].classes.searchTerm;d=document.createTextNode(i.substring(o));e.insertBefore(s,t);e.insertBefore(l,t);e.insertBefore(d,t);e.removeChild(t)}};this.TocNavigate=function(t){var n=document.getElementById(r["default"].ids.textList).childNodes;e.Move(n,!0,t)};this.Move=function(t,n,i){var a,o,s=n,l=null;if("next"==i){for(a=0;a<t.length;a++)if(!t[a].data){l=t[a].getElementsByTagName("SPAN");for(o=0;o<l.length;o++)if(l[o].className==r["default"].classes.currentSearchTerm){l[o].className=r["default"].classes.searchTerm;s=!1}else if(l[o].className==r["default"].classes.searchTerm&&!s){l[o].className=r["default"].classes.currentSearchTerm;(0,m.ScrollTo)(e.GetTocScrollableElement(),l[o]);return}}e.Move(t,!1,"next")}else if("previous"==i){
for(a=t.length-1;a>=0;a--)if(!t[a].data)for(o=(l=t[a].getElementsByTagName("SPAN")).length-1;o>=0;o--)if(l[o].className==r["default"].classes.currentSearchTerm){l[o].className=r["default"].classes.searchTerm;s=!1}else if(l[o].className==r["default"].classes.searchTerm&&!s){l[o].className=r["default"].classes.currentSearchTerm;(0,m.ScrollTo)(e.GetTocScrollableElement(),l[o]);return}e.Move(t,!1,"previous")}};this.GetTocScrollableElement=function(){var e;return e=o["default"].EnableIpad?document.getElementById(r["default"].ids.tocScrollInnerWrapper):document.getElementById(r["default"].ids.textList)}}var Ri=n(1646);function Pi(){var e=this;this.parent=null;this.tocXhtml=null;this.documentGuid=null;this.lightbox=null;this.tocFind=null;this.SetParentDiv=function(t){e.parent=t};this.SetGuid=function(t){e.documentGuid=t};this.Draw=function(){if(!e.parent||!e.documentGuid)return;y["default"].Subscribe(r["default"].events.tocInformationRetrieved,e.tocInformationRetrieved)};this.tocInformationRetrieved=function(t,n){e.tocXhtml=n.Data.tocInfo.flyoutXhtml;null!=e.tocXhtml&&""!=e.tocXhtml&&e.drawTableOfContentsLink()};this.drawTableOfContentsLink=function(t){const n=document.createElement("button"),i=document.createElement("div");e.parent.appendChild(i);i.id=r["default"].ids.docToolbarTocFlyoutContainer;n.id=r["default"].ids.tableOfContentsId;n.textContent=t||r["default"].texts.tableOfContents;n.className="co_tbButton";n.type="button";i.appendChild(n);v["default"].AttachClickHandler(n,(function(){e.Open();if(o["default"].EnableIpad){var t=document.getElementById(r["default"].ids.tocScrollInnerWrapper);if(o["default"].isIacOn("IAC-IOS-DISABLE-SCROLLING"))(0,Ri.enableNativeIosScroll)(t);else{ge.ElementStorage.get(t,"iScroll")||ge.ElementStorage.put(t,"iScroll",new wi.iScroll(t))}}}))};this.Open=()=>{e.CreateLightbox();e.lightbox.Draw();document.getElementById(r["default"].ids.tocPopUpClose)?.focus();document.querySelector(`.${r["default"].classes.activeClass}`)?.scrollIntoView()};this.CreateLightbox=function(){var t=r["default"].texts.tableOfContents;e.lightbox=new fe["default"];e.lightbox.SetId(r["default"].ids.tocLightBoxId);e.lightbox.SetCloseLinkObject({id:r["default"].ids.tocPopUpClose,alt:r["default"].texts.closeTocFlyout,onclick:function(){e.lightbox.Remove()}});e.lightbox.SetTitle(t);e.CreateFindBox();e.CreateDownloadLink();var n=document.createElement("div");n.setAttribute("class",r["default"].classes.scrollWrapper);var i=document.createElement("div");i.id=r["default"].ids.tocScrollInnerWrapper;i.innerHTML=e.tocXhtml;n.appendChild(i);e.lightbox.GetContentDomElement().appendChild(n);const a='<li><button class="'+r["default"].classes.submitButton+'" id="'+r["default"].ids.tocFlyoutCloseButton+'">'+r["default"].texts.close+"</button></li>";var o=document.createElement("ul");o.innerHTML=a;const s=o.querySelector(`#${r["default"].ids.tocFlyoutCloseButton}`);e.lightbox.GetFooterDomElement().appendChild(o);v["default"].AttachClickHandler(s,(function(){e.lightbox.Remove();return!1}));s.onclick=function(){return!1};e.lightbox.SetIsExpandedView(!0)};this.CreateFindBox=function(){e.tocFind=new Ni;e.tocFind.SetParentDiv(e.lightbox.GetContentDomElement());e.tocFind.SetXhtml(e.tocXhtml.substring(e.tocXhtml.indexOf('<ul id="'+r["default"].ids.textList+'">')+31).substring(0,e.tocXhtml.lastIndexOf("</ul>")));e.tocFind.Draw()};this.CreateDownloadLink=function(){if(o["default"].isFeatureEnabled("DOWNLOADDELIVERY")){const t=e.lightbox.GetContentDomElement(),n=document.createElement("button");n.className=r["default"].classes.searchDownloadLink;if(o["default"].EnableDeliveryWidget){v["default"].AttachClickHandler(n,(function(){(new _["default"]).GetMetaInformation(e.documentGuid,e.submitTocDelivery,e.submitTocDelivery)}));n.onclick=function(){return!1}}else{n.className+=" "+r["default"].classes.disabled;n.title=D["default"].lookup("SC.Website.Delivery.DeliveryWidgetNotEnabled","You have exceeded delivery limits allowed on your password. For more information, please call 1-800-850-WEST (9378)")}n.innerHTML=r["default"].texts.downloadToc;t.appendChild(n)}};this.submitTocDelivery=function(e){var t=new Ei["default"];t.ContextView=Ai["default"].SingleDocumentToc;if(e){t.DocumentContentType=e.ContentType;t.DocumentGuid=e.DocGuid}var n=r["default"].texts.tableOfContents;t.TocDocumentTitle=n;Li["default"].InitiateDocumentTocDelivery(t)}}function Oi(){var e=this;this.Name="TocFlyout";this.Id=r["default"].ids.docToolbarTocFlyout;this.tocFlyoutWidget=new Pi;this.SetParentDiv=function(t){e.tocFlyoutWidget.SetParentDiv(t)};this.SetDocumentGuid=function(t){e.tocFlyoutWidget.SetGuid(t)};this.Draw=function(){e.tocFlyoutWidget.Draw()}}var Bi=n(4352),Mi=n(4014),Fi=n(3792);function Wi(){var e=this,t="uberchunck",n=Bi["default"].Retrieve(t);this.parent=null;this.documentGuid=null;this.dataFunc=null;this.maxCountOfDocuments=0;this.defaultUrl=null;this.SetParentDiv=function(t){e.parent=t};this.SetGuid=function(t){e.documentGuid=t};this.SetInfiniteScrollOn=function(t){e.InfiniteScrollOn=t};this.SetDataFunc=function(t){e.dataFunc=t};this.SetMaximumLimitOfDocuments=function(t){e.maxCountOfDocuments=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.GetLink=function(){if(e.documentGuid){const t=e.GetInfiniteScrollPath(),n=`/Document/${e.documentGuid}/${t}`,i=this.GetInfiniteScrollQuery(),o=a["default"].Relative({Path:n,QueryString:i}),r=Fi["default"].getNavIdFromUrl();if(r)return Fi["default"].AppendNavId(o,r);return o}if(!e.defaultUrl)return"";return e.defaultUrl};this.GetInfiniteScrollQuery=function(){const t={transitionType:"Default",contextData:a["default"].PageContextData},n=Z["default"]?.ViewModelData.DocumentSource;if(o["default"].isIacOn("IAC-COMMENTARY-RETURN-TO-LIST")&&n){t.navigationPath=n.NavigationPath;t.list=n.List;t.listSource=n.ListSource;t.listPageSource=n.ListPageSourceKey;t.rank=Z["default"].ViewModelData.Rank;t.disableHighlightSearchTerms=e.InfiniteScrollOn||void 0}return t};this.GetInfiniteScrollPath=function(){return e.InfiniteScrollOn?"View/FullText.html":"InfiniteScroll"};this.UpdateLink=function(t){e.defaultUrl=t};this.ShowInfiniteScrollPage=function(i){n.Clear(t);for(var a=[],o=0;o<i.length;o++)a.push(i[o].DocumentGuid);n.Add(t,{data:a,returnUrl:location.href});e.documentGuid=a[0];(0,hn["default"])(e.GetLink())};this.ShowErrorMessage=function(t){var n=t.length>0?D["default"].format("SC.Document.Widget.InfiniteScroll.DocumentSelectedWarning",{Count:e.maxCountOfDocuments},`Only a maximum of ${e.maxCountOfDocuments} selections are allowed.`):D["default"].lookup("SC.Document.Widget.InfiniteScroll.NoDocumentSelected","Select 1 or more items to display in Reading Mode."),i=x()("#"+r["default"].ids.docToolbarInfiniteScrollContainer);new Mi["default"](n,!0,i,["bottom","right"],!1,250).Show()};this.BindClickEventOfButton=function(){document.querySelectorAll(`#${r["default"].ids.docToolbarInfiniteScrollContainer}, #${r["default"].ids.documentToolbar}`).forEach((t=>t.addEventListener("click",(function(t){const n=t.target.closest("#co_infiniteScrollLink");if(!t.currentTarget.contains(n))return;if(null!=e.dataFunc){var i=e.dataFunc();i.length>0?e.maxCountOfDocuments>0&&i.length>e.maxCountOfDocuments?e.ShowErrorMessage(i):e.ShowInfiniteScrollPage(i):e.ShowErrorMessage(i)}else e.ChangePage()}))))};this.ChangePage=function(){n.Clear(t);(0,hn["default"])(e.GetLink())};this.Draw=function(){if(!e.parent||!o["default"].isFeatureSupported("ReadingMode"))return;e.parent.insertAdjacentHTML("beforeend",st().template('<div id="<%=docToolbarInfiniteScrollContainer%>"><button id="co_infiniteScrollLink" title="<%=iconToolTipLabel%>" class="co_tbButton <%=linkState%>"><span class="th_simple_icon icon_book <%=iconState%>"></span><%=iconLabel%></button></div>',{docToolbarInfiniteScrollContainer:r["default"].ids.docToolbarInfiniteScrollContainer,iconState:e.InfiniteScrollOn?"reversed":"custom",linkState:e.InfiniteScrollOn?"co_active":"",iconLabel:D["default"].lookup("SC.Document.Widget.InfiniteScroll.ReadingMode","&nbsp;"),
iconToolTipLabel:e.InfiniteScrollOn?D["default"].lookup("SC.Document.Widget.InfiniteScroll.Tooltip.On","Turn off reading mode"):D["default"].lookup("SC.Document.Widget.InfiniteScroll.Tooltip.Off","Turn on reading mode")}));e.BindClickEventOfButton()}}function Hi(){var e=this;this.Name="InfiniteScroll";this.Id=r["default"].ids.docToolbarInfiniteScroll;this.widget=new Wi;this.SetParentDiv=function(t){e.widget.SetParentDiv(t)};this.SetDocumentGuid=function(t){e.widget.SetGuid(t)};this.SetContentCallback=function(t){e.widget.SetDataFunc(t)};this.SetMaximumLimitCountOfDocument=function(t){e.widget.SetMaximumLimitOfDocuments(t)};this.SetInfiniteScrollOn=function(t){e.widget.SetInfiniteScrollOn(t)};this.Draw=function(){e.widget.Draw()}}var Gi=n(9133),Ui=c().extend({init:function(){this.documentDisplay=null;this.documentNavigation=null;this.searchGradingId=null;this.toolbar=new Bn;this.keyCiteAlertWarning="None";this.docketTrackWarning="None";this.dealTrackWarning="None";this.documentViewModelData={};void 0!==i["default"].ViewData&&this.SetDocumentViewModelData(i["default"].ViewData)},SetParentDiv:function(e){this.toolbar.SetParentDiv(e)},SetDocumentDisplay:function(e){this.documentDisplay=e},SetDocumentViewModelData:function(e){this.documentViewModelData=e},SetSearchGradingId:function(e){this.searchGradingId=e},SetKeyCiteAlertWarning:function(e){this.keyCiteAlertWarning=e},SetDocketTrackWarning:function(e){this.docketTrackWarning=e},SetDealTrackWarning:function(e){this.dealTrackWarning=e},Draw:function(){var e=this;if(!e.documentDisplay.FinishedRendering){const t=r["default"].events.documentRenderComplete;y["default"].Subscribe(t,e.Draw,e);return}null==e.documentNavigation&&(e.documentNavigation=new Y.A);if(!e.documentNavigation.hasLoadedData&&!e.documentNavigation.isRefreshingExpiredData){const t=r["default"].events.docNavDataIsReady;y["default"].Subscribe(t,e.Draw,e);if(e.documentNavigation.FetchNextPreviousData(e.documentDisplay.listSource,e.documentDisplay.navigationPath,e.documentDisplay.list,e.documentDisplay.rank))return}e.setLeftWidgets();e.setRightWidgets();e.setResponsiveMenu();e.documentNavigation.isRefreshingExpiredData||e.toolbar.Draw();v["default"].publishHubEvent(r["default"].events.documentToolbarRenderComplete,null,{},null);o["default"].isIacOn("IAC-BESTLAW-TRACKING")&&setTimeout(e.bestlawClickTracking,1e3);e.setResponsiveNavigation()},bestlawClickTracking:function(){document.querySelectorAll("#co_docToolbarContainer .ink-navigation.ink-sticky.bestlaw-menu").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest("a");if(e.currentTarget.contains(t)){var n=t.id||"",i=t.textContent.trim(),o=a["default"].Relative(a["default"].Rest.DocumentBestlaw({clickedId:n,clickedText:i}));jt["default"].Post({vertical:A["default"].Website,relativeUrl:o,responseIsJson:!1,contentType:"application/json",jsonObject:"",failedCallback:function(e){throw new Error("Failed to write REST event at "+o+" Exception: "+e.toString())},timeoutMillisecs:6e4})}}))}))},setLeftWidgets:function(){var e=[];if(!this.documentViewModelData.IsRelatedFullTextView){this.setBackToResultsWidget(e);this.setDocumentNavigationWidget(e);this.setTermNavWidget(e);this.setShowDocsInPlanWidget(e)}this.setPreReleaseContentWidgets(e);this.toolbar.SetLeftWidgets(e)},setBackToResultsWidget:function(e){if(this.documentNavigation.hasNavigationData||this.documentNavigation.hasReturnToLink||this.isBackToResultsObligatory()){var t=new Mn;t.SetDocumentNavigation(this.documentNavigation);e.push(t)}},setDocumentNavigationWidget:function(e){if(this.documentNavigation.hasNavigationData){var t=new Gn;t.SetDocumentDisplay(this.documentDisplay);e.push(t)}},setTermNavWidget:function(e){const t=Z["default"].PageData.DocumentTabView.ContentType,n=this.documentNavigation.hasTerms&&this.documentDisplay.View!==s["default"].Preview,i=Gi["default"].isKeyCiteOverrulingsAllowed()&&o["default"].isIacOn("IAC-OVERRULING-RISK-NAV")&&!this.documentNavigation.hasTerms&&this.documentDisplay.View!==s["default"].Preview&&t&&"cases"===t.toLowerCase();if(n||i){var a=f["default"].GetObject(r["default"].objectIds.widget$ToolbarTermNavigation);a.SetDocumentDisplay(this.documentDisplay);e.push(a)}},setShowDocsInPlanWidget:function(e){if(this.documentNavigation.hasNavigationData&&this.documentNavigation.showInPlanDocumentsOnly){var t=new jn;e.push(t)}},setPreReleaseContentWidgets:function(e){if(!0===o["default"].isFeatureEnabled("PRERELCONTENTFEAT")){var t=new Vn;t.SetDocumentDisplay(this.documentDisplay);e.push(t);var n=new qn;n.SetDocumentDisplay(this.documentDisplay);e.push(n);var i=new zn;i.SetDocumentDisplay(this.documentDisplay);e.push(i);var a=new Kn;a.SetDocumentDisplay(this.documentDisplay);e.push(a);var r=new Yn;r.SetDocumentDisplay(this.documentDisplay);e.push(r)}},setRightWidgets:function(){const e=this.buildRightWidgets();this.toolbar.SetRightWidgets(e)},buildRightWidgets:function(){const e=[];var t=new Si;this.setShowVersionHistoryWidget(e);this.setGradingWidget(e);this.setGoToWidget(e);this.tocOnDocSetup(e);this.setDocketsTrackWidget(e);this.setDealTrackWidget(e);this.setKeyCiteAlertWidget(e);this.setRedlineWidget(e);this.setSeparatorWidget(e);this.setLinkBuilderWidget(e);this.setSearchWithinDocumentWidget(e);this.setDisplayOptionsWidget(e,t);this.setNoteWidget(e);this.setFolderingWidget(e);this.setBookmarkWidget(e);this.setDeliveryWidget(e);this.setReadingModeWidget(e,t);return e},setShowVersionHistoryWidget:function(e){if(this.documentViewModelData.DocumentVersionData&&this.documentViewModelData.DocumentVersionData.versionNumber>1){var t=new Qn;t.SetDocumentDisplay(this.documentDisplay);e.push(t)}},setGradingWidget:function(e){if((0,d.IsNotNullOrEmpty)(this.documentDisplay.NavigationProperties.NavigationPath)){var t=new oi;t.SetSearchGradingId(this.searchGradingId);e.push(t)}},setGoToWidget:function(e){if(this.documentDisplay.View!==s["default"].Preview){var t=new gi;t.SetDocumentDisplay(this.documentDisplay);e.push(t)}},tocOnDocSetup:function(e){const t=this.isFullTocOnDoc();this.setInfiniteScrollWidget(e,t);this.setTocNavWidget(e);this.setTocFlyoutWidget(e,t)},isFullTocOnDoc:function(){return this.documentViewModelData&&!0===this.documentViewModelData.FullTocOnDoc},setInfiniteScrollWidget:function(e,t){if(t){var n=new Hi;n.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.push(n)}},setTocNavWidget:function(e){var t=new li;t.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.push(t)},setTocFlyoutWidget:function(e,t){if(!t){var n=new Oi;n.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.push(n)}},setDocketsTrackWidget:function(e){if(!0===o["default"].isFeatureEnabled("DKTTRACK")&&"Block"!==this.docketTrackWarning){var t=new Ii;t.SetDocumentObject(this.documentDisplay);e.push(t)}},setDealTrackWidget:function(e){if(!0===o["default"].isFeatureEnabled("BLCDEALTRACKALERT")&&"Block"!==this.dealTrackWarning){var t=new ki;t.SetDocumentObject(this.documentDisplay);e.push(t)}},setKeyCiteAlertWidget:function(e){if(!0===o["default"].isFeatureEnabled("KEYCITEALERTS")&&"Block"!==this.keyCiteAlertWarning){var t=new mi;t.SetDocumentDisplay(this.documentDisplay);e.push(t)}},setRedlineWidget:function(e){var t=function(t){t&&e.push(new hi(t))};f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(this.documentDisplay.DocumentGuid,t,t)},setSeparatorWidget:function(e){if(!this.documentViewModelData.IsRelatedFullTextView){var t=new vi;e.push(t)}},setLinkBuilderWidget:function(e){if(Z["default"].PageData.LinkBuilderParameters){var t=f["default"].GetObject(r["default"].objectIds.widget$LinkBuilder);t.Initialize(Z["default"].PageData.LinkBuilderParameters);e.push(t)}},setSearchWithinDocumentWidget:function(e){if(!this.documentViewModelData.IsRelatedFullTextView){var t=f["default"].GetObject(r["default"].objectIds.widget$ToolbarSearchWithinDocument);t.SetDocumentDisplay(this.documentDisplay);e.push(t)}},setDisplayOptionsWidget:function(e,t){if(this.showDisplayOptions()){var n=new fi;n.SetReadingModeManager(t);e.push(n)}},setNoteWidget:function(e){if(o["default"].isFeatureEnabled("ANNOTATIONS")&&v["default"].IsAnnotationable(document)){
var t=f["default"].GetObject(r["default"].objectIds.widget$ToolbarAddNote);t.SetDocumentDisplay(this.documentDisplay);e.push(t)}},setFolderingWidget:function(e){if(o["default"].isFeatureEnabled("FOLDERS")&&!this.documentDisplay.IsUserDocument&&v["default"].IsFolderable(document)){var t=f["default"].GetObject(r["default"].objectIds.provider).GetFolderingWidget();t.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.push(t)}},setBookmarkWidget:function(e){if(o["default"].isIacOn("IAC-PLC-DOCUMENT")&&document.body.matches(".th_lightGray")&&!this.documentDisplay.IsUserDocument&&v["default"].IsFolderable(document)){var t=f["default"].GetObject(r["default"].objectIds.provider).GetBookmarkWidget();t.setDocumentGuid(this.documentDisplay.DocumentGuid);e.push(t)}},setDeliveryWidget:function(e){let t;t=o["default"].isIacOn("IAC-A11Y-DROPDOWN-DELIVERY-DOCUMENT")?new Di(this.documentDisplay.IsUserDocument):new _i(this.documentDisplay.IsUserDocument);t.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.push(t)},setReadingModeWidget:function(e,t){var n=new pi;n.SetReadingModeManager(t);e.push(n)},setResponsiveMenu:function(){},setResponsiveNavigation:function(){},isBackToResultsObligatory:function(){return!1},showDisplayOptions:function(){return!this.documentDisplay.IsUserDocument}});const ji=Ui;const $i=c().extend({init:function(){},parentObject:null,rulebookMode:!1,Id:r["default"].ids.coidRulebookToggleButton,SetParentDiv:function(e){this.parentObject=e},SetRulebookMode:function(e){this.rulebookMode=e},Draw:function(){!0===this.rulebookMode&&this.parentObject?.classList.add("kh_genericBtn","co_floatRight");var e=document.createElement("a");e.href="javascript:void(0)";e.className="co_tbButton";e.text="Rulebook";this.parentObject?.append(e);e.addEventListener("click",(function(){var e=new a["default"].Parse(document.URL);e.QueryString.rulebookMode=!0;var t=a["default"].Absolute(e);Ze["default"].PageTransition(t)}))}});var Vi=n(1075),qi=n.n(Vi),zi=n(1385),Ki=n(2915);class Yi{constructor(e,t){this.dropdownOpts=e;this.isA11YDropdownMenuOn=o["default"].isIacOn("IAC-A11Y-DROPDOWNMENU-REDESIGN");this.menuOpts={collapseOnSelect:!this.isA11YDropdownMenuOn,ariaLabelForMenuContainer:D["default"].lookup("SC.Website.Widget.CopyDropdownMenu.CopyMenu","Copy"),itemsContainerClass:"a11yDropdown-menu--narrow a11yDropdown-menu--right checkmarks icons",selectedItemClass:this.isA11YDropdownMenuOn?"reset-selection":"checked"};this.buttonOpts={changeButtonTitleOnSelect:!1,ariaLabelForButton:this.isA11YDropdownMenuOn?D["default"].lookup("SC.Website.Widget.CopyDropdownMenuButton.CopyMenu","Copy Menu"):void 0};this.copyMenuSelectedHandler=t}draw(){this.menuOpts.items=this._initializeMenuItems();this._buildCopyMenuButton();this.isA11YDropdownMenuOn?this.menu=new Tt["default"](this.menuOpts):this.menu=new Ki["default"](this.menuOpts);this.menuButton=new zi["default"](this.menu,this.buttonOpts);this.menuButton.draw();const e=this.menuButton.getDOMElement();e.innerHTML='<span class="icon25 icon_downMenu-gray"></span>';const t=this.menuButton.getAriaLabel();this.tooltip=new ht["default"](e,t);this.tooltip.render();this._addEventHandlers()}_addEventHandlers(){this.menu.getDOMElement()?.addEventListener("changeButtonLabel",(()=>{if(this.tooltip){const e=this.menuButton.getAriaLabel();this.tooltip.setTooltipText(e)}}));this.menu.getDOMElement()?.addEventListener("menu-item-selected",(e=>{this.menuButton.collapsePopup();const t=e.detail.items[0].value;this._publishCopyMenuSelectedEvent(t,!0);this.copyMenuSelectedHandler(t);this.isA11YDropdownMenuOn&&this.updateSelectedItem()}));this._addCopyMenuButtonHandler()}_addCopyMenuButtonHandler(){this.copyMenuButton.addEventListener("click",(()=>{const e=this.dropdownOpts.selectedFeature;this._publishCopyMenuSelectedEvent(e,!1);this.copyMenuSelectedHandler(e)}))}_publishCopyMenuSelectedEvent(e,t){const n={selectedFeature:e,updatePreference:t},i=new b["default"](n,{},"Cobalt.Website.CopyMenuOption.Clicked","1.0");y["default"].Publish("Cobalt.Website.CopyMenuOption.Clicked",i)}_buildCopyMenuButton(){const e=this.dropdownOpts.copyMenuItems[this.dropdownOpts.selectedFeature];this.copyMenuContainer=document.createElement("div");this.copyMenuContainer.classList.add("a11yDropdown-button");this.dropdownOpts.parentDiv.append(this.copyMenuContainer);this.buttonOpts.dropdownContainer=this.copyMenuContainer;this.copyMenuButton=document.createElement("button");this.copyMenuButton.classList.add("a11yDropdown-button");this.menuButtonTooltip=new ht["default"](this.copyMenuButton,e.content);this.menuButtonTooltip.render();const t=document.createElement("span");t.classList.add("icon25",e.copyMenuIconClass);t.innerHTML=e.description;this.copyMenuButton.append(t);this.buttonOpts.dropdownContainer.append(this.copyMenuButton)}_initializeMenuItems(){return Object.keys(this.dropdownOpts.copyMenuItems).map((e=>{const t=this.dropdownOpts.copyMenuItems[e],n={content:t.content,iconClass:t.iconClass,id:t.id,value:e};this.isA11YDropdownMenuOn||(n.isSelected=e===this.dropdownOpts.selectedFeature);return n}))}updateSelectedItem(){if(this.isA11YDropdownMenuOn)this.menu?.selectItemByIndex(0,!1);else{const e=this.menu.opts.items.findIndex((e=>e.value===this.dropdownOpts.selectedFeature));this.menu?.selectItemByIndex(e,!1)}}updateCopyMenuButton(e){const t=this.dropdownOpts.copyMenuItems[e];if(!t)return;this.menuButtonTooltip?this.menuButtonTooltip.setTooltipText(t.content):this.copyMenuButton.setAttribute("title",t.content);const n=this.copyMenuButton.querySelector("span");n.className=`icon25 ${t.copyMenuIconClass}`;n.innerText=t.description}}const Qi={None:"None",CopyLink:"CopyLink",CopyCitation:"CopyCitation",AddToOutline:"AddToOutline"};function Xi(e,t,n,i,a,o){var r=this;this.popUp=null;this.infoBox=null;this.popupConsumer=null;this.referenceElement="string"==typeof n?document.querySelector(n):n;this.referenceElementCoordinates=function(e){return x()(e).offset()};this.getWindowWidth=function(){if(this.popupConsumer)return this.popupConsumer.clientWidth;return window.innerWidth};this.referenceElementPositionLeft=function(e){var t=this.getWindowWidth(),n=x()(e);this.offset=n.offset();return this.offset.left<t/2};this.drawPopUp=function(){const e=this.referenceElement?.offsetHeight??0,o=this.referenceElementCoordinates(n).top+e,s=this.calculateLeftPosition();this.popUp=x()("<div><div/>");this.AppendPopupAndAddStyles(o,s,a,this.referenceElement);const l=void 0===i||i,c=t?$["default"].Failure:$["default"].Success,d=!t;this.infoBox=new U["default"](this.popUp[0],c,j["default"].None,!1,t,d);this.unbindClickOffCallback=(0,Ae.BindClickOffCallback)(this.popUp,(function(){r.Destroy()}));l&&this.Show()};this.SetPopupConsumer=function(e){this.popupConsumer=e};this.GetContainer=function(){return this.popUp};this.Destroy=function(){r.unbindClickOffCallback?.();if(r.infoBox){r.infoBox.Destroy();r.infoBox=void 0}if(r.popUp){r.popUp.find("*").unbind().end().unbind().empty().remove();r.popUp=void 0}};this.Show=function(){if(this.popUp&&this.infoBox){this.infoBox.Draw(e);this.popUp.addClass("co_foldering_popupMessageContainer");o&&this.popUp.addClass(o)}};this.calculateLeftPosition=function(){const e=this.referenceElement?.offsetWidth??0;let t=this.referenceElementCoordinates(n).left-a+e;!0===this.referenceElementPositionLeft(n)&&(t=this.referenceElementCoordinates(n).left);return t}}Xi.prototype.AppendPopupAndAddStyles=function(e,t,n){this.popUp.appendTo(document.body).css({position:"absolute",top:e,left:t,width:n+"px"})};const Ji=Xi;Ji.prototype.AppendPopupAndAddStyles=function(e,t,n,i){var a=Z["default"].PageData.DocumentTabView,o=a?"fixed":"absolute";const r=i?.offsetHeight??0;a&&(e=x()(i).offset().top-window.pageYOffset+r);let s={position:o,top:e,left:t,width:n+"px"};if(this.popupConsumer){const e=Number(getComputedStyle(this.popupConsumer).zIndex)+1;s={...s,"z-index":e}}this.popUp.appendTo(document.body).css(s)};const Zi=Ji;var ea=n(9914);function ta(e,t){var n=this;const i=t?.copyButtonClickEventName??"Cobalt.Document.CopyLink.Copy";this.lightbox=new fe["default"];this.linkUrl=e;this.messagePopupWidth=300
;this.manualCopyPromptText=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.PromptMessage","Please press CTRL+C or CMD+C on your keyboard to copy this link to your clipboard.");this.lightboxTitle=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.Title","Copy link to this page");this.linkLabel=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.LinkUrl","Link to copy");this.copyButtonLabel=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.CopyButton","Copy link");this.copyButtonAriaLabel=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.CopyButtonAriaLabel","Copy link to clipboard");this.cancelButtonLabel=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.CancelButton","Cancel");this.closeButtonLabel=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.CloseButton","Close");this.closeWidgetAltText=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.CloseWidgetAltText","Close copy link to this page window");this.toggleAnchorsTreeCheckboxText=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.ToggleAnchorTreeCheckbox","Add section specific link");this.anchorsTreeFilterPlaceholder=D["default"].lookup("SC.Website.Widget.Linkbuilder.Lightbox.AnchorsTreeFilterPlaceholder","Search by section");this.draw=function(e="#co_linkBuilder"){n.lightbox.SetTitle(n.lightboxTitle);n.lightbox.SetId("co_linkBuilderLightbox");n.lightbox.SetUseOptionalEventHandling(!0);n.lightbox.SetClass("co_wide");n.lightbox.SetCloseLinkObject({id:"co_linkBuilderLightbox_CloseLink",alt:n.closeWidgetAltText,onclick:function(){n.cancelLightbox()}});n.lightbox.GetContentDomElement().innerHTML=n.buildContentHtml();n.lightbox.GetFooterDomElement().innerHTML=n.buildFooterHtml();n.lightbox.Draw();n.selectText();document.getElementById("co_LinkBuilderUrl")?.focus();document.getElementById("co_LinkBuilderUrl")?.select();document.getElementById("co_linkBuilderLightbox_CopyButton")?.addEventListener("click",(()=>{const t=this.copyText();this.close();this.showConfirmationMessage(t,e);(0,R.postUXEvent)(i)}));document.getElementById("co_linkBuilderLightbox_CloseButton")?.addEventListener("click",n.cancelLightbox);document.getElementById("co_linkBuilderLightbox_CancelButton")?.addEventListener("click",n.cancelLightbox);n.isAnchorTreeSupported()&&this.setEventsOnAnchorTreeElements()};this.buildContentHtml=function(){var e=`<form> <input id="co_LinkBuilderUrl" type="url" spellcheck="false" class="co_overlayBox_url" readonly="readonly" name="${n.linkLabel}" value="${n.linkUrl}" title="${n.linkLabel}"> </input> </form>`;n.isCopySupported()||(e+=`<p>${n.manualCopyPromptText}</p>`);n.isAnchorTreeSupported()&&(e+=n.buildAnchorTree());return e};this.buildFooterHtml=function(){var e='<div class="Modal-footerButtons">';if(n.isCopySupported()){e+=`<button id="co_linkBuilderLightbox_CopyButton" class="co_primaryBtn" type="button" name="copy" aria-label="${n.copyButtonAriaLabel}">${n.copyButtonLabel}</button>`;e+=`<button id="co_linkBuilderLightbox_CancelButton" class="co_cancelBtn co_overlayBox_buttonCancel" type="button" name="cancel">${n.cancelButtonLabel}</button>`}else e+=`<button id="co_linkBuilderLightbox_CloseButton" class="co_primaryBtn" type="button" name="close" aria-label="${n.closeWidgetAltText}">${n.closeButtonLabel}</button>`;return e+="</div>"};this.buildAnchorTree=function(){return st().template('<div>\n\t<div class="co_linkBuilderLightbox_toggleContainter">\n        <input id="co_linkBuilderLightbox_toggleAnchorTreeCheckbox" type="checkbox">\n        <label for="co_linkBuilderLightbox_toggleAnchorTreeCheckbox"><%-checkboxLabel%></label>\n    </div>\n    <input id="co_linkBuilderLightbox_anchorTreeFilter" type="text" spellcheck="false" placeholder="<%=filterInputPlaceholder%>">\n    <div id="co_linkBuilderLightbox_anchorTreeWrapper">\n        <ol role="tree">\n            <% _.each(anchorTree, function(item) {%>\n            <li role="treeitem" class="co_listItem">\n                <a href="javascript:void(0);" anchor-link="<%=item.link%>" anchor-name="<%=item.attribute%>"><%-item.name%></a>\n                <% var innerItems = item.innerAnchors; %>\n                <% if(innerItems.length > 0) { %>\n                    <ol role="tree">\n                    <% _.each(innerItems, function(innerItem) { %>\n                        <li role="treeitem" class="co_listItem co_linkBuilderLightbox_innerListItem">\n                            <a href="javascript:void(0);" anchor-link="<%=innerItem.link%>" anchor-name="<%=innerItem.attribute%>"><%-innerItem.name%></a>\n                        </li>\n                    <%})%>\n                    </ol>\n                <%}%>\n            </li>\n            <%});%>\n        </ol>\n    </div>\n</div>')({checkboxLabel:n.toggleAnchorsTreeCheckboxText,filterInputPlaceholder:this.anchorsTreeFilterPlaceholder,anchorTree:n.getAnchorTreeFromTableOfContents()})};this.getAnchorTreeFromTableOfContents=function(){var e=[];document.querySelectorAll("#kh_toc-wrapper ol.kh_toc-list > li").forEach((t=>{var i=[];x()(t).find("ol > li > .kh_tocItem > a").each((function(){var e=this.textContent.trim(),t={name:e,attribute:n.prepareTextForFiltering(e),link:this.getAttribute("href"),innerAnchors:[]};i.push(t)}));var a=x()(t).find("> .kh_tocItem > a"),o=a.contents().eq(1).text().trim(),r={name:n.getAnchorPrefix(x()(t))+o,attribute:n.prepareTextForFiltering(o),link:a.attr("href"),innerAnchors:i};e.push(r)}));return e};this.getAnchorPrefix=function(e){var t=x()(e).find("> .kh_tocItem > span").text();return t?t+" ":""};this.setEventsOnAnchorTreeElements=function(){var e=document.getElementById("co_linkBuilderLightbox_toggleAnchorTreeCheckbox"),t=document.getElementById("co_linkBuilderLightbox_anchorTreeFilter"),i=document.getElementById("co_linkBuilderLightbox_anchorTreeWrapper");(0,lt.hideElements)(t);(0,lt.hideElements)(i);e?.addEventListener("change",(function(e){if(e.target.checked){(0,lt.showElements)(t);(0,lt.showElements)(i)}else{(0,lt.hideElements)(t);(0,lt.hideElements)(i);n.cleanAdditionalSection()}}));t?.addEventListener("keyup",(function(e){var t=n.prepareTextForFiltering(e.target.value);n.applyFiltering(t)}));i?.querySelectorAll("a").forEach((e=>e.addEventListener("click",(function(e){var t=e.currentTarget.getAttribute("anchor-link").replace(/^#/g,"");n.setLinkBuilderUrl(t)}))))};this.cleanAdditionalSection=function(){x()("#co_linkBuilderLightbox_anchorTreeFilter").val("");n.applyFiltering("");n.setLinkBuilderUrl("")};this.applyFiltering=function(e){var t=document.getElementById("co_linkBuilderLightbox_anchorTreeWrapper");if(null==e||""===e){(0,lt.showElements)(t?.querySelectorAll("a"));(0,lt.showElements)(t?.querySelectorAll(":scope > ol > li"))}else{(0,lt.hideElements)(t?.querySelectorAll("a"));(0,lt.showElements)(t?.querySelectorAll(`a[anchor-name*="${e}"]`));(0,lt.showElements)(t?.querySelectorAll(":scope > ol > li"));(0,lt.hideElements)(Array.from(t?.querySelectorAll(":scope > ol > li")??[]).filter((e=>!Array.from(e.querySelectorAll("a")).find((e=>(0,ea.isVisible)(e))))))}};this.setLinkBuilderUrl=function(e){if(e){var t=a["default"].Parse(n.linkUrl);t.QueryString["documentSection"]=e;var i=a["default"].Absolute(t);const o=document.getElementById("co_LinkBuilderUrl");o&&(o.value=i??"")}else{const e=document.getElementById("co_LinkBuilderUrl");e&&(e.value=n.linkUrl??"")}};this.prepareTextForFiltering=function(e){return e.replace(/[^\w\s]/g,"").toLowerCase().trim()};this.selectText=function(){var e=document.getElementById("co_LinkBuilderUrl");e.focus();e.setSelectionRange(0,e.value.length)};this.copyText=function(){n.selectText();var e;try{e=document.execCommand("copy")}catch(t){e=!1}return e};this.isCopySupported=function(){return o["default"].isIacOn("IAC-UK-LINKBUILDER-COPY")&&document.queryCommandSupported("copy")};this.isAnchorTreeSupported=function(){return o["default"].isIacOn("IAC-LINKBUILDER-ANCHORTREE")&&document.querySelector("#kh_toc-wrapper ol.kh_toc-list > li > .kh_tocItem > a")};this.close=function(){n.lightbox.Remove()};this.cancelLightbox=function(){n.close()};this.showConfirmationMessage=function(e,t){let n
;n=e?D["default"].lookup("SC.Website.Widget.Linkbuilder.SuccessMessage","The link has been copied successfully."):D["default"].lookup("SC.Website.Widget.Linkbuilder.FailedMessage","Failed to copy the link.");new Zi(n,!e,t,!0,this.messagePopupWidth).drawPopUp()}}function na(){ta.apply(this,arguments);this.getAnchorPrefix=function(e){var t=x()(e).find("> .kh_tocItem > a > span").text();return t?t+". ":""};const e=Lt["default"].isPracticalLawUSCompartment();e||(this.copyButtonLabel=D["default"].lookup("SC.Website.Widget.CopyDropdownMenu.Lightbox.CopyButton","Copy link"));const t=this.cancelLightbox;this.cancelLightbox=function(){t.call(this);e||y["default"].Publish("Cobalt.Website.CopyMenuOption.Canceled")}}na.prototype=Object.create(ta.prototype);const ia=na;const aa={[Qi.CopyLink]:(new class{isCopyLinkFeatureEnabled(){return o["default"].isFeatureEnabled("LINK BUILDER")&&!!Z["default"]?.PageData?.LinkBuilderParameters}initializeCopyLinkFeature(){if(!this.copyLinkWidget&&this.isCopyLinkFeatureEnabled()){this.copyLinkWidget=f["default"].GetObject(r["default"].objectIds.widget$LinkBuilder);this.copyLinkWidget.Initialize(Z["default"].PageData.LinkBuilderParameters)}}copyLinkFeatureHandler(){this.initializeCopyLinkFeature();const e=`#${r["default"].ids.docToolbarCopyMenuWidget}`,t=this.copyLinkWidget.buildUrl();new ia(t).draw(e)}build(){return{content:D["default"].lookup("SC.Website.Widget.CopyDropdownMenu.CopyLinkName","Copy link"),description:D["default"].lookup("SC.Website.Widget.CopyDropdownMenu.CopyLinkDescription","Copy page URL to clipboard"),handler:this.copyLinkFeatureHandler.bind(this),iconClass:r["default"].classes.copyMenuCopyLinkIconClass,copyMenuIconClass:r["default"].classes.copyMenuCopyLinkMenuButtonIconClass,id:"co_copyLink_dropdownItem",enabled:()=>this.isCopyLinkFeatureEnabled()}}}).build()};var oa=n(6790);var ra=n(9466);class sa{constructor(){this.lightbox=null;this.popupRefElement=null;this.formattedCitationObject=null;this.additionalSettingsMessage=D["default"].lookup("SC.Document.CopyCitationModal.AdditionalSettingsMessage","You can access additional settings in the <strong>Citations</strong> tab within <strong>Preferences</strong>.")}draw(e){we["default"].getCitationPreferences();this.lightbox=new fe["default"];this.lightbox.SetId("co_copyCitationModal");this.lightbox.SetTitle(D["default"].lookup("SC.Document.CopyCitationModal.Title","Copy citation for this document"));this.lightbox.SetCloseLinkObject({id:"co_copyCitationLightbox_closeLink",alt:D["default"].lookup("SC.Document.CopyCitationModal.CloseButtonAlt","Close the Copy Citation window"),onclick:()=>{this.cancelModal()}});this.lightbox.GetContentDomElement().innerHTML=this.drawModalContent();this.lightbox.GetFooterDomElement().innerHTML=this.drawModalFooter();this.lightbox.Draw();document.getElementById("co_copyCitationFormat_select")?.focus();this.popupRefElement=e;this.applyEventHandlers();this.updateCitationPreview()}drawModalContent(){return Je().template('<div id="co_copyCitation_warnings"></div>\n<h3>\n\t<label for="co_copyCitationFormat_select"><%- citationFormalLabel %></label>\n</h3>\n<select id="co_copyCitationFormat_select" class="co_copyCitation-select" disabled="disabled">\n\t<optgroup>\n\t\t<% _.each(citationFormatOptions.standardList, function (option) { %>\n\t\t\t<option id="co_citationFormat_<%- option.value %>" class="co_citationFormatOption" value="<%- option.value %>" <%- option.selected ? \'selected\' : \'\' %> ><%- option.name %></option>\n\t\t<% }); %>\n\t</optgroup>\n\t<optgroup>\n\t\t<% _.each(citationFormatOptions.stateList, function (option) { %>\n\t\t\t<option id="co_citationFormat_<%- option.value %>" class="co_citationFormatOption" value="<%- option.value %>" <%- option.selected ? \'selected\' : \'\' %> ><%- option.name %></option>\n\t\t<% }); %>\n\t</optgroup>\n</select>\n<h3>\n\t<label><%- citationPreviewLabel %></label>\n</h3>\n<div id="co_copyCitationPreview"></div>\n<% if (!hideHyperlinkCheckbox) { %>\n\t<div class="co_copyCitation-hyperlink">\n\t\t<input id="co_addHyperlinkToCitation_checkbox" type="checkbox" disabled="disabled" <%- includeHyperlinkChecked ? \'checked\' : \'\' %>>\n\t\t<label for="co_addHyperlinkToCitation_checkbox"><%- addHyperlinkToCitationLabel %></label>\n\t</div>\n<% } %>\n<p class="co_copyCitation-instructions"><%= additionalSettingsMessage %></p>')({addHyperlinkToCitationLabel:D["default"].lookup("SC.Document.CopyCitationModal.AddHyperlinkToCitationLabel","Add hyperlink to citation"),additionalSettingsMessage:this.additionalSettingsMessage,citationFormalLabel:D["default"].lookup("SC.Document.CopyCitationModal.CitationFormalLabel","Citation format"),citationFormatOptions:this.buildCitationFormatItems(),citationPreviewLabel:D["default"].lookup("SC.Document.CopyCitationModal.CitationPreviewLabel","Preview"),includeHyperlinkChecked:we["default"].userPreferences[r["default"].prefs.includeHyperlink],hideHyperlinkCheckbox:this.isPatronUser()})}isPatronUser(){return"patron"===o["default"].ProductViewName.toLowerCase()}drawModalFooter(){return Je().template('<ul>\n    <li>\n        <input id="co_copyCitation_copyButton" type="button" disabled="disabled" value="<%- copyButtonText %>" class="co_primaryBtn">\n    </li>\n    <li>\n        <input id="co_copyCitation_cancelButton" type="button" value="<%- cancelButtonText %>">\n    </li>\n</ul>')({copyButtonText:D["default"].lookup("SC.Document.CopyCitationModal.CopyButtonText","Copy"),cancelButtonText:D["default"].lookup("SC.Document.CopyCitationModal.CancelButtonText","Cancel")})}buildCitationFormatItems(){const e=we["default"].userPreferences&&we["default"].userPreferences[r["default"].prefs.caRulesSet],t=e&&we["default"].convertRulesSetValueToName(e),n=we["default"].RulesSetNameToValueMappings.ByName,i=[],a=[];Object.entries(n).forEach((([e,n])=>{e===r["default"].texts.copyWithReferenceStandard||e===r["default"].texts.copyWithReferenceALWD||e===r["default"].texts.copyWithReferenceWestlaw?i.push({name:e,value:n,selected:e===t}):a.push({name:e,value:n,selected:e===t})}));return{standardList:i,stateList:a}}applyEventHandlers(){document.getElementById("co_copyCitation_copyButton")?.addEventListener("click",(()=>{this.copyButtonClickHandler()}));document.getElementById("co_copyCitation_cancelButton")?.addEventListener("click",(()=>{this.cancelModal()}));const e=document.getElementById("co_copyCitationFormat_select");e?.addEventListener("change",(()=>{const t=e.value,n=we["default"].RulesSetNameToValueMappings.ByValue[t];this.updateCitationPreference(r["default"].prefs.caRulesSet,t,(()=>{this.publishRuleSetChangedEvent(n,t)}))}));const t=document.getElementById("co_addHyperlinkToCitation_checkbox");t?.addEventListener("change",(()=>{const e=t.checked;this.updateCitationPreference(r["default"].prefs.includeHyperlink,e,(()=>{}))}))}cancelModal(){this.lightbox.Remove();y["default"].Publish("Cobalt.Website.CopyMenuOption.Canceled")}publishRuleSetChangedEvent(e,t){y["default"].Publish(r["default"].events.ruleSetChanged,{RuleSetId:t,RuleSetName:e})}copyButtonClickHandler(){const e=ra["default"].copyTextToClipboard(this.formattedCitationObject.htmlText);this.lightbox.Remove();this.showConfirmationMessage(e);this._postCopyCitationUXEvent()}showConfirmationMessage(e){var t=t=e?D["default"].lookup("SC.Document.CopyCitationModal.SuccessMessage","The citation has been copied successfully."):D["default"].lookup("SC.Document.CopyCitationModal.FailedMessage","Failed to copy the citation."),n=o["default"].isFeatureEnabled("LINK BUILDER")&&Z["default"].PageData.LinkBuilderParameters?"#co_docToolbarCopyMenuWidget":"#co_docToolbarCopyCitationWidget";new Zi(t,!e,n,!0,300).drawPopUp()}updateCitationPreference(e,t,n){this.disableControls();g["default"].Set(r["default"].prefs.documentPreferenceSpace,e,t,(()=>{we["default"].userPreferences[e]=t;n();this.updateCitationPreview()}))}updateCitationPreview(){this.updateCitationObject();const e=v["default"].stripHtmlTag(this.formattedCitationObject.htmlText,"a");var t=document.getElementById("co_copyCitationPreview");t&&(t.innerHTML=e);document.getElementById("co_copyCitation_warnings")?.replaceChildren();if(this.formattedCitationObject.errorText){
const e=document.getElementById("co_copyCitation_warnings");new oa["default"](e,$["default"].Warning,j["default"].None,{shouldCloseOnBlur:!1}).Draw(this.formattedCitationObject.errorText)}this.enableControls()}updateCitationObject(){var e=we["default"].buildCitationRequest();this.formattedCitationObject=we["default"].getFormattedCitation(e)}disableControls(){document.getElementById("co_copyCitationPreview")?.classList.add("co_loading");(document.getElementById("co_copyCitationFormat_select")??{}).disabled=!0;(document.getElementById("co_addHyperlinkToCitation_checkbox")??{}).disabled=!0;(document.getElementById("co_copyCitation_copyButton")??{}).disabled=!0}enableControls(){document.getElementById("co_copyCitationPreview")?.classList.remove("co_loading");(document.getElementById("co_copyCitationFormat_select")??{}).disabled=!1;(document.getElementById("co_addHyperlinkToCitation_checkbox")??{}).disabled=!1;(document.getElementById("co_copyCitation_copyButton")??{}).disabled=!1}_postCopyCitationUXEvent(){const e={includeHyperlink:we["default"].userPreferences[r["default"].prefs.includeHyperlink],citationFormat:we["default"].RulesSetNameToValueMappings.ByValue[we["default"].userPreferences[r["default"].prefs.caRulesSet]]};(0,R.postUXEvent)("Cobalt.Document.CopyCitation.Copy",e)}}const la={...aa,[Qi.CopyCitation]:(new class{_copyCitationFeatureHandler(){const e=document.getElementById(r["default"].ids.docToolbarCopyMenuWidget);(new sa).draw(e)}build(){return{content:D["default"].lookup("SC.Website.Widget.CopyDropdownMenu.CopyCitationName","Copy citation"),description:D["default"].lookup("SC.Website.Widget.CopyDropdownMenu.CopyCitationDescription","Copy document citation to clipboard"),handler:this._copyCitationFeatureHandler.bind(this),iconClass:r["default"].classes.copyMenuCopyCitationIconClass,copyMenuIconClass:r["default"].classes.copyMenuCopyCitationMenuButtonIconClass,id:"co_copyCitation_dropdownItem",enabled:()=>!0}}}).build()};class ca{constructor(e){this.copyMenuDropdown=null;this.copyMenuOpts={previousFeature:Qi.None,selectedFeature:Qi.None,copyMenuItems:null,parentDiv:e};this.menuItemsDetails=la}_applyOptionPreference(){let e=this._retrieveSelectedFeature();this.copyMenuOpts.copyMenuItems[e]||(e=this._getDefaultOptionPreference());this.updateCopyMenuOptions({selectedFeature:e})}_getDefaultOptionPreference(){return Qi.CopyLink}_applyAvailableMenuItems(){this.copyMenuOpts.copyMenuItems=qi()(this.menuItemsDetails,((e,t,n)=>{t.enabled()&&(e[n]=t);return e}),{})}updateCopyMenuOptions(e){Object.assign(this.copyMenuOpts,e)}draw(){this._applyAvailableMenuItems();this._applyOptionPreference();y["default"].Subscribe("Cobalt.Website.CopyMenuOption.Clicked",this._clickedHubEventHandler.bind(this));y["default"].Subscribe("Cobalt.Website.CopyMenuOption.Canceled",this._canceledEventHandler.bind(this));this.copyMenuDropdown=new Yi(this.copyMenuOpts,this._copyMenuSelectedHandler.bind(this));this.copyMenuDropdown.draw()}_clickedHubEventHandler(e,t){const n=t.Data.selectedFeature;this._postFeatureSelectedUXEvent(n);this.updateCopyMenuOptions({previousFeature:this.copyMenuOpts.selectedFeature,selectedFeature:n});if(t.Data.updatePreference){this._updatePreferences(n);this.copyMenuDropdown.updateCopyMenuButton(n)}}_canceledEventHandler(){const e=this.copyMenuOpts.previousFeature;e!==Qi.None&&this._updatePreferences(e);this.updateCopyMenuOptions({previousFeature:this.copyMenuOpts.selectedFeature,selectedFeature:e});this.copyMenuDropdown.updateCopyMenuButton(e);o["default"].isIacOn("IAC-A11Y-DROPDOWNMENU-REDESIGN")||this.copyMenuDropdown.updateSelectedItem()}_updatePreferences(e){this._retrieveSelectedFeature()!==e&&g["default"].Set("Website","CopyMenuOptionSelected",e)}_copyMenuSelectedHandler(e){setTimeout((()=>{this.menuItemsDetails[e].handler()}),0)}_postFeatureSelectedUXEvent(e){const t=e==Qi.CopyCitation?"Cobalt.Document.Toolbar.CopyCitationClicked":"Cobalt.Document.Toolbar.CopyLinkClicked";(0,R.postUXEvent)(t)}_retrieveSelectedFeature(){return g["default"].Get("Website","CopyMenuOptionSelected")}}class da extends ca{_getDefaultOptionPreference(){return Qi.CopyCitation}}class ua{constructor(){this.Name="CopyMenu";this.Id=r["default"].ids.docToolbarCopyMenuWidget;this.parentElement=null}SetParentDiv(e){this.parentElement=e}Draw(){this.copyWidget=new da(this.parentElement);this.copyWidget.draw()}}var ha={};function fa(){var e=this;e.RequestData=function(t,n){var i=!1,a=e.createKey(t);if("undefined"===ha[a]||null==ha[a]){ha[a]=[];i=!0}ha[a].push(n);if(i){var o=ha[a],r=function(e){o?.forEach((t=>t(e,a)));ha={}};const e=this.BuildUrl(t);var s=new E["default"](A["default"].RelatedInfo,e,{timeout:3e5,headers:{Accept:"application/json"}});setTimeout((function(){s.Get(r)}),1)}};e.createKey=function(e){return e.docGuid+":"+e.startIndex+":"+e.count+":"+e.sort+":"+e.filterGuid+":"+e.detailLevel+":"+e.writeEvent};e.BuildUrl=function(e){const t=new L["default"]("RelatedInfo/v1/riVersions");t.addParameter("docGuid",e.docGuid);t.addParameter("startIndex",e.startIndex);t.addParameter("count",e.count);"undefined"!==e.filterGuid&&t.addParameter("filterGuid",e.filterGuid);t.addParameter("contextData",a["default"].PageContextData);t.addParameter("detailLevel",e.detailLevel);"undefined"!==e.sort&&t.addParameter("sort",e.sort);"undefined"!==e.docSource&&t.addParameter("docSource",e.docSource);"undefined"!==e.rank&&t.addParameter("rank",e.rank);const n=g["default"].Get("SAP","WARNING FLAG"),i=g["default"].Get("SAP","PLAN ICONS"),o=g["default"].Get("SAP","SKIP OUT OF PLAN");t.addParameter("warningFlag",n);t.addParameter("planIcons",i);t.addParameter("skipOutOfPlan",o);const r=a["default"].GetResearchOrganizerOriginalContext(),s=te["default"].GetClientMatter();let l=null,c=null,d=null;if(We["default"].isNotNullOrUndefined(s)){l=s.ClientId;c=s.MatterId;d=s.ClientMatterSeparator}t.addParameter("originalContext",r);t.addParameter("clientId",l);t.addParameter("matterId",c);t.addParameter("matterSeparator",d);!1===e.writeEvent&&t.addParameter("writeEvent",!1);return t.buildUrl()}}var pa=n(8461);const ma=e=>{0==e.indexOf('"')&&(e=e.substr(1,e.length-2));return e.replace(/\\/g,"")},ga={versions:{},getDocumentChunk(e,t,n){const i=a["default"].Relative(a["default"].Rest.GetDocumentCompare({guid:e,chunkNumber:t,transitionType:"DocumentItem",contextData:"(sc.Default)",viewType:"FullText",compareTo:n}));return new Promise(((e,t)=>{jt["default"].Get({relativeUrl:i,responseIsJson:!1,timeoutMillisecs:6e5,successCallback:function(t){e(ma(t))},failedCallback:t})}))},getComparedDocument(e,t){const n=a["default"].Relative(a["default"].Rest.GetDocumentCompare({guid:e,chunkNumber:0,transitionType:"DocumentItem",contextData:"(sc.Default)",viewType:"FullText",compareTo:t}));return new Promise(((e,t)=>{jt["default"].Get({relativeUrl:n,responseIsJson:!1,timeoutMillisecs:6e5,successCallback:function(t){e(ma(t))},failedCallback:function(e){t(e)}})}))},startCompare(e,t){const n=`/Document/v1/CompareDocuments/StartComparison/${e}/${t}?transitionType=DocumentItem&contextData=(sc.Default)`;return new Promise(((e,t)=>{jt["default"].Post({relativeUrl:n,vertical:A["default"].Document,responseIsJson:!0,timeoutMillisecs:6e5,successCallback:function(t){e(t.compareCacheKey)},failedCallback:function(e){t(e)}})}))},performInplanCheck(e){var t=a["default"].Relative(a["default"].Rest.ShowStatutesCompareInPlanWarning({documentGuid:e}));return new Promise(((e,n)=>{jt["default"].Get({relativeUrl:t,responseIsJson:!0,timeoutMillisecs:6e5,successCallback:e,failedCallback:n})}))},saveAcceptCharges:(e,t)=>new Promise((n=>{(0,R.postUXEvent)(e,{payload:t},n)})),getCompareStatus(e){const t=`Document/v1/CompareDocuments/GetComparisonStatus/${e}?transitionType=DocumentItem&contextData=(sc.Default)`;return new Promise(((e,n)=>{jt["default"].Get({relativeUrl:t,vertical:A["default"].Document,responseIsJson:!0,timeoutMillisecs:6e5,successCallback:function(t){e(t.compareStatus)},failedCallback:function(e){n(e)}})}))},getDefaultViewOption:()=>Ft["default"].getItem("statueCompareDefaultView")||pa["default"].HIGHLIGHT,setDefaultViewOption(e){Ft["default"].setItem("statueCompareDefaultView",e)},
isStatuteCompareEnabled:()=>o["default"].isFeatureEnabled("COMPARE BLACKLINING"),isStatuteContentType:e=>"Statutes"===e,isCfrContent:(e,t)=>"Regulations"===e&&o["default"].isFeatureEnabled("CFR COMPARE BLACKLINING")&&t.indexOf("C.F.R.")>0,isStateRegulation:(e,t)=>"Regulations"===e&&0===t?.indexOf("State"),isSupportedContentType(e,t,n){return this.isStatuteContentType(e)||this.isCfrContent(e,t)||this.isStateRegulation(e,n)},getDocumentCitation(){if(!Z["default"].ViewModelData||!Z["default"].ViewModelData.DocumentCitation)return"";return Z["default"].ViewModelData.DocumentCitation},getDocumentJurisdiction(e){const t=v["default"].GetMetadataFromDom(r["default"].ids.embeddedMetaInfoPrefix+e);return t&&t.jurisdictionFacet},modalAnchorClickHandler(e,t,n){const i=e.target.getAttribute("href");x()(t).find(i).length<=0&&n(i)},addAnchorListeners(e,t){e?.addEventListener("click",(n=>{const i=n.target.closest('a[href^="#co_modal"]');n.currentTarget.contains(i)&&this.modalAnchorClickHandler(n,e,t)}))},resultsSelector:".co_ruleBookRedline",getChunkDiffElements(e){return x()(e).find(this.resultsSelector).filter(":not(ins del)").filter((function(){return!this.parentNode.parentNode.classList.contains("co_visibilityHidden")})).filter((function(){return!this.parentNode.classList.contains("co_statutesCompare_key")})).toArray()}},va=ga;var ya=n(7433),ba=n(7958),Ca=n(5454);(0,Ca.configure)({useProxies:"never"});const Sa=function(e,t){(0,Ca.extendObservable)(this,{subtitle:"",content:"",addedCount:"",deletedCount:"",isFetching:!0,currentView:va.getDefaultViewOption(),hasError:!1,currentChunkNumber:0,totalChunkCount:0,showChunkPaging:!1,navStartingIndex:-1,chunkEditList:[],chunkEditBoundaryList:[],chunkArray:[],docGuid:e,docToCompareGuid:t,compareSummaryKeysHtml:""});this.populateChunkEditList=(0,Ca.action)("populateChunkEditList",(()=>{let e=-1;const t=this.chunkArray.map((e=>va.getChunkDiffElements(e).length)),n=t.map(((t,n)=>{if(0===t)return null;const i=e+1,a=e+t;e=a;return{first:i,last:a,chunkIdx:n}})).filter(Boolean);this.chunkEditList=t;this.chunkEditBoundaryList=n}));this.update=(0,Ca.action)("update",(e=>{st().keys(e).forEach((t=>{t in this&&(this[t]=e[t])}))}));this.addChunk=(0,Ca.action)("addChunk",(e=>{this.chunkArray.push(e)}));this.changeView=(0,Ca.action)("changeView",(e=>{va.setDefaultViewOption(e);this.currentView=e}));this.updateChunk=(0,Ca.action)("updateChunk",(e=>{this.content=this.chunkArray[e];this.currentChunkNumber=e;this.navStartingIndex=-1}));this.navigateToChunkByEdit=(0,Ca.action)("navigateToChunkByEdit",(e=>{const t=this.chunkEditBoundaryList.filter((t=>e>=t.first&&e<=t.last))[0],n=t.chunkIdx,i=this.chunkEditList[n]-1-(t.last-e);this.content=this.chunkArray[n];this.currentChunkNumber=n;this.navStartingIndex=i}))};var _a=n(1446),Da=n(1312),Ta=n(1811);class Ia extends _a.PureComponent{constructor(e){super(e)}render(){const{addedCount:e,deletedCount:t}=this.props,n="1"===e,i="1"===t;this.deletionsHtml=i?D["default"].format("SC.RelatedInfo.StatuteCompare.Toolbar.DeletedHtmlSingular",{deletedCount:t},`<strong>${t}</strong> deletion`):D["default"].format("SC.RelatedInfo.StatuteCompare.Toolbar.DeletedHtml",{deletedCount:t},`<strong>${t}</strong> deletions`);this.additionsHtml=n?D["default"].format("SC.RelatedInfo.StatuteCompare.Toolbar.AddedHtmlSingular",{addedCount:e},`<strong>${e}</strong> addition`):D["default"].format("SC.RelatedInfo.StatuteCompare.Toolbar.AddedHtml",{addedCount:e},`<strong>${e}</strong> additions`);return(0,Ta.jsxs)("li",{className:"co_statutesCompare_count",children:[(0,Ta.jsx)("span",{dangerouslySetInnerHTML:{__html:this.deletionsHtml}})," · ",(0,Ta.jsx)("span",{dangerouslySetInnerHTML:{__html:this.additionsHtml}})]})}}Ia.displayName="AddedDeleted (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/AddedDeleted.jsx)";const xa=Ia;var ka=n(6611);class wa extends _a.Component{constructor(e){super(e);this.ctxCallback=this.contextCallback.bind(this)}componentDidMount(){this.loadDeliveryWidget()}loadDeliveryWidget(){const e=document.getElementById("co_co_statuteCompare_deliveryContainer");if(e){let t;if(o["default"].isIacOn("IAC-A11Y-DROPDOWN-DELIVERY-DOCUMENT")){t=f["default"].GetObject("Cobalt.Widget.DeliveryA11yWidget");t.updateDeliveryOptions({parentDiv:e});t.setContextCallback(this.ctxCallback);t.draw()}else{t=f["default"].GetObject("Cobalt.Widget.Delivery");t.SetParentDiv(e);t.SetContextCallback(this.ctxCallback);t.Draw()}}}render(){return(0,Ta.jsx)("div",{className:"co_statutesCompare_delivery",id:"co_co_statuteCompare_deliveryContainer"})}contextCallback(e){const t=new Ei["default"];t.Medium=e;t.ContextView=Ai["default"].StatutesCompare;t.IsStatutesCompare=!0;t.ContextProviderData={compareTo:this.props.compareTo,currentView:this.props.currentView};const n=new ka["default"];n.ContentType="STATUTES";n.DocumentGuid=this.props.docGuid;t.SelectedItems.push(n);return t}}wa.displayName="Delivery (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Delivery.jsx)";const Ea=wa;var Aa=n(4428);class La extends _a.Component{constructor(e){super(e);this.state={toggleOn:this.props.isToggleOn};this.handleChange=this.handleChange.bind(this)}handleChange(){(0,this.props.onChange)(!this.state.toggleOn);this.setState((e=>({toggleOn:!e.toggleOn})))}render(){const e=D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayHighlightToggleTitle","Highlights"),t=this.props.a11yLabel??D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayHighlightToggleAccessibilityLabel","Turn highlights off to enable the accessible version of the statute comparison."),n=this.props.id??"co_statuteCompare_highlight_toggle",i=`${n}_a11y`;return(0,Ta.jsxs)("div",{className:"SlideToggle",children:[(0,Ta.jsxs)("label",{htmlFor:n,className:"SlideToggle-label",children:[(0,Ta.jsxs)("div",{className:"SlideToggle-bar",children:[(0,Ta.jsx)("input",{role:"switch",id:n,className:"SlideToggle-input",type:"checkbox",onChange:this.handleChange,checked:this.state.toggleOn,"aria-describedby":i}),(0,Ta.jsx)("div",{className:"SlideToggle-thumb-container",children:(0,Ta.jsx)("div",{className:"SlideToggle-thumb"})})]}),(0,Ta.jsx)("div",{className:"SlideToggle-content",children:e})]}),(0,Ta.jsx)("span",{id:i,className:"co_accessibilityLabel",children:t})]})}}La.displayName="HighlightToggle (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/HighlightToggle.jsx)";const Na=La;class Ra extends _a.Component{constructor(e){super(e);this.store=e.store;this.prevNavigationButton=_a.createRef();this.nextNavigationButton=_a.createRef();this.prevButtonTooltip=null;this.nextButtonTooltip=null;this.elements=[];this.state={idx:this.store.navStartingIndex};this.createPreviousNextNavigation=this.createPreviousNextNavigation.bind(this);this.nextChunkFunction=this.nextChunkFunction.bind(this);this.previousChunkFunction=this.previousChunkFunction.bind(this);this.chunkTransitionFunction=this.chunkTransitionFunction.bind(this);this.navigateToElementByState=this.navigateToElementByState.bind(this);this.prepareElementForDisplay=this.prepareElementForDisplay.bind(this);this.onNextButtonPressed=this.createPreviousNextNavigation.bind(this,Ra.getNextIndex,this.nextChunkFunction);this.onPreviousButtonPressed=this.createPreviousNextNavigation.bind(this,Ra.getPrevIndex,this.previousChunkFunction)}componentDidMount(){this.elements=va.getChunkDiffElements(".co_statutesCompare_content");this.elements.forEach(this.prepareElementForDisplay);-1!==this.state.idx&&this.navigateToElementByState();this.prevButtonTooltip=new ht["default"](this.prevNavigationButton.current);this.prevButtonTooltip.render();this.nextButtonTooltip=new ht["default"](this.nextNavigationButton.current);this.nextButtonTooltip.render()}componentWillUnmount(){this.prevButtonTooltip.remove();this.nextButtonTooltip.remove()}prepareElementForDisplay(e,t){e.tabIndex=0;e.onfocus=this.elementFocusHandler.bind(this,t);Ra.addTableClassIfPresent(e);(e=>{
const t=D["default"].lookup("SC.Document.Redline.RedlineView.ScreenReaderBeforeAdd","start of added text"),n=D["default"].lookup("SC.Document.Redline.RedlineView.ScreenReaderAfterAdd","end of added text"),i=D["default"].lookup("SC.Document.Redline.RedlineView.ScreenReaderBeforeDelete","start of deleted text"),a=D["default"].lookup("SC.Document.Redline.RedlineView.ScreenReaderAfterDelete","end of deleted text"),o=e.matches("ins")||e.classList.contains("co_redlineAdd"),r=o?t:i,s=o?n:a,l="ScreenReader-text";if(!e.matches("ins, del")){const t=document.createElement(o?"ins":"del");t.append(...e.childNodes);e.appendChild(t)}const c=document.createElement("span");c.className=l;c.appendChild(document.createTextNode(r));e.insertBefore(c,e.firstChild);const d=document.createElement("span");d.className=l;d.appendChild(document.createTextNode(s));e.appendChild(d)})(e)}static addTableClassIfPresent(e){const t="co_ruleBookRedline--hasTable";!e.classList.contains(t)&&e.querySelector("table")&&e.classList.add(t)}elementFocusHandler(e){this.state.idx!==e&&this.setState({idx:e})}createPreviousNextNavigation(e,t){0===this.elements.length?this.chunkTransitionFunction(e,-1):this.setState((n=>{const i=n.idx,a=e(n.idx,this.elements.length);t(a,i)&&this.chunkTransitionFunction(e,i);return{idx:a}}),this.navigateToElementByState)}chunkTransitionFunction(e,t){const{chunkEditList:n,currentChunkNumber:i,navigateToChunkByEdit:a}=this.store,o=n.reduce(((e,t)=>e+t),0);a(e(n.slice(0,i).reduce(((e,t)=>e+t),0)+t,o))}nextChunkFunction(e,t){return 0===e&&1!==this.store.chunkEditList.length&&-1!==t}previousChunkFunction(e){return 1!==this.store.chunkEditList.length&&e===this.elements.length-1}navigateToElementByState(){const e=this.elements[this.state.idx];e&&e.focus()}static getNextIndex(e,t){const n=e+1;if(n>=t)return 0;return n}static getPrevIndex(e,t){const n=e-1;if(n<=-1)return t-1;return n}getViewingOrTotalMessage(e){const{chunkEditList:t,currentChunkNumber:n}=this.store,i=t.reduce(((e,t)=>e+t),0);let a;if(e>-1){const e=t.slice(0,n).reduce(((e,t)=>e+t),1)+this.state.idx;a=D["default"].format("SC.RelatedInfo.StatuteCompare.NavigationNowViewing",{current:e,total:i},`Viewing <span>${e}</span> of ${i}`)}else a=D["default"].format("SC.RelatedInfo.StatuteCompare.NavigateTotal",{numberOfDifferences:i},`Total: <span>${i}</span> Differences`);return a}render(){const e=D["default"].lookup("SC.RelatedInfo.StatuteCompare.NavigatePrevious","Jump to Previous Difference"),t=D["default"].lookup("SC.RelatedInfo.StatuteCompare.NavigateNext","Jump to Next Difference");return(0,Ta.jsxs)("div",{className:"co_statutesCompare_navigationWrap",children:[(0,Ta.jsx)("button",{ref:this.prevNavigationButton,className:"co_prev co_tbButton",onClick:this.onPreviousButtonPressed,title:e,children:(0,Ta.jsx)("span",{className:"icon25 icon_prev_arrow",children:e})}),(0,Ta.jsx)("span",{className:"co_totalNavigationElements","aria-live":"polite",dangerouslySetInnerHTML:{__html:this.getViewingOrTotalMessage(this.state.idx)}}),(0,Ta.jsx)("button",{ref:this.nextNavigationButton,className:"co_next co_tbButton",onClick:this.onNextButtonPressed,title:t,children:(0,Ta.jsx)("span",{className:"icon25 icon_next_arrow",children:t})})]})}}Ra.displayName="Navigation (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Navigation.jsx)";const Pa=(0,ba.inject)("store")((0,ba.observer)(Ra));class Oa extends _a.Component{constructor(e){super(e);this.store=e.store;this.onHighlightToggleChange=this.onHighlightToggleChange.bind(this)}onHighlightToggleChange(e){const t=e?pa["default"].HIGHLIGHT:pa["default"].TEXTONLY;this.store.changeView(t)}render(){const{docGuid:e,docToCompareGuid:t,currentView:n,hasError:i,currentChunkNumber:a}=this.store;if(i)return null;return(0,Ta.jsx)("div",{className:"co_statutesCompare_toolbar",children:(0,Ta.jsxs)("ul",{className:"co_statutesCompare_toolbarSection",children:[(0,Ta.jsx)("li",{className:"co_statutesCompare_navigation",children:(0,Ta.jsx)(Pa,{},a)}),(0,Ta.jsx)(xa,{addedCount:this.store.addedCount,deletedCount:this.store.deletedCount}),(0,Ta.jsx)("li",{className:"co_statutesCompare_key",children:(0,Ta.jsx)(Aa["default"],{isHighlightView:n===pa["default"].HIGHLIGHT})}),(0,Ta.jsx)("li",{className:"co_statutesCompare_views",children:(0,Ta.jsx)(Na,{isToggleOn:n===pa["default"].HIGHLIGHT,onChange:this.onHighlightToggleChange})}),(0,Ta.jsx)("li",{children:(0,Ta.jsx)(Ea,{docGuid:e,compareTo:t,currentView:n})})]})})}}Oa.displayName="Toolbar (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Toolbar.jsx)";const Ba=(0,ba.inject)("store")((0,ba.observer)(Oa)),Ma=({subtitle:e})=>{const t=D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayTitleText","Compare versions");return(0,Ta.jsxs)("div",{className:"co_statutesCompare_header",children:[(0,Ta.jsx)("h2",{className:"co_statutesCompare_title",children:t}),(0,Ta.jsx)("p",{className:"co_statutesCompare_subTitle",children:e})]})};Ma.displayName="Title (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Title.jsx)";const Fa=Ma,Wa=({ready:e,children:t,placeholder:n})=>e?t:n,Ha=({onClick:e})=>(0,Ta.jsxs)("div",{className:"co_statutesCompare co_statutesCompare_error",children:[(0,Ta.jsxs)("div",{className:"co_statutesCompare_header",children:[(0,Ta.jsx)("h3",{className:"co_statutesCompare_title",children:"Sorry, something went wrong. Please try again."})," "]}),(0,Ta.jsx)("div",{className:"co_statutesCompare_footer",children:(0,Ta.jsx)("button",{className:"co_overlayBox_buttonCancel",id:"co_cancelLoading",type:"button",onClick:e,children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayCloseWindowText","Close")})})]});Ha.displayName="ErrorMessage (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/ErrorMessage.jsx)";const Ga=Ha;class Ua extends _a.Component{constructor(e){super(e);this.textContentElement=null}applyDefaultView(){(e=>{const t=e.insertElementsSelector?document.querySelectorAll(e.insertElementsSelector):document.querySelectorAll(".co_statutesCompare_content ins"),n=e.deleteElementsSelector?document.querySelectorAll(e.deleteElementsSelector):document.querySelectorAll(".co_statutesCompare_content del"),i='<span aria-hidden="true">&lt;&lt;+ </span>',a='<span aria-hidden="true">&lt;&lt;- </span>',o='<span aria-hidden="true"> +&gt;&gt;</span>',r='<span aria-hidden="true"> -&gt;&gt;</span>';if(e.currentView===pa["default"].HIGHLIGHT){t.forEach((function(e){e.classList.remove("co_textOnlyView");e.classList.add("co_highlightView");var t=e.innerHTML;t.indexOf(i)>-1&&(t=t.replace(i,""));t.indexOf(o)>-1&&(t=t.replace(o,""));e.innerHTML=t}));n.forEach((function(e){e.classList.remove("co_textOnlyView");e.classList.add("co_highlightView");var t=e.innerHTML;t.indexOf(a)>-1&&(t=t.replace(a,""));t.indexOf(r)>-1&&(t=t.replace(r,""));e.innerHTML=t}))}else{t.forEach((function(e){e.classList.remove("co_highlightView");e.classList.add("co_textOnlyView");var t=e.innerHTML;t.indexOf(i)<0&&e.insertAdjacentHTML("afterbegin",i);t.indexOf(o)<0&&e.insertAdjacentHTML("beforeend",o)}));n.forEach((function(e){e.classList.remove("co_highlightView");e.classList.add("co_textOnlyView");var t=e.innerHTML;t.indexOf(a)<0&&e.insertAdjacentHTML("afterbegin",a);t.indexOf(r)<0&&e.insertAdjacentHTML("beforeend",r)}))}})(this.props)}componentDidMount(){this.removeMetadataContainer();this.props.onContentUpdated(this.textContentElement)}componentDidUpdate(){this.removeMetadataContainer();this.props.onContentUpdated(this.textContentElement)}removeMetadataContainer(){if(this.textContentElement){this.textContentElement.querySelector("#co_document_0 span.co_visibilityHidden")?.remove();this.textContentElement.querySelector(`#${r["default"].ids.documentContentCacheKey}`)?.remove()}}render(){if(this.props.hasError)return(0,Ta.jsx)(Ga,{onClick:this.props.closeCompareResults});return(0,Ta.jsx)("div",{className:this.props.currentView===pa["default"].HIGHLIGHT?"co_statutesCompare_content co_statutesCompare_viewHighlight":"co_statutesCompare_content co_statutesCompare_viewText",ref:e=>{if(e){this.textContentElement=e;this.applyDefaultView()}},dangerouslySetInnerHTML:{__html:this.props.text}})}}
Ua.displayName="Content (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Content.jsx)";const ja=Ua;class $a extends _a.Component{constructor(e){super(e)}componentWillUnmount(){y["default"].Publish("StatutesCompare.CompareLoaded",{})}render(){return(0,Ta.jsxs)("div",{className:"co_statutesCompare co_statutesCompare_docLoader",children:[(0,Ta.jsx)("div",{className:"co_statutesCompare_header",children:(0,Ta.jsx)("h3",{className:"",children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayComparingVersionsText","Comparing versions")})}),(0,Ta.jsx)("div",{className:"co_statutesCompare_content",children:(0,Ta.jsx)("div",{className:"co_loading",children:(0,Ta.jsx)("span",{className:"co_waitProgressText co_accessibilityLabel",children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.AccessibilityTextForLoadingPage","Document is loading")})})}),(0,Ta.jsx)("div",{className:"co_statutesCompare_footer",children:(0,Ta.jsx)("button",{type:"button",className:"co_overlayBox_buttonCancel",id:"co_cancelLoading",onClick:this.props.onCancelCompare,children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayCancelLoadingText","Cancel")})})]})}}$a.displayName="DocumentLoader (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/DocumentLoader.jsx)";const Va=$a;class qa extends _a.Component{constructor(e){super(e);this.onPreviousChunk=this.onPreviousChunk.bind(this);this.onNextChunk=this.onNextChunk.bind(this);this.onNavigateToChunk=this.onNavigateToChunk.bind(this)}onPreviousChunk(e){this.props.currentChunkNumber>=1&&this.props.onChunkChanged(this.props.currentChunkNumber-1);e.preventDefault()}onNextChunk(e){this.props.currentChunkNumber<this.props.chunkCount-1&&this.props.onChunkChanged(this.props.currentChunkNumber+1);e.preventDefault()}onNavigateToChunk(e){if("Enter"===e.key){const t=e.target.value,n=parseInt(t);!isNaN(n)&&n>0&&n<=this.props.chunkCount&&this.props.onChunkChanged(n-1)}}componentDidUpdate(){document.querySelectorAll(".co_compareCurrentChunkStatus").forEach((e=>{e.value=`${this.props.currentChunkNumber+1}`}))}render(){if(!this.props.showChunk)return null;const e="co_prev co_tbButton "+(0===this.props.currentChunkNumber?"co_disabled":""),t=`co_next co_tbButton ${0===this.props.chunkCount?"co_visibilityHidden":""} ${this.props.currentChunkNumber===this.props.chunkCount-1?"co_disabled":""}`;return(0,Ta.jsx)("div",{children:(0,Ta.jsxs)("div",{className:"co_chunkPagination",children:[(0,Ta.jsxs)("ul",{className:"co_navFooter_pagination",children:[(0,Ta.jsx)("li",{children:(0,Ta.jsx)("strong",{children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayPartText","Part:")})}),(0,Ta.jsx)("li",{children:(0,Ta.jsx)("a",{className:e,role:"button",onClick:this.onPreviousChunk,href:"#",children:(0,Ta.jsx)("span",{className:"icon25 icon_prev_arrow",children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayPreviousPart","Previous Part")})})}),(0,Ta.jsxs)("li",{children:[(0,Ta.jsxs)("label",{children:[(0,Ta.jsx)("span",{className:"co_accessibilityLabel",children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayGoToDocumentPart","Go To Document Part")}),(0,Ta.jsx)("input",{type:"text",className:"co_compareCurrentChunkStatus",size:1,maxLength:4,onKeyUp:this.onNavigateToChunk,defaultValue:this.props.currentChunkNumber})]})," ","of"," ",(0,Ta.jsx)("strong",{className:"co_compareChunkCountStatus",children:0===this.props.chunkCount?"...":this.props.chunkCount})]}),(0,Ta.jsx)("li",{children:(0,Ta.jsx)("a",{className:t,role:"button",onClick:this.onNextChunk,href:"#",children:(0,Ta.jsx)("span",{className:"icon25 icon_next_arrow",children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayNextPart","Next Part")})})})]}),(0,Ta.jsx)("div",{className:"co_clear"})]})})}}qa.displayName="Chunk (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Chunk.jsx)";const za=qa,Ka={completed:"completed",error:"error",processing:"processing"};class Ya extends _a.Component{constructor(e){super(e);this.store=e.store;this.onChunkChanged=this.onChunkChanged.bind(this);this.onCancelCompare=this.onCancelCompare.bind(this);this.handleContentUpdate=this.handleContentUpdate.bind(this);this.navigateToChunkWithDomIdSelector=this.navigateToChunkWithDomIdSelector.bind(this);this.populateChunkAnchorMap=this.populateChunkAnchorMap.bind(this);this.onDoneGettingAllChunks=this.onDoneGettingAllChunks.bind(this);this.loadChunk=this.loadChunk.bind(this);this.checkCompareStatus=this.checkCompareStatus.bind(this);this.startCompareSucceeded=this.startCompareSucceeded.bind(this);this.getStatusSuccessHandler=this.getStatusSuccessHandler.bind(this);this.getComparedDocumentSucceeded=this.getComparedDocumentSucceeded.bind(this);this.getComparedDocumentFailed=this.getComparedDocumentFailed.bind(this);this.provider=f["default"].GetObject(r["default"].objectIds.provider);this.count=1;this.compareCancel=!1;this.compareStatusCacheKey=null;this.chunkAnchorMap={}}componentDidMount(){va.startCompare(this.store.docGuid,this.store.docToCompareGuid).then(this.startCompareSucceeded,this.getComparedDocumentFailed)}navigateToChunkWithDomIdSelector(e){const t=e.substring(1);if(this.chunkAnchorMap.hasOwnProperty(t)){const e=this.chunkAnchorMap[t];this.onChunkChanged(e,!0)}else for(let t=0;t<this.store.chunkArray.length;t++){const n=document.createElement("div");n.innerHTML=this.store.chunkArray[t];if(n.querySelector(e)){this.onChunkChanged(t,!0);break}}}onChunkChanged(e,t=!1){this.store.updateChunk(e);t||this.props.modal.scrollTop()}startCompareSucceeded(e){this.compareStatusCacheKey=e;this.checkCompareStatus()}onCancelCompare(){this.compareCancel=!0;this.props.modal.closeCompareResults()}checkCompareStatus(){if(this.compareCancel)return;this.compareStatusCacheKey?va.getCompareStatus(this.compareStatusCacheKey).then(this.getStatusSuccessHandler,this.getComparedDocumentFailed):this.getComparedDocumentFailed()}getStatusSuccessHandler(e){switch(e){case Ka.error:this.getComparedDocumentFailed();break;case Ka.processing:{const e=3e3;setTimeout(this.checkCompareStatus,e);break}case Ka.completed:{const e=this.compareStatusCacheKey.split("!");va.getComparedDocument(e[0],e[1]).then(this.getComparedDocumentSucceeded,this.getComparedDocumentFailed);break}default:this.getComparedDocumentFailed()}}getComparedDocumentSucceeded(e){if(this.props.modal.isCompareResultsOpened()){const{addedCount:t,deletedCount:n,subtitle:i,compareSummaryKeysHtml:a,content:o}=(e=>{const t=x()(e).find("#co_document_0 span.co_visibilityHidden").children(),n=t[2].querySelectorAll(":scope > strong"),i=n[0]?.textContent??"";return{addedCount:n[1]?.textContent??"",deletedCount:i,subtitle:t[0].innerText,content:e}})(e);this.store.update({subtitle:i,content:o,addedCount:t,deletedCount:n,compareSummaryKeysHtml:a,isFetching:!1});this.store.addChunk(o);if(Ya.hasMoreChunks(o)){this.provider.ResetDocumentContentCacheKey();this.store.update({showChunkPaging:!0});this.loadChunk()}else this.onDoneGettingAllChunks()}}populateChunkAnchorMap(){this.store.chunkArray.forEach(((e,t)=>{const n=document.createElement("div");n.innerHTML=e;const i=n?.querySelectorAll("[id^='co_modal']");i.forEach((e=>{const n=e.id;this.chunkAnchorMap[n]=t}))}))}onDoneGettingAllChunks(){this.store.chunkArray.length>1&&this.store.update({totalChunkCount:this.count+1});setTimeout(this.populateChunkAnchorMap);setTimeout(this.store.populateChunkEditList)}handleContentUpdate(e){va.addAnchorListeners(e,this.navigateToChunkWithDomIdSelector);const{onContentUpdated:t}=this.props;t&&t()}loadChunk(){const e=this.compareStatusCacheKey.split("!");va.getDocumentChunk(e[0],this.count,e[1]).then((e=>{this.store.addChunk(e);if(Ya.hasMoreChunks(e)){this.count++;this.loadChunk()}else this.onDoneGettingAllChunks()}))}static hasMoreChunks(e){return-1===e.indexOf("co_finalChunkMarker")}getComparedDocumentFailed(){this.props.modal.isCompareResultsOpened()&&this.store.update({isFetching:!1,hasError:!0})}render(){return(0,Ta.jsx)("div",{children:(0,Ta.jsxs)(Wa,{ready:!this.store.isFetching,placeholder:(0,Ta.jsx)(Va,{onCancelCompare:this.onCancelCompare}),children:[(0,Ta.jsx)(za,{onChunkChanged:this.onChunkChanged,
currentChunkNumber:this.store.currentChunkNumber,chunkCount:this.store.totalChunkCount,showChunk:this.store.showChunkPaging}),(0,Ta.jsx)(ja,{currentView:this.store.currentView,text:this.store.content,hasError:this.store.hasError,closeCompareResults:this.props.modal.closeCompareResults,onContentUpdated:this.handleContentUpdate}),(0,Ta.jsx)(za,{onChunkChanged:this.onChunkChanged,currentChunkNumber:this.store.currentChunkNumber,chunkCount:this.store.totalChunkCount,showChunk:this.store.showChunkPaging})]})})}}Ya.displayName="Results (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Results.jsx)";const Qa=(0,ba.inject)("store","modal")((0,ba.observer)(Ya));class Xa extends _a.Component{constructor(e){super(e);this.store=e.store;this.getHeaderContainer=this.getHeaderContainer.bind(this);this.renderHeader=this.renderHeader.bind(this)}getHeaderContainer(){const e=this.props.modal.getModalHeaderDomElement(),t=e.querySelector(".statutesCompareHeaderContainer");if(t)return t;const n=document.createElement("div");n.className="statutesCompareHeaderContainer";e.appendChild(n);return n}renderHeader(){if(this.store.isFetching)return"";this.headerPortal||(this.headerPortal=(0,Da.createPortal)((0,Ta.jsxs)(_a.Fragment,{children:[(0,Ta.jsx)(Fa,{subtitle:this.store.subtitle}),(0,Ta.jsx)(Ba,{})]}),this.getHeaderContainer()));return this.headerPortal}render(){return(0,Ta.jsxs)(_a.Fragment,{children:[this.renderHeader(),(0,Ta.jsx)(Qa,{})]})}}Xa.displayName="CompareModal (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/CompareModal.jsx)";const Ja=(0,ba.inject)("store","modal")((0,ba.observer)(Xa));function Za(e){return{closeCompareResults(){e.Remove()},scrollTop(){e.GetContentDomElement().scrollTop=0},isCompareResultsOpened:()=>e.IsShowing(),getModalHeaderDomElement:()=>e.GetHeaderDomElement()}}function eo(e,t,n="co_statuteCompare"){const i=D["default"].lookup("SC.RelatedInfo.StatuteCompare.CompareBlacklineEditsText","Compare versions"),a=new fe["default"];a.SetId(n);a.SetClass("co_statuteCompare co_fullPage co_fullPageLoading");a.SetAccessibleLabel(i);a.SetCloseLinkObject({id:"co_statuteCompare_closeImage",alt:D["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayCloseWindowText","Close"),src:A["default"].GetUrl(A["default"].Images,"/images/v1/co_overlayBox_closeButton1.png"),onclick:()=>{a.Remove()}});a.SetIsExpandedView(!0);a.Draw();y["default"].SubscribeOnce("StatutesCompare.CompareLoaded",(()=>{a._lightbox.GetContentDomElement().classList.remove("co_fullPageLoading")}));const o=new Sa(e.docId,t.docId),r=a.GetContentDomElement(),s=(0,Ta.jsx)(ba.Provider,{store:o,modal:Za(a),children:(0,Ta.jsx)(Ja,{})});(0,ya.createRoot)(r).render(s)}var to=n(365),no=n(297);class io extends _a.Component{constructor(e){super(e);this.clientIdWidget=null;this.clientIdWidgetRef=_a.createRef()}componentDidMount(){if(to["default"].ViewData.ShowClientIdWidget){this.clientIdWidget=new no["default"];const e=this.clientIdWidgetRef.current;this.clientIdWidget.SetParentDiv(e);this.clientIdWidget.SetCurrentClientMatter(te["default"].ClientMatter);this.clientIdWidget.Setup();this.clientIdWidget.DrawInline()}}render(){const e=(0,Ta.jsx)("a",{href:"/Subscriber.html?transitionType=Default&contextData=(sc.Default)",children:D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.PricingGuide","Pricing Guide")}),t=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.WarnInfoText","Viewing this feature will incur additional charges."),n=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.PricingInfo","To learn more about Westlaw charges, view our "),i=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.SelectClientIdText","Select a client ID.");return(0,Ta.jsxs)("div",{children:[(0,Ta.jsx)("p",{children:(0,Ta.jsx)("b",{children:t})}),(0,Ta.jsx)("br",{}),(0,Ta.jsxs)("p",{children:[n," ",e]}),(0,Ta.jsx)("br",{}),(0,Ta.jsx)("div",{children:i}),(0,Ta.jsx)("div",{ref:this.clientIdWidgetRef})]})}}io.displayName="WarnContent (Platform/js/RelatedInfo/StatutesCompare/Components/InplanModal/WarnContent.jsx)";const ao=io;class oo extends _a.Component{constructor(e){super(e);this.lightbox=this.props.lightbox;this.runStatuteCompare=this.props.runStatuteCompare;this.onViewDocumentClick=this.onViewDocumentClick.bind(this);this.onCancelClick=this.onCancelClick.bind(this)}onViewDocumentClick(e){this.saveAcceptCharges();e.preventDefault()}onCancelClick(e){this.lightbox.Remove();this.windowReload();e.preventDefault()}saveAcceptCharges(){return va.saveAcceptCharges("Cobalt.Website.CompareWarning.Accepted").then((()=>{this.lightbox.Remove();this.runStatuteCompare()}))}windowReload(){window.location.reload()}render(){const e=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.ViewFeatureButtonText","View Feature"),t=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.CancelButtonText","Cancel");return(0,Ta.jsx)("div",{children:(0,Ta.jsxs)("ul",{children:[(0,Ta.jsx)("li",{children:(0,Ta.jsx)("a",{className:"co_primaryBtn",role:"button",href:"#",onClick:this.onViewDocumentClick,children:e})}),(0,Ta.jsx)("li",{children:(0,Ta.jsx)("a",{className:"co_overlayBox_buttonCancel",role:"button",href:"#",onClick:this.onCancelClick,children:t})})]})})}}oo.displayName="WarnFooter (Platform/js/RelatedInfo/StatutesCompare/Components/InplanModal/WarnFooter.jsx)";const ro=oo,so=()=>{const e=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.BlockInfoText","You do not have access to Compare Versions because it is not authorized under your subscription agreement.");return(0,Ta.jsx)("div",{children:(0,Ta.jsx)("div",{children:e})})};so.displayName="BlockContent (Platform/js/RelatedInfo/StatutesCompare/Components/InplanModal/BlockContent.jsx)";const lo=so,co=({lightbox:e})=>{const t=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.OkButtonText","OK");return(0,Ta.jsx)("div",{children:(0,Ta.jsx)("ul",{children:(0,Ta.jsx)("li",{children:(0,Ta.jsx)("a",{className:"co_primaryBtn",role:"button",href:"#",onClick:t=>{e.Remove();t.preventDefault()},children:t})})})})};co.displayName="BlockFooter (Platform/js/RelatedInfo/StatutesCompare/Components/InplanModal/BlockFooter.jsx)";const uo=co;class ho{constructor(e){this.docDisplayGuid=e.DocumentGuid;this.parent=null;this.handleVersionsResponse=this.handleVersionsResponse.bind(this);this.runStatuteCompare=this.runStatuteCompare.bind(this)}SetParentDiv(e){this.parent=e}Draw(){const e=document.querySelector("li[categoryEnum=StatuteHistory]");if(o["default"].isFeatureEnabled("COMPARE BLACKLINING")&&e){(new fa).RequestData({docGuid:this.docDisplayGuid,writeEvent:!1},this.handleVersionsResponse)}}handleVersionsResponse(e){const t=JSON.parse(e.ResponseText);if(!(t.priorVersions||t.futureVersions||t.priorUnrelatedVersions))return!1;const n=ho.getDocsForComparison(t,this.docDisplayGuid),i=!(!n.originalDoc||n.originalDoc.docId!==this.docDisplayGuid||!n.docToCompare);if(i){this.drawStatuteCompareButton();this.parent?.addEventListener("click",(e=>{const t=e.target.closest("#co_statuteCompareButton");e.currentTarget.contains(t)&&va.performInplanCheck(n.currentDocGuid).then((e=>{"InPlan"===e?eo(n.originalDoc,n.docToCompare):function(e,t){let n="";"ShowWarn"===e?n=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.OutOfPlanHeader","This Feature is Out of Plan"):"ShowBlock"===e&&(n=D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.BlockedHeader","This Feature is Blocked"));const i=new fe["default"];i.SetId("coid_statutesCompare_inplanWarn_lightbox");i.SetTitle(n);i.SetCloseLinkObject({id:"co_statuteCompare_inplanWarn_cancel",alt:D["default"].lookup("SC.RelatedInfo.StatuteCompare.InplanCheck.CancelButtonText","Cancel"),src:A["default"].GetUrl(A["default"].Images,"/images/v1/co_overlayBox_closeButton1.png"),onclick:()=>{i.Remove()}});i.Draw();const a=(e,t)=>{(0,ya.createRoot)(t).render(e)};if("ShowWarn"===e){a((0,Ta.jsx)(ao,{}),i.GetContentDomElement());a((0,Ta.jsx)(ro,{lightbox:i,runStatuteCompare:t}),i.GetFooterDomElement())}else if("ShowBlock"===e){a((0,Ta.jsx)(lo,{}),i.GetContentDomElement());a((0,Ta.jsx)(uo,{lightbox:i}),i.GetFooterDomElement())}
}(e,this.runStatuteCompare(n.originalDoc,n.docToCompare))}))}))}return i}drawStatuteCompareButton(){const e=`<div title="${D["default"].lookup("SC.Document.Widget.StatuteCompareToolbarHoverText","Show most recent amendments")}" id="co_documentToolbarStatuteCompare">\n\t\t\t\t\t\t\t\t\t<a id="co_statuteCompareButton" class="co_tbButton" href="javascript:void(0);" role="button">\n\t\t\t\t\t\t\t\t\t\t${D["default"].lookup("SC.RelatedInfo.StatuteCompare.CompareRecentButtonText","Compare Versions")}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>`;this.parent?.insertAdjacentHTML("afterbegin",e)}static getDocsForComparison(e,t){const n=e.currentVersions.midlines.filter((e=>e.docGuid===t)),i=n.length>0?n[0]:e.currentVersions.midlines[0],a=e.futureVersions?e.futureVersions.midlines[0]||{}:null,o=e.priorVersions?e.priorVersions.midlines[0]||{}:null,r=e.priorUnrelatedVersions?e.priorUnrelatedVersions.midlines[0]||{}:null,s={};if(a&&a.docGuid===t){s.docToCompare={docId:i.docGuid,title:i.effectiveMessage};s.originalDoc={docId:a.docGuid,title:a.effectiveMessage}}else{s.originalDoc={docId:i.docGuid,title:i.effectiveMessage};s.docToCompare=o?{docId:o.docGuid,title:o.effectiveMessage}:{docId:r.docGuid,title:r.effectiveMessage}}s.currentDocGuid=i.docGuid;return s}runStatuteCompare(e,t){return()=>eo(e,t)}}function fo(){var e=this;this.parentObject=null;this.documentGuid=null;this.Name="RedlineToggle";this.Id=r["default"].ids.docToolbarRedlineToggleWidget;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentGuid=function(t){e.documentGuid=t};this.Draw=function(){var t=f["default"].GetObject(r["default"].objectIds.widgetRedlineToggle);t.SetParentDiv(e.parentObject);t.SetDocumentGuid(e.documentGuid);o["default"].isFeatureEnabled("ADCVERREDLININGTOGGLE")?t.Draw():t._retriveCurrentVersion()}}class po extends ho{handleVersionsResponse(e){if(!super.handleVersionsResponse(e)){const e=new fo;e.SetDocumentGuid(this.docDisplayGuid);e.SetParentDiv(this.parent);e.Draw()}}drawStatuteCompareButton(){if(o["default"].IsIndigoDisplayEnabled)super.drawStatuteCompareButton();else{const e=`<div id="co_redlineToggleContainer">\n                                <a id="co_statuteCompareButton" class="co_tbButton icon_link" title="${D["default"].lookup("SC.Document.Widget.StatuteCompareToolbarHoverText","Show most recent amendments")}" role="button" href="javascript:void(0);">\n                                    <span class="icon25 icon_penHistory-blue"></span>\n                                </a>\n                            </div>`;this.parent?.insertAdjacentHTML("afterbegin",e)}}}function mo(e){var t=this;this.Id="co_statuteCompare";this.Name="StatuteCompare";this.StatuteCompareWidget=new po(e);this.SetParentDiv=function(e){t.StatuteCompareWidget.SetParentDiv(e)};this.Draw=function(){t.StatuteCompareWidget.Draw()}}var go=n(1420),vo=n.n(go);function yo(){this.addPersistedGuid=function(t,n){e(t);"string"!=typeof t.metadata&&(t.metadata=JSON.stringify(t.metadata));var i="/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids";return(0,Le.PostRequest)({url:i,data:t,success:n})};this.removePersistedGuid=function(t,n,i){e({persistedGuid:n,type:t});var a={url:"/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+t+"/"+n,success:i};return(0,Le.DeleteRequest)(a)};this.batchRemovePersistedGuids=function(e,t,n){t=t||[];var i={url:"/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+e+"/batchdelete",data:t,success:n};return(0,Le.PutRequest)(i)};this.retrievePersistedGuidCount=function(t,n,i){e({persistedGuid:n,type:t});var a={url:"/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+t+"/"+n+"/count",success:i};return(0,Le.GetRequest)(a)};this.retrievePersistedGuid=function(t,n,i){e({persistedGuid:n,type:t});var a={url:"/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+t+"/"+n,success:i};return(0,Le.GetRequest)(a)};this.retrievePersistedGuidsList=function(e,t,n,i){var a="/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+t+"/list";n&&(a+=(a.indexOf("?")<0?"?":"")+"start="+n);i&&(a+=(a.indexOf("?")<0?"?":"&")+"resultSize="+i);var o={url:a,success:e};return(0,Le.GetRequest)(o)};this.retrievePersistedGuids=function(e,t){var n={url:"/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+e,success:t};return(0,Le.GetRequest)(n)};function e(e){if(!e||!e.persistedGuid){(0,Ee.publishErrorMessage)(A["default"].Foldering,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(D["default"].lookup("SC.Foldering.PersistedGuidProvider.MissingPersistedGuid","Missing PersistedGuid in the request."))}if(!e||!e.type){(0,Ee.publishErrorMessage)(A["default"].Foldering,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(D["default"].lookup("SC.Foldering.PersistedGuidProvider.MissingPersistedGuidTypee","Missing persistedGuid type in the request."))}}this.retrieveAllPersistedGuidCount=function(e,t){var n={url:"/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/persistedguids/"+e+"/count",success:t};return(0,Le.GetRequest)(n)}}function bo(){var e=this;this.parent=null;this.correlationIds=null;this.citation=null;this.lightbox=null;this.lightboxPrefix="coid_document_widget_captiolWatchIgnore_lightbox_";this.lightboxLimitPrefix="coid_document_widget_captiolWatchIgnore_limit_lightbox_";this.folderingProvider=new yo;this.title=null;this._CAPITOL_WATCH_IGNORE="CapitolWatchIgnore";this._CAPITOL_WATCH_IGNORE_NO_WARNING="CapitolWatchIgnoreNoWarning";this._IGNORE_LIMIT=4e3;this.ignoredStatus=!1;this.SetParentDiv=function(t){e.parent=t};this.SetCorrelationIds=function(t){e.correlationIds=t};this.SetCitation=function(t){e.citation=t};this.SetTitle=function(t){e.title=t};this.Draw=function(){if(!e.parent||!e.correlationIds||e.correlationIds.length>1)return;var t=e.correlationIds[0];e.folderingProvider.retrievePersistedGuidCount(e._CAPITOL_WATCH_IGNORE,t,(function(t){e.ignoredStatus=t&&t.count>0;e._renderContent()}))};this._IgnoreHandler=function(){e.folderingProvider.retrieveAllPersistedGuidCount("CapitolWatchIgnore",(function(t){t&&t.count>=e._IGNORE_LIMIT?e._IgnoreLimitLightboxHandler(e._IGNORE_LIMIT):e._IgnoreLightBoxHandler()}))};this._IgnoreLimitLightboxHandler=function(t){var n,i,a,o=v["default"].formatNumberWithCommas(t),r=D["default"].format("SC.Document.Widget.CapitolWatchIgnore.Lightbox.IgnoreLimitWarning",{ignoreLimit:o},"Ignore document limit of "+o+" has been reached."),s=D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.IgnoreLimitGuide","You can manage your ignored documents by going to:"),l=D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.IgnoreLimitLinkPath","Alert Center -> Manage Ignored Documents and Alert Groups -> Ignored Documents.");(n=new fe["default"]).SetId(e.lightboxLimitPrefix+"lightboxId");n.SetClass("co_deliveryConfirm");n.SetTitle(D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.IgnoreLimitTitle","Ignore Limit Reached"));(i=n.GetContentDomElement()).innerHTML=`<center><p>${r}</p><p>${s}</p><p>${l}</p></center>`;n.SetCloseLinkObject({id:e.lightboxLimitPrefix+"popupClose",alt:D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.Ok","Ok"),onclick:function(){n.Remove()}});a=n.GetFooterDomElement();const c=document.createElement("input");c.id=`${e.lightboxLimitPrefix}okButton`;c.type="button";c.className="fa_closeButton co_primaryBtn";c.value=D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.Ok","Ok");c.addEventListener("click",(function(){n.Remove()}));a.append(c);n.Draw(!0,!0)};this._IgnoreLightBoxHandler=function(){e.lightbox=null;if(g["default"].Get("Alerts",e._CAPITOL_WATCH_IGNORE_NO_WARNING)){e._ignoreDocumentHandler();return}e.lightbox=new fe["default"];e.lightbox.SetId(e.lightboxPrefix+"lightboxId");e.lightbox.SetClass("co_deliveryConfirm");e.lightbox.SetCloseLinkObject({id:e.lightboxPrefix+"popupClose",alt:D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.CloseIcon","Close Ignore Document"),onclick:function(){e._destroyLightbox()}})
;e.lightbox.SetTitle(D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.Title","Ignore Document"));e._escapeDialog=function(t){27===t.keyCode&&e._destroyLightbox()};document.addEventListener("keyup",e._escapeDialog);var t=D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.WarningMessage",'<p>Are you sure you wish to ignore this document? This document will be ignored from <span style="text-decoration: underline;">ALL</span> of your WestClip Alerts.<p>'),n=D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.GuideMessage","You can undo this action by going to Alert Center -> Manage Ignored Documents and Alert Groups -> Ignored Documents."),i=D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.Continue","Continue?"),a=vo().div({id:e.lightboxPrefix+"contentDiv"},vo().div({id:e.lightboxPrefix+"progressIndicator"}),vo().div({id:e.lightboxPrefix+"container"},x()(t)[0],vo().p(n),vo().p(i)));e.lightbox.GetContentDomElement().appendChild(a);var o=vo().ul(vo().li({class:"co_welcomePrefCheckbox"},vo().label({for:e.lightboxPrefix+"prefCheckbox"},vo().input({type:"checkbox",id:e.lightboxPrefix+"prefCheckbox"}),D["default"].lookup("SC.Website.Widget.Welcome.PreferenceCheckboxText","Don't show me this again"))),vo().li(vo().label({class:"co_accLink",for:e.lightboxPrefix+"okButton"},D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.LightboxContinueLabel","Continue to ignore the document")),vo().input({id:e.lightboxPrefix+"okButton",class:"co_primaryBtn",type:"button",value:D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.Ok","Ok")})),vo().li(vo().a({id:e.lightboxPrefix+"cancelButton",class:"co_overlayBox_buttonCancel"},D["default"].lookup("SC.Document.Widget.CapitolWatchIgnore.Lightbox.Cancel","Cancel"))));e.lightbox.GetFooterDomElement().appendChild(o);e.lightbox.Draw();document.getElementById(`${e.lightboxPrefix}cancelButton`)?.addEventListener("click",(function(){e._destroyLightbox()}));document.getElementById(`${e.lightboxPrefix}okButton`)?.addEventListener("click",e._ignoreDocumentHandler)};this._setNoWarningPreference=function(){document.getElementById(`${e.lightboxPrefix}prefCheckbox`)?.checked&&g["default"].Set("Alerts",e._CAPITOL_WATCH_IGNORE_NO_WARNING,!0)};this._ignoreDocumentHandler=function(){var t=null;if(e.lightbox){var n=document.getElementById(`${e.lightboxPrefix}progressIndicator`),i=document.getElementById(`${e.lightboxPrefix}container`);(0,lt.hideElements)(i);(t=new ee["default"](n,"large")).Draw();e._setNoWarningPreference()}var a={persistedGuid:e.correlationIds[0],metadata:{citation:e.citation,title:e.title},type:e._CAPITOL_WATCH_IGNORE};e.folderingProvider.addPersistedGuid(a,(function(n){if(n&&n.persistedGuid===e.correlationIds[0]){e.ignoredStatus=!0;e._renderContent()}if(e.lightbox){t.Erase();e._destroyLightbox()}}))};this._renderContent=function(){x()(e.parent).find("#co_capitolWatchIgnoreContainer").remove();var t=null;if(e.ignoredStatus)t=vo().div({id:r["default"].ids.capitolWatchIgnore},vo().span(vo().strong("Ignored")));else{t=vo().a({title:r["default"].texts.capitolWatchIgnoreText,id:r["default"].ids.capitolWatchIgnore,class:"co_tbButton",href:"javascript:void(0);"},r["default"].texts.capitolWatchIgnoreText);v["default"].AttachClickHandler(t,e._IgnoreHandler)}var n=vo().div({id:"co_capitolWatchIgnoreContainer"},t);e.parent.appendChild(n)};this._destroyLightbox=function(){if(e.lightbox){e._escapeDialog&&document.removeEventListener("keyup",e._escapeDialog);e.lightbox.Remove()}}}function Co(){var e=this;this.ignoreWidget=new bo;this.SetParentDiv=function(t){e.ignoreWidget.SetParentDiv(t)};this.SetCorrelationIds=function(t){e.ignoreWidget.SetCorrelationIds(t)};this.SetTitle=function(t){e.ignoreWidget.SetTitle(t)};this.SetCitation=function(t){e.ignoreWidget.SetCitation(t)};this.Draw=function(){e.ignoreWidget.Draw()}}var So=n(2248);function _o(){var e=this;this.parent=null;this.citation=null;this.title=null;this.correlationIds=null;this.documentProvider=new So["default"];this.SetParentDiv=function(t){e.parent=t};this.SetCitation=function(t){e.citation=t};this.SetTitle=function(t){e.title=t};this.SetCorrelationIds=function(t){e.correlationIds=t};this.Draw=function(){if(!e.parent||!e.correlationIds||e.correlationIds.length>1)return;e.documentProvider.RetrieveTracksFromAlerts(e.correlationIds,e._renderContent)};this.LaunchCapitolWatchAlertView=function(){var t=window.location.pathname+window.location.search,n={alertType:"CapitolWatchTrack",cite:e.citation,guid:e.correlationIds[0],returnTo:t,alertName:e.title,returnToDescription:e.title,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData},i=a["default"].Absolute(a["default"].Page.AlertsCreate(n));(0,hn["default"])(i)};this._renderContent=function(t){e.parent?.querySelector("#co_capitolWatchTrackContainer")?.remove();var n=e.correlationIds[0],i=t[n]&&t[n].length>0,a=null,o=null;if(i){var s="";if(1==t[n].length){var l=t[n][0].groupName;s=l?l.split("::").pop():"Unassigned"}else s=t[n].length+" alerts";var c="Tracked in: "+s;a=vo().div({id:r["default"].ids.capitolWatchTrackIsTracked},vo().span(vo().strong(c)))}if(te["default"]._AlertsIsAdmin||!i){o=vo().a({title:r["default"].texts.capitolWatchTrackText,id:r["default"].ids.capitolWatchTrackButton,class:"co_tbButton",href:"javascript:void(0);"},r["default"].texts.capitolWatchTrackText);v["default"].AttachClickHandler(o,e.LaunchCapitolWatchAlertView)}var d=vo().div({id:"co_capitolWatchTrackContainer",class:"co_capitolWatchTrack_container"},a,o);e.parent.appendChild(d)}}function Do(){var e=this;this.trackWidget=new _o;this.SetParentDiv=function(t){e.trackWidget.SetParentDiv(t)};this.SetCitation=function(t){e.trackWidget.SetCitation(t)};this.SetCorrelationIds=function(t){e.trackWidget.SetCorrelationIds(t)};this.SetTitle=function(t){e.trackWidget.SetTitle(t)};this.Draw=function(){e.trackWidget.Draw()}}const To=n(1117)["default"].extend({_template:"<div id='"+r["default"].ids.internalToc+"'><ol class='co_dropDownMenuList checkboxes'></ol><div class='"+r["default"].classes.tocFooter+"'><ul class='"+r["default"].classes.inlineList+"'><li><input id='"+r["default"].ids.internalTocApplyButton+"' class='"+r["default"].classes.button+"' type='submit' value='Apply' style='display:none'></li><li><a id='"+r["default"].ids.internalTocClearButton+"' href='javascript:void(0);' style='display:none'>Clear</a></li><li id='"+r["default"].ids.internalTocAddToCompareListItem+"' class='"+r["default"].classes.hideState+"'><a id='"+r["default"].ids.internalTocAddToCompareButton+"' class='"+r["default"].classes.disabled+"' href='javascript:void(0);' style='display:none'>Add to Compare</a></li></ul></div></div>",_itemTemplate:`<li><input type='checkbox' style='display:none;' class='${r["default"].classes.verticalAlignMiddle}'><label><a href='javascript:void(0);'></a></label><ol></ol></li>`,_contentTypesAllowToc:["Private Equity Funds","Private Equity Deals"],_contentTypesAllowCheckBoxes:["Private Equity Funds","Private Equity Deals"],_dropDownLinkId:"co_dropDownInteranlTocLink",_dropDownMenuClass:"co_dropDownMenu",_dropDownButtonClass:"co_tbButton",_dropDownMenuContentClass:"co_dropDownMenuContent",_dropDownListItemsClass:"co_dropDownMenuList",buildDropDownHtml:function(){return`<div id="${r["default"].ids.dropdownInternalToc}" class="${this._dropDownMenuClass} collapsed"><div class="co_dropDownButton" id="${this._dropDownLinkId}"><a href="javascript:void(0);" title="Table of Contents" class="${this._dropDownButtonClass}">Table of Contents<span class="icon25 icon_down_blue_arrow">Table of Contents</span></a></div><div id="${r["default"].ids.dropdownInternalTocContainer}" class="${this._dropDownMenuContentClass}"></div></div>`},init:function(e){this._metaInformation=e;this.parentObject=null;this.documentDisplay=null;this.skipToWidget=null;this.starPageWidget=null;this.dropdownDiv=null;this.dropdownArrow=null;this.dropdownBox=null;this.expanded=!1;this.documentBodyEventAdded=!1},SetParentDiv:function(e){this.parentObject=e},SetDocumentDisplay:function(e){this.documentDisplay=e},Draw:function(){var e=this
;e.documentDisplay&&(e.documentDisplay.FinishedRendering?e.initializeInternalTocWidget():y["default"].Subscribe(r["default"].events.documentRenderComplete,(function(){e.initializeInternalTocWidget()})))},initializeInternalTocWidget:function(){var e=this;null==e.parentObject&&(e.parentObject=document.createElement("div"));e.buildDropDownBox();e.addEventToDropDown(e.parentObject)},buildDropDownBox:function(){this.parentObject.insertAdjacentHTML("beforeend",this.buildDropDownHtml());var e=x()(this.parentObject).find("#"+r["default"].ids.dropdownInternalTocContainer);this.Setup(e)},addEventToDropDown:function(e){x()(e).find("#"+this._dropDownLinkId).click(this,this.toggleDropdownMenu)},toggleDropdownMenu:function(e){var t=e.data,n=document.getElementById(r["default"].ids.dropdownInternalToc);n?.classList.contains("collapsed")?t.showInternalTocContainer(e):t.hideInternalTocContainer(e)},showInternalTocContainer:function(){var e=document.getElementById(r["default"].ids.dropdownInternalToc);e?.classList.add("expanded");e?.classList.remove("collapsed");ti["default"].addPageTouchedListener(this.hideInternalTocContainer,document.getElementById(r["default"].ids.dropdownInternalToc),this)},hideInternalTocContainer:function(e){var t=e.data,n=document.getElementById(r["default"].ids.dropdownInternalToc);n?.classList.add("collapsed");n?.classList.remove("expanded");ti["default"].removePageTouchedListener(t.hideInternalTocContainer)},bind:function(){this._container.empty();var e=x()(this._template);e.find("#"+r["default"].ids.internalTocApplyButton).on("click",this,this.onApplyButtonClick);e.find("#"+r["default"].ids.internalTocClearButton).on("click",this,this.onClearButtonClick);e.find("#"+r["default"].ids.internalTocAddToCompareButton).on("click",this,this.onAddToCompareButtonClick);this.bindTocItemList(e.find("ol"),this._datasource);this._container.append(e);this.highlightTocParentItems();this.DocumnetAllowsCheckBoxes()&&e.find("a, input").not("#co_internalToc_checkbox_null").show()}});function Io(){var e=this;this.Name="InternalToc";this.Id=r["default"].ids.docToolbarInternalToc;i["default"].documentData&&(this.internalTocWidget=new To(i["default"].documentData.metaInformation));this.SetParentDiv=function(t){e.internalTocWidget.SetParentDiv(t)};this.SetDocumentDisplay=function(t){e.internalTocWidget.SetDocumentDisplay(t)};this.DocumentAllowsToc=function(){return e.internalTocWidget.DocumentAllowsToc()};this.Draw=function(){e.internalTocWidget.Draw()}}function xo(){this.parentElement=null;this.documentNavigation=null;this.language=null;this.documentUrl=null;var e=this;this.SetParentDiv=function(e){this.parentElement=e};this.SetDocumentNavigation=function(e){this.documentNavigation=e};this.Draw=function(){if(!e.parentElement)throw new Error("Could Not Draw LanguageToggle: parentElement was null or undefined");e.AddLanguageToggleWidget(e.parentElement)};this.AddLanguageToggleWidget=function(e){var t,n;t=document.getElementById(r["default"].ids.crswLanguageInfo);n=document.getElementById(r["default"].ids.crswOtherLanguageDocUrl);if(t&&n){this.language=t.innerHTML;this.documentUrl=n.innerHTML;if(null!=this.documentNavigation){this.documentUrl+=this.documentUrl.indexOf("?")>0?"&":"?";this.documentUrl+="navigationPath="+encodeURIComponent(this.documentNavigation.navigationPath);this.documentUrl+="&listSource="+this.documentNavigation.listSource;this.documentUrl+="&list="+this.documentNavigation.list;this.documentUrl+="&rank="+this.documentNavigation.rank}var i=document.createElement("div");i.id=r["default"].ids.crswLanguageToggleContainer;var a=document.createElement("a");a.id=r["default"].ids.crswLanguageToggleAnchor;a.className="co_tbButton co_btnBack";a.href=this.documentUrl.replace(/&amp;/g,"&");a.setAttribute("title",r["default"].texts.crswLangToggle);var o=document.createElement("i"),s=document.createElement("span");s.id=r["default"].ids.crswLanguageToggleAnchorSpan;s.innerHTML=this.language===r["default"].texts.crswLangFrench?r["default"].texts.crswLangCorrectFrench:this.language;a.appendChild(o);a.appendChild(s);i.appendChild(a);e.appendChild(i)}else e?.classList.add(r["default"].classes.hideState)}}const ko=Ti.extend({initializeDocketsTrackNavigation:function(e,t){if(t&&"PA-BUCKS"===t.jurisAbbrev&&t.knos&&t.knos.knosCode&&0===t.knos.knosCode.indexOf("160"))return;this._super(e)},Draw:function(){var e=this;if(document.getElementById("co_document_0")?.classList.contains("co_dockets")&&document.getElementById("co_docketsUpdate")?.classList.contains("co_ukDocketsUpdatesUnavailable"))return;if(this.documentObject){var t=document.getElementById(r["default"].ids.docketsTrackLink);if(t){f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(e.documentObject.DocumentGuid,(function(n){e.metainfo=n;var i=JSON.parse(n.JsonString||null);e.initializeDocketsTrackNavigation(t,i)}))}}}});const wo=class{SetParentDiv(e){this.ParentElement=e}SetDocumentGuid(e){this.DocumentGuid=e}SetFileHistoryTabDocumentGuid(e){this.fileHistoryTabDocumentGuid=e}Draw(){var e=this.fileHistoryTabDocumentGuid?this.fileHistoryTabDocumentGuid:this.DocumentGuid,t=v["default"].GetMetadataFromDom(r["default"].ids.embeddedMetaInfoPrefix+e);["IP_TSDR"].includes(t.subContentType)&&this.initializeTSDRTrackNavigation(t)}initializeTSDRTrackNavigation(e){const{titleText:t,FirstLineCite:n}=e;if(te["default"]._AlertsAccessFunctionalityTurnedOn&&te["default"]._AlertsAccessCategoryApplied){var i=window.location.pathname+window.location.search,o=this.fileHistoryTabDocumentGuid?this.fileHistoryTabDocumentGuid:this.DocumentGuid,s={alertType:"TSDRHistoryTrack",cite:document.getElementById(r["default"].ids.metadataApplicationNumber)?.value,guid:o,alertName:t,returnTo:i,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData,returnToDescription:n},l=a["default"].Absolute(a["default"].Page.AlertsCreate(s));this.drawAlertButton(l)}}drawAlertButton(e){var t=document.createElement("div");t.id=r["default"].ids.docToolbarTSDRTrackLinkContainer;var n=document.createElement("a");n.id=r["default"].ids.docTSDRAnchor;n.className=r["default"].classes.keyCiteAlertLink;n.title=r["default"].texts.createTSDRTrackText;n.href=e;n.innerHTML=r["default"].texts.createTSDRTrackText;t.appendChild(n);this.ParentElement.appendChild(t);new ht["default"](n).render()}};const Eo=class{SetParentDiv(e){this.ParentElement=e}SetDocumentGuid(e){this.DocumentGuid=e}SetFileHistoryTabDocumentGuid(e){this.fileHistoryTabDocumentGuid=e}Draw(){var e=this.fileHistoryTabDocumentGuid?this.fileHistoryTabDocumentGuid:this.DocumentGuid,t=v["default"].GetMetadataFromDom(r["default"].ids.embeddedMetaInfoPrefix+e);["IP_PAIR"].includes(t.subContentType)&&this.initializePAIRTrackNavigation(t)}initializePAIRTrackNavigation(e){if(te["default"]._AlertsAccessFunctionalityTurnedOn&&te["default"]._AlertsAccessCategoryApplied){const{titleText:r,FirstLineCite:s}=e;var t=window.location.pathname+window.location.search,n=this.fileHistoryTabDocumentGuid?this.fileHistoryTabDocumentGuid:this.DocumentGuid;var i={alertType:"PAIRHistoryTrack",cite:document.querySelector(".co_ProceedingNumber")?.textContent?.trim()??"",guid:n,alertName:r,returnTo:t,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData,returnToDescription:s},o=a["default"].Absolute(a["default"].Page.AlertsCreate(i));this.drawAlertButton(o)}}drawAlertButton(e){var t=document.createElement("div");t.id=r["default"].ids.docToolbarPAIRTrackLinkContainer;var n=document.createElement("a");n.id=r["default"].ids.docPAIRAnchor;n.className=r["default"].classes.keyCiteAlertLink;n.title=r["default"].texts.createPAIRTrackText;n.href=e;n.innerHTML=r["default"].texts.createPAIRTrackText;t.appendChild(n);this.ParentElement.appendChild(t);new ht["default"](n).render()}};var Ao=n(7473),Lo=n.n(Ao),No=n(5351),Ro=n.n(No);const Po=Lo().extend((function(e){var t=e,n=t+"MenuControl",i=t+"MenuLink",a=t+"MenuList",o="expanded",r="co_dropdownSelected",s=null;function l(){var e=document.querySelector("#co_document_"+n);e?.classList.toggle(o);e?.classList.toggle("collapsed");if(e.classList.contains(o)){
ti["default"].addPageTouchedListener(l,e);c().find("a").first().focus()}else ti["default"].removePageTouchedListener(l)}function c(){s||(s=x()("#co_document_"+a));return s}function d(){return c().find("li."+r)}return{buildHtml:function(e){return Ro().template('<div id="co_document_<%-id%>Menu">  <div id="co_document_<%-id%>MenuControl" class="co_dropDownMenu collapsed">    <div class="co_dropDownButton">      <a id="co_document_<%-id%>MenuLink" href="javascript:void(0);" title="<%-linkTitle%>" class="co_tbButton"><span class="icon25 icon_alert" role="button"><%-linkTitle%></span> <span role="button" aria-haspopup="true" class="icon25 icon_down_blue_arrow"><%-linkTitle%></span></a>    </div>  <div id="co_document_<%-id%>MenuContent" class="co_dropDownMenuContent narrow">    <ul id="co_document_<%-id%>MenuList" role="listbox" class="co_dropDownMenuList">      <li <%-cssClassName%>><a id="co_document_<%-id%>MenuOptionLink_<%-code%>" href="<%-href%>" role="button" value="<%-code%>"><%-displayName%></a></li>\t   </ul>  </div>  </div></div>',{id:t,linkTitle:e.displayName,code:e.code,displayName:e.displayName,href:e.href,cssClassName:e.cssClassName?'class="'+e.cssClassName+'"':""})},finalize:function(){document.getElementById(`co_document_${i}`)?.addEventListener("click",l)},getSelectedValue:function(){return d().find("a").attr("value")},setSelectedValue:function(e){d().removeClass(r);c().find("a[value="+e+"]").parent().addClass(r)}}}));const Oo=Lo().extend((function(){var e=null;return{draw:function(e){return this.getRenderer().buildHtml(e)},finalize:function(){return this.getRenderer().finalize()},setRenderer:function(t){e=t},getRenderer:function(){e||(e=new Po(this.getRendererId()));return e},getRendererId:function(){return"dealTrack"}}})),Bo=xi.extend({_contentTypesAllowDeal:["Bond Transactions","Loans","R&P Transactions","Mergers & Aquisitions","Private Equity Deals","Private Equity Funds"],_alertSelector:null,init:function(){this.titleText=null;this.dealTrackUrl=null;this._super()},initializeDealTrackNavigation:function(){var e=this;if(te["default"]._AlertsAccessFunctionalityTurnedOn&&te["default"]._AlertsAccessCategoryApplied){(new So["default"]).RetrieveDealsFromAlerts(e.documentObject.DocumentGuid,e.renderContent.bind(e))}},Draw:function(){var e=this;if(this.documentObject){f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(e.documentObject.DocumentGuid,(t=>{e.metainfo=t;var n=t.metaInformation.subContentType;this._contentTypesAllowDeal.includes(n)&&e.initializeDealTrackNavigation()}))}},renderContent:function(e){var t=this,n=document.createElement("div");n.id=r["default"].ids.docToolbarDealTrackLinkContainer;var i,o,s=window.location.pathname+window.location.search,l=t.metainfo["Cite"],c=t.metainfo["TitleText"];if(e&&e.length>0){i=r["default"].texts.editDealTrackText;const t={alertType:"DealTrack",guid:e,cite:l,returnTo:s,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData,returnToDescription:i};o=a["default"].Absolute(a["default"].Page.AlertsEdit(t))}else{i=r["default"].texts.createDealTrackText;const e={alertType:"DealTrack",cite:l,guid:t.documentObject["DocumentGuid"],alertName:c,returnTo:s,transitionType:a["default"].DefaultTransitionType,contextData:a["default"].DefaultContextData,returnToDescription:i};o=a["default"].Absolute(a["default"].Page.AlertsCreate(e))}this.titleText=i;this.dealTrackUrl=o;var d={code:"DealTrack",displayName:i,href:o.toString()},u=new Oo;n.innerHTML=u.draw(d);t.parentObject.appendChild(n);u.finalize()}});var Mo=n(2982),Fo=null,Wo=null,Ho=null,Go=null,Uo=null,jo={Draw:function(e,t,n){Ho=new So["default"];Go=e;Uo=t;Fo&&Fo.Remove();"ShowWarn"===n?this.DrawWarning():"ShowBlock"===n&&this.DrawBlock()},DrawBlock:function(){try{var e=D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawBlock.Title","This Feature is Blocked");(Fo=new fe["default"]).SetId("co_inlineKeyCitesOutOfPlanLightbox");Fo.SetTitle(e);Fo.SetCloseLinkObject({className:"co_overlayBox_closeButton",alt:D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawBlock.CloseText","Close the window"),onclick:this.Close});Fo.GetContentDomElement().innerHTML=`<div id="co_docWarning_text"><p><strong>${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawBlock.WarningMessageFirstParagraph","You do not have access to Inline KeyCite<sup>®</sup> Flags because it is not authorized under your subscription agreement.")}</strong></p><p>${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawBlock.WarningMessageSecondParagraph","“Show KeyCite<sup>®</sup> Flags” checks the KeyCite<sup>®</sup> status for citations within the document.  Relevant KeyCite<sup>®</sup> Flags display next to those citations.")}</p>`;var t=Fo.GetFooterDomElement();t.innerHTML=`<div class="co_overlayBox_optionsBottomRight"><ul class="co_overlayBox_optionsBottom"><li><input id="co_inlineKeyCitesBlockedLightboxOKButton" class="co_primaryBtn" type="button" value="${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawBlock.OkButton","OK")}" /></li></ul></div>`;Fo.Draw();x()(t).find("#co_inlineKeyCitesBlockedLightboxOKButton").click((function(){jo.Close();return!1}))}catch(e){Fo.Remove()}},DrawWarning:function(){try{var e=D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarningTitle","This Feature is Out of Plan");(Fo=new fe["default"]).SetId("co_inlineKeyCitesOutOfPlanLightbox");Fo.SetTitle(e);Fo.SetCloseLinkObject({className:"co_overlayBox_closeButton",alt:D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarningCloseText","Close the Out of Plan window"),onclick:this.Close});var t='target="_blank" href="/Subscriber.html?transitionType=Default&amp;contextData=(sc.Default)"';Fo.GetContentDomElement().innerHTML=`<div id="co_docWarning_text"><p>${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarning.WarningMessageFirstParagraph","“Show KeyCite<sup>®</sup> Flags” checks the KeyCite<sup>®</sup> status for citations within the document.  Relevant KeyCite<sup>®</sup> Flags display next to those citations.")}</p><p><strong>${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarning.WarningMessageSecondParagraph","Viewing this feature will incur additional charges.")}</strong></p><p class="co_pricingInfo">${D["default"].format("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarning.WarningMessageInfo",{attributes:t},"To learn more about WestlawNext Charges, view our <a"+t+">Pricing Guide</a> .")}</p><div id="co_warning_clientId"></div></div>`;var n=Fo.GetFooterDomElement();n.innerHTML=`<div class="co_overlayBox_optionsBottomRight"><ul class="co_overlayBox_optionsBottom"><li><input id="co_inlineKeyCitesOutOfPlanLightboxViewFeature" class="co_primaryBtn" type="button" value="${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarning.ViewFeature","View Feature")}" /></li><li><a href="javascript:void(0);" id="co_inlineKeyCitesOutOfPlanLightboxCancel" class="co_overlayBox_buttonCancel">${D["default"].lookup("SC.Document.Widget.InlineKeyCitesOutOfPlan.DrawWarning.CancelButton","Cancel")}</a></li></ul></div>`;x()(n).find("#co_inlineKeyCitesOutOfPlanLightboxViewFeature").click((function(){jo.ReloadDocumentWithFlags();return!1}));x()(n).find("#co_inlineKeyCitesOutOfPlanLightboxCancel").click((function(){window.location.reload(!0);return!1}));Fo.Draw();if(to["default"].ViewData.ShowClientIdWidget){(Wo=new no["default"]).SetParentDiv(document.getElementById("co_warning_clientId"));Wo.SetCurrentClientMatter(te["default"].ClientMatter);Wo.Setup();Wo.DrawInline()}}catch(e){Fo.Remove()}},ReloadDocumentWithFlags:function(){Ho.BillInlineKeyCiteFlags(Go)&&Uo()},Close:function(){if(null!==Fo){Fo.Remove();Fo=null}}};const $o=jo,Vo="Unsuccessful",qo="NoFlags",zo="NonKeyCitable",Ko="TooManyGrey",Yo="TooManyFlags";const Qo=function(e){if(null==e){(0,Ee.publishErrorMessage)(A["default"].Document,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Invalid document object passed to create search within document widget.")}var t=this
;this.documentDisplayObject=e;this.inlineKeyCitesButtonAnchor=null;this.docBody=null;this.linkElements=null;this.isDisplayed=null;this.flagStorage=Mo["default"];this.provider=null;this.hiddenMetadata=null;this.documentGuid=e.DocumentGuid;this.isEnable=!0;this.SetParentDiv=function(e){t.parent=e};this.handleInlineKeyCiteFlagsError=function(){t.flagStorage.SetFlagDisplayState(t.documentGuid,!1);if(!t.flagStorage.GetErrorDisplayed(t.documentGuid)||o["default"].isIacOn("IAC-INLINEKCFLAGS-LIMIT")){t.displayMessage(r["default"].ids.docInlineKeyCitesErrorContainer,r["default"].texts.inlineKeyCitesErrorText);t.flagStorage.SetErrorDisplayed(t.documentGuid,!0)}};this.handleInlineKeyCiteTooManyFlags=function(){t.flagStorage.SetFlagDisplayState(t.documentGuid,!1);if(!t.flagStorage.GetErrorDisplayed(t.documentGuid)||o["default"].isIacOn("IAC-INLINEKCFLAGS-LIMIT")){t.displayMessage(r["default"].ids.docInlineKeyCitesErrorContainer,r["default"].texts.inlineKeyCitesTooManyFlagsText,$["default"].Warning);t.flagStorage.SetErrorDisplayed(t.documentGuid,!0)}};this.handleErrors=function(){let e=!1;if(t.isInlineKeyCiteFlagsError()){e=!0;this.handleInlineKeyCiteFlagsError()}else if(t.isInlineKeyCiteTooManyFlags()){e=!0;this.handleInlineKeyCiteTooManyFlags()}else if(t.isInlineKeyCiteNonKeyCitableError()){e=!0;t.flagStorage.SetFlagDisplayState(t.documentGuid,!1);if(!t.flagStorage.GetErrorDisplayed(t.documentGuid)||o["default"].isIacOn("IAC-INLINEKCFLAGS-LIMIT")){o["default"].isFeatureEnabled("BYPASS WARN INLINE KC")?t.displayMessage(r["default"].ids.docInlineKeyCitesDialogContainer,r["default"].texts.inlineKeyCitesNonKeyCitableInPlanText):t.displayMessage(r["default"].ids.docInlineKeyCitesDialogContainer,r["default"].texts.inlineKeyCitesNonKeyCitableText);t.flagStorage.SetErrorDisplayed(t.documentGuid,!0)}}else if(t.isInlineKeyCiteNoFlagsError()){e=!0;t.flagStorage.SetFlagDisplayState(t.documentGuid,!1);if(!t.flagStorage.GetErrorDisplayed(t.documentGuid)||o["default"].isIacOn("IAC-INLINEKCFLAGS-LIMIT")){t.displayMessage(r["default"].ids.docInlineKeyCitesDialogContainer,r["default"].texts.inlineKeyCitesNoFlagsText);t.flagStorage.SetErrorDisplayed(t.documentGuid,!0)}}return e};this.Draw=function(){t.provider=new So["default"];y["default"].Subscribe(r["default"].events.chunkRendered,t.ChunkCallback);t.inlineKeyCitesButtonAnchor=document.createElement("button");t.inlineKeyCitesButtonAnchor.id=r["default"].ids.docInlineKeyCitesButtonAnchor;t.inlineKeyCitesButtonAnchor.className=r["default"].classes.inlineKeyCitesButtonLink;t.inlineKeyCitesButtonAnchor.title=r["default"].texts.inlineKeyCitesButtonTitle;t.inlineKeyCitesButtonAnchor.type="button";if(t.isInlineKeyCiteNonKeyCitableError()||t.isInlineKeyCiteNoFlagsError()){t.inlineKeyCitesButtonAnchor.className=`${t.inlineKeyCitesButtonAnchor.className} co_disabled`;t.isEnable=!1}else v["default"].AttachClickHandler(t.inlineKeyCitesButtonAnchor,t.ButtonClicked);t.inlineKeyCitesButtonSpan=document.createElement("span");t.inlineKeyCitesButtonSpan.innerHTML=r["default"].texts.inlineKeyCitesShowButtonText;t.inlineKeyCitesButtonSpan.className=r["default"].classes.inlineKeyCitesButtonSpan;t.inlineKeyCitesButtonAnchor.appendChild(t.inlineKeyCitesButtonSpan);t.parent.appendChild(t.inlineKeyCitesButtonAnchor);t.docBody=document.getElementById(r["default"].ids.document);t.refreshDomReferences();this.handleErrors()||t.isInlineKeyCiteFlagsIncluded()&&(t.flagStorage.GetFlagDisplayState(t.documentGuid)||o["default"].IsIndigoDisplayEnabled&&o["default"].isFeatureEnabled("INLINE KC FLAGS CUSTOM SELECT")?t.ShowInlineKeyCites():t.HideInlineKeyCites());document.getElementById(`${r["default"].ids.partialDocumentChunkPrefix}0`)?.classList.remove(r["default"].classes.hideState)};this.ButtonClicked=function(){if(t.isInlineKeyCiteFlagsIncluded())t.flagStorage.GetFlagDisplayState(t.documentGuid)?t.HideInlineKeyCites():t.ShowInlineKeyCites();else{var e=t.provider.ShowInlineKeyCiteWarning(t.documentDisplayObject.DocumentGuid);"False"===e?t.provider.BillInlineKeyCiteFlags(t.documentDisplayObject.DocumentGuid)&&t.refreshWithAnchor():$o.Draw(t.documentDisplayObject.DocumentGuid,t.refreshWithAnchor,e)}};this.ShowInlineKeyCites=function(){for(let e=0;e<t.linkElements.length;e++)t.linkElements[e]?.classList.remove(r["default"].classes.hideState);for(let e=0;e<t.illegalLinkRemovedElements.length;e++)t.toggleIllegalLink(t.illegalLinkRemovedElements[e],!0);t.inlineKeyCitesButtonSpan.innerHTML=r["default"].texts.inlineKeyCitesHideButtonText;t.flagStorage.SetFlagDisplayState(t.documentGuid,!0)};this.HideInlineKeyCites=function(){for(let e=0;e<t.linkElements.length;e++)t.linkElements[e]?.classList.add(r["default"].classes.hideState);for(let e=0;e<t.illegalLinkRemovedElements.length;e++)t.toggleIllegalLink(t.illegalLinkRemovedElements[e],!1);t.inlineKeyCitesButtonSpan.innerHTML=r["default"].texts.inlineKeyCitesShowButtonText;t.flagStorage.SetFlagDisplayState(t.documentGuid,!1)};this.ChunkCallback=function(e,n){t.refreshDomReferences();t.isInlineKeyCiteFlagsIncluded()&&t.flagStorage.GetFlagDisplayState(t.documentGuid)?t.ShowInlineKeyCites():t.HideInlineKeyCites();var i="#"+r["default"].ids.partialDocumentChunkPrefix+n.Data.chunkNumber;document.querySelector(i)?.classList.remove(r["default"].classes.hideState)};this.isInlineKeyCiteFlagsIncluded=function(){if(!t.hiddenMetadata){var e="co_document_metaInfo_"+t.documentDisplayObject.DocumentGuid;t.hiddenMetadata=JSON.parse(document.getElementById(e).value)}return t.hiddenMetadata.inlineKeyCiteFlagsIncluded};this.isInlineKeyCiteFlagsError=function(){if(!t.hiddenMetadata){var e="co_document_metaInfo_"+t.documentDisplayObject.DocumentGuid;t.hiddenMetadata=JSON.parse(document.getElementById(e).value)}return t.hiddenMetadata.inlineKeyCiteFlagsResolutionStatus===Vo||t.hiddenMetadata.inlineKeyCiteFlagsResolutionStatus===Ko};this.isInlineKeyCiteTooManyFlags=function(){if(!t.hiddenMetadata){var e="co_document_metaInfo_"+t.documentDisplayObject.DocumentGuid;t.hiddenMetadata=JSON.parse(document.getElementById(e).value)}return t.hiddenMetadata.inlineKeyCiteFlagsResolutionStatus===Yo};this.isInlineKeyCiteNonKeyCitableError=function(){if(!t.hiddenMetadata){var e="co_document_metaInfo_"+t.documentDisplayObject.DocumentGuid;t.hiddenMetadata=JSON.parse(document.getElementById(e).value)}return t.hiddenMetadata.inlineKeyCiteFlagsResolutionStatus===zo};this.isInlineKeyCiteNoFlagsError=function(){if(!t.hiddenMetadata){var e="co_document_metaInfo_"+t.documentDisplayObject.DocumentGuid;t.hiddenMetadata=JSON.parse(document.getElementById(e).value)}return t.hiddenMetadata.inlineKeyCiteFlagsResolutionStatus===qo};this.displayMessage=function(e,t,n){var i=document.getElementById("co_docToolbar");x()(i).is(":visible");var a=(0,ft.offset)(document.getElementById("co_docToolbar")),o=a.top+(0,u.getElementHeight)(i)-window.pageYOffset,r=a.left+(0,u.getElementWidth)(i)-550,s=document.createElement("div");s.id=e;s.className="co_hideState";document.body.append(s);s.style.position="fixed";s.style.top=`${o}px`;s.style.left=`${r}px`;s.style.width="370px";var l=document.getElementById(e);new U["default"](l,n||$["default"].Failure,j["default"].Bottom,!1,!0,!1).Draw(t);l.querySelector(".co_infoBox_closeButton")?.addEventListener("mousedown",(function(){l.parentNode.removeChild(l)}))};this.adjustMessagePosition=function(){var e=document.getElementById("co_docToolbar"),t=(0,ft.offset)(document.getElementById("co_docToolbar")).top+(0,u.getElementHeight)(e)-window.pageYOffset;const n=document.getElementById("inlineKeyCiteFlagsError_container");n&&(n.style.top=`${t}px`)};this.findBestAnchorId=function(){var e=v["default"].getOverlayingFixedHeaderHeight(),t=[...document.querySelectorAll("#co_document [id]")].filter(ea.isVisible),n=window.pageYOffset,i="";if(n<100)return i;(0,Xe.forEach)(t,(function(t){if((0,ft.offset)(t).top-e>n){i=t.id;return!1}}));return i};this.refreshWithAnchor=function(){t.flagStorage.SetFlagDisplayState(t.documentGuid,!0);t.flagStorage.SetErrorDisplayed(t.documentGuid,!1);var e=window.location.pathname+function(e,t,n){var i=t+"="+n,a="?"+i
;e&&(a=e.replace(new RegExp("[&]"+t+"[^&]*"),"&"+i))===e&&(a=e.replace(new RegExp("[?]"+t+"[^&]*"),"?"+i))===e&&(a+="&"+i);return a}(window.location.search,"CobaltRefresh",Math.round(1e5*Math.random())),n={PathAndQueryString:e+="#"+t.findBestAnchorId()};Ze["default"].PageTransition(a["default"].Absolute(n))};this.refreshDomReferences=function(){t.linkElements=p["default"].GetElementsByClassName(r["default"].classes.inlineKeyCitesFlags,"span",t.docBody);t.illegalLinkRemovedElements=p["default"].GetElementsByClassName(r["default"].classes.illegalRemovedInlineKeyCitesFlags,"span",t.docBody);t.illegalLinkElements=p["default"].GetElementsByClassName(r["default"].classes.illegalInlineKeyCitesFlags,"span",t.docBody)};this.toggleIllegalLink=function(e,t){var n=e.getAttribute("id");if(n){n=n.substring(n.lastIndexOf("_")+1);var i=document.querySelector("#co_link_"+n);if(i)if(t){i.classList.add(r["default"].classes.hideState);e.classList.remove(r["default"].classes.hideState)}else{i.classList.remove(r["default"].classes.hideState);e.classList.add(r["default"].classes.hideState)}}};this.getFlagDisplayState=()=>this.flagStorage.GetFlagDisplayState(t.documentGuid);y["default"].Subscribe("Cobalt.Indigo.Website.ScrollHeader.ClassChanged",((e,t)=>{t.then((()=>{this.adjustMessagePosition()}))}))};const Xo=function(e){var t=this;this.documentDisplay=null;this.parentObject=null;this.Name="InlineKeyCitesButton";this.Id=r["default"].ids.docToolbarInlineKeyCitesWidget;this.documentContentType=e;this.SetParentDiv=function(e){t.parentObject=e};this.SetDocumentDisplay=function(e){t.documentDisplay=e};this.Draw=function(){this.inlineKeyCitesButton=new Qo(t.documentDisplay);this.inlineKeyCitesButton.SetParentDiv(t.parentObject);this.inlineKeyCitesButton.Draw();const e=r["default"].texts.inlineKeyCitesButtonTitle,n=this.inlineKeyCitesButton.inlineKeyCitesButtonAnchor;new ht["default"](n,e).render()}};var Jo=n(4283);const Zo=Jo.A.extend({AddReturnToListWidget:function(e){if(this.documentNavigation.hasReturnToLink){var t=a["default"].Parse(this.documentNavigation.returnTo.Url);if(t){var n=t.QueryString.categoryPageUrl;if(n&&n.indexOf("PublicRecords")>0&&"PR-DOCUMENT-ALL"!=t.QueryString["contentType"]&&"PR-CORPALL"!=t.QueryString["contentType"]&&t.QueryString["overviewType"]){t.QueryString.contentType="PR-DOCUMENT-ALL";t.QueryString.typeQualifier=t.QueryString.overviewType;var i=this.getAnchorLink(a["default"].Relative(t).replace(/'/g,"%27"),"Return To Results Overview");this.AddChildToParent(e,"DIV",this.wrappingElementId,i)}}}}}),er=_i.extend({DisableEmailsForPublicRecords:function(){this.deliveryWidget.SetIsEmailEnabled(!1)}}),tr=class extends Di{DisableEmailsForPublicRecords(){this.deliveryWidget.updateDeliveryOptions({isEmailEnabled:!1})}};class nr{constructor(){this.parentElement=null;this.Name="CopyCitation";this.Id=r["default"].ids.docToolbarCopyCitationWidget;this.template=st().template('<button id="co_copyCitation" class="co_tbButton" title="<%- copyCitationTitle %>">\n\t<span class="icon25 icon_rectangleDouble">\n\t\t<%- copyCitationDescription %>\n\t</span>\n</button>');this.isPrefUpdated=!1}SetParentDiv(e){this.parentElement=e}Draw(){const e=D["default"].lookup("SC.Document.ToolbarWidget.CopyCitation.Button.Label","Copy document citation to clipboard"),t=D["default"].lookup("SC.Document.ToolbarWidget.CopyCitation.Button.Title","Copy citation");this.parentElement?.insertAdjacentHTML("afterbegin",this.template({copyCitationDescription:e,copyCitationTitle:t}));const n=document.querySelector("#co_copyCitation:not(.co_hideState)");n&&new ht["default"](n).render();this.parentElement?.querySelector("#co_copyCitation")?.addEventListener("click",(()=>{const e=document.getElementById(r["default"].ids.docToolbarCopyCitationWidget);(new sa).draw(e);this.isPrefUpdated||this.updatePreferences()}))}updatePreferences(){g["default"].GetAsync("Website","CopyMenuOptionSelected").then((e=>{e!==this.Name&&g["default"].Set("Website","CopyMenuOptionSelected",this.Name);this.isPrefUpdated=!0}))}}var ir=n(8362);const ar=On().module("tr.directives",[]);ar.directive("localStorageCheckFor",[function(){return{restrict:"A",link:function(e,t,n){if(!n.localStorageCheckFor||!n.localStorageFeatureName)throw new Error("Local storage cache name and feature name for this directive are required.");var i=pn["default"].getItem(n.localStorageCheckFor);"SmartFoldersData"===n.localStorageCheckFor&&(i=Ft["default"].getItem(encodeURIComponent("SmartFoldersData-"+a["default"].Parse(window.location.href.toString()).QueryString["folderid"])));if(!i){var o=n.localStorageFeatureName,r=('<div class="co_innertube"><div class="co_genericBox co_systemErrorBox" id="co_404Box"><div class="co_genericBoxContent"><h2>{featureName} is not available.</h2><p><a id="coid_website_homepageLink" href="/Search/Home.html?transitionType=Default&contextData=(sc.Default)">'+D["default"].lookup("SC.Website.LocalStorageDirective.GoToHomePage","Go to the homepage")+"</a></p></div></div></div>").replace("{featureName}",o);t.html(r)}}}}]),ar.directive("truncateText",[function(){var e=function(e,t,n="",i="co-truncateTransformation"){var a=e[0];a.textContent=t+n;a?.parentNode?.classList.add(i);if(a.offsetHeight<a.scrollHeight){const e="…";t.length>200&&(a.textContent=t.substring(0,200));for(var o=a.textContent;a.offsetHeight<a.scrollHeight-1;){o=o.slice(0,-1);a.textContent=o+e+n}o=o?.trim()??"";a.textContent=o+e+n}a?.parentNode?.classList.remove(i)};return{scope:{title:"=truncateText",isSelected:"=",isInitialized:"=",titleDetails:"="},restrict:"A",link:function(t,n,i){e(n,t.title,t.titleDetails,i.adjustmentClass);t.$watchCollection("[isSelected, isInitialized, titleDetails]",(function(){e(n,t.title,t.titleDetails,i.adjustmentClass)}))}}}]);ar.directive("saveToWidget",(function(){return{restrict:"A",scope:{contentCallback:"&"},link:function(e,t){var n=new mt["default"];n.SetContentCallback(e.contentCallback);n.SetDomElement(t);n.DrawForNonFolderFeature()}}}));ar.directive("deliveryWidget",(function(){return{restrict:"A",scope:{contextCallback:"&",widget:"=?"},link:function(e,t){var n=f["default"].GetObject("Cobalt.Widget.Delivery");n.SetParentDiv(t[0]);n.SetContextCallback((t=>e.contextCallback({deliveryMedium:t})));n.Draw();e.widget=n}}}));ar.directive("selectItems",(function(){return{restrict:"E",replace:!0,template:'<ul class="co_navOptions">\n\x3c!--\n@file SelectedItems template\n--\x3e\n\t<li class="co_navSelectAll">\n\t\t<input type="checkbox" id="co_result_selectAll" ng-click="checkAllClick()" ng-model="allChecked"/>\n\t\t<label for="co_result_selectAll">\n\t\t\t{{selectAllItemsText}} <span class="co_accessibilityLabel">{{selectAllItemsText}}</span>\n\t\t</label>\n\t</li>\n\t<li class="co_navItemsSelected">\n\t\t{{selectedItemsCountText}}\n\t\t<a ng-if="!hideClearAll" ng-show="totalSelectedCount > 0" class="co_blueLink" ng-click="clearAll()">\n\t\t\t{{clearAllText}}\n\t\t</a>\n\t</li>\n</ul>\n',scope:{items:"=",totalItems:"=",hideClearAll:"@"},link:function(e){e.selectAllItemsText=D["default"].lookup("SC.Website.SharedDirectives.SelectAllItems","Select all items");e.clearAllText=D["default"].lookup("SC.Website.SharedDirectives.ClearAll","Clear all");e.allChecked=!1;e.getSelectedItemsText=function(e){switch(e){case 0:return D["default"].lookup("SC.Website.SharedDirectives.NoItemsSelected","No items selected");case 1:return D["default"].lookup("SC.Website.SharedDirectives.SingleItemSelected","1 item selected");default:return D["default"].format("SC.Website.SharedDirectives.ItemsSelected",{count:e},`${e} items selected`)}};e.checkAllClick=function(){st().each(e.items,(t=>{t.checked=!e.allChecked}))};e.clearAll=function(){st().each(e.items,(e=>{e.checked=!1}));st().each(e.totalItems,(e=>{e.checked=!1}))};e.reassignCheckState=function(e,t){st().each(t,(t=>{const n=st().find(e,(e=>e.guid===t.guid));n&&(t.checked=n.checked)}))};e.$watchCollection("items",(()=>{e.reassignCheckState(e.totalItems,e.items)}));e.$watch("[items, totalItems]",(()=>{e.selectedItemsCount=st().filter(e.items,(e=>!0===e.checked)).length;e.allChecked=e.items.length===e.selectedItemsCount;e.reassignCheckState(e.items,e.totalItems)
;e.totalSelectedCount=st().filter(e.totalItems,(e=>!0===e.checked)).length;e.selectedItemsCountText=e.getSelectedItemsText(e.totalSelectedCount)}),!0)}}}));n(2396);ar.directive("barGraph",[function(){return{scope:{inputData:"=inputData",graphConfig:"=graphConfig"},link:function(e,t){e.$watch("inputData",(function(){if(e.inputData){var n=t,i=(0,Xe.cloneDeep)(e.graphConfig??{});null==i.series&&(i.series=[]);e.inputData.forEach((function(e){Object.keys(e.seriesData).map((function(e){null==st().find(i.series,(function(t){return t.name==e}))&&i.series.push({name:e,data:[],extData:[]})}))}));e.inputData.forEach((function(e){null!=i.xAxis&&null!=i.xAxis.categories&&i.xAxis.categories.push(e.title);Object.keys(e.seriesData).forEach((function(t,n){var a=e.seriesData[t];i.series[n].data.push(a);i.series[n].index=n;i.series[n].extData.push(e.extData)}))}));n.highcharts(i);e.$emit("GRAPH_DRAWN")}}),!1)}}}]);ar.directive("localization",[function(){return{restrict:"E",link:function(e,t,n){const i=(e,n,i)=>{i=(0,d.Substitute)(i,e);var a=D["default"].format(n,e,i);t.html(a)};var a={},o=n.format,r=n.displaydefaultvalue;st().map(n,(function(e,t){if(-1!==t.indexOf("formatkeyvalue")){var s=t.replace("formatkeyvalue","").toLowerCase();a[s]=e;n.$observe(t,(function(e){a[s]=e;i(a,o,r)}))}else"format"===t&&n.$observe(t,(function(e){i(a,e,r)}))}));i(a,o,r)}}}]);ar.directive("a11yTooltip",(function(){return{restrict:"A",link:function(e,t,n){let i=null;n.$observe("title",(()=>{if(i){i.setTooltipText(n.title);t.removeAttr("title")}else{i=new ht["default"](t);i.render()}}));e.$on("$destroy",(function(){i&&i.remove()}))}}}));const or=On().module("tr.services",[]);or.factory("WebRequest",[function(){return E["default"]}]);var rr=n(7259);or.factory("UserPreferences",[function(){return rr["default"]}]);or.factory("Request",[function(){return Le}]);var sr=n(744);or.factory("Context",[function(){return sr["default"]}]);or.factory("LocalStorage",[function(){return Ft["default"]}]);n(3873);const lr=On().module("researchOrganizer.smartFolders",["ngSanitize","tr.directives","tr.services"]);const cr={areSecondarySourcesAvailable:function(){return o["default"].isFeatureEnabled("FOLDER ANALYSIS ADDL CONTENT")&&o["default"].IsIndigoDisplayEnabled},getLoadingSpinner:function(){return new ee["default"](document.getElementById("loadingSpinner"),"small")},getLargeLoadingSpinner:function(){return new ee["default"](document.getElementById("loadingSpinner"),"large")}};lr.factory("smartFoldersService",["WebRequest","UserPreferences","LocalStorage","$q",function(e,t,n,i){var o=[{name:D["default"].lookup("SC.Foldering.SmartFolders.RecommendedDocuments","Recommended Documents"),aliasName:"recommended"},{name:D["default"].lookup("SC.Foldering.SmartFolders.FolderedDocuments","Foldered Documents"),aliasName:"foldered"}];return{getSeriesForBarGraph:function(){return o},getCurrentSeriesAliasName:function(e){return o.filter((function(t){return-1!=e.indexOf(t.name)}))},postUXEvent:R.postUXEvent,getSmartFoldersCacheData:function(){return JSON.parse(n.getItem("SmartFoldersData-"+a["default"].Parse(window.location.href).QueryString["folderid"]))},setSmartFoldersCacheData:function(e){n.setItem("SmartFoldersData-"+a["default"].Parse(window.location.href).QueryString["folderid"],JSON.stringify(e))},populateDocuments:function(n,a){var o=i.defer(),r=t.getInPlanUserPreferences();new e(A["default"].Search,"/Search/v1/smartFolders/details",{timeout:9e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}).Post(JSON.stringify({caseGuids:n,inPlanData:r,billingContext:a}),(function(e){var t=JSON.parse(e.ResponseText);o.resolve(t)}));return o.promise},createSummaryLegalIssue:function(e){var t={title:D["default"].lookup("SC.Foldering.SmartFolders.AllLegalIssues","All Legal Issues"),recommended:{cases:[],statutes:[]},foldered:{cases:[],statutes:[]}};if(cr.areSecondarySourcesAvailable()){t.recommended["secondary sources"]=[];t.foldered["secondary sources"]=[]}e.forEach((function(e){t.recommended.cases=st().union(t.recommended.cases,e.recommended.cases);t.recommended.statutes=st().union(t.recommended.statutes,e.recommended.statutes);t.foldered.cases=st().union(t.foldered.cases,e.foldered.cases);t.foldered.statutes=st().union(t.foldered.statutes,e.foldered.statutes);if(cr.areSecondarySourcesAvailable()){t.recommended["secondary sources"]=st().union(t.recommended["secondary sources"],e.recommended["secondary sources"]);t.foldered["secondary sources"]=st().union(t.foldered["secondary sources"],e.foldered["secondary sources"])}}));return t},getIssuesDocumentGuidsByContentType:function(e,t,n){var i=[];e.forEach((function(e){i=st().union(i,e[t][n])}));return st().uniq(i)}}}]);var dr=n(1316);lr.factory("smartFoldersDeliveryService",["smartFoldersService",function(e){var t,n=function(e){var n=[];st().each(t(),(function(t){n.push(i(t,e))}));return n},i=function(e,t){var n,i=t.contextData[e.guid];n=i?"(cid."+i.correlationId+"*oc."+i.originalContext+")":"(sc.Default)";return{ContentType:i&&i.contentType?i.contentType.toUpperCase():"CASES",DocumentGuid:e.guid,ItemContextData:n,ListItemMetadata:{Rank:e.selectedDocumentIndex}}};return{getDeliveryContext:function(i,a){t=a;var o=e.getSmartFoldersCacheData(),r=new Ei["default"];r.Medium=i;var s=t().length;if(st().contains(st().pluck(t(),"km"),!0)&&s>0){r.TotalListCount=dr["default"].KmOnlyList;return r}r.ContextProviderData={_type:"ALL",version:"1",smartFoldersDocumentTypeDisplay:o.documentTypeDeliveryText,smartFoldersDocumentTitle:o.displayedDocsTitle,documentTypeDisplay:o.documentTypeDelivery,documentTypeDisplayCount:o.documentTypeDisplayCount,isSmartFolders:!0,folderName:o.folderName};r.ContextView=Ai["default"].FolderList;r.ParentFolderName=o.folderName;r.OriginationContext="SmartFolders";"recommended"===o.displayedDocType?r.TransitionType="FolderRecommendations":"foldered"===o.displayedDocType&&(r.TransitionType="FolderItem");r.SmartFolderMode=!0;r.TotalListCount=s;r.UserMadeExplicitSelections=!0;r.SelectedItems=n(o);(0,R.postUXEvent)("Cobalt.ResearchOrganizer.SmartFolders.Delivery."+i,{});return r}}}]);class ur{convertIssue(e){const t={recommended:{},foldered:{}};t.title=e.title;t.recommended.cases=e.recommended.cases||[];t.recommended.statutes=e.recommended.statutes||[];t.foldered.cases=e.foldered.cases||[];t.foldered.statutes=e.foldered.statutes||[];if(cr.areSecondarySourcesAvailable()){t.recommended["secondary sources"]=e.recommended["secondary sources"]||[];t.foldered["secondary sources"]=e.foldered["secondary sources"]||[]}return t}}lr.factory("recommendationsService",["$q","WebRequest",function(e,t){const n=new ur;var i=function(n){var i=e.defer();new t(A["default"].Search,"/Search/v1/smartFolders/recommendations",{timeout:9e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}).Post(JSON.stringify(n),(function(e){if(200===e.StatusCode&&e.ResponseText){var t=JSON.parse(e.ResponseText);i.resolve(a(t))}else i.reject()}));return i.promise},a=function(e){return e.map(n.convertIssue)};return{getRecommendations:function(t){var n=e.defer();if(0==t.length)return e.reject();var a={analyzedGuids:t};i(t).then((function(e){a.issues=e;n.resolve(a)}),(function(){n.reject()}));return n.promise}}}]);lr.factory("foldersService",["$q","WebRequest","Request",function(e,t,n){var i,a=function(e){var t,i=sr["default"].getFolderId(),a={categoryId:i,pageSize:1e3};if(sr["default"].isSharedFoldersType())t="/Foldering/v3/"+te["default"].GetUserNameEncoded()+"/folders/shared/user/"+encodeURIComponent(i)+"/all";else if(sr["default"].isClient()){t="/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/matters/client/"+sr["default"].getClientContactId();a.status=sr["default"].getMatterStatus()}else if(sr["default"].isContainerType()){a.containerType=sr["default"].getContainerType();t="/Foldering/v1/"+te["default"].GetUserNameEncoded()+"/folders/"+encodeURIComponent(sr["default"].getContainerId())+"/contents"}else t="/Foldering/v3/"+te["default"].GetUserNameEncoded()+"/folders/user/"+encodeURIComponent(i)+"/all";var o={url:t,data:a,success:e,error:e};n.GetRequest(o)};return{getDocumentsInCurrentFolder:function(){var t=e.defer();a((function(e){var n={cases:[],
statutes:[]};cr.areSecondarySourcesAvailable()&&(n["secondary sources"]=[]);(i=e).folderedDocGuids=[];i.contextData={};e.items?.forEach((function(e){if(null!=e){switch(e.contentType){case D["default"].lookup("SC.Foldering.SmartFolders.ContentTypeCases","Cases"):n.cases.push(e.docGuid);break;case D["default"].lookup("SC.Foldering.SmartFolders.ContentTypeStatutes","Statutes & Court Rules"):n.statutes.push(e.docGuid);case D["default"].lookup("SC.Foldering.SmartFolders.ContentTypeSecondarySources","Secondary Sources"):cr.areSecondarySourcesAvailable()&&n["secondary sources"].push(e.docGuid)}i.folderedDocGuids.push(e.docGuid);i.contextData[e.docGuid]={originalContext:e.originalContext,correlationId:e.correlationId,contentType:e.contentType}}}));if(cr.areSecondarySourcesAvailable())if(n.cases.length+n.statutes.length+n["secondary sources"].length>2){n.cases=st().first(n.cases,100);n.statutes=st().first(n.statutes,100);n["secondary sources"]=st().first(n["secondary sources"],100);n=st().union(n.cases,n.statutes,n["secondary sources"])}else n=[];else if(n.cases.length+n.statutes.length>2){n.cases=st().first(n.cases,100);n.statutes=st().first(n.statutes,100);n=st().union(n.cases,n.statutes)}else n=[];t.resolve(n)}));return t.promise},getFolderResponse:function(){return i},folderHasNotChange:function(e){return sr["default"].getFolderId()===e},getFolderAncestors:function(t){var i=e.defer(),a="/Foldering/v3/"+te["default"].GetUserNameEncoded()+"/folders/user/"+encodeURIComponent(t)+"/ancestors";n.GetRequest({url:a,success:function(e){i.resolve(e)},error:function(){i.resolve([{}])}});return i.promise},getFolderType:function(){return sr["default"].getFoldersType()}}}]);lr.factory("iconService",["WebRequest","$q",function(e,t){var n=function(e,t){void 0===e.docIcons&&(e.docIcons={});e.docIcons.missingFto=t};return{getFto:function(n){var i=t.defer(),o=a["default"].Parse("/Foldering/v4/"+te["default"].GetUserNameEncoded()+"/folders/"+n+"/icons");o.QueryString.iconFlags=["missingFto"];o.QueryString.pageSize=100;o.QueryString.billingMethod=te["default"].BillingMethodForDisplayOnly;new e(A["default"].Foldering,a["default"].Relative(o),{timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}}).Get((function(e){i.resolve(e)}));return i.promise},setMissingFtoForDocs:function(e,t,i){if(200===e.StatusCode){var a={},o=JSON.parse(e.ResponseText);st().each(o.categoryItemIds,(function(e){a[e.documentGuid]=e.missingFto}));st().each(t,(function(e){"recommended"===i?n(e,function(e){if(void 0===e.docIcons)return!0;return!e.docIcons.previouslyViewed}(e)):"foldered"===i&&n(e,a[e.guid]);(function(e){e.docIcons&&x()("#co_docTitle","#"+e.guid).find("a").toggleClass("co_document_previouslyviewed",!1===e.docIcons.missingFto)})(e)}))}},getDocIcons:function(n){var i=t.defer(),a={};a.documentGuids=n;a.iconFlags=["inFolder","hasNotes","previouslyViewed"];a.clientId=te["default"].ClientId;new e(A["default"].Foldering,`/Foldering/v5/${te["default"].GetUserNameEncoded()}/icons`,{timeout:5e3,headers:{"Content-Type":"application/json",Accept:"application/json"}}).Post(JSON.stringify(a),(function(e){i.resolve(e)}));return i.promise},removeIcons:function(){document.querySelectorAll("img.smartFoldersIcons").forEach((e=>e.remove()))},drawIcons:function(e){if(e.docIcons){var t=document.querySelector(`#${e.guid} #co_docTitle`);if(Gi["default"].isPUIAllowed()){var n=document.createElement("a");n.href="javascript:void(0);";if(e.docIcons.inFolder&&"FolderRecommendations"===e.transitionType){n.id="co_document_icon_foldered_"+e.guid;n.setAttribute("docguid",e.guid);n.className="smartFoldersIcons co_document_icon_foldered";n.title=D["default"].lookup("SC.Foldering.Indigo.Icons.Foldered.TitleMessage","Recent folders");t?.after(n)}if(e.docIcons.previouslyViewed){n.id="co_document_icon_previouslyviewed_"+e.guid;n.setAttribute("docguid",e.guid);n.className="smartFoldersIcons co_document_icon_previouslyviewed";n.title=D["default"].lookup("SC.Foldering.Indigo.Icons.PreviouslyViewed.TitleMessage","Viewed Recently details");t?.after(n)}if(e.docIcons.notesCount){n.href="javascript:void(0);";n.id="co_document_icon_notes_"+e.guid;n.setAttribute("docguid",e.guid);n.className="smartFoldersIcons co_document_icon_notes";n.setAttribute("data-rtid",e.docIcons.resourceToken);n.title=D["default"].lookup("SC.Foldering.Indigo.Icons.Notes.TitleMessage","Recent annotations");t?.after(n)}}else{var i=document.createElement("img");i.className="smartFoldersIcons";if(e.docIcons.inFolder&&"FolderRecommendations"===e.transitionType){i.src=A["default"].GetUrl(A["default"].Images,"/images/co_document_icon_foldered.png");i.alt=D["default"].lookup("SC.Foldering.Icons.Foldered.AltMessage","Saved to Folder");i.title=D["default"].lookup("SC.Foldering.Icons.Foldered.TitleMessage","Saved to Folder");t?.before(i)}if(e.docIcons.previouslyViewed){i.src=A["default"].GetUrl(A["default"].Images,"/images/co_document_icon_previouslyviewed.png");i.alt=D["default"].lookup("SC.Foldering.SmartFolders.Icons.PreviouslyViewed.AltMessage","Eyeglasses &ndash; Previously viewed in last 30 days for current Client ID");i.title=D["default"].lookup("SC.Foldering.SmartFolders.Icons.PreviouslyViewed.TitleMessage","Previously viewed in last 30 days for current Client ID");t?.before(i)}if(e.docIcons.notesCount){i.src=A["default"].GetUrl(A["default"].Images,"/images/co_document_icon_notes.png");i.alt=D["default"].lookup("SC.Foldering.SmartFolders.Icons.Notes.AltMessage","Note Added");i.title=D["default"].lookup("SC.Foldering.SmartFolders.Icons.Notes.TitleMessage","Note Added");t?.before(i)}}}},clearIcons:function(){document.querySelectorAll(".smartFoldersIcons").forEach((e=>e.remove()))}}}]);lr.controller("smartFoldersRightRailController",["$scope","foldersService","recommendationsService","smartFoldersService","$compile","LocalStorage",function(e,t,n,i,o,r){e.folderAnalysisHeading=D["default"].lookup("SC.Website.SmartFolders.FolderAnalysisHeading","Folder analysis");e.recommendedDocuments=D["default"].lookup("SC.Website.SmartFolders.RecommendedDocText","Recommended Documents");e.noIssues=D["default"].lookup("SC.Website.SmartFolders.NoIssuesText","No Related Issues Found");e.noRecommendedDocuments=D["default"].lookup("SC.Website.SmartFolders.NoRecommendedDocs","No recommended documents");e.smartFoldersData={legalIssues:[],displayedDocType:"foldered",selectedIssueIndex:0,isScrollToList:!1,folderName:"",isShared:!1,folderedDocGuids:[],containerId:null};e.setCurrentFolderIdForThisScope=function(t){e.currentFolderId=t};e.retrieveRecommendations=function(){return t.getDocumentsInCurrentFolder().then((e=>n.getRecommendations(e)))};e.createIssue=function(e){const t=cr.areSecondarySourcesAvailable()?st().union(e.recommended.cases,e.recommended.statutes,e.recommended["secondary sources"]):st().union(e.recommended.cases,e.recommended.statutes),n=cr.areSecondarySourcesAvailable()?st().union(e.foldered.cases,e.foldered.statutes,e.foldered["secondary sources"]):st().union(e.foldered.cases,e.foldered.statutes);return{title:e.title,foldered:n,recommended:t,counts:{recommendedDocumentsCount:t.length}}};e.createCounts=function(e,t){var n=[];st().each(e,(function(e){n=st().union(n,e.recommended)}));return{recommendedDocumentsCount:st().difference(n,t).length,issuesCount:e.length}};e.loadData=function(){e.loading=!0;e.spinner.Show();e.retrieveRecommendations().then((n=>{if(t.folderHasNotChange(e.currentFolderId)){var i=st().filter(n.issues,(function(e){var t=e.recommended.cases.length+e.recommended.statutes.length;return cr.areSecondarySourcesAvailable()?t+e.recommended["secondary sources"].length>0:t>0}));e.smartFoldersData.issues=i;e.smartFoldersData.selectedIssueIndex=i?i.length:0;e.analyzedGuids=n.analyzedGuids;e.issues=st().map(i,e.createIssue);st().each(e.smartFoldersData.issues,((t,n)=>{t.counts=e.issues[n].counts}));e.counts=e.createCounts(e.issues,e.analyzedGuids)}})).catch((()=>{y["default"].Publish("Cobalt.ResearchOrganizer.SmartFolders.RightRail.EmptyRecommendations")})).finally((function(){e.spinner.Hide();e.loading=!1}))};e.goToDocs=function(t,n,i){(0,R.postUXEvent)(i,{});e.smartFoldersData.selectedIssueIndex=t
;e.smartFoldersData.displayedDocType=n;e.smartFoldersData.isScrollToList=!0;e.navigateToSmartFoldersDetails()};e.navigateToSmartFoldersDetails=function(){var n=t.getFolderResponse();e.smartFoldersData.folderType=t.getFolderType();e.smartFoldersData.folderName=n.name;e.smartFoldersData.isShared=n.isShared;e.smartFoldersData.containerId=n.categoryId;e.smartFoldersData.folderedDocGuids=n.folderedDocGuids;e.smartFoldersData.contextData=n.contextData;e.smartFoldersData.counts=e.counts;r.setItem("SmartFoldersData-"+e.smartFoldersData.containerId,JSON.stringify(e.smartFoldersData));var i=a["default"].Parse(window.location.href);i.QueryString.folderid=e.smartFoldersData.containerId;i.Path="/ResearchOrganizer/SmartFolders";i.Hash="";Ze["default"].PageTransition(a["default"].Absolute(i))};e.setElementContainerId=function(t){e.elementContainerId=t}}]);lr.controller("smartFoldersContentTypeViewController",["$scope",function(e){e.initContentTypes=function(){e.contentTypes=[{type:"cases",getDisplayName:function(e){return D["default"].format("SC.Foldering.SmartFolders.ContentTypeCasesCount",{count:e},"Cases ("+e+")")},isEmpty:!0},{type:"statutes",getDisplayName:function(e){return D["default"].format("SC.Foldering.SmartFolders.ContentTypeStatutesCount",{count:e},"Statutes & Court Rules ("+e+")")},isEmpty:!0}];cr.areSecondarySourcesAvailable()&&e.contentTypes.push({type:"secondary sources",getDisplayName:function(e){return D["default"].format("SC.Foldering.SmartFolders.ContentTypeSecondarySourcesCount",{count:e},"Secondary Sources ("+e+")")},isEmpty:!0})};e.changeContent=function(t){if(!t.isSelected&&!t.isEmpty){st().each(e.contentTypes,(function(e){e.isSelected=!1}));t.isSelected=!0;e.$emit("contentChanged",t)}};e.$watch("selectedIssue",(function(t){st().each(e.contentTypes,(function(n){n.isEmpty=!(t&&t[n.type]&&t[n.type].length);n.isSelected=n.type===e.selectedContentType}))}));e.getDisplayContentTypeText=function(t){var n=e.selectedIssue[t.type].length;return t.getDisplayName(n)};e.initContentTypes()}]);var hr=n(759);lr.controller("smartFoldersVisualizationController",["$scope","smartFoldersDeliveryService","smartFoldersService","iconService","$compile","LocalStorage",function(e,t,n,i,o,r){var s=void 0,l="cases";e.currentLocation=window.location.pathname;e.encodedCurrentLocation=encodeURIComponent(window.location.pathname);e.legalIssues=[];e.displayedDocs=[];e.smartFoldersNavStorageKey=null;e.collapsed=!1;e.selectedContentType=l;e.contentTypes=["cases","statutes"];cr.areSecondarySourcesAvailable()&&e.contentTypes.push("secondary sources");e.outOfPlanText=D["default"].lookup("SC.Foldering.SmartFolders.OutOfPlan","Out of Plan");e.returnToFolderText=D["default"].lookup("SC.Foldering.SmartFolders.ReturnToFolder","Return to Folder");e.inResultListText=D["default"].lookup("SC.Foldering.SmartFolders.InResultList","in result list");e.itemsSelectedText=D["default"].lookup("SC.Foldering.SmartFolders.ItemsSelected","items selected");e.legalIssuesText=D["default"].lookup("SC.Foldering.SmartFolders.LegalIssues","Legal Issues");e.expandCollapseText=D["default"].lookup("SC.Foldering.SmartFolders.FolderAnalysis","Folder Analysis");e.saveToContentCallback=function(){return e.getSelectedItems().map((e=>({DocGuid:e.guid})))};e.deliveryContextCallback=function(n){return t.getDeliveryContext(n,e.getItemsForDelivery)};e.getDisplayDocumentTypeText=function(e,t){var n="recommended"===e?D["default"].lookup("SC.Foldering.SmartFolders.RecommendedDocuments","Recommended Documents"):D["default"].lookup("SC.Foldering.SmartFolders.FolderedDocuments","Foldered Documents");if(t){var i=[];st().each(c(),(function(t){i=cr.areSecondarySourcesAvailable()?st().union(i,t[e]["cases"],t[e]["statutes"],t[e]["secondary sources"]):st().union(i,t[e]["cases"],t[e]["statutes"])}));n+=" ("+i.length+")"}return n};e.getDeliveryDocumentTypeText=function(t,n){return e.getDisplayDocumentTypeText(t,n)};e.collapseExpandGraph=function(t){if(e.collapsed!=t){e.collapsed=t;t?x()("#smartFoldersVisualization_Graph").slideUp():x()("#smartFoldersVisualization_Graph").slideDown()}};e.getItemsForDelivery=function(){var t=e.getSelectedItems();return t.length?t:e.displayedDocs};e.getSelectedItems=function(){return e.displayedDocs.filter((function(e,t){e.selectedDocumentIndex=t+1;return!0===e.checked}))};e._getSmartFoldersData=function(){s||(s=n.getSmartFoldersCacheData());return s};e._setSmartFolderData=function(e){n.setSmartFoldersCacheData(e);s=n.getSmartFoldersCacheData()};e.getContainerId=function(){return e._getSmartFoldersData().containerId};e.submitClickEvent=function(t,n){var i={};if(e.selectedIssueIndex>=0){i=n[e.selectedIssueIndex]}(0,R.postUXEvent)(t,i)};e._updateDisplayedDocs=function(t){var i=[],a=c();if(e.selectedIssueIndex===a.length){e.displayedDocsTitle=D["default"].lookup("SC.Foldering.SmartFolders.All"+e.selectedContentType,"All "+e.selectedContentType);i=n.getIssuesDocumentGuidsByContentType(a,e.selectedDocumentType,e.selectedContentType)}else{if(!(e.selectedIssueIndex>=0))return;var o=a[e.selectedIssueIndex];e.displayedDocsTitle=o.title;i=o[e.selectedDocumentType][e.selectedContentType]}e.submitClickEvent(t,a);e._populateData(i)};e._populateData=function(t){var a;"recommended"===e.selectedDocumentType?a="FolderRecommendations":"foldered"===e.selectedDocumentType&&(a="Folder");var o=e._getSmartFoldersData();e.loading=!0;n.populateDocuments(t,a).then((function(n){i.removeIcons();e.displayedDocs=e.processSmartFolderDetailsResult(n,e.legalIssues,e.selectedIssueIndex);e.formatResult();e._prepareData();e.loading=!1;return t})).then(i.getDocIcons).then((t=>{e.setIconsForDocs(t);return o.containerId})).then(i.getFto).then((t=>{i.setMissingFtoForDocs(t,e.displayedDocs,e.selectedDocumentType)}))};e.processSmartFolderDetailsResult=function(e){return e};e.selectDocumentType=function(t){e.selectedDocumentType!==t&&e._updateView(c().length,l,t,e.collapsed,"Cobalt.ResearchOrganizer.SmartFolders.DocumentTypeChanged")};e._prepareData=function(){var t=e._getSmartFoldersData();t.displayedDocsTitle=e.displayedDocsTitle;t.displayedDocType=e.selectedDocumentType;t.documentTypeDisplayText=e.getDisplayDocumentTypeText(e.selectedDocumentType);t.documentTypeDisplay=t.documentTypeDisplayText.trim();t.documentTypeDeliveryText=e.getDeliveryDocumentTypeText(e.selectedDocumentType);t.documentTypeDelivery=t.documentTypeDeliveryText.trim();t.documentTypeDisplayCount=e.displayedDocs.length;t.documentTypeDisplayText+=" ("+e.displayedDocs.length+")";t.documentTypeDeliveryText+=" ("+e.displayedDocs.length+")";t.selectedIssueIndex=e.selectedIssueIndex;e._setSmartFolderData(t);var n=[];st().each(e.displayedDocs,((e,t)=>{n[t]=e.guid}));var i={};i.docGuids=n;var a=t.containerId+"|"+e.selectedDocumentType;e.selectedIssueIndex!==t.issues.length&&(a+="|"+e.selectedIssueIndex);e.smartFoldersNavStorageKey=a;e.updateUrlParams();e._updateBrowserTitle(e.getDisplayDocumentTypeText(e.selectedDocumentType));r.setItem(encodeURIComponent("SmartFoldersNavigationData-"+a),JSON.stringify(i))};var c=function(){return e._getSmartFoldersData().issues};e.formatResult=function(){st().each(e.displayedDocs,(function(e){e.summary&&(e.summary=x()("<div>").html(e.summary).text());"statute"===e.docType&&(e.summary=e.summary.split("|**|"))}))};e.buildDocUrl=function(e,t,n){const i=a["default"].Page.Document({guid:e.guid,viewType:"FullText",originationContext:"SmartFolders",transitionType:e.transitionType,contextData:e.contextData,navigationPath:t,listSource:"SmartFolders"});i.QueryString.navStorageKey=n;return a["default"].Relative(i)};e.updateUrlParams=function(){if(e.displayedDocs){var t,n=e._getSmartFoldersData();st().each(e.displayedDocs,(function(i){if("recommended"===e.selectedDocumentType){i.transitionType="FolderRecommendations";i.contextData="(sc.Default)";i.url=e.buildDocUrl(i,e.currentLocation,e.smartFoldersNavStorageKey)}else if("foldered"===e.selectedDocumentType){t=n.contextData[i.guid];i.transitionType="FolderItem";i.contextData="(cid."+t.correlationId+"*oc."+t.originalContext+")";i.url=e.buildDocUrl(i,e.currentLocation,e.smartFoldersNavStorageKey)}}))}};e._updateBrowserTitle=function(e){
const t=D["default"].lookup("SC.Website.SmartFolders.FolderAnalysis","Folder Analysis");Ze["default"].SetBrowserTitle(`${t} - ${e}`)};e.delivery=function(e,t){(0,R.postUXEvent)(t,{});hr["default"].Get("1").DeliverySelected(e)};e.selectIssue=function(t){e.selectedIssueIndex!==t&&e._updateView(t,l,e.selectedDocumentType,!0,"Cobalt.ResearchOrganizer.SmartFolders.Navivgation.Issue.Clicked")};e.docRedirectClick=function(e,t){(0,R.postUXEvent)(t,{docguid:e})};e._updateView=function(t,n,i,a,o){e.selectedIssueIndex=t;e.selectedContentType=n;e.selectedDocumentType=i;var r=e.legalIssues[e.selectedIssueIndex][e.selectedDocumentType];0===r[e.selectedContentType].length&&(e.selectedContentType=st().find(e.contentTypes,(function(e){return r[e].length>0}))||e.contentTypes[0]);e._updateDisplayedDocs(o);e.collapseExpandGraph(a)};e._updateStylesForMode=function(){var e=x()("#co_hourlyBillingSuspendedMessage");if(e.length>0){var t={HOURLY:function(){e.removeClass("co_hideState").addClass("co_showState")},TRANSACTIONAL:function(){e.removeClass("co_showState").addClass("co_hideState")}}[te["default"].BillingMethodForDisplayOnly];"function"==typeof t&&t()}};e.loadData=function(){var t=e._getSmartFoldersData(),i=a["default"].Parse(window.location.href.toString());i.Path="/ResearchOrganizer/SmartFolders";t.returnToLink=a["default"].Absolute(i);t.returnToText=D["default"].lookup("SC.Foldering.SmartFolders.ReturnToSmartFolders","Return to Folder Analysis");e.selectedDocumentType=t.displayedDocType;e.selectedIssueIndex=t.selectedIssueIndex;e.folderName=t.folderName;e.isShared=t.isShared;e._setSmartFolderData(t);e.legalIssues=t.issues;e.legalIssues.push(n.createSummaryLegalIssue(t.issues));e.previouslyViewedIcon=A["default"].GetUrl(A["default"].Images,"/images/co_document_icon_previouslyviewed.png");e.notesIcon=A["default"].GetUrl(A["default"].Images,"/images/co_document_icon_notes.png");e.folderedIcon=A["default"].GetUrl(A["default"].Images,"/images/co_document_icon_foldered.png");e._updateStylesForMode();e._updateView(e.selectedIssueIndex,l,e.selectedDocumentType,!0,"Cobalt.ResearchOrganizer.SmartFolders.Initilize");e.barGraphInputData=e.dataBarGraphConverter()};e.setIconsForDocs=function(t){if(200===t.StatusCode){var n=JSON.parse(t.ResponseText);i.clearIcons();st().each(e.displayedDocs,(function(e){e.docIcons=n.documentGuids[e.guid];i.drawIcons(e)}))}};e.$on("contentChanged",(function(t,n){e._updateView(e.selectedIssueIndex,n.type,e.selectedDocumentType,!0,"Cobalt.Foldering.SmartFolders.LeftPanelClick")}));e.dataBarGraphConverter=function(){return st().map(e.legalIssues,(function(e){var t={title:e.title,extData:{},seriesData:{}};n.getSeriesForBarGraph(["recommended","foldered"]).forEach((function(n){t.seriesData[n.name]=e[n.aliasName]["cases"].length+e[n.aliasName]["statutes"].length;t.extData[n.name]={};t.extData[n.name]["cases"]=e[n.aliasName]["cases"].length;t.extData[n.name]["statutes"]=e[n.aliasName]["statutes"].length;if(cr.areSecondarySourcesAvailable()){t.extData[n.name]["secondary sources"]=e[n.aliasName]["secondary sources"].length;t.seriesData[n.name]+=e[n.aliasName]["secondary sources"].length}}));return t}))};e.getLocalizedSelectItemLabel=function(e){return D["default"].format("SC.Website.FolderAnalysisRecommendations.SmartFolders.SelectItem.Label",{itemName:e},`Select ${e}`)}}]);lr.controller("smartFoldersBarGraphController",["$scope","smartFoldersService",function(e,t){var n=D["default"].lookup("SC.Foldering.SmartFolders.ContentTypeCases","Cases"),i=D["default"].lookup("SC.Foldering.SmartFolders.ContentTypeStatutes","Statutes & Court Rules"),a=D["default"].lookup("SC.Foldering.SmartFolders.ContentTypeSecondarySources","Secondary Sources"),o=e._getSmartFoldersData().issues.length;e.smartFoldersGraphOptions={chart:{type:"bar",height:270+75*o,margin:[130,50,50,0]},title:{align:"high",x:18,text:D["default"].lookup("SC.Website.SmartFolders.FolderAnalysis","Folder Analysis"),style:{fontWeight:"bold"}},credits:{enabled:!1},colors:["#48a0ef","#15548c"],xAxis:{lineColor:"#ccc",lineWidth:1,tickColor:"#ccc",tickLength:10,tickWidth:1},yAxis:{min:0,title:{text:D["default"].lookup("SC.Website.SmartFolders.GraphYAxisText","Documents"),style:{fontWeight:"bold","text-transform":"uppercase"}},labels:{rotation:0,align:"center",distance:0,y:25},tickWidth:1,tickLength:0,lineWidth:0,gridLineColor:"#ccc",gridLineWidth:1,showFirstLabel:!0,allowDecimals:!1},plotOptions:{bar:{point:{events:{click:function(){var n=t.getCurrentSeriesAliasName([this.series.options.name])[0].aliasName;e.selectedDocumentType!==n||e.selectedIssueIndex!==this.index?e._updateView(this.index,"cases",n,!0):e.collapseExpandGraph(!0);e.$apply()}}}},series:{pointPadding:0,groupPadding:.3,events:{legendItemClick:function(){return!1}}}},legend:{align:"left",verticalAlign:"top",layout:"horizontal",reversed:!0,x:20,y:40,floating:!0,padding:27,borderWidth:1,backgroundColor:"#F7F7F7",width:857,itemHoverStyle:{cursor:"default"},itemStyle:{margin:10,fontWeight:"normal"}},exporting:{enabled:!0},tooltip:{formatter:function(){var e=this.series.options.extData[this.key][this.series.name],t=cr.areSecondarySourcesAvailable()?`</br> <b>  ${e["secondary sources"]} </b> ${a}`:"";return`<span>\n\t\t\t            <b>  ${e.cases} </b> ${n} </br>\n\t\t\t\t\t\t<b>  ${e.statutes} </b> ${i}\n\t\t\t\t\t\t${t}\n\t\t\t\t\t</span>`},useHTML:!0,followPointer:!0,followTouchMove:!0,hideDelay:0}}}]);lr.controller("smartFoldersBreadCrumbsController",["$scope","foldersService","smartFoldersService",function(e,t,n){e.breadCrumbs=[];e.currentFolderId=null;e.nagivateTo=function(t){if("folderAnalysis"===t.categoryId)return;if("home"===t.categoryId){Ze["default"].TransitionToHomePage();return}var n="Cobalt.Foldering.MyResearch.Select";y["default"].Publish(n,new b["default"]({folderType:e.folderType,navigateToFolder:!0,folderId:encodeURIComponent(t.categoryId)},{},n,"2.0"))};e.loadData=function(){var i=n.getSmartFoldersCacheData();e.currentContainerId=i.containerId;e.folderType=i.folderType;t.getFolderAncestors(e.currentContainerId).then((function(t){e.breadCrumbs=e.createBreadCrumbs(t)}))};e.findFolderPath=function(t){if(t.categoryId==e.currentContainerId)return[{categoryId:t.categoryId,title:t.label}];for(var n=0;t.children&&n<t.children.length;n++){var i=e.findFolderPath(t.children[n]);if(i.length>0){i.unshift({categoryId:t.categoryId,title:t.label});return i}}return[]};e.createBreadCrumbs=function(t){var n=e.findFolderPath(t[0]);n.unshift({categoryId:"home",title:D["default"].lookup("SC.Foldering.SmartFolders.Home","Home")});n.push({categoryId:"folderAnalysis",title:D["default"].lookup("SC.Foldering.SmartFolders.FolderAnalysis","Folder Analysis"),isDisabled:!0});return n}}]);lr.controller("smartFoldersKeyCiteFlagsController",["$scope",e=>{function t(){e.flagInfo={titles:{R:D["default"].format("SC.Foldering.FlagInfo.RedFlagAltText",{title:e.document.title},"KeyCite Red Flag for "+e.document.title),Y:D["default"].format("SC.Foldering.FlagInfo.YellowFlagAltText",{title:e.document.title},"KeyCite Yellow Flag for "+e.document.title),P:D["default"].format("SC.Foldering.FlagInfo.BlueFlagAltText",{title:e.document.title},"KeyCite Blue-Striped Flag for "+e.document.title),RS:D["default"].format("SC.Foldering.FlagInfo.RedStripedFlagAltText",{title:e.document.title},"KeyCite Red-Striped Flag "+e.document.title)},styles:{R:"co_rFlagSm",Y:"co_yFlagSm",P:"co_bFlagSm",RS:"co_rStripedFlagSm"}}}e.$watch("document.title",(function(e,n){e!=n&&t()}));t()}]);lr.directive("smartFoldersRightRail",["$compile",function(e){return{restrict:"A",controller:"smartFoldersRightRailController",link:function(t,n,i){t.setElementContainerId(i.id);t.setCurrentFolderIdForThisScope(i.folderid)
;var a=e('\x3c!--\n@file smartFoldersRightRail template\n--\x3e\n<div id="co_smartFoldersRightRail_contentWrapper" class="co_smartFolders co_genericBox">\n\n\t\x3c!-- Widget Title --\x3e\n\t<div class="co_genericBoxHeader" ng-show="!loading && issues.length > 0">\n\t\t<h2 id="issueBreakdownTitle" class="co_genericBoxHeaderText">\n\t\t\t<span class="icon25 icon_graph"></span>{{folderAnalysisHeading}}\n\t\t</h2>\n\t</div>\n\t<div ng-show="!loading && issues.length > 0" class="co_genericBoxContent">\n\n\t\t\x3c!-- Issue count link --\x3e\n\t\t<total-rec-docs-counts counts="counts" on-click="goToDocs(index, docType, eventName)"></total-rec-docs-counts>\n\t\n\t\t<div ng-show="issues.length == 0">\n\t\t\t<h4>{{noIssues}}</h4>\n\t\t</div>\n\n\t\t\x3c!-- Legal issues boxes --\x3e\n\t\t<ul id="legal_issues" ng-show="issues.length > 0" class="co_docList">\n\t\t\t<li class="issue" ng-repeat="issue in issues track by $index">\n\t\t\t\t<div class="co_issueHeader">\n\t\t\t\t\t<h3><localization formatkeyvalue-issuenumber="{{$index + 1}}"\n\t\t\t\t\t\tdisplaydefaultvalue="Issue #{issuenumber}"\n\t\t\t\t\t\tformat="SC.Website.SmartFolders.IssueNumber"></localization>\n\t\t\t\t\t</h3>\n\t\t\t\t</div>\n\t\t\t\t<div class="co_legalIssueDescription">\n\t\t\t\t\t<a href="javascript:void(0);"\n\t\t\t\t\t\ttruncate-text="issue.title"\n\t\t\t\t\t\ttitle="{{ issue.title }}"\n\t\t\t\t\t\tng-click="goToDocs($index, \'recommended\', \'Cobalt.ResearchOrganizer.SmartFolders.LegalIssueRecommendedDocuments.Clicked\')"\n\t\t\t\t\t\tclass="co_viewAllLink"></a>\n\t\t\t\t</div>\n\t\t\t\t<div class="co_recommendedDocs">\n\t\t\t\t\t<rec-docs-counts counts="issue.counts"></rec-docs-counts>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\n\t</div>\n</div>\n');n.append(a(t));t.spinner=cr.getLoadingSpinner();t.spinner.Draw();t.loadData()}}}]);lr.directive("smartFoldersInfo",["smartFoldersService","$compile",function(e,t){return{restrict:"A",link:function(n,i){if(!e.getSmartFoldersCacheData()){document.getElementById("smartFoldersMainContent")?.classList.remove("co_smartFolders");return}document.body.classList.add("co_smartFoldersPage");document.querySelector(".co_smartFolders")&&x()(".co_smartFolders").closest("#co_pageContainer").css("border","none");document.getElementById("smartFoldersProgress")?.remove()
;var a=t('\x3c!--\n@file smartFoldersDetails template\n--\x3e\n\n<bread-crumbs></bread-crumbs>\n\n<h1 ng-class="{\'co_shared\': isShared } " class="co_folderTitle"> {{ folderName }}</h1>\n<div id="smartFoldersDetailsContainer" class="co-LayoutLeftWide">\n\t<div id="leftPane" class="co-LayoutLeftWide-leftPane">\n\t\t<div class="co-LayoutLeftWide-paneHeader">\n\t\t\t<h1> {{ legalIssuesText }}</h1>\n\t\t\t\n\t\t\t<label class="co_block">\n\t\t\t\t<input type="radio" ng-model="selectedDocumentType" value="foldered" ng-click="selectDocumentType(\'foldered\')">\n\t\t\t\t{{getDisplayDocumentTypeText(\'foldered\', true)}}\n\t\t\t</label>\n\t\t\t<label class="co_block">\n\t\t\t\t<input type="radio" ng-model="selectedDocumentType" value="recommended" ng-click="selectDocumentType(\'recommended\')">\n\t\t\t\t{{getDisplayDocumentTypeText(\'recommended\', true)}}\n\t\t\t</label>\n\t\t</div>\n\t\t<div class="co-LayoutLeftWide-paneNav">\n\t\t\t<ul>\n\t\t\t\t<li ng-repeat="issue in legalIssues track by $index" ng-click="selectIssue($index)" ng-class="{\'co_selected\': $index === selectedIssueIndex }" class="co_legalIssue" focus-selected-issue>\n\t\t\t\t\t<span class="co-LayoutLeftWide-paneNavItemWrap">\n\t\t\t\t\t\t<a href="javascript:void(0);" ng-class="{\'co_preSelected\': $index === selectedIssueIndex - 1 }" truncate-text="issue.title" is-selected="$index === selectedIssueIndex" title="{{ issue.title }}"></a>\n\t\t\t\t\t</span>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n\t<div id="smartFoldersDetailsContent" class="co-LayoutLeftWide-main">\n\t\t<div>\n\t\t\t<button type="button" class="co_toggleGraph co_dropDownButton" ng-class="{\'co_dropdownTabCollapsed\':collapsed}" ng-click="collapseExpandGraph(!collapsed)">\n\t\t\t\t<span class="icon25 icon_graph"></span>\n\t\t\t\t<span id="collapseExpandButton">{{ expandCollapseText }}</span>\n\t\t\t\t<span class="co_dropDownAnchor"></span>\n\t\t\t</button>\n\t\t\t<div class="co_graphContainer">\n\t\t\t\t<div smart-folder-bar-graph></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div id="loadingSpinner" ng-show="loading"></div>\n\t\t<div id="smartFoldersVisualization_Docs" ng-show="!loading" class="co-DocumentResults">\n\t\t\t<div id="displayed-docs">\n\t\t\t\t<div class="co_sliderBox">\n\t\t\t\t\t<h1>{{ getDisplayDocumentTypeText(selectedDocumentType) }}</h1>\n\t\t\t\t\t<content-type-view selected-issue="legalIssues[selectedIssueIndex][selectedDocumentType]" selected-content-type="selectedContentType"></content-type-view>\n\t\t\t\t</div>\n\t\t\t\t<div id="smartFoldersDocs" ng-show="displayedDocs.length > 0" class="co-DocumentResults-toolbar">\n\t\t\t\t\t<ul class="co_navSelect">\n\t\t\t\t\t\t<li id="co_smartFolders_saveTo" style="display: list-item;" save-to-widget content-callback="saveToContentCallback()"></li>\n\t\t\t\t\t\t<li id="co_smartFolderDeliveryContainer" class="co_deliveryWidget" delivery-widget context-callback="deliveryContextCallback(deliveryMedium)"></li>\n\t\t\t\t\t</ul>\n\t\t\t\t\t<select-items items="displayedDocs" total-items="displayedDocs" hide-clear-all="true" ></select-items>\n\t\t\t\t</div>\n\t\t\t\t<div ng-show="!loading" class="co-DocumentResults-list">\n\t\t\t\t\t<ul class="co_searchResultsList">\n\t\t\t\t\t\t<li ng-repeat="document in displayedDocs track by $index" class="co_searchResultList" ng-class="{\'co_outOfPlan\':!document.inPlan}">\n\t\t\t\t\t\t\t<input id="cobalt_foldering_rd_item_{{$index}}" type="checkbox" ng-change="individualCheckboxClick()" ng-model="document.checked" />\n\t\t\t\t\t\t\t<label class="co_accessibilityLabel" for="cobalt_foldering_rd_item_{{$index}}">{{ getLocalizedSelectItemLabel(document.title) }}</label>\n\t\t\t\t\t\t\t<div class="co_outOfPlanLabel" ng-if="document.inPlan == false">{{ outOfPlanText }}</div>\n\t\t\t\t\t\t\t<div id="{{document.guid}}" class="co_searchContent">\n\t\t\t\t\t\t\t\t<key-cite-flags doc="document" container-id="getContainerId()" location="encodedCurrentLocation" on-click="docRedirectClick(document.guid, eventName)"></key-cite-flags>\n\t\t\t\t\t\t\t\t<label class="co_accessibilityLabel" for="{{ document.guid }}">{{ document.guid }}</label>\n\t\t\t\t\t\t\t\t<doc-title-line index="$index" doc="document" eventName="eventName" \n\t\t\t\t\t\t\t\t\ton-click="docRedirectClick(docGuid, eventName)"></doc-title-line>\n\t\t\t\t\t\t\t\t<div class="co_searchResults_citation" ng-switch="document.docType">\n\t\t\t\t\t\t\t\t\t<div ng-switch-when="case">\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.courtLine}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation" ng-if="document.fileDate">{{ document.fileDate }}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.primaryCitation}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.parallelCitation}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div ng-switch-when="statute">\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.citation}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.codeSetName}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.titleDescription}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div ng-switch-when="secondarySource">\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.publicationName}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.dateDisplay}}</span>\n\t\t\t\t\t\t\t\t\t\t<span class="co_result_citation">{{document.primaryCitation}}</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div ng-show="document.summary" class="co_searchResults_summary ">\n\t\t\t\t\t\t\t\t\t<span ng-if="document.docType === \'case\' || document.docType === \'secondarySource\'">{{ document.summary }}</span>\n\t\t\t\t\t\t\t\t\t<ul ng-if="document.docType === \'statute\'">\n\t\t\t\t\t\t\t\t\t\t<li ng-repeat="summaryItem in  document.summary track by $index" ng-style="{\'padding-left\':$index * 20 + \'px\' }">\n\t\t\t\t\t\t\t\t\t\t\t{{summaryItem}}\n\t\t\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t</ul>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n');x()(i).append(a(n));n.spinner=cr.getLargeLoadingSpinner();n.spinner.Draw();n.loadData()}}}]);lr.directive("contentTypeView",["$compile",function(e){return{scope:{selectedIssue:"=",selectedContentType:"="},restrict:"E",controller:"smartFoldersContentTypeViewController",link:function(t,n){var i=e('\x3c!--\n@file smartFoldersContentTypeView template\n--\x3e\n<div class="co_genericBox ">\n    <div class="co_genericBoxTabs">\n        <ul class="co_tabs">\n\t        <li ng-repeat="contentType in contentTypes" ng-class="{\'co_disabled\': contentType.isEmpty, \'co_leftColumn_activePage\': contentType.isSelected, \'co_tabActive\': contentType.isSelected }" class="co_tabLeft">\n\t\t        <div class="co_tabRight">\n\t\t\t        <a href="javascript:void(0);" ng-click="changeContent(contentType)" title="{{getDisplayContentTypeText(contentType)}}" class="co_tabLink">{{getDisplayContentTypeText(contentType)}}</a>\n\t\t\t        <div class="co_clear"></div>\n\t\t        </div>\n\t        </li>\n        </ul>\n    </div>\n</div>');n.append(i(t))}}}]);lr.directive("smartFolderBarGraph",["smartFoldersService",function(){return{controller:"smartFoldersBarGraphController",replace:!0,template:"<div id='smartFoldersVisualization_Graph' bar-graph input-data='barGraphInputData' graph-config='smartFoldersGraphOptions'></div>",link:function(e){e.$watch("barGraphInputData",(function(){if(e.barGraphInputData){e.yDataCounter=0;e.$on("GRAPH_DRAWN",(function(){document.getElementById("displayedDocsLeftBtn")?.addEventListener("focus",(function(){document.querySelectorAll(".issueLabelPopup.active").forEach((e=>e.classList.remove("active")))}))}))}}))}}}]);lr.directive("breadCrumbs",["$compile",function(e){return{scope:{},restrict:"E",controller:"smartFoldersBreadCrumbsController",link:function(t,n){
var i=e('\x3c!--\n@file smartFoldersBreadCrumbs template\n--\x3e\n\n<div id="coid_website_breadCrumbTrail" class="co_website_browseBreadCrumbTrail">\n\t<span ng-repeat="crumb in breadCrumbs track by $index" ng-class="{\'co_disabled\': crumb.isDisabled}" class="">\n\t\t<a href="javascript:void(0);" ng-click="nagivateTo(crumb)" tabindex="{{($index == (breadCrumbs.length - 1) ? -1 : 0)}}" title="{{crumb.title}}" class="co_website_browseBreadCrumbItem">{{crumb.title}}</a> {{($index == (breadCrumbs.length - 1) ? \'\' : \'>\')}}\n\t</span>\n</div>');n.append(i(t));t.loadData()}}}]);lr.directive("focusSelectedIssue",["$timeout",function(e){return{restrict:"A",link:function(t,n){n.bind("click",(function(){e((function(){n.find("span").first().focus()}),0)}))}}}]);lr.directive("recDocsCounts",[()=>({restrict:"E",replace:!0,scope:{counts:"="},template:'<localization formatkeyvalue-doccount="{{counts.recommendedDocumentsCount}}"\n    displaydefaultvalue="Recommended Documents {doccount}"\n    format="SC.Website.SmartFolders.RecommendedDocTextV2"></localization>'})]);lr.directive("totalRecDocsCounts",[()=>({restrict:"E",replace:!0,scope:{counts:"=",clickHandler:"&onClick"},template:'<div ng-show="counts.recommendedDocumentsCount > 0" class="co_resultList">\n    <strong>\n        <a href="javascript:void(0);"\n            ng-click="clickHandler({index: counts.issuesCount, docType: \'recommended\', eventName: \'Cobalt.ResearchOrganizer.SmartFolders.RightRail.AllRecommendedDocuments.Clicked\'})"\n            class="co_viewAllLink">\n            <localization formatkeyvalue-doccount="{{counts.recommendedDocumentsCount}}"\n                displaydefaultvalue="Recommended Documents {doccount}"\n                format="SC.Website.SmartFolders.RecommendedDocTextV2"></localization>\n        </a>\n    </strong>\n</div>'})]);lr.directive("docTitleLine",[()=>({restrict:"E",replace:!0,scope:{index:"=",document:"=doc",eventName:"=",clickHandler:"&onClick"},template:'<h3 id="co_docTitle">\n    <span>{{ index + 1}}.</span>\n    <a ng-href="{{document.url}}"\n       ng-click="clickHandler({docGuid: document.guid, eventName: eventName})">{{ document.title }}</a>\n</h3>'})]);lr.directive("keyCiteFlags",[()=>({restrict:"E",replace:!0,scope:{document:"=doc",containerId:"=",location:"=",clickHandler:"&onClick"},template:'<div class="co_searchKeyciteFlag">\n\t<a ng-if="document.flagCode === \'R\' || document.flagCode === \'Y\' || document.flagCode === \'P\'" \n\t \ta11y-tooltip\n\t\tclass="{{ flagInfo.styles[document.flagCode] }}"\n\t\tng-href="/Link/RelatedInformation/Flag?docGuid={{document.guid}}&transitionType={{document.transitionType}}&originationContext=SmartFolders&contextData={{document.contextData}}&navigationPath={{location}}&listSource=SmartFolders"\n\t\tng-click="clickHandler()" \n\t\ttitle="{{ flagInfo.titles[document.flagCode] }}"></a>\n</div>',controller:"smartFoldersKeyCiteFlagsController"})]);const fr=On().module("DocumentsNavigation",["tr.services","tr.directives"]);fr.controller("documentsNavigationController",["$scope","LocalStorage",function(e,t){e.documentUrls=[];e.currentIndex=0;e.navigationKeyPrefix="";e.previousDocumentText=D["default"].lookup("SC.Document.DocumentNavigation.PreviousDocument","Previous Document");e.nextDocumentText=D["default"].lookup("SC.Document.DocumentNavigation.NextDocument","Next Document");e.urlObject=a["default"].Parse(window.location.href);e.leftArrowClick=function(){if(e.currentIndex>0){e.currentIndex--;e.urlObject.QueryString.docGuidIndex&&(e.urlObject.QueryString.docGuidIndex=e.currentIndex+1);e.urlObject.Path=e.documentUrls[e.currentIndex];if(Wn.A.isEnabled()){Wn.A.showFeedbackLightbox((()=>Ze["default"].PageTransition(a["default"].Absolute(e.urlObject))));return}Ze["default"].PageTransition(a["default"].Absolute(e.urlObject))}};e.rightArrowClick=function(){if(e.currentIndex<e.documentUrls.length-1){e.currentIndex++;e.urlObject.QueryString.docGuidIndex&&(e.urlObject.QueryString.docGuidIndex=e.currentIndex+1);e.urlObject.Path=e.documentUrls[e.currentIndex];if(Wn.A.isEnabled()){Wn.A.showFeedbackLightbox((()=>Ze["default"].PageTransition(a["default"].Absolute(e.urlObject))));return}Ze["default"].PageTransition(a["default"].Absolute(e.urlObject))}};e.loadData=function(){var t=e.getDocumentGuids();e.documentUrls=st().map(t,(function(t,n){e.urlObject.Path.indexOf(t)>-1&&(e.currentIndex=n);return"/Document/"+t+"/View/FullText.html"}));const n=e.urlObject.QueryString.docGuidIndex;n&&(e.currentIndex=parseInt(n)-1);e.isBeginning=0===e.currentIndex;e.isEnd=e.currentIndex===t.length-1};e.getDocumentGuids=function(){var n=e.urlObject.QueryString["navStorageKey"];n?t.setItem("navStorageKey",n):n=t.getItem("navStorageKey",n);var i=encodeURIComponent(e.navigationKeyPrefix+n),a=t.getItem(i);return a?JSON.parse(a).docGuids:[]}}]);fr.directive("documentsNavigation",["$compile",function(e){return{restrict:"A",controller:"documentsNavigationController",link:function(t,n,i){var a=e('\x3c!--\n@file documentsNavigationWidget template\n--\x3e\n\n<div ng-if="documentUrls.length" id="co_documentResultsNavigation" class="co_prevNextNavigation">\n\t<a a11y-tooltip ng-click="leftArrowClick()" ng-class="{co_disabled:isBeginning}"\n\t\ttitle="{{previousDocumentText}}" id="co_documentResultsNavigationPrevious" class="co_prev co_tbButton">\n\t\t<span class="icon25 icon_prev_arrow">{{previousDocumentText}}</span>\n\t</a>\n\t<span class="co_navigationText">\n\t\t<localization formatkeyvalue-currentdocnumber="{{currentIndex + 1}}"\n\t\t\t\t\t\t\t\t\tformatkeyvalue-totaldocs="{{documentUrls.length}}"\n\t\t\t\t\t\t\t\t\tdisplaydefaultvalue="<strong>{currentIndex + 1}</strong> of <strong>{documentUrls.length} results</strong>"\n\t\t\tformat="SC.Document.NavigationWidget.ResultsCountFormat"/>\n</span>\n\t<a a11y-tooltip ng-click="rightArrowClick()" ng-class="{co_disabled:isEnd}"\n     title="{{nextDocumentText}}" id="co_documentResultsNavigationNext" class="co_next co_tbButton">\n\t\t<span class="icon25 icon_next_arrow">{{nextDocumentText}}</span>\n\t</a>\n</div>');t.navigationKeyPrefix=i["navigationKeyPrefix"];t.loadData();n.append(a(t))}}}]);const pr=(e,t,...n)=>{t?e.unshift(...n):e.push(...n)};var mr=ji.extend({setLeftWidgets:function(){this._super();var e=this.toolbar.leftWidgets;this.setReturnToResultsOverview(e);this.toolbar.SetLeftWidgets(e);var t=window.location.href;this.autoJumpToFirstHilightedIfNeeded(t);this.supressNavWidgetsIfNeeded(t)},autoJumpToFirstHilightedIfNeeded:function(e){if(-1!=e.indexOf("originationContext=tableOfAuthorities")&&-1!=e.indexOf("transitionType=TableOfAuthoritiesItem")&&null!=this.documentDisplay.documentNavigation.highlightedPoints)for(var t=0;t<this.toolbar.leftWidgets.length;t++)if(this.toolbar.leftWidgets[t].Id===r["default"].ids.docToolbarTermNavigation){var n=this.toolbar.leftWidgets[t],i=!1,a=!1,o=!1,s=function(){if(!o&&i&&a){n.termNavWidget.ClickNext();n.termNavWidget.ClickPrevious();n.termNavWidget.HideMessage();o=!0}};y["default"].Subscribe(r["default"].events.headnotesInitialized,(function(){a=!0;s()}));y["default"].Subscribe(r["default"].events.termNavFinishedInitializing,(function(){i=!0;s()}))}},supressNavWidgetsIfNeeded:function(e){if(-1!=e.indexOf("originationContext=trDiscoverSynopsis")){for(var t=[],n=0;n<this.toolbar.leftWidgets.length;n++)this.toolbar.leftWidgets[n].Id!==r["default"].ids.docToolbarTermNavigation&&this.toolbar.leftWidgets[n].Id!==r["default"].ids.docToolbarDocumentNavigation&&t.push(this.toolbar.leftWidgets[n]);this.toolbar.leftWidgets=t}},_setCapitolWatchWidget:function(e,t){if(function(){if(o["default"].SupportedAlertTypes)return o["default"].SupportedAlertTypes.includes("CapitolWatchTrack")&&o["default"].isFeatureEnabled("CAPITOLWATCH");return!1}()){f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(this.documentDisplay.DocumentGuid,(function(n){var i=n.metaInformation.correlationIds,a=n.metaInformation.citeAbbreviation||n.Cite,o=n.TitleText||n.Cite,r=new Co;r.SetCorrelationIds(i);r.SetCitation(a);r.SetTitle(o);var s=new Do;s.SetCitation(a);s.SetTitle(o);s.SetCorrelationIds(i);pr(e,t,s,r)}))}},buildRightWidgets:function(){const e=this._super()
;this.setCopyWidget(e);this.setInlineKeyCiteButtonWidget(e,!0);this.setInternalTocButtonWidget(e,!0);this.setLanguageToggleWidget(e,!0);this.setStatuteCompareToolbarWidget(e,!0);this.setRedlineToggleWidget(e,!0);this.setRulebookToggleButton(e);this._setCapitolWatchWidget(e,!0);this.setTSDRTrackAlertWidget(e,!0);this.setPAIRTrackAlertWidget(e,!0);return e},setStatuteCompareToolbarWidget:function(e,t){this.isStatuteCompareWidgetEnabled()&&(t?e.unshift(new mo(this.documentDisplay)):e.push(new mo(this.documentDisplay)))},isStatuteCompareWidgetEnabled:function(){const e=va.isStatuteCompareEnabled()&&va.isSupportedContentType(Z["default"].PageData.DocumentTabView.ContentType,va.getDocumentCitation(),va.getDocumentJurisdiction(this.documentDisplay.DocumentGuid),this.documentDisplay.DocumentGuid),t=i["default"]?.documentData?.metaInformation?.isWicPracticeArea&&o["default"].isFeatureEnabled("INSURCOMPLIANCEPRACPG")||i["default"]?.documentData?.metaInformation?.isEnflexPracticeArea&&o["default"].isFeatureEnabled("ENVHEALTHSAFETYPRACPG");return e&&(o["default"].IsIndigoDisplayEnabled||t)},setInlineKeyCiteButtonWidget:function(e,t){var n=this;if(o["default"].isFeatureEnabled("INLINE KC CASES BRIEF")||o["default"].isFeatureEnabled("INLINE KC FLAGS CUSTOM SELECT")){f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(n.documentDisplay.DocumentGuid,(function(i){n.DisplayInlineKeyCiteButton(i,e,t)}))}},setInternalTocButtonWidget:function(e,t){if(o["default"].isFeatureEnabled("EDSECTIONALLOW")){var n=new Io;if(n.DocumentAllowsToc()){n.SetParentDiv(this.topParentObject);n.SetDocumentDisplay(this.documentDisplay);pr(e,t,n)}}},setLanguageToggleWidget:function(e,t){var n=new xo;(this.documentNavigation.hasNavigationData||this.documentNavigation.hasReturnToLink)&&n.SetDocumentNavigation(this.documentNavigation);pr(e,t,n)},setRedlineToggleWidget:function(e,t){if(!this.isStatuteCompareWidgetEnabled()){var n=this;f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(n.documentDisplay.DocumentGuid,(function(i){if("Regulations"===i.ContentType){var a=new fo;a.SetDocumentGuid(n.documentDisplay.DocumentGuid);pr(e,t,a)}}))}},setRulebookToggleButton:function(e){if(this.documentDisplay.RulebookModeContent){var t=new $i;t.SetParentDiv(this.topParentObject);t.SetRulebookMode(this.documentDisplay.RulebookMode);e.push(t)}},setDocketsTrackWidget:function(e){if(!0===o["default"].isFeatureEnabled("DKTTRACK")&&"Block"!==this.docketTrackWarning){var t=new ko;t.SetDocumentObject(this.documentDisplay);e.push(t)}},setDealTrackWidget:function(e){if(!this.isDisplayDealTrackWidget())return;if(!0===o["default"].isFeatureEnabled("BLCDEALTRACKALERT")&&"Block"!==this.dealTrackWarning){var t=new Bo;t.SetDocumentObject(this.documentDisplay);e.push(t)}},setTSDRTrackAlertWidget:function(e){if(!0===o["default"].isFeatureEnabled("TSDR ALERT TRACK")&&"Block"!==this.tsdrTrackWarning){var t=new wo;t.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.unshift(t)}},setPAIRTrackAlertWidget:function(e){if(!0===o["default"].isFeatureEnabled("PAIR ALERT TRACK")&&"Block"!==this.pairTrackWarning){var t=new Eo;t.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.unshift(t)}},isCanadianCarswellDocument:function(){const e=document.getElementById(r["default"].ids.document);return!!p["default"].GetElementsByClassName(r["default"].classes.crswdocument,"div",e)[0]},documentHasCitations:function(){const e=document.getElementById(r["default"].ids.document);return!!p["default"].GetElementsByClassName(r["default"].classes.link,"a",e)[0]},isInlineKeyCiteSupported:function(e){return this.InlineKeyCiteContentCheck(e)&&!this.isCanadianCarswellDocument()&&this.documentHasCitations()},DisplayInlineKeyCiteButton:function(e,t,n){if(null!=e&&(0,d.IsNotNullOrEmpty)(e.DocGuid)&&(0,d.IsNotNullOrEmpty)(e.ContentType)){const i=e.ContentType;if(this.isInlineKeyCiteSupported(i)){const e=new Xo(i);e.SetDocumentDisplay(this.documentDisplay);pr(t,n,e)}}},InlineKeyCiteContentCheck:function(e){return"Cases"==e||"Briefs"==e},Draw:function(){this._super();var e=this;f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(e.documentDisplay.DocumentGuid,(function(t){e.removeWidgetsForPublicRecords(t)}),(function(t){e.removeWidgetsForPublicRecords(t)}));e.documentDisplay.DisableDocToolbar&&this.disableWidgets();var t=a["default"].Parse(window.location.href);if("SmartFolders"===t.QueryString["listSource"]){document.getElementById("co_docToolbarMenuLeft")?.insertAdjacentHTML("beforeend",'<li id="documentsNavigationWidget"><span documents-navigation navigation-key-prefix="SmartFoldersNavigationData-"></span></li>');On().bootstrap(document.getElementById("documentsNavigationWidget"),["DocumentsNavigation"])}else if("DocumentAnalyzer"===t.QueryString["listSource"]){document.getElementById("co_docToolbarMenuLeft")?.insertAdjacentHTML("beforeend",'<li id="documentsNavigationWidget"><span documents-navigation navigation-key-prefix="BriefAnalyzerNavigationData-"></span></li>');On().bootstrap(document.getElementById("documentsNavigationWidget"),["DocumentsNavigation"])}this.applyRelatedContent()},applyRelatedContent:function(){return},disableWidgets:function(){for(var e=this.toolbar.leftWidgets.concat(this.toolbar.rightWidgets),t=0;t<e.length;t++){var n=e[t];null!=n&&"function"==typeof n.Disable&&n.Disable()}[...document.getElementById("co_docToolbarMenuRight")?.children??[]].forEach((e=>{e.classList.add("co_disabled")}));document.querySelectorAll("#co_docToolbar a").forEach((e=>e.disabled=!1))},removeWidgetsForPublicRecords:function(e){e&&e.metaInformation&&e.metaInformation.isPublicRecordsDocument&&document.getElementById(r["default"].ids.docToolbarSearchWithinDocument)?.remove()},isBackToResultsObligatory:function(){var e=a["default"].Parse(window.location.href),t=e.QueryString["returnTo"],n=e.QueryString["listSource"];if(t||void 0!==n&&("SmartFolders"===n||"DocumentAnalyzer"===n))return!0;return!1},isSpdfReturnToAvailable:function(){const e=a["default"].Parse(Ze["default"].GetCurrentLocation()).QueryString["navigationPath"];return"true"===(e&&a["default"].Parse(e)?.QueryString["isFromSpdfResult"])},setReturnToResultsOverview:function(e){if(this.isReturnToAvailable()){const t=new Zo;t.SetDocumentNavigation(this.documentNavigation);e.push(t)}},isReturnToAvailable:function(){return"Search"===this.documentNavigation.listSource&&(this.documentNavigation.hasNavigationData||this.documentNavigation.hasReturnToLink||this.isBackToResultsObligatory())},setDeliveryWidget:function(e){let t;if(o["default"].isIacOn("IAC-A11Y-DROPDOWN-DELIVERY-DOCUMENT")){t=new tr(this.documentDisplay.IsUserDocument);(function(e){Xn["default"].SearchResult.isDualSearchResult()&&e.updateDeliveryOptions({isKindleEnabled:!1,isCaseNotebookExportEnabled:!1})})(t.deliveryWidget)}else{t=new er(this.documentDisplay.IsUserDocument);(function(e){if(Xn["default"].SearchResult.isDualSearchResult()){e.SetIsKindleEnabled(!1);e.SetIsCaseNotebookExportEnabled(!1)}})(t.deliveryWidget)}var n=a["default"].Parse(window.location.href).QueryString["PU"],i=this.documentNavigation.hasNavigationData&&ir["default"].IsStandaloneContentType(this.documentNavigation.getNavPathQueryString()["Nav"]);n&&!i&&t.DisableEmailsForPublicRecords();t.SetDocumentGuid(this.documentDisplay.DocumentGuid);e.push(t)},setCopyWidget:function(e){if(o["default"].IsDocCopyCitationEnabled){var t=e.findIndex((e=>"SaveTo"===e.Name));-1===t&&(t=e.findIndex((e=>e.deliveryWidget)));if(o["default"].isFeatureEnabled("LINK BUILDER")&&Z["default"].PageData.LinkBuilderParameters){const n=new ua;e.splice(t,0,n)}else{const n=new nr;e.splice(t,0,n)}}},setLinkBuilderWidget:function(e){o["default"].IsDocCopyCitationEnabled||this._super(e)},setDocumentNavigationWidget:function(e){this.isSpdfReturnToAvailable()||this._super(e)},setTermNavWidget:function(e){this.isSpdfReturnToAvailable()||this._super(e)},isDisplayDealTrackWidget:function(){const e=Z["default"].PageData.DocumentTabView.ContentType;return!("m&a transactions"===e?.toLowerCase()||"r&p transactions"===e?.toLowerCase())}});const gr=mr;var vr=n(6049);const yr=function(){vr.A.call(this)
;this.navModeQueryString="selectedNavMode";this.checkNavigationData=e=>!!e.DualNavigationData&&e.DualNavigationData.AllResults.Count>0;const e=this.adjustNavigationUrl;this.adjustNavigationUrl=(t,n)=>{t=e.call(this,t,n);return t+=`&${this.navModeQueryString}=${this.currentSelectedOption}`};const t=this.renderCallback;this.renderCallback=e=>{if(e?.DualNavigationData){this.dualNavigationData=e.DualNavigationData;Object.assign(this.dualNavigationData.AllResults,{Heading:D["default"].lookup("SC.Document.DualSearch.Navigation.AllResults","All Results")})}e&&e.DualRelatedDocsData&&(this.dualRelatedDocsData=e.DualRelatedDocsData);t.call(this,e)}};var br=n(4377);const Cr=function(){this.documentDisplay=null;this.documentNavigation=null;this.searchGradingId=null;this.toolbar=new Bn;var e=this;this.SetParentDiv=function(e){this.toolbar.SetParentDiv(e)};this.SetDocumentDisplay=function(e){this.documentDisplay=e};this.SetSearchGradingId=function(e){this.searchGradingId=e};this.Draw=function(){if(!e.documentDisplay.FinishedRendering){const t=r["default"].events.documentRenderComplete;y["default"].Subscribe(t,e.Draw);return}null==e.documentNavigation&&(e.documentNavigation=new Y.A);if(!e.documentNavigation.hasLoadedData){const t=r["default"].events.docNavDataIsReady;y["default"].Subscribe(t,e.Draw);if(e.documentNavigation.FetchNextPreviousData(e.documentDisplay.NavigationProperties.ListSource,e.documentDisplay.NavigationProperties.NavigationPath,e.documentDisplay.NavigationProperties.List,e.documentDisplay.NavigationProperties.Rank))return}e.setLeftWidgets();e.setRightWidgets();e.toolbar.Draw()};this.setLeftWidgets=function(){var t=[];if(e.documentNavigation.hasNavigationData||e.documentNavigation.hasReturnToLink){var n=new Mn;n.SetDocumentNavigation(e.documentNavigation);t.push(n)}if(e.documentNavigation.hasNavigationData){var i=new Gn;i.SetDocumentDisplay(e.documentDisplay);t.push(i)}if(e.documentNavigation.hasTerms){var a=new br.A;a.SetDocumentDisplay(e.documentDisplay);t.push(a)}if(e.documentNavigation.hasNavigationData&&e.documentNavigation.showInPlanDocumentsOnly){var o=new jn;t.push(o)}e.toolbar.SetLeftWidgets(t)};this.setRightWidgets=function(){e.toolbar.SetRightWidgets([])}};const Sr=function(){const e=new Y.A,t=e.dualRelatedDocsData,n=(e,t)=>{const n=t?"":"co_dualDocument_RelatedDocsChild";return{content:e.Title,value:e.Url,isSelected:e.Current,textClass:n}};this.renderDropdownMenu=e=>{if(!t)return;const i=t.Children.map((e=>n(e,!1))),a=n(t.Parent,!0);i.unshift(a);const o={itemsContainerClass:"a11yDropdown-menu--right checkmarks",items:i,selectedItemClass:"checked",ariaLabelForMenuContainer:D["default"].lookup("SC.Document.Dual.Navigation.RelatedDocs","Related Docs")},r={labelForButton:D["default"].lookup("SC.Document.Dual.Navigation.RelatedDocs","Related Docs"),dropdownContainer:e,iconClass:"icon25",iconExpandedClass:"icon_upMenu-gray",iconCollapsedClass:"icon_downMenu-gray",iconAfterText:!0,classForButton:"a11yDropdown-button"};this.menu=new Ki["default"](o);this.menuButton=new Dt["default"](this.menu,r);this.menuButton.draw()};this.attachEventHandlers=()=>{this.menu.getDOMElement()?.addEventListener("menu-item-selected",(t=>{const n=t.detail.items[0];if(n.isSelected)return;let i=n.value;e.currentSelectedOption&&(i=v["default"].AddQueryParamToUrl(i,"selectedNavMode",e.currentSelectedOption));(0,hn["default"])(i)}))};this.setDomElement=e=>{this.domElement=e};this.draw=()=>{const e=document.createElement("div");e.id="co_dualDocument_RelatedDocs";e.className="collapsed";this.domElement.appendChild(e);this.renderDropdownMenu(e);this.attachEventHandlers()}};function _r(){this.Name="DualSearchRelatedDocs";this.Id=r["default"].ids.docToolbarRelatedDocs;this.relDocsWidget=new Sr;this.SetParentDiv=e=>{this.relDocsWidget.setDomElement(e)};this.Draw=()=>{this.relDocsWidget.draw()}}const Dr=function(){Hn.apply(this,arguments);this.renderAllResultsDropdown=()=>{const e=document.createElement("div");e.id="co_dualDocument_AllResultsNavigation";e.className="collapsed";this.parent.appendChild(e);this.renderDropdownMenu(e)};const e={Url:"",Title:""};this.updateNextPrevData=t=>{const n=this.docNavigation.dualNavigationData[t];this.docNavigation.currentSelectedOption=t;this.docNavigation.nextDocumentUrlAndTitle=n.NextDocument||e;this.docNavigation.previousDocumentUrlAndTitle=n.PreviousDocument||e;this.docNavigation.currentDocument=n.Rank;this.docNavigation.totalDocuments=n.Count};this.updateNextPrevWidget=()=>{const e=this.docResultsMarkup(this.docNavigation);document.querySelectorAll(`.${r["default"].classes.docToolbarDocumentNavigationNavText}`).forEach((t=>t.innerHTML=e))};this.updateMenuLabel=e=>{const t=this.docNavigation.dualNavigationData[e];this.$menuButtonText.text(t.Heading)};this.renderDropdownMenu=e=>{const t=a["default"].Parse(window.location.href).QueryString.selectedNavMode||"AllResults",n=st().pick(this.docNavigation.dualNavigationData,"AllResults","Parent","Child"),i={itemsContainerClass:"a11yDropdown-menu--autoWidth checkmarks",items:st().map(n,((e,n)=>({content:D["default"].format("SC.Document.DualSearch.Navigation.AllResults.DropdownOption",{Heading:e.Heading,Count:e.Count},`${e.Heading} (${e.Count})`),value:n,isSelected:n==t}))),selectedItemClass:"checked",ariaLabelForMenuContainer:D["default"].lookup("SC.Document.DualSearch.Navigation.AllResults.Menu.Name","Select results navigation")},o={dropdownContainer:x()(e),iconClass:"icon25",iconExpandedClass:"icon_upMenu-gray",iconCollapsedClass:"icon_downMenu-gray",iconAfterText:!0,classForButton:"a11yDropdown-button"};this.menu=new Ki["default"](i);this.menuButton=new Dt["default"](this.menu,o);this.menuButton.draw();const r=D["default"].lookup("SC.Document.DualSearch.Navigation.AllResults.Tooltip","Select results navigation"),s=this.menu.getDOMElement(),l=document.createElement("li");l.className="co_dropDownMenuLabel";l.setAttribute("role","none");l.textContent=r;s?.prepend(l);this.$menuButtonText=this.menuButton.$buttonElement.find(`span.${this.menuButton.opts.itemTextClass}`);this.updateNavigation(t)};this.navigateToNextUrlIfNeeded=e=>{const t=this.docNavigation.dualNavigationData;if(t.IsParent&&"Child"===e){const n=t[e].NextDocument.Url;this.ChangeUrl(this.docNavigation.adjustNavigationUrl(n,!0))}if(!t.IsParent&&"Parent"===e){const n=t[e].PreviousDocument.Url;this.ChangeUrl(this.docNavigation.adjustNavigationUrl(n,!1))}};this.shouldDrawNavigation=()=>!0;this.showOrHideNavigation=()=>{const e=this.docNavigation.totalDocuments<2,t=document.getElementById(r["default"].ids.documentNavigation),n=r["default"].classes.hideState;t?.classList.toggle(n,e)};const t=this.Draw;this.Draw=function(){this.docNavigation&&this.docNavigation.hasNavigationData&&this.renderAllResultsDropdown();t.apply(this,arguments);this.showOrHideNavigation()};const n=this.AttachEventHandlers;this.AttachEventHandlers=function(){n.apply(this,arguments);this.menu.getDOMElement()?.addEventListener("menu-item-selected",(e=>{const t=e.detail.items[0].value;this.updateNavigation(t);this.navigateToNextUrlIfNeeded(t);this.SetDirections()}))};this.updateNavigation=e=>{this.updateNextPrevData(e);this.updateNextPrevWidget(e);this.updateMenuLabel(e);this.showOrHideNavigation()}};function Tr(){this.documentDisplay=null;this.Name="DualSearchDocumentNavigation";this.Id=r["default"].ids.docToolbarDocumentNavigation;this.ClassName="co_relative";this.docNavWidget=new Dr;this.SetParentDiv=e=>{this.docNavWidget.SetParentDiv(e)};this.SetDocumentDisplay=e=>{this.documentDisplay=e};this.Draw=()=>{this.docNavWidget.FetchData(this.documentDisplay.NavigationProperties.ListSource,this.documentDisplay.NavigationProperties.NavigationPath,this.documentDisplay.NavigationProperties.List,this.documentDisplay.NavigationProperties.Rank)}}const Ir=gr.extend({buildRightWidgets:function(){const e=[];this.documentViewModelData.IsRelatedFullTextView||e.push(this.buildRelatedDocsWidget());return e.concat(this._super())},setDocumentNavigationWidget:function(e){const t=new Tr;t.SetDocumentDisplay(this.documentDisplay);e.push(t)},buildRelatedDocsWidget:function(){return new _r}});const xr=function(){this.documentDisplay=null;this.documentNavigation=null
;this.searchGradingId=null;this.toolbar=new Bn;var e=this;this.SetParentDiv=function(e){this.toolbar.SetParentDiv(e)};this.SetDocumentDisplay=function(e){this.documentDisplay=e};this.SetSearchGradingId=function(e){this.searchGradingId=e};this.Draw=function(){if(!e.documentDisplay.FinishedRendering){const t=r["default"].events.documentRenderComplete;y["default"].Subscribe(t,e.Draw);return}null==e.documentNavigation&&(e.documentNavigation=new Y.A);if(!e.documentNavigation.hasLoadedData){const t=r["default"].events.docNavDataIsReady;y["default"].Subscribe(t,e.Draw);if(e.documentNavigation.FetchNextPreviousData(e.documentDisplay.NavigationProperties.ListSource,e.documentDisplay.NavigationProperties.NavigationPath,e.documentDisplay.NavigationProperties.List,e.documentDisplay.NavigationProperties.Rank))return}e.setLeftWidgets();e.setRightWidgets();e.toolbar.Draw()};this.setLeftWidgets=function(){var t=[];this.setBackToResultsWidget(t);this.setDocNavWidget(t);this.setTermNavWidget(t);this.setShowDocsInPlanWidget(t);e.toolbar.SetLeftWidgets(t)};this.setBackToResultsWidget=function(t){if(e.documentNavigation.hasNavigationData||e.documentNavigation.hasReturnToLink){var n=new Mn;n.SetDocumentNavigation(e.documentNavigation);t.push(n)}};this.setDocNavWidget=function(t){if(e.documentNavigation.hasNavigationData){var n=new Gn;n.SetDocumentDisplay(e.documentDisplay);t.push(n)}};this.setTermNavWidget=function(t){if(e.documentNavigation.hasTerms){var n=new br.A;n.SetDocumentDisplay(e.documentDisplay);t.push(n)}};this.setShowDocsInPlanWidget=function(t){if(e.documentNavigation.hasNavigationData&&e.documentNavigation.showInPlanDocumentsOnly){var n=new jn;t.push(n)}};this.setRightWidgets=function(){var t=[];this.setGoToWidget(t);this.setDisplayDocketsTrackWidget(t);this.setDisplayDealTrackWidget(t);this.setSeparatorWidget(t);var n=new Si;this.setDisplayOptionsWidget(t,n);this.setDeliveryWidget(t);this.setReadingModeWidget(t,n);e.toolbar.SetRightWidgets(t)};this.setGoToWidget=function(t){var n=new gi;n.SetDocumentDisplay(e.documentDisplay);t.push(n)};this.setDisplayDocketsTrackWidget=function(t){if(!0===o["default"].isFeatureEnabled("DKTTRACK")&&this.docketTrackWarning!==r["default"].warnings.displayDocketsBlock){var n=new Ii;n.SetDocumentObject(e.documentDisplay);t.push(n)}};this.setDisplayDealTrackWidget=function(t){if(!0===o["default"].isFeatureEnabled("BLCDEALTRACKALERT")&&this.dealTrackWarning!==r["default"].warnings.displayDealBlock){var n=new ki;n.SetDocumentObject(e.documentDisplay);t.push(n)}};this.setSeparatorWidget=function(e){var t=new vi;e.push(t)};this.setDisplayOptionsWidget=function(e,t){var n=new fi;n.SetReadingModeManager(t);e.push(n)};this.setReadingModeWidget=function(e,t){var n=new pi;n.SetReadingModeManager(t);e.push(n)};this.setDeliveryWidget=function(e){let t;t=o["default"].isIacOn("IAC-A11Y-DROPDOWN-DELIVERY-DOCUMENT")?new Di:new _i;e.push(t)};this.SetKeyCiteAlertWarning=function(){};this.SetDocketTrackWarning=function(){}};var kr=n(4988);const wr=function(){this._ids={bellIcon:"co_newDocumentToolbar_bellIcon",anchorId:"co_newDocumentToolbar_bellIcon_anchorId"};this._localizedMessages={toolTipCreate:D["default"].lookup("SC.Document.Widget.NewDocumentToolbar.Alerts.CreateAlert","Create Alert"),toolTipEdit:D["default"].lookup("SC.Document.Widget.NewDocumentToolbar.Alerts.EditAlert","Edit Alert")};this._bellIconElement=Ro().template('\n\t\t<div id="<%-ids.bellIcon%>">\n\t\t\t<a role="button" id="<%-ids.anchorId%>"\n\t\t\t\thref="javascript:void(0);" class="th_flat_icon icon_bell outline co_hideState">\n\t\t\t\t<span><%-localizedMessages.toolTipCreate%></span>\n\t\t\t</a>\n\t\t</div>');this._parentDiv="";this._document="";this._context={};this._tooltip=null;this.getEnumAlertType=function(){return};this.getProvider=function(){return};this.getQuickAlertContextFlags=function(){return};this._access=function(){return!1};this.retrieveGenericAlert=function(e,t){const n={alertType:this.getEnumAlertType(),guid:ge.ElementStorage.get(e,"alertExistsStatus")};n.guid&&this.getProvider().retrieveGenericAlert(n,(e=>{t(e)}))};this.SetParentDiv=function(e){this._parentDiv=e};this.SetDocumentData=function(e){this._document=e};this.renderWidget=function(){const e=this._initializeWidget();this._parentDiv.appendChild(e.get(0));const t=e.get(0).querySelector("a");this._tooltip=new ht["default"](t,this._localizedMessages.toolTipCreate,{position:"left"});this._tooltip.render();return e};this._toggleExistsStatus=function(){var e=D["default"].lookup("SC.Document.Widget.NewDocumentToolbar.Alerts.AlertExistsStatusError","Status for this alert is not available");const t=this.renderWidget(),n=this._document.DocFamilyGuid;n&&this.getProvider().retrieveAlertExistsStatus(this.getEnumAlertType(),n,e,(e=>{var n=e&&e.exists,i=t.find("a");this.showAlertButton(i);this._initializeContext(n,e,i);this._handleAlertVisibility(n,e,i);return this._loadQuickAlert(i)}))};this.showAlertButton=function(e){e.removeClass("co_hideState")};this._initializeWidget=function(){return x()(this._bellIconElement({ids:this._ids,localizedMessages:this._localizedMessages}))};this._initializeContext=function(e,t,n){this._context={alertType:this.getEnumAlertType(),contextFlags:this.getQuickAlertContextFlags().Document,flowState:e?kr["default"].EditFlow:kr["default"].CreateFlow,documentGuid:this._document.DocGuid,documentFamilyGuid:this._document.DocFamilyGuid,documentTitle:this._document.TitleText,successfulCreationCallback:e=>{this._toggleEditFlow(n,e.guid)}}};this._loadQuickAlert=function(e){return Gi["default"].isA11YEmailRecipientsRedesign()?Promise.all([n.e(1),n.e(5)]).then(n.bind(n,4189)).then((({default:t})=>{this._attachClickEvent(e,(()=>{new t(this._context)}))})):Promise.all([n.e(1),n.e(3)]).then(n.bind(n,5487)).then((({default:t})=>{this._attachClickEvent(e,(()=>{new t(this._context).draw()}))}))};this._attachClickEvent=function(e,t){e.click((e=>{this._createQuickAlert(e.target,t)}))};y["default"].Subscribe("Cobalt.Alert.ConfirmedDeleteItem",(()=>{this._toggleCreateFlow(x()("#"+this._ids.anchorId))}));this._handleAlertVisibility=function(e,t,n){if(e){let e=t.alertVisibility[0].id;if(t.alertVisibility.length>1){const n=t.alertVisibility.filter((e=>"Adminprivate"===e.visibility));n.length&&(e=n[0].id)}this._toggleEditFlow(n,e)}};this._toggleEditFlow=function(e,t){e.toggleClass("outline",!1);this._updateAnchorTooltip(this._localizedMessages.toolTipEdit);e.find("span").text(this._localizedMessages.toolTipEdit);ge.ElementStorage.put(e.get(0),"alertExistsStatus",t);this._context.flowState=kr["default"].EditFlow};this._toggleCreateFlow=function(e){e.toggleClass("outline",!0);this._updateAnchorTooltip(this._localizedMessages.toolTipCreate);e.find("span").text(this._localizedMessages.toolTipCreate);this._context.flowState=kr["default"].CreateFlow};this._updateAnchorTooltip=function(e){this._tooltip&&this._tooltip.setTooltipText(e)};this._createQuickAlert=function(e,t){this._context.flowState===kr["default"].EditFlow?this.retrieveGenericAlert(e,(e=>{this._context.state=e;t()})):t();return!1};this.Draw=function(){this._parentDiv&&(this._access()?this._toggleExistsStatus():this._parentDiv?.classList.add("co_hideState"))}};var Er=n(8837),Ar=n(2637),Lr=n(8326);const Nr=function(){wr.call(this);const e="co_disabled";this.iconClassName="kh_icon icon-alert";this._provider=new Er.A;this.getProvider=function(){return this._provider};this.getQuickAlertContextFlags=function(){return Ar.A};this.getEnumAlertType=function(){return Lr["default"].AlertTypes.PLDocument};this._access=function(){return o["default"].isFeatureEnabled(Lr["default"].AlertTypeData.PLDocument.AccessControl)&&!this.isDocumentBlackListed()&&Z["default"].PageData.CobaltPageHeader.ShowAlertsLink};this.getDisplayOptions=function(){return Z["default"].PageData.DocumentTabView.DisplayOptions};this.isDocumentBlackListed=function(){let e=[];const t=this._document.metaInformation.plcResourceName||this._document.metaInformation.subContentType,n=this.getDisplayOptions();t&&(e=n.PLDocumentAlertBlacklistedResourceTypes.filter((e=>t.toUpperCase().indexOf(e.toUpperCase())>-1)));return e.length>0};this.setIconClassName=function(e){this.iconClassName=e}
;this._bellIconElement=Ro().template('\n\t\t<div id="<%-ids.bellIcon%>">\n\t\t\t<a role="button" id="<%-ids.anchorId%>"\n\t\t\t\ttitle="<%-localizedMessages.toolTipCreate%>"\n\t\t\t\thref="javascript:void(0);" class="<%-iconClassName%> plCreateAlertOutline co_hideState <%-disabledClass%>">\n\t\t\t\t<span><%-localizedMessages.toolTipCreate%></span>\n\t\t\t</a>\n\t\t</div>');const t=this._toggleEditFlow;this._toggleEditFlow=function(e,n){t.call(this,e,n);e.toggleClass("plCreateAlertOutline",!1)};const n=this._toggleCreateFlow;this._toggleCreateFlow=function(e){n.call(this,e);e.toggleClass("plCreateAlertOutline",!0)};const a=this._loadQuickAlert;this._loadQuickAlert=function(t){if(!t.hasClass(e))return a.call(this,t)};this._attachClickEvent=function(e,t){e.click((e=>{this._createQuickAlert(e.currentTarget,t)}))};this._initializeWidget=function(){const t=o["default"].IsAnonymousSession||i["default"].displayOptions&&i["default"].displayOptions.isAbstractView;return x()(this._bellIconElement({ids:this._ids,localizedMessages:this._localizedMessages,disabledClass:t?e:"",iconClassName:this.iconClassName}))}};var Rr=n(2587);const Pr={_lightbox:null,parentObject:null,warningText:D["default"].lookup("SC.Document.Widget.Feedback.Warning","Please enter your feedback before submitting"),Draw:function(e){this.parentObject=e;this._lightbox&&this._lightbox.Remove();try{var t=D["default"].lookup("SC.Document.Widget.Feedback.Title","Give Us Feedback");this._lightbox=new fe["default"];this._lightbox.SetTitle(t);this._lightbox.SetClass("co_overlayBox_exitFeedbackForm");var n=this;this._lightbox.SetCloseLinkObject({id:"co_overlayBox_exitFeedbackForm_closeLink",alt:D["default"].format("SC.Document.Widget.Feedback.CloseWindow",{pageTitle:t},"Close the "+t+" window"),onclick:function(){n.Close();return!1}});var i=this._lightbox.GetContentDomElement();i.innerHTML=st().template('<div class="co_overlayBox_content">\n\t<div class="co_feedbackForm_content">\n\t\t<label for="co_pageSurveyComment"><%=descriptionText%></label>\n\t\t<div class="co_clear"></div>\n\t\t<textarea id="co_pageSurveyComment" rows="3" cols="10" maxlength="1000" aria-required="true" aria-invalid="false" aria-describedby="co_warning" required></textarea>\n\t\t<div id="co_warning" class="InlineError-message co_hideState" role="alert" aria-live="assertive"></div>\n\t</div>\n\t<div id="co_feedbackForm_footerText"><%=text%></div>\n</div>')({descriptionText:D["default"].lookup("SC.Document.Widget.Feedback.Description","Tell us how to improve this resource or your experience on the site:"),text:D["default"].format("SC.Document.Widget.Feedback.Text",{ProductImproveShortNumber:Rr.ProductImproveShortNumber},`If you need immediate assistance, please call ${Rr.ProductImproveShortNumber}.`)});x()(i).find("#co_pageSurveyComment").on("keyup",(function(){var e=document.getElementById("co_warning");if(e){e.classList.add("co_hideState");e.innerHTML=""}if(e=document.getElementById("co_pageSurveyComment")){e.classList.remove("validation-error");e.setAttribute("aria-invalid","false")}}));var a=this._lightbox.GetFooterDomElement();a.innerHTML=st().template('<ul>\n\t<li>\n\t\t<input type="button" class="co_primaryBtn" id="co_pageFeedbackSubmit" value="<%=submitText%>" />\n\t</li>\n\t<li>\n\t\t<a href="javascript:void(0);" id="co_pageFeedbackCancel"><%=cancelText%></a>\n\t</li>\n</ul>\n')({submitText:D["default"].lookup("SC.Document.Widget.Feedback.Submit","Submit"),cancelText:D["default"].lookup("SC.Document.Widget.Feedback.Cancel","Cancel")});x()(a).find("#co_pageFeedbackSubmit").on("click",(function(){n.SaveAndClose();return!1}));x()(a).find("#co_pageFeedbackCancel").on("click",(function(){n.Close();return!1}));this._lightbox.Draw()}catch(e){this.TransitionOut()}},Close:function(){if(null!==this._lightbox){this._lightbox.Remove();this._lightbox=null}},TransitionOut:function(){to["default"].RefreshPage()},SaveAndClose:function(){try{var e=document.getElementById("co_pageSurveyComment");if(!e)return;var t=e.value;if(!t){e.classList.add("validation-error");e.setAttribute("aria-invalid","true");var n=document.getElementById("co_warning");if(n){n.classList.remove("co_hideState");n.innerHTML=this.warningText}return}document.getElementById("co_pageFeedbackSubmit").disabled=!0;var i=this,o={Title:Z["default"].ViewModelData.DocumentTitle,LegacyId:Z["default"].ViewModelData.LegacyId,Comment:t},r=a["default"].Relative(a["default"].Rest.DocumentFeedback(null));jt["default"].Post({vertical:A["default"].Website,relativeUrl:r,jsonObject:o,responseIsJson:!0,successCallback:function(){i._lightbox.Remove();i._lightbox=null;var e=D["default"].format("SC.Document.Widget.Feedback.SuccessResult",{ProductImproveShortNumber:Rr.ProductImproveShortNumber},`Thank you for your feedback. If you need immediate assistance, please contact the Reference Attorneys at ${Rr.ProductImproveShortNumber}.`);new Mi["default"](e,!1,i.parentObject,["bottom","right"],!0)},failedCallback:function(){i.TransitionOut()}})}catch(e){tt["default"].ConsoleMessage("Error: "+e,tt["default"].Level.Error,"Cobalt.Website.Feedback.SaveAndClose");this.TransitionOut()}}},Or={Country:"country",International:"international"};function Br({selectedType:e,onTypeChange:t}){const n=D["default"].lookup("SC.PLCCore.Widgets.Ask.JurisdictionSelector.RadioButton.Label","Jurisdiction"),i=D["default"].lookup("SC.PLCCore.Widgets.Ask.JurisdictionSelector.RadioButton.Country","US"),a=D["default"].lookup("SC.PLCCore.Widgets.Ask.JurisdictionSelector.RadioButton.International","International/Global"),o=e=>{t(e.target.value)};return(0,Ta.jsx)("div",{className:"form-group",children:(0,Ta.jsxs)("fieldset",{children:[(0,Ta.jsx)("legend",{children:n}),(0,Ta.jsxs)("div",{className:"co_jurisdictionTypeRadioButton",children:[(0,Ta.jsx)("input",{type:"radio",id:"jurisdictionChoiceCountry",name:"jurisdictionType",value:Or.Country,checked:e===Or.Country,onChange:o}),(0,Ta.jsx)("label",{htmlFor:"jurisdictionChoiceCountry",children:i}),(0,Ta.jsx)("input",{type:"radio",id:"jurisdictionChoiceInternational",name:"jurisdictionType",value:Or.International,checked:e===Or.International,onChange:o}),(0,Ta.jsx)("label",{htmlFor:"jurisdictionChoiceInternational",children:a})]})]})})}Br.displayName="JurisdictionTypeRadioButton (Platform/js/PLCCore/Foundation/Website/Views/Ask/AskFormPage/JurisdictionSelector/JurisdictionTypeRadioButton.jsx)";const Mr=Br,Fr=_a.memo((({renderSelector:e})=>{const[t,n]=(0,_a.useState)(Or.Country);return(0,Ta.jsxs)(Ta.Fragment,{children:[(0,Ta.jsx)(Mr,{selectedType:t,onTypeChange:e=>{n(e)}}),(0,Ta.jsx)("div",{className:"form-group",children:e(t)})]})}));function Wr({sourceItems:e,onSelected:t,localization:n,id:i}){const{title:a}=n,[o,r]=(0,_a.useState)([]),s=o.length?"":"jurisdiction-invalid jurisdiction-error";return(0,Ta.jsxs)("div",{children:[(0,Ta.jsx)("label",{htmlFor:i,children:a}),(0,Ta.jsx)("select",{multiple:!0,id:i,value:o,onChange:n=>{const i=Array.from(n.target.selectedOptions,(e=>e.value));r(i);t(e.filter((e=>i.includes(e.id))).map((e=>({...e,selected:!0}))))},"aria-describedby":s,children:e.map((e=>(0,Ta.jsx)("option",{value:e.id,children:e.text},e.id)))})]})}Wr.displayName="JurisdictionNativeMultiSelect (Platform/js/PLCCore/Foundation/Website/Views/Ask/AskFormPage/JurisdictionSelector/JurisdictionNativeMultiSelect.jsx)";const Hr=Wr;var Gr=n(7278);const Ur=_a.createContext({}),jr=(0,_a.forwardRef)((({autoCompleteInput:e,setAutoCompleteInput:t,ariaDescribedBy:n},i)=>{const{isExpanded:a,setIsExpanded:o,a11yOptionListId:r,a11yActiveDescendantId:s}=(0,_a.useContext)(Ur);return(0,Ta.jsx)("input",{ref:i,type:"text",id:"co_multiSelectAutoCompleteInput","aria-describedby":n,autoComplete:"off",role:"combobox","aria-activedescendant":a&&s?s:"","aria-autocomplete":"list","aria-expanded":a,"aria-controls":r,"aria-haspopup":"listbox",value:e,onChange:e=>t(e.target.value),onFocus:()=>o(!0)})})),$r=jr;function Vr({items:e,onRemove:t}){const n=(0,_a.useRef)(Array(e.length).fill(null)),i=D["default"].lookup("SC.Core.Indigo.MultiSelectAutoComplete.SelectedItems","Selected items"),a=i=>{(t=>{const i=e.indexOf(t);if(-1!==i){const e=n.current[i+1]||n.current[i-1];e&&e.focus()}})(i);t(i)};return(0,
Ta.jsx)("div",{className:"Chip-container",role:"group","aria-label":i,children:(0,Ta.jsx)("ul",{className:"Chip-list",children:e.map(((e,t)=>{return(0,Ta.jsxs)("li",{className:"Chip",children:[(0,Ta.jsx)("span",{className:"Chip-text",children:e.text}),(0,Ta.jsxs)("button",{type:"button",ref:e=>{n.current[t]=e},onClick:()=>a(e),children:[(0,Ta.jsx)("span",{className:"co_accessibilityLabel",children:(i=e.text,D["default"].format("SC.Core.Indigo.MultiSelectAutoComplete.RemoveChip",{itemText:i},`Remove chip ${i}`))}),(0,Ta.jsx)("span",{className:"icon25 icon_close-gray","aria-hidden":"true"})]})]},e.id);var i}))})})}Vr.displayName="Chips (Platform/js/Indigo/Core/MultiSelectAutoComplete/Chips.jsx)";const qr=Vr;function zr({label:e}){const{isExpanded:t,setIsExpanded:n,a11yOptionListId:i}=(0,_a.useContext)(Ur),a=Ot()("icon25",{"icon_upMenu-gray":t,"icon_downMenu-gray":!t});return(0,Ta.jsxs)("button",{type:"button",className:"co_optionsContainerToggle","aria-expanded":t,"aria-controls":i,onClick:()=>{n(!t)},tabIndex:-1,children:[(0,Ta.jsx)("span",{className:"co_accessibilityLabel",children:e}),(0,Ta.jsx)("span",{className:a,"aria-hidden":"true"})]})}zr.displayName="ToggleButton (Platform/js/Indigo/Core/MultiSelectAutoComplete/ToggleButton.jsx)";const Kr=zr,Yr=e=>{const{children:t,value:n,onChange:i,toggleLabel:a,title:o,className:r,chips:s,onChipRemove:l,ariaDescribedBy:c}=e,[d,u]=(0,_a.useState)(!1),[h,f]=(0,_a.useState)(null),[p,m]=(0,_a.useState)(!1),g=(0,_a.useRef)(null),v=Ot()("co_optionContainer",r),y=(0,_a.useId)(),b={isExpanded:d,setIsExpanded:u,a11yOptionListId:y,focusOnCollapse:p,a11yActiveDescendantId:h,setA11yActiveDescendantId:f};(0,_a.useEffect)((()=>{d&&m(!0)}),[d]);return(0,Ta.jsxs)("fieldset",{children:[(0,Ta.jsx)("legend",{children:o}),(0,Ta.jsx)("div",{className:"co_optionsContainerWrapper",children:(0,Ta.jsx)(Ur.Provider,{value:b,children:(0,Ta.jsxs)(Gr["default"],{onClickOutside:()=>{u(!1);m(!1)},children:[(0,Ta.jsx)($r,{autoCompleteInput:n,setAutoCompleteInput:i,ref:g,ariaDescribedBy:c}),(0,Ta.jsx)(Kr,{label:a}),(0,Ta.jsx)("div",{className:v,children:d&&t})]})})}),!d&&s?.length>0&&(0,Ta.jsx)(qr,{items:s,onRemove:e=>{1===s.length&&g.current.focus();l(e)}})]})};Yr.displayName="MultiSelectAutoComplete (Platform/js/Indigo/Core/MultiSelectAutoComplete/MultiSelectAutoComplete.jsx)";const Qr=Yr;function Xr({children:e,label:t}){const{setIsExpanded:n,a11yOptionListId:i,setA11yActiveDescendantId:a}=(0,_a.useContext)(Ur),o=(0,_a.useRef)(null);return(0,Ta.jsx)("div",{id:i,className:"co_optionList",role:"listbox","aria-label":t,tabIndex:-1,ref:o,onKeyDown:e=>{const t=(e=>Array.from(e.querySelectorAll('input[type="checkbox"]')))(o.current),i=t.indexOf(e.target),r=t.length-1,s=i+1,l=i-1;switch(e.key){case"ArrowDown":e.preventDefault();if(i!==r){t[s].focus();a(t[s].id)}break;case"ArrowUp":e.preventDefault();if(e.altKey){n(!1);a(null)}else if(0!==i){t[l].focus();a(t[l].id)}break;case"Home":e.preventDefault();t[0].focus();a(t[0].id);break;case"End":e.preventDefault();t[r].focus();a(t[r].id);break;case"Tab":n(!1);a(null);break;case"Escape":e.nativeEvent?.stopImmediatePropagation();e.preventDefault();n(!1);a(null)}},children:e})}Xr.displayName="Listbox (Platform/js/Indigo/Core/MultiSelectAutoComplete/Listbox.jsx)";const Jr=Xr;function Zr({children:e,item:t,onChange:n}){const{setA11yActiveDescendantId:i}=(0,_a.useContext)(Ur),a=(e,t)=>{i(t.id);n(e,t)};return(0,Ta.jsx)("div",{role:"option","aria-selected":t.selected,children:(0,Ta.jsxs)("label",{className:"co_option",children:[(0,Ta.jsx)("input",{type:"checkbox",id:t.id,checked:!!t.selected,onChange:e=>a(e.currentTarget.checked,t),onKeyDown:e=>{if("Enter"===e.key||" "===e.key){e.preventDefault();a(!e.currentTarget.checked,t)}}}),e]})})}Zr.displayName="ListOptionItem (Platform/js/Indigo/Core/MultiSelectAutoComplete/ListOptionItem.jsx)";const es=Zr;function ts({sourceItems:e,onSelected:t,localization:n}){const{title:i,listboxLabel:a,selectAllLabel:o,toggleLabel:r}=n,[s,l]=(0,_a.useState)(""),[c,d]=(0,_a.useState)(!1),[u,h]=(0,_a.useState)([]);(0,_a.useEffect)((()=>{h(e)}),[e]);const f=s&&s.length>2?u.filter((e=>e.text.toLowerCase().includes(s.toLowerCase()))):u,p=(0,_a.useMemo)((()=>u.filter((e=>e.selected))),[u]);(0,_a.useMemo)((()=>{d(u.every((e=>e.selected)))}),[u]);(0,_a.useMemo)((()=>{t(u.filter((e=>e.selected)))}),[u,t]);const m=(e,t)=>{h(u.map((n=>n.id===t.id?{...n,selected:e}:n)))},g=p.length?"":"jurisdiction-invalid jurisdiction-error";return(0,Ta.jsx)(Qr,{value:s,onChange:l,ariaDescribedBy:g,toggleLabel:r,title:i,className:"co_optionContainer--top",chips:p,onChipRemove:e=>m(!1,e),children:(0,Ta.jsxs)(Jr,{label:a,children:[f.length>0&&(0,Ta.jsx)(es,{item:{selected:c,id:"co_selectAll"},onChange:e=>{d(e);h(u.map((t=>({...t,selected:e}))))},children:o}),f.map((e=>(0,Ta.jsx)(es,{item:e,onChange:m,children:e.text},e.id)))]})})}ts.displayName="JurisdictionMultiSelectDropdown (Platform/js/PLCCore/Foundation/Website/Views/Ask/AskFormPage/JurisdictionSelector/JurisdictionMultiSelectDropdown.jsx)";const ns=ts;class is{static isNewJurisdictionSelector(){return!1}renderJurisdictionSelector(){}}class as extends is{constructor({countryItems:e,setSelectedCountryItems:t,internationalItems:n,setSelectedInternationalItems:i,setSelectedJurisdiction:a}){super();const o=e=>({id:e,text:e,selected:!1});this.countryItems=e?.map(o)||[];this.setSelectedCountryItems=t;this.countryLocalization=this.createCountryLocalization();this.internationalItems=n?.map(o)||[];this.setSelectedInternationalItems=i;this.internationalLocalization=this.createInternationalLocalization();this.setSelectedJurisdiction=a}multiSelectId="co_nativeMultiSelect";static isNewJurisdictionSelector(){return o["default"].isIacOn("IAC-US-CONNECT-ASK-RADIO-BUTTONS")}isNewJurisdictionSelectMultiple(){return o["default"].isIacOn("IAC-A11Y-COUNTRY-SELECT-WAYWO")}renderJurisdictionSelector(){const e=(0,ya.createRoot)(document.getElementById("co_jurisdictionSelectorContainer")),t=_a.createElement(Fr,{renderSelector:e=>this.renderSelector(e)});e.render(t)}renderSelector(e){switch(e){case Or.Country:return this.createCountryElement();case Or.International:return this.createInternationalElement();default:return null}}createCountryElement(){this.setSelectedJurisdiction(Or.Country);return this.isNewJurisdictionSelectMultiple()?_a.createElement(Hr,{sourceItems:this.countryItems,onSelected:e=>this.setSelectedCountryItems(e),localization:this.countryLocalization,id:this.multiSelectId}):_a.createElement(ns,{sourceItems:this.countryItems,onSelected:e=>this.setSelectedCountryItems(e),localization:this.countryLocalization})}createInternationalElement(){this.setSelectedJurisdiction(Or.International);return this.isNewJurisdictionSelectMultiple()?_a.createElement(Hr,{sourceItems:this.internationalItems,onSelected:e=>this.setSelectedInternationalItems(e),localization:this.internationalLocalization,id:this.multiSelectId}):_a.createElement(ns,{sourceItems:this.internationalItems,onSelected:e=>this.setSelectedInternationalItems(e),localization:this.internationalLocalization})}createCountryLocalization(){return{title:D["default"].lookup("SC.Website.WAYWO.Dropdown.US.Title","US jurisdictions"),listboxLabel:D["default"].lookup("SC.Website.WAYWO.Dropdown.US.ListboxLabel","Country suggestions"),selectAllLabel:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.US.All","Select all"),toggleLabel:D["default"].lookup("SC.Website.WAYWO.Dropdown.ToggleLabel","Toggle dropdown")}}createInternationalLocalization(){return{title:D["default"].lookup("SC.Website.WAYWO.Dropdown.International.Title","International jurisdictions"),listboxLabel:D["default"].lookup("SC.Website.WAYWO.Dropdown.International.ListboxLabel","International suggestions"),selectAllLabel:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.International.All","All international jurisdictions"),toggleLabel:D["default"].lookup("SC.Website.WAYWO.Dropdown.ToggleLabel","Toggle dropdown")}}}var os=n(1072),rs=n.n(os);const ss=rs().Model.extend({title:D["default"].lookup("SC.Website.WAYWO.Lightbox.WAYWO","What Are You Working On?"),
subTitle:D["default"].lookup("SC.Website.WAYWO.Lightbox.Subtitle","Tell us what you're working on and we'll send the resources to help."),allFieldsAreRequired:D["default"].lookup("SC.Website.WAYWO.AllFieldsRequired","All fields are required."),firstName:D["default"].lookup("SC.Website.WAYWO.FirstName","First Name"),lastName:D["default"].lookup("SC.Website.WAYWO.LastName","Last Name"),workEmail:D["default"].lookup("SC.Website.WAYWO.WorkEmail","Work Email"),organizationName:D["default"].lookup("SC.Website.WAYWO.OrganizationName","Organization Name"),position:D["default"].lookup("SC.Website.WAYWO.Position","Position"),whichTopicalAreas:D["default"].lookup("SC.Website.WAYWO.TopicalAreas","Which topical area(s) are you working on?"),topicalArea:D["default"].lookup("SC.Website.WAYWO.TopicalArea","topical area"),closeTheWindow:D["default"].lookup("SC.Website.WAYWO.CloseTheWindow","Close the window"),selectOption:D["default"].lookup("SC.Website.WAYWO.Select.Select","Select a position"),associateOption:D["default"].lookup("SC.Website.WAYWO.Select.Associate","Associate"),secretaryOption:D["default"].lookup("SC.Website.WAYWO.Select.Secretary","Company Secretary/Assistant Secretary"),complianceOption:D["default"].lookup("SC.Website.WAYWO.Select.Compliance","Compliance Professional"),attorneyOption:D["default"].lookup("SC.Website.WAYWO.Select.Attorney","Contract Attorney"),managerOption:D["default"].lookup("SC.Website.WAYWO.Select.Manager","Contract Manager"),counselOption:D["default"].lookup("SC.Website.WAYWO.Select.Counsel","Counsel"),deanOption:D["default"].lookup("SC.Website.WAYWO.Select.Dean","Dean"),depGeneralCounselOption:D["default"].lookup("SC.Website.WAYWO.Select.DepGeneralCounsel","Deputy/Associate/Assistant General Counsel"),generalCounselOption:D["default"].lookup("SC.Website.WAYWO.Select.GeneralCounsel","General Counsel"),knowledgeManagementCounselOption:D["default"].lookup("SC.Website.WAYWO.Select.KnowledgeManagement","Knowledge Management"),librarianManagerOption:D["default"].lookup("SC.Website.WAYWO.Select.LibrarianManager","Librarian/Legal Resource Manager"),managingPartnerOption:D["default"].lookup("SC.Website.WAYWO.Select.MangingPartner","Managing Partner"),paralegalOption:D["default"].lookup("SC.Website.WAYWO.Select.Paralegal","Paralegal"),partnerOption:D["default"].lookup("SC.Website.WAYWO.Select.Partner","Partner"),profDevManagerOption:D["default"].lookup("SC.Website.WAYWO.Select.ProfDevManager","Professional Development Manager"),professorOption:D["default"].lookup("SC.Website.WAYWO.Select.Professor","Professor"),summerAssociateOption:D["default"].lookup("SC.Website.WAYWO.Select.SummerAssociate","Summer Associate"),studentOption:D["default"].lookup("SC.Website.WAYWO.Select.Student","Student"),antiTrustCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.antitrust","Antitrust"),bankruptcyCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.bankruptcy","Bankruptcy & Restructuring"),commercialCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.commercial","Commercial Transactions"),corporateCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.corporate","Corporate & Securities"),employeeExecutiveCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.employeeexecutive","Employee Benefits & Executive Compensation"),financeCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.finance","Finance"),governmentPracticeCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.governmentPractice","Government Practice"),intellectualCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.intellectual","Intellectual Property & Technology"),internationalCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.international","International Arbitration"),laborCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.laboremployment","Labor & Employment"),litigationCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.litigation","Litigation"),realEstateCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.realestate","Real Estate"),taxCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.tax","Tax"),estatePlanningCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.trustsandestates","Trusts & Estates"),otherCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.other","Other"),articleCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.article","Articles"),checklistCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.checklist","Checklist"),standardDocFormCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.standardDocForm","Standard Document/Form"),comparisonCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.comparison","Comparison"),abitrationCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.arbitration","Arbitration"),capitalMarketsCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.capitalmarketscorporategovernance","Capital Markets & Corporate Governance"),commercialTransactionsCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.commercialtransactions","Commercial Transactions"),corporateMergersAndAcquisitionsCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.corporateandmergersacquisitions","Corporate and M&A"),federalCivilCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.federalcivilpractice","Federal Civil Practice"),inHouseCouncelCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.inhousecounsel","In-house Counsel"),resourceType:D["default"].lookup("SC.Website.WAYWO.resourceType","resource type"),documentTypes:D["default"].lookup("SC.Website.WAYWO.DocumentTypes","What type(s) of resources are you interested in?"),waywo:D["default"].lookup("SC.Website.WAYWO.WAYWO","What are you working on?"),characters:D["default"].lookup("SC.Website.WAYWO.Characters","characters"),textAreaCharCount:"",sendButton:D["default"].lookup("SC.Website.WAYWO.Lightbox.Send","Send"),cancelButton:D["default"].lookup("SC.Website.WAYWO.Lightbox.Cancel","Cancel"),closeButton:D["default"].lookup("SC.Website.WAYWO.Lightbox.Close","Close"),emailSuccess:D["default"].lookup("SC.Website.WAYWO.Lightbox.EmailSuccess","The email has been sent."),emailFailed:D["default"].lookup("SC.Website.WAYWO.Lightbox.EmailFailed","Failed to send an Email. Please try again."),missingWaywoErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingWAYWO","What Are You Working On is required."),tooManyCharactersErrorMessage:"",unselectedDocumentTypesErrorMessage:D["default"].lookup("SC.Website.WAYWO.UnselectedDocumentTypes","Document type(s) are required."),unselectedTopicalAreasErrorMessage:D["default"].lookup("SC.Website.WAYWO.UnselectedTopics","Topic area(s) are required."),missingOtherTopicErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingOtherTopic","Please enter a topic in the other box"),unselectedPositionErrorMessage:D["default"].lookup("SC.Website.WAYWO.UnselectedPosition","Position is required."),missingOrgNameErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingOrgName","Organization Name is required."),missingWorkEmailErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingWorkEmail","Work Email is required."),incorrectFormatEmailErrorMessage:D["default"].lookup("SC.Website.WAYWO.IncorrectFormatEmail","Work email format invalid."),incorrectFormatErrorMessage:D["default"].lookup("SC.Website.WAYWO.IncorrectFormat","Incorrect format."),missingLastNameErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingLastName","Last Name is required."),missingFirstNameErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingFirstName","First Name is required."),textareaMaxLength:1e4,viewData:null,SetTextAreaCharCount:function(e,t){this.textAreaCharCount=D["default"].format("SC.Website.WAYWO.Lightbox.TextAreaCharCount",{chars:e,maxLength:t},e+"/"+t)},initialize:function(e){this.tooManyCharactersErrorMessage=D["default"].format("SC.Website.WAYWO.TooManyCharacters",{maxChars:this.textareaMaxLength},`Must be less than ${this.textareaMaxLength} characters long.`);this.SetTextAreaCharCount(0,this.textareaMaxLength);this.SetViewData(e)},GetViewData:function(){return this.get("viewData")},SetViewData:function(e){this.set("viewData",e)}}),ls=ss.extend({initialize:function(e){
if(this.IsAskWaywoForm()){this.textareaMaxLength=6e3;this.WaywoAskViewModel=e.WaywoAskViewModel}ss.prototype.initialize.call(this,e);if(this.IsAskWaywoForm()){this.WaywoAskViewModel.title&&(this.title=this.WaywoAskViewModel.title);this.WaywoAskViewModel.subTitle&&(this.subTitle=this.WaywoAskViewModel.subTitle)}this.IsSectorsAvailable()&&(this.sectorsColumns=this.GetSectorsColumns())},WaywoAskViewModel:null,topicsSectorsTitle:D["default"].lookup("SC.Website.WAYWO.TopicsSectors.Title","Which topical area or sector best matches what you are working on?"),unselectedTopicsSectorsErrorMessage:D["default"].lookup("SC.Website.WAYWO.TopicsSectors.UnselectedTopicsSectors","Topical area or Sector is required."),jurisdiction:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction","Jurisdiction"),jurisdictionTitle:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.Select","Select jurisdiction"),jurisdictionUS:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.US","US"),jurisdictionUsNational:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.UsNational","US National/Federal"),jurisdictionInternational:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.International","International"),jurisdictionSpecificStates:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.SpecificStates","Specific States"),organization:D["default"].lookup("SC.Website.WAYWO.Select.Organization","Organization Type"),organizationTitle:D["default"].lookup("SC.Website.WAYWO.Select.Organization.Select","Select organization type"),organizationLawFirm:D["default"].lookup("SC.Website.WAYWO.Select.Organization.LawFirm","Law Firm (1-10 attorneys)"),organizationLawFirmAttorneys:D["default"].lookup("SC.Website.WAYWO.Select.Organization.LawFirmAttorneys","Law Firm (11 or more attorneys)"),organizationCorporationBusiness:D["default"].lookup("SC.Website.WAYWO.Select.Organization.CorporationBusiness","Corporation or Business"),organizationGovernment:D["default"].lookup("SC.Website.WAYWO.Select.Organization.Government","Government"),organizationLawSchool:D["default"].lookup("SC.Website.WAYWO.Select.Organization.LawSchool","Law School"),organizationOther:D["default"].lookup("SC.Website.WAYWO.Select.Organization.Other","Other"),missingOrgTypeErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingOrganizationType","Organization Type is required."),missingSpecificStatesErrorMessage:D["default"].lookup("SC.Website.WAYWO.MissingSpecificStates","Specific States are required."),requiredFields:D["default"].lookup("SC.Website.WAYWO.RequiredFields","*Required Field"),required:D["default"].lookup("SC.Website.WAYWO.Required","*"),healthCareCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.healthCare","Health Care"),dataPrivacyAndCybersecurityCheckbox:D["default"].lookup("SC.Website.WAYWO.Checkboxes.dataPrivacyAndCybersecurity","Data Privacy & Cybersecurity"),specificStatesTitle:D["default"].lookup("SC.Website.WAYWO.Select.Jurisdiction.SpecificStatesInput","Please Provide Specific States"),sectorsTitle:D["default"].lookup("SC.Website.WAYWO.Sectors.Title","What sector(s) are you working on?"),unselectedSectorsErrorMessage:D["default"].lookup("SC.Website.WAYWO.Sectors.UnselectedSectors","Sector(s) are required."),requestSuccessThankYou:D["default"].lookup("SC.Website.WAYWO.ASK.Lightbox.RequestSuccessThankYou","Thank you for submitting a question or comment. It has been forwarded on for review."),requestSuccessRegards:D["default"].lookup("SC.Website.WAYWO.ASK.Lightbox.RequestSuccessRegards","Kind regards,<br/>Practical Law Editorial Team"),requestFailed:D["default"].lookup("SC.Website.WAYWO.ASK.Lightbox.RequestFailed","Error: Your request has not been submitted. Please click Send to resubmit your request."),sectorsColumns:null,states:[D["default"].lookup("SC.Website.States.Alabama","Alabama"),D["default"].lookup("SC.Website.States.Alaska","Alaska"),D["default"].lookup("SC.Website.States.Arizona","Arizona"),D["default"].lookup("SC.Website.States.Arkansas","Arkansas"),D["default"].lookup("SC.Website.States.California","California"),D["default"].lookup("SC.Website.States.Colorado","Colorado"),D["default"].lookup("SC.Website.States.Connecticut","Connecticut"),D["default"].lookup("SC.Website.States.Delaware","Delaware"),D["default"].lookup("SC.Website.States.Florida","Florida"),D["default"].lookup("SC.Website.States.Georgia","Georgia"),D["default"].lookup("SC.Website.States.Hawaii","Hawaii"),D["default"].lookup("SC.Website.States.Idaho","Idaho"),D["default"].lookup("SC.Website.States.Illinois","Illinois"),D["default"].lookup("SC.Website.States.Indiana","Indiana"),D["default"].lookup("SC.Website.States.Iowa","Iowa"),D["default"].lookup("SC.Website.States.Kansas","Kansas"),D["default"].lookup("SC.Website.States.Kentucky","Kentucky"),D["default"].lookup("SC.Website.States.Louisiana","Louisiana"),D["default"].lookup("SC.Website.States.Maine","Maine"),D["default"].lookup("SC.Website.States.Maryland","Maryland"),D["default"].lookup("SC.Website.States.Massachusetts","Massachusetts"),D["default"].lookup("SC.Website.States.Michigan","Michigan"),D["default"].lookup("SC.Website.States.Minnesota","Minnesota"),D["default"].lookup("SC.Website.States.Mississippi","Mississippi"),D["default"].lookup("SC.Website.States.Missouri","Missouri"),D["default"].lookup("SC.Website.States.Montana","Montana"),D["default"].lookup("SC.Website.States.Nebraska","Nebraska"),D["default"].lookup("SC.Website.States.Nevada","Nevada"),D["default"].lookup("SC.Website.States.NewHampshire","New Hampshire"),D["default"].lookup("SC.Website.States.NewJersey","New Jersey"),D["default"].lookup("SC.Website.States.NewMexico","New Mexico"),D["default"].lookup("SC.Website.States.NewYork","New York"),D["default"].lookup("SC.Website.States.NorthCarolina","North Carolina"),D["default"].lookup("SC.Website.States.NorthDakota","North Dakota"),D["default"].lookup("SC.Website.States.Ohio","Ohio"),D["default"].lookup("SC.Website.States.Oklahoma","Oklahoma"),D["default"].lookup("SC.Website.States.Oregon","Oregon"),D["default"].lookup("SC.Website.States.Pennsylvania","Pennsylvania"),D["default"].lookup("SC.Website.States.RhodeIsland","Rhode Island"),D["default"].lookup("SC.Website.States.SouthCarolina","South Carolina"),D["default"].lookup("SC.Website.States.SouthDakota","South Dakota"),D["default"].lookup("SC.Website.States.Tennessee","Tennessee"),D["default"].lookup("SC.Website.States.Texas","Texas"),D["default"].lookup("SC.Website.States.Utah","Utah"),D["default"].lookup("SC.Website.States.Vermont","Vermont"),D["default"].lookup("SC.Website.States.Virginia","Virginia"),D["default"].lookup("SC.Website.States.Washington","Washington"),D["default"].lookup("SC.Website.States.WestVirginia","West Virginia"),D["default"].lookup("SC.Website.States.Wisconsin","Wisconsin"),D["default"].lookup("SC.Website.States.Wyoming","Wyoming")],IsHealthCareCheckboxNeeded:function(){return o["default"].isIacOn("IAC-PLUS-HEALTHCARE-WAYWO")},IsDataPrivacyAndCybersecurityCheckboxNeeded:function(){return o["default"].isIacOn("IAC-PL-CYBERSECURITY-WAYWO")},GetSectorsColumns:function(){const e=[D["default"].lookup("SC.Website.WAYWO.Sectors.AlcoholTobaccoCannabis","Alcohol, Tobacco & Cannabis"),D["default"].lookup("SC.Website.WAYWO.Sectors.Construction","Construction"),D["default"].lookup("SC.Website.WAYWO.Sectors.FinancialServices","Financial Services"),D["default"].lookup("SC.Website.WAYWO.Sectors.FoodBeverage","Food and Beverage"),D["default"].lookup("SC.Website.WAYWO.Sectors.HealthCare","Health Care"),D["default"].lookup("SC.Website.WAYWO.Sectors.LifeSciences","Life Sciences & FDA Regulatory"),D["default"].lookup("SC.Website.WAYWO.Sectors.MediaEntertainment","Media & Entertainment"),D["default"].lookup("SC.Website.WAYWO.Sectors.OilGas","Oil & Gas"),D["default"].lookup("SC.Website.WAYWO.Sectors.Retail","Retail"),D["default"].lookup("SC.Website.WAYWO.Sectors.Technology","Technology")],t=["alcoholTobaccoCannabis","construction","financialServices","foodBeverage","healthCare","lifeSciences","mediaEntertainment","oilGas","retail","technology"],n=[],i=[];for(let i=0;i<e.length;i++){const a={name:e[i],value:t[i]};n.push(a)}for(;n.length>0;)i.push(n.splice(0,5))
;return i},IsSectorsAvailable:function(){return o["default"].isIacOn("IAC-PL-SECTORS-WAYWO")&&!this.IsAskWaywoForm()},IsAskWaywoForm:function(){return o["default"].isIacOn("IAC-PL-ASK-WAYWO-FORM")},IsNewJurisdictionSelector:function(){return o["default"].isIacOn("IAC-US-CONNECT-ASK-RADIO-BUTTONS")&&this.IsAskWaywoForm()},renderDropdownOptions:function(e){return st().template('<% items.forEach(function(item, index){ %>\n    <% if (index === 0) { %>\n        <option value="<%- item.value %>" selected="selected"><%- item.text %></option>\n    <% } else { %>\n        <option value="<%- item.value %>"><%- item.text %></option>\n    <% } %>\n<% }); %>')({items:e})}}),cs=ls;var ds,us=rs().View.extend({isPracticePointWaywo:!1,validateTopicsDocTypesFields:!0,initialize:function(){ds=this;st().bindAll(ds);ds.setupModels()},lightBox:null,waywoLightboxModel:null,postMailUrl:null,templates:{get bodyContentTemplate(){
return st().template('<div id="coid_waywoLightboxContent" class="co_simpleLightboxContent">\n\t<div id="coid_allFieldsRequired" class="co_allFieldsRequiredStyle"><span class="co_requiredAlert"><%- model.requiredFields %></span></div>\n\n\t\x3c!--First Name--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_firstNameLabel" class="co_waywoItemLables" for="coid_firstName"><%- model.required + model.firstName %></label>\n\t\t<input id="coid_firstName" type="text" aria-required="true" aria-invalid="false" value="<%- model.GetViewData().WaywoFormDataModel.firstName %>" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_firstName"></div>\n\t</div>\n\n\t\x3c!--Last Name--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_lastNameLabel" class="co_waywoItemLables" for="coid_lastName"><%- model.required + model.lastName %></label>\n\t\t<input id="coid_lastName" type="text" aria-required="true" aria-invalid="false" value="<%- model.GetViewData().WaywoFormDataModel.lastName %>" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_lastName"></div>\n\t</div>\n\n\t\x3c!--Work mail--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_workEmailLabel" class="co_waywoItemLables" for="coid_workEmail"><%- model.required + model.workEmail %></label>\n\t\t<input id="coid_workEmail" type="text" aria-required="true" aria-invalid="false" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_workEmail"></div>\n\t</div>\n\n\t\x3c!--Organization Name--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_orgNameLabel" class="co_waywoItemLables" for="coid_orgName"><%- model.required + model.organizationName %></label>\n\t\t<input id="coid_orgName" type="text" class="co_waywoInputStyle" aria-required="true" aria-invalid="false" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_orgName"></div>\n\t</div>\n\n\t\x3c!--Organization Type--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_organizationTypeLabel" class="co_waywoItemLables" for="coid_organizationTypeDropDownList"><%- model.required + model.organization %></label>\n\t\t<select id="coid_organizationTypeDropDownList" class="co_waywoLightboxSelect" aria-required="true" aria-invalid="false" required>\n\t\t\t<option value="Select" selected="selected"><%- model.organizationTitle %></option>\n\t\t\t<option value="LawFirm"><%- model.organizationLawFirm %></option>\n\t\t\t<option value="LawFirmAttorneys"><%- model.organizationLawFirmAttorneys %></option>\n\t\t\t<option value="CorporationBusiness"><%- model.organizationCorporationBusiness %></option>\n\t\t\t<option value="Government"><%- model.organizationGovernment %></option>\n\t\t\t<option value="LawSchool"><%- model.organizationLawSchool %></option>\n\t\t\t<option value="Other"><%- model.organizationOther %></option>\n\t\t</select>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_organizationTypeDropDownList"></div>\n\t</div>\n\n\t\x3c!--Position--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_positionLabel" class="co_waywoItemLables" for="coid_yourPositionDropDownList"><%- model.required + model.position %></label>\n\t\t<select id="coid_yourPositionDropDownList" class="co_waywoLightboxSelect" aria-required="true" aria-invalid="false" required>\n\t\t\t<option value="Select" selected="selected"><%- model.selectOption %></option>\n\t\t\t<option value="Associate"><%- model.associateOption %></option>\n\t\t\t<option value="Secretary"><%- model.secretaryOption %></option>\n\t\t\t<option value="Compliance"><%- model.complianceOption %></option>\n\t\t\t<option value="Attorney"><%- model.attorneyOption %></option>\n\t\t\t<option value="Manager"><%- model.managerOption %></option>\n\t\t\t<option value="Counsel"><%- model.counselOption %></option>\n\t\t\t<option value="Dean"><%- model.deanOption %></option>\n\t\t\t<option value="DepGeneralCounsel"><%- model.depGeneralCounselOption %></option>\n\t\t\t<option value="GeneralCounsel"><%- model.generalCounselOption %></option>\n\t\t\t<option value="KnowledgeManagement"><%- model.knowledgeManagementCounselOption %></option>\n\t\t\t<option value="LibrarianManager"><%- model.librarianManagerOption %></option>\n\t\t\t<option value="ManagingPartner"><%- model.managingPartnerOption %></option>\n\t\t\t<option value="Paralegal"><%- model.paralegalOption %></option>\n\t\t\t<option value="Partner"><%- model.partnerOption %></option>\n\t\t\t<option value="ProfDevManager"><%- model.profDevManagerOption %></option>\n\t\t\t<option value="Professor"><%- model.professorOption %></option>\n\t\t\t<option value="SummerAssociate"><%- model.summerAssociateOption %></option>\n\t\t\t<option value="Student"><%- model.studentOption %></option>\n\t\t</select>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_yourPositionDropDownList"></div>\n\t</div>\n\n\t\x3c!--Jurisdiction Type--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_jurisdictionLabel" class="co_waywoItemLables" for="coid_jurisdictionDropDownList"><%- model.jurisdiction %></label>\n\t\t<select id="coid_jurisdictionDropDownList" class="co_waywoLightboxSelect">\n\t\t\t<option value="Select" selected="selected"><%- model.jurisdictionTitle %></option>\n\t\t\t<option value="UsNational"><%- model.jurisdictionUsNational %></option>\n\t\t\t<option value="International"><%- model.jurisdictionInternational %></option>\n\t\t\t<option value="SpecificStates"><%- model.jurisdictionSpecificStates %></option>\n\t\t</select>\n\t</div>\n\n\t\x3c!--Topical areas--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_topicalAreasLabel" class="co_waywoItemLables" for="coid_topicalAreasCheckboxes"><%- model.required + model.whichTopicalAreas %></label>\n\t\t<div id="coid_topicalAreasCheckboxes" class="co_topicalAreasCheckboxStyle" role="group" aria-required="true" aria-invalid="false" aria-labelledby="coid_topicalAreasLabel">\n\t\t\t<ul class="co_floatLeft">\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="antitrust" /> <span><%- model.antiTrustCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="bankruptcy" /> <span><%- model.bankruptcyCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="capitalmarketsandcorporategovernance" /> <span><%- model.capitalMarketsCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="commercial" /> <span><%- model.commercialCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="corporatemergersandacquisitions" /> <span><%- model.corporateMergersAndAcquisitionsCheckbox %></span></label></li>\n\t\t\t\t<% if(model.IsDataPrivacyAndCybersecurityCheckboxNeeded()) { %>\n\t\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="dataprivacyandcybersecurity" /> <span><%- model.dataPrivacyAndCybersecurityCheckbox %></span></label></li>\n\t\t\t\t<% } %>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="employeeexecutive" /> <span><%- model.employeeExecutiveCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="finance" /> <span><%- model.financeCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="governmentPractice" /> <span><%- model.governmentPracticeCheckbox %></span></label></li>\n\t\t\t\t\x3c!-- We need this as now WAYWO form has 2 columns with topical areas checkboxes \n\t\t\t\t\tand HealthCare checkbox needs to stay in the first column if IAC-PL-CYBERSECURITY-WAYWO is turned off.\n\t\t\t\t\tThis checkbox will be removed when IAC-PL-CYBERSECURITY-WAYWO will be deleted --\x3e\n\t\t\t\t<% if(model.IsHealthCareCheckboxNeeded() && !model.IsDataPrivacyAndCybersecurityCheckboxNeeded()) { %>\n\t\t\t\t<li>\n\t\t\t\t\t<label><input type="checkbox" name="topicalareas" value="healthCare" />\n\t\t\t\t\t\t<span><%- model.healthCareCheckbox %></span>\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t</ul>\n\t\t\t<ul class="co_floatLeft">\n\t\t\t\t\x3c!-- This checkbox will stay when IAC-PL-CYBERSECURITY-WAYWO will be deleted --\x3e\n\t\t\t\t<% if(model.IsHealthCareCheckboxNeeded() && model.IsDataPrivacyAndCybersecurityCheckboxNeeded()) { %>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<label><input type="checkbox" name="topicalareas" value="healthCare" />\n\t\t\t\t\t\t\t<span><%- model.healthCareCheckbox %></span>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</li>\n\t\t\t\t<% } %>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="intellectual" /> <span><%- model.intellectualCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="international" /> <span><%- model.internationalCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="laboremployment" /> <span><%- model.laborCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="litigation" /> <span><%- model.litigationCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="realestate" /> <span><%- model.realEstateCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="tax" /> <span><%- model.taxCheckbox %></span></label></li>\n\t\t\t\t<li><label><input type="checkbox" name="topicalareas" value="trustsandestates" /> <span><%- model.estatePlanningCheckbox %></span></label></li>\n\t\t\t\t<li>\n\t\t\t\t\t<label>\n\t\t\t\t\t\t<input type="checkbox" name="topicalareas" value="other" />\n\t\t\t\t\t\t<span id="coid_topicalAreasOtherCheckboxText"><%- model.otherCheckbox %></span><span class="co_accessibilityLabel"><%- model.topicalArea %></span>\n\t\t\t\t\t\t<input id="coid_topicalAreasOther" type="text" class="co_waywoInputAltStyle" />\n\t\t\t\t\t</label>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<div class="co_validationMessage" id="inputAlert_coid_topicalAreasCheckboxes"></div>\n\t\t</div>\n\t</div>\n\n\t\x3c!--Sectors--\x3e\n\t<% if(model.IsSectorsAvailable()) { %>\n\t\t<div class="co_formTextSelect">\n\t\t\t<label id="coid_sectorsLabel" class="co_waywoItemLables" for="coid_sectorsCheckboxes"><%- model.required + model.sectorsTitle %></label>\n\t\t\t<div id="coid_sectorsCheckboxes" class="co_topicalAreasCheckboxStyle" role="group" aria-required="true" aria-invalid="false" aria-labelledby="coid_sectorsLabel">\n\t\t\t\t<% model.sectorsColumns.forEach(function(column){ %>\n\t\t\t\t\t<ul class="co_floatLeft">\n\t\t\t\t\t\t<% column.forEach(function(item){ %>\n\t\t\t\t\t\t\t<li><label><input type="checkbox" name="sectors" value="<%- item.value %>" /><span><%- item.name %></span></label></li>\n\t\t\t\t\t\t<% }); %>\n\t\t\t\t\t</ul>\n\t\t\t\t<% }); %>\n\t\t\t\t<div class="co_clear"></div>\n\t\t\t</div>\n\t\t\t<div class="co_validationMessage" id="inputAlert_coid_sectorsCheckboxes"></div>\n\t\t</div>\n\t<% } %>\n\n\t\x3c!--Type of Documents--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_typeOfDocumentsLabel" class="co_waywoItemLables" for="coid_typeOfDocumentsCheckboxes"><%- model.required + model.documentTypes %></label>\n\t\t<ul id="coid_typeOfDocumentsCheckboxes" class="co_typeOfDocumentsCheckboxStyle" role="group" aria-required="true" aria-invalid="false" aria-labelledby="coid_typeOfDocumentsLabel">\n\t\t\t<li><label><input type="checkbox" name="documenttypes" value="article" /> <span><%- model.articleCheckbox %></span></label></li>\n\t\t\t<li><label><input type="checkbox" name="documenttypes" value="checklist" /> <span><%- model.checklistCheckbox %></span></label></li>\n\t\t\t<li><label><input type="checkbox" name="documenttypes" value="standardDocForm" /> <span><%- model.standardDocFormCheckbox %></span></label></li>\n\t\t\t<li><label><input type="checkbox" name="documenttypes" value="comparison" /> <span><%- model.comparisonCheckbox %></span></label></li>\n\t\t\t<li><label><input type="checkbox" name="documenttypes" value="other" /> <span><%- model.otherCheckbox %></span><span class="co_accessibilityLabel"><%- model.resourceType %></span></label></li>\n\t\t</ul>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_typeOfDocumentsCheckboxes"></div>\n\t</div>\n\x3c!--Articles Checklist Standard Document/Form Comparison Other resource type  list  required  with 5 items  Articles  check box  not checked  \n--\x3e\n\t\x3c!--What are you working on--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_waywoLabel" class="co_waywoItemLables" for="coid_waywoTextarea"><%- model.required + model.waywo %></label>\n\t\t<textarea id="coid_waywoTextarea" name="waywoTextarea" class="co_waywoTextAreaStyle" cols="82" rows="7" aria-required="true" aria-invalid="false" required></textarea>\n\t\t<div class="co_waywoTextareaCountStyle" aria-atomic="true" aria-live="polite">\n\t\t\t<span id="coid_waywoTextareaCount"><%- model.textAreaCharCount %></span><span id="characterLabel" class="co_accessibilityLabel"><%- model.characters %></span>\n\t\t</div>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_waywoTextarea"></div>\n\t</div>\n</div>\n')
},get footerTemplate(){return st().template('\x3c!--\n@file LightboxViewFooterTemplate module\n--\x3e\n\n<ul class="co_overlayBox_optionsBottom" id="coid_waywoOptionsBottom">\n    <li>\n        <label class="co_accessibilityLabel" id="waywoSend508Label"><%- model.sendButton %></label>\n        <input type="button" name="Send" aria-labelledby="waywoSend508Label" value="<%- model.sendButton %>" id="coid_waywoSendButton">\n    </li>\n    <li>\n        <label class="co_accessibilityLabel" id="waywoCancel508Label"><%- model.cancelButton %></label>\n        <button id="coid_waywoCancelButton" class="co_overlayBox_buttonCancel"><strong><%- model.cancelButton %></strong></button>\n    </li>\n</ul>')},get popupValidationTemplate(){return st().template('<span aria-live="polite" class="co_validationText"><%= errorMessage %></span>\n')}},setupModels:function(){ds.waywoLightboxModel=new cs(ds.model.ViewData)},handlePasteCutCopy:function(e){const t=e.currentTarget.value;setTimeout((function(){ds.waywoTextAreaInputHandler(e,t)}),100)},specialEventsBinding:function(){const e=document.getElementById("coid_waywoTextarea");e?.addEventListener("paste",this.handlePasteCutCopy);e?.addEventListener("cut",this.handlePasteCutCopy);e?.addEventListener("copy",this.handlePasteCutCopy)},events:{"click #coid_waywoSendButton":"onInitiateSend","click #coid_waywoCancelButton":"onCancelSend","keyup #coid_waywoTextarea":"waywoTextAreaInputHandler","keydown #coid_waywoTextarea":"waywoTextAreaInputHandler","change #coid_waywoTextarea":"hideSelectAlert","keyup #coid_firstName":"hideAlertOnType","keyup #coid_lastName":"hideAlertOnType","keyup #coid_workEmail":"hideAlertOnType","keyup #coid_orgName":"hideAlertOnType","change #coid_yourPositionDropDownList":"hideSelectAlert","change #coid_topicalAreasCheckboxes input":"hideTopicAlert","change #coid_typeOfDocumentsCheckboxes input":"hideCheckboxAlert","change #coid_firstName":"hideSelectAlert","change #coid_lastName":"hideSelectAlert","change #coid_workEmail":"hideSelectAlert","change #coid_orgName":"hideSelectAlert"},popupTemplateIds:["inputAlert_coid_firstName","inputAlert_coid_lastName","inputAlert_coid_workEmail","inputAlert_coid_orgName","inputAlert_coid_yourPositionDropDownList","inputAlert_coid_topicalAreasCheckboxes","inputAlert_coid_typeOfDocumentsCheckboxes","inputAlert_coid_waywoTextarea"],render:function(){ds.lightBox=new fe["default"];ds.lightBox.SetId("coid_waywoLightbox");ds.lightBox.SetTitle(ds.waywoLightboxModel.title);ds.lightBox.SetSubTitle(ds.waywoLightboxModel.subTitle);ds.lightBox.SetCloseLinkObject({id:"coid_waywoLightbox_Close",alt:ds.waywoLightboxModel.closeTheWindow,onclick:function(){ds.closeLightBox()}});ds.lightBox.Draw();ds.$el=x()("#coid_waywoLightbox");x()(ds.lightBox.GetContentDomElement()).html(ds.renderLightboxContentBody());x()(ds.lightBox.GetFooterDomElement()).html(ds.templates.footerTemplate({model:ds.waywoLightboxModel}));ds.delegateEvents();document.getElementById("coid_lightboxOverlay").className+=" co_simpleLightbox";ds.specialEventsBinding();return ds},renderLightboxContentBody:function(){return this.templates.bodyContentTemplate({model:this.waywoLightboxModel})},onInitiateSend:function(){ds.isFormValidationSuccessful()&&ds.sendEmail()},hasHtmlTags:function(e){var t=new RegExp(/<(.|\n)*?>/g),n={};n.hasInvalidTags=t.test(e.val());n.invalidTagsList=e.val().match(t);n.valMessageLocationId=e.attr("id");return n},isFormValidationSuccessful:function(){const e=this.validateFields().invalidFields;ds.focusOnFirstInvalidField(e);return Object.keys(e).length<=0},validateFields:function(){var e="",t=void 0,n=void 0,i=void 0;const a={};e=ds.$("#coid_waywoTextarea");t=ds.hasHtmlTags(e);if(e.val().trim().length<=0||t.hasInvalidTags||ds.charCount().charOnlyLength>ds.waywoLightboxModel.textareaMaxLength){n=ds.charCount().charOnlyLength>ds.waywoLightboxModel.textareaMaxLength?ds.waywoLightboxModel.tooManyCharactersErrorMessage:ds.waywoLightboxModel.missingWaywoErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n,t);a.WaywoTextarea=x()("#coid_waywoTextarea")}if(this.validateTopicsDocTypesFields){if(!ds.isPracticePointWaywo&&!document.querySelector("input[name='documenttypes']:checked")){e=ds.$("#coid_typeOfDocumentsCheckboxes");n=ds.waywoLightboxModel.unselectedDocumentTypesErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n);a.TypeOfDocuments=x()("#coid_typeOfDocumentsCheckboxes")}if(ds.$("input[name='topicalareas']:checked").length<=0){e=ds.$("#coid_topicalAreasCheckboxes");n=ds.waywoLightboxModel.unselectedTopicalAreasErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n);a.TopicalAreas=x()("#coid_topicalAreasCheckboxes")}else if(0!==ds.$("input[name='topicalareas'][value='other']:checked").length){var o=!1;if(ds.$("#coid_topicalAreasOther").val().length<=0){n=ds.waywoLightboxModel.missingOtherTopicErrorMessage;o=!0;t=void 0}else ds.$("#coid_topicalAreasOther").val().length>0&&(t=ds.hasHtmlTags(ds.$("#coid_topicalAreasOther"))).hasInvalidTags&&(o=!0);if(o){e=ds.$("#coid_topicalAreasCheckboxes");i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n,t);a.TopicalAreas=x()("#coid_topicalAreasCheckboxes")}}}if(0===document.getElementById("coid_yourPositionDropDownList").selectedIndex){e=ds.$("#coid_yourPositionDropDownList");n=ds.waywoLightboxModel.unselectedPositionErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n);a.YourPosition=x()("#coid_yourPositionDropDownList")}e=ds.$("#coid_orgName");t=ds.hasHtmlTags(e);if(e.val().length<=0||t.hasInvalidTags){n=ds.waywoLightboxModel.missingOrgNameErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n,t);a.OrgName=x()("#coid_orgName")}if((e=ds.$("#coid_workEmail")).val().length<=0){n=ds.waywoLightboxModel.missingWorkEmailErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n);a.WorkEmail=x()("#coid_workEmail")}else{var r=e.val().trim(),s=new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/i).test(r);t=ds.hasHtmlTags(e);if(!s||t.hasInvalidTags){n=ds.waywoLightboxModel.incorrectFormatEmailErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n,t);a.WorkEmail=x()("#coid_workEmail")}}e=ds.$("#coid_lastName");t=ds.hasHtmlTags(e);if(e.val().length<=0||t.hasInvalidTags){n=ds.waywoLightboxModel.missingLastNameErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n,t);a.LastName=x()("#coid_lastName")}e=ds.$("#coid_firstName");t=ds.hasHtmlTags(e);if(e.val().length<=0||t.hasInvalidTags){n=ds.waywoLightboxModel.missingFirstNameErrorMessage;i=ds.$("#inputAlert_"+e[0].id);this.displayAlert(i,n,t);a.FirstName=x()("#coid_firstName")}return{invalidFields:a}},focusOnFirstInvalidField:function(e){let t=e.FirstName??e.LastName??e.WorkEmail??e.OrgName??e.YourPosition??e.TopicalAreas??e.TypeOfDocuments??e.WaywoTextarea;const n=t?.closest("div.co_formTextSelect"),i=n?.find(".co_validationMessage .co_validationText");i?.attr("role","alert");const a=t?.attr("role");"group"===a&&(t=t.find("input")[0]);t?.focus()},displayAlert:function(e,t,n){n&&n.hasInvalidTags&&(t=this.waywoLightboxModel.incorrectFormatErrorMessage);this.$("#"+e[0].id).html(this.templates.popupValidationTemplate({errorMessage:t}));const i=x()("#"+e[0].id.replace("inputAlert_",""));i.attr("aria-describedby",e[0].id);i.attr("aria-invalid",!0)},charCount:function(){var e=ds.$("#coid_waywoTextarea").val(),t=e.match(/(\r\n|\n|\r)/g),n=0;null!=t&&(n=t.length);return{charOnlyLength:e.length-n,newLinesCount:n}},waywoTextAreaInputHandler:function(e,t){var n=ds.charCount(),i=ds.waywoLightboxModel.textareaMaxLength,a=ds.$("#coid_waywoTextarea"),o=!0,r=e||window.event;ds.hideAlertOnType(e);if(n.charOnlyLength<i||r.keyCode<48||r.keyCode>90&&(91===r.keyCode||92===r.keyCode||93===r.keyCode||144===r.keyCode||145===r.keyCode)){o=!0;ds.$("#coid_waywoTextareaCount").css("color","black")}else{a.val(t||a.val().substring(0,i+n.newLinesCount));n.charOnlyLength=i;ds.$("#coid_waywoTextareaCount").css("color","red");o=!1}ds.waywoLightboxModel.SetTextAreaCharCount(ds.charCount().charOnlyLength,i);ds.$("#coid_waywoTextareaCount").html(ds.waywoLightboxModel.textAreaCharCount);return o},getSectionItems:function(e){
const t=[],n=ds.$(`input[name='${e}']:checked`);st().each(n,(function(n){const i=ds.$(n).val(),a=ds.$(`input[name='${e}'][value='${i}'] + span`)[0].innerText;t.push(st().escape(a))}));return t},buildFormDataJson:function(){var e=ds.waywoLightboxModel.GetViewData().WaywoFormDataModel,t=r["default"],n="";ds.postMailUrl=t.paths.waywoPostEmailUrl.replace("{waywoType}",ds.waywoLightboxModel.GetViewData().WaywoType);n=ds.waywoLightboxModel.GetViewData().WaywoType;ds.waywoLightboxModel.GetViewData().WaywoType.toLowerCase()===t.texts.PracticalLaw.toLowerCase()?n=t.texts.practicalLawText:ds.waywoLightboxModel.GetViewData().WaywoType.toLowerCase()===t.texts.PracticePoint.toLowerCase()&&(n=t.texts.PracticalLawConnectText);e.firstName=st().escape(ds.$("#coid_firstName").val().trim());e.lastName=st().escape(ds.$("#coid_lastName").val().trim());e.fromText=n;e.workEmail=st().escape(ds.$("#coid_workEmail").val().trim());e.orgName=st().escape(ds.$("#coid_orgName").val().trim());e.position=st().escape(ds.$("#coid_yourPositionDropDownList :selected").text().trim());var i=[];st().each(ds.$("input[name='topicalareas']:checked"),(function(e){var t=ds.$(e).val(),n=ds.$("input[name='topicalareas'][value='"+t+"'] + span")[0].innerText;"other"!==t.toLowerCase()?i.push(st().escape(n)):i.push(st().escape(D["default"].format("SC.Website.WAYWO.FormData.otherTopicalArea",{textboxValue:ds.$("#coid_topicalAreasOther").val().trim()},"Other - "+ds.$("#coid_topicalAreasOther").val().trim())))}));e.topicalAreas=i;e.documentTypes=ds.getSectionItems("documenttypes");e.whatAreYouWorkingOn=st().escape(ds.$("#coid_waywoTextarea").val().trim());e.emailSubject=D["default"].format("SC.Website.WAYWO.FormData.emailSubject",{waywoAntonyms:t.texts.waywoAntonyms,text:n},t.texts.waywoAntonyms+" – "+n);return e},sendEmail:function(){var e=ds.buildFormDataJson();jt["default"].Post({vertical:A["default"].Website,relativeUrl:ds.postMailUrl,jsonObject:e,responseIsJson:!0,successCallback:function(e){if(e.EmailSentSuccessfully){setTimeout((function(){var e=document.getElementById("coid_waywoLightboxContent");e&&(e.innerHTML=d.sanitizeHTML`<div id="co_deliveryWaitMessageTitle" class="co_deliveryWaitMessageItemTitle">${ds.waywoLightboxModel.emailSuccess}</div>`);document.querySelectorAll("#coid_waywoLightbox .co_overlayBox_optionsBottomLeft").forEach((e=>e.remove()))}),1e3);setTimeout((function(){ds.closeLightBox()}),3e3)}else{setTimeout((function(){var e=document.getElementById("coid_waywoLightboxContent");e&&(e.innerHTML=d.sanitizeHTML`<div id="co_deliveryWaitMessageTitle" class="co_deliveryWaitMessageItemTitle">${ds.waywoLightboxModel.emailFailed}</div>`);document.querySelectorAll("#coid_waywoLightbox .co_overlayBox_optionsBottomLeft").forEach((e=>e.remove()))}),1e3);setTimeout((function(){ds.closeLightBox()}),3e3)}},failedCallback:function(){setTimeout((function(){var e=document.getElementById("coid_waywoLightboxContent");e&&(e.innerHTML=d.sanitizeHTML`<div id="co_deliveryWaitMessageTitle" class="co_deliveryWaitMessageItemTitle">${ds.waywoLightboxModel.emailFailed}</div>`);document.querySelectorAll("#coid_waywoLightbox .co_overlayBox_optionsBottomLeft").forEach((e=>e.remove()))}),3e3);setTimeout((function(){ds.closeLightBox()}),3e3)}})},onCancelSend:function(){ds.closeLightBox()},closeLightBox:function(){if(null!==ds.lightBox){ds.lightBox.Remove();ds.lightBox=null}},hideAlertOnType:function(e){if(e.keyCode>=32&&e.keyCode<=127){var t=ds.$("#inputAlert_"+e.currentTarget.id);ds.hideAlert(t)}},hideCheckboxAlert:function(e){var t=ds.$(e.currentTarget).parents("ul")[0],n=ds.$("#inputAlert_"+t.id);ds.hideAlert(n)},hideTopicAlert:function(e){var t=ds.$(e.currentTarget).parents("ul")[0],n=ds.$("#inputAlert_"+t.id);ds.hideAlert(n)},hideSelectAlert:function(e){var t=ds.$("#inputAlert_"+e.currentTarget.id);ds.hideAlert(t)},hideAlert:function(e){e.find(".co_validationText").remove();const t=this.$("#"+e[0].id.replace("inputAlert_",""));t.attr("aria-describedby","");t.attr("aria-invalid",!1)}});const hs=us;let fs=[];const ps=hs.extend({initialize:function(){hs.prototype.initialize.call(this);this.validateTopicsDocTypesFields=!this.waywoLightboxModel.IsAskWaywoForm();this.waywoLightboxModel.IsAskWaywoForm()&&(this.specificStatesItems=this.waywoLightboxModel.WaywoAskViewModel.specificStates);if(this.waywoLightboxModel.IsNewJurisdictionSelector()){this.selectedJurisdiction="";this.selectedJurisdictionItems=[];this.specificCountriesItems=this.waywoLightboxModel.WaywoAskViewModel.specificCountries;this.specificStatesItems=this.waywoLightboxModel.WaywoAskViewModel.specificStates.slice(1);this.setSelectedJurisdiction=e=>{this.selectedJurisdiction=e||""};this.setSelectedJurisdictionItems=e=>{this.selectedJurisdictionItems=e.map((e=>e.id))};this.jurisdictionSelectorUtils=new as({countryItems:this.specificStatesItems,setSelectedCountryItems:this.setSelectedJurisdictionItems,internationalItems:this.specificCountriesItems,setSelectedInternationalItems:this.setSelectedJurisdictionItems,setSelectedJurisdiction:this.setSelectedJurisdiction})}},events:st().extend({},hs.prototype.events,{"change #coid_organizationTypeDropDownList":"hideSelectAlert","change #coid_jurisdictionDropDownList":"onChangeJurisdiction","change #coid_sectorsCheckboxes input":"hideTopicAlert","change #coid_topicsSectorsDropDownList":"hideSelectAlert"}),popupTemplateIds:hs.prototype.popupTemplateIds.concat(["inputAlert_coid_organizationTypeDropDownList","inputAlert_coid_sectorsCheckboxes","inputAlert_coid_topicsSectorsDropDownList"]),showJurisdictionsAutocomplete:!1,isSelectAllChecked:!1,specificStatesItems:null,specificCountriesItems:null,handleError:function(e,t,n,i){const a=this.$("#inputAlert_"+e[0].id);this.displayAlert(a,t);n.invalidFields[i]=e},validateFields:function(){const e=hs.prototype.validateFields.call(this);"SpecificStates"===document.getElementById("coid_jurisdictionDropDownList")?.value&&o["default"].isIacOn("IAC-PLUS-WAYWOJURISDICTION")&&!fs.length&&this.handleError(this.$("#coid_jurisdictionInputBox"),this.waywoLightboxModel.missingSpecificStatesErrorMessage,e,"Jurisdiction");this.$("input[name='sectors']:checked").length<=0&&this.waywoLightboxModel.IsSectorsAvailable()&&this.handleError(this.$("#coid_sectorsCheckboxes"),this.waywoLightboxModel.unselectedSectorsErrorMessage,e,"Sectors");this.waywoLightboxModel.IsAskWaywoForm()&&!document.getElementById("coid_topicsSectorsDropDownList").value&&this.handleError(this.$("#coid_topicsSectorsDropDownList"),this.waywoLightboxModel.unselectedTopicsSectorsErrorMessage,e,"TopicsSectors");0===document.getElementById("coid_yourPositionDropDownList")?.selectedIndex&&this.handleError(this.$("#coid_yourPositionDropDownList"),this.waywoLightboxModel.unselectedPositionErrorMessage,e,"YourPosition");0===document.getElementById("coid_organizationTypeDropDownList")?.selectedIndex&&this.handleError(this.$("#coid_organizationTypeDropDownList"),this.waywoLightboxModel.missingOrgTypeErrorMessage,e,"OrganizationType");return e},focusOnFirstInvalidField:function(e){let t=e.FirstName??e.LastName??e.WorkEmail??e.OrgName??e.OrganizationType??e.YourPosition??e.Jurisdiction??e.TopicalAreas??e.Sectors??e.TopicsSectors??e.TypeOfDocuments??e.WaywoTextarea;const n=t?.closest("div.co_formTextSelect"),i=n?.find(".co_validationMessage .co_validationText");i?.attr("role","alert");const a=t?.attr("role");"group"===a&&(t=t.find("input")[0]);t?.focus()},onInitiateSend:function(){this.waywoLightboxModel.IsAskWaywoForm()?this.isFormValidationSuccessful()&&this.sendFormData():hs.prototype.onInitiateSend.call(this)},displayResponseMessage:function(e){const t=`<div id="co_deliveryWaitMessageTitle" class="co_deliveryWaitMessageItemTitle">${e}</div>`;document.getElementById("coid_waywoLightboxContent").innerHTML=t;document.querySelector("#coid_waywoLightbox .co_overlayBox_optionsBottomLeft").remove()},displayResponseErrorInfoBox:function(e){new oa["default"](document.getElementById("coid_waywoOptionsBottom"),$["default"].Failure,j["default"].Bottom).Draw(e)},sendFormData:async function(){
const e=this.buildWaywoAskFormDataJson(),t=a["default"].Relative(a["default"].Rest.WaywoPostForm(null)),n=new E["default"](A["default"].Website,t,{headers:{"Content-Type":"application/json"}});try{(await n.Post(JSON.stringify(e))).ok?this.displayResponseMessage(`${this.waywoLightboxModel.requestSuccessThankYou}<br/><br/>${this.waywoLightboxModel.requestSuccessRegards}`):this.displayResponseErrorInfoBox(this.waywoLightboxModel.requestFailed)}catch(e){this.displayResponseErrorInfoBox(this.waywoLightboxModel.requestFailed);throw e}},getFormFieldValueById:function(e){return document.getElementById(e).value.trim()},buildWaywoAskFormDataJson:function(){const e=D["default"].lookup("SC.Website.WAYWO.Jurisdiction.US","US"),t=D["default"].lookup("SC.Website.WAYWO.Jurisdiction.International","International"),n={firstName:this.getFormFieldValueById("coid_firstName"),lastName:this.getFormFieldValueById("coid_lastName"),email:this.getFormFieldValueById("coid_workEmail"),organizationName:this.getFormFieldValueById("coid_orgName"),position:this.getFormFieldValueById("coid_yourPositionDropDownList"),question:this.getFormFieldValueById("coid_waywoTextarea"),organisationType:this.getFormFieldValueById("coid_organizationTypeDropDownList"),answeringService:this.getFormFieldValueById("coid_topicsSectorsDropDownList"),jurisdiction:e,touchPoint:this.waywoLightboxModel.WaywoAskViewModel.touchPoint};if(this.waywoLightboxModel.IsNewJurisdictionSelector())switch(this.selectedJurisdiction){case Or.Country:n.jurisdiction=e;n.specificStates=this.selectedJurisdictionItems.join(", ");break;case Or.International:n.jurisdiction=t;n.specificCountries=this.selectedJurisdictionItems.join(", ")}else{n.jurisdiction=this.getFormFieldValueById("coid_jurisdictionDropDownList")===t?t:e;3===document.getElementById("coid_jurisdictionDropDownList")?.selectedIndex&&(n.specificStates=fs.join(", "))}return n},buildFormDataJson:function(){const e=hs.prototype.buildFormDataJson.call(this);e.organizationType=st().escape(this.$("#coid_organizationTypeDropDownList :selected").text().trim());const t=document.getElementById("coid_jurisdictionDropDownList")?.selectedIndex;0!==t&&3!=t||0!==t&&!o["default"].isIacOn("IAC-PLUS-WAYWOJURISDICTION")?e.jurisdiction=st().escape(this.$("#coid_jurisdictionDropDownList :selected").text().trim()):3===t&&o["default"].isIacOn("IAC-PLUS-WAYWOJURISDICTION")&&(e.specificStates=st().escape(fs.join(", ")));this.waywoLightboxModel.IsSectorsAvailable()&&(e.sectors=this.getSectionItems("sectors"));return e},renderLightboxContentBody:function(){
if(this.waywoLightboxModel.IsNewJurisdictionSelector())return st().template('<div id="coid_waywoLightboxContent" class="co_simpleLightboxContent">\n    <div id="coid_allFieldsRequired" class="co_allFieldsRequiredStyle">\n        <span class="co_requiredAlert"><%- model.requiredFields %></span>\n    </div>\n\n    \x3c!--First Name--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_firstNameLabel" class="co_waywoItemLables" for="coid_firstName"\n            ><%- model.required + model.firstName %></label\n        >\n        <input\n            id="coid_firstName"\n            type="text"\n            aria-required="true"\n            aria-invalid="false"\n            value="<%- model.WaywoAskViewModel.firstName %>"\n            required\n        />\n        <div class="co_validationMessage" id="inputAlert_coid_firstName"></div>\n    </div>\n\n    \x3c!--Last Name--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_lastNameLabel" class="co_waywoItemLables" for="coid_lastName"\n            ><%- model.required + model.lastName %></label\n        >\n        <input\n            id="coid_lastName"\n            type="text"\n            aria-required="true"\n            aria-invalid="false"\n            value="<%- model.WaywoAskViewModel.lastName %>"\n            required\n        />\n        <div class="co_validationMessage" id="inputAlert_coid_lastName"></div>\n    </div>\n\n    \x3c!--Work mail--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_workEmailLabel" class="co_waywoItemLables" for="coid_workEmail"\n            ><%- model.required + model.workEmail %></label\n        >\n        <input\n            id="coid_workEmail"\n            type="text"\n            aria-required="true"\n            aria-invalid="false"\n            value="<%- model.WaywoAskViewModel.userEmail %>"\n            required\n        />\n        <div class="co_validationMessage" id="inputAlert_coid_workEmail"></div>\n    </div>\n\n    \x3c!--Organization Name--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_orgNameLabel" class="co_waywoItemLables" for="coid_orgName"\n            ><%- model.required + model.organizationName %></label\n        >\n        <input\n            id="coid_orgName"\n            type="text"\n            class="co_waywoInputStyle"\n            aria-required="true"\n            aria-invalid="false"\n            value="<%- model.WaywoAskViewModel.company %>"\n            required\n        />\n        <div class="co_validationMessage" id="inputAlert_coid_orgName"></div>\n    </div>\n\n    \x3c!--Organization Type--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_organizationTypeLabel" class="co_waywoItemLables" for="coid_organizationTypeDropDownList"\n            ><%- model.required + model.organization %></label\n        >\n        <select\n            id="coid_organizationTypeDropDownList"\n            class="co_waywoLightboxSelect"\n            aria-required="true"\n            aria-invalid="false"\n            required\n        >\n            <%= model.renderDropdownOptions(model.WaywoAskViewModel.organizationTypes) %>\n        </select>\n        <div class="co_validationMessage" id="inputAlert_coid_organizationTypeDropDownList"></div>\n    </div>\n\n    \x3c!--Position--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_positionLabel" class="co_waywoItemLables" for="coid_yourPositionDropDownList"\n            ><%-model.required + model.position %></label\n        >\n        <select\n            id="coid_yourPositionDropDownList"\n            class="co_waywoLightboxSelect"\n            aria-required="true"\n            aria-invalid="false"\n            required\n        >\n            <%= model.renderDropdownOptions(model.WaywoAskViewModel.positions) %>\n        </select>\n        <div class="co_validationMessage" id="inputAlert_coid_yourPositionDropDownList"></div>\n    </div>\n\n    \x3c!--Jurisdiction Type--\x3e\n    <div class="co_formTextSelect">\n        <div id="co_jurisdictionSelectorContainer"></div>\n    </div>\n\n    \x3c!--Topics and Sectors--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_topicsSectorsLabel" class="co_waywoItemLables" for="coid_topicsSectorsDropDownList"\n            ><%-model.required + model.topicsSectorsTitle %></label\n        >\n        <select\n            id="coid_topicsSectorsDropDownList"\n            class="co_waywoLightboxSelect"\n            aria-required="true"\n            aria-invalid="false"\n            required\n        >\n            <%= model.renderDropdownOptions(model.WaywoAskViewModel.topicsSectors) %>\n        </select>\n        <div class="co_validationMessage" id="inputAlert_coid_topicsSectorsDropDownList"></div>\n    </div>\n\n    \x3c!--What are you working on--\x3e\n    <div class="co_formTextSelect">\n        <label id="coid_waywoLabel" class="co_waywoItemLables" for="coid_waywoTextarea"\n            ><%- model.required + model.waywo %></label\n        >\n        <textarea\n            id="coid_waywoTextarea"\n            name="waywoTextarea"\n            class="co_waywoTextAreaStyle"\n            cols="82"\n            rows="7"\n            aria-required="true"\n            aria-invalid="false"\n            maxlength="<%- model.textareaMaxLength %>"\n            required\n        ></textarea>\n        <div class="co_waywoTextareaCountStyle" aria-atomic="true" aria-live="polite">\n            <span id="coid_waywoTextareaCount"><%- model.textAreaCharCount %></span\n            ><span id="characterLabel" class="co_accessibilityLabel"><%- model.characters %></span>\n        </div>\n        <div class="co_validationMessage" id="inputAlert_coid_waywoTextarea"></div>\n    </div>\n</div>\n')({model:this.waywoLightboxModel})
;return this.waywoLightboxModel.IsAskWaywoForm()?st().template('<div id="coid_waywoLightboxContent" class="co_simpleLightboxContent">\n\t<div id="coid_allFieldsRequired" class="co_allFieldsRequiredStyle"><span class="co_requiredAlert"><%- model.requiredFields %></span></div>\n\n\t\x3c!--First Name--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_firstNameLabel" class="co_waywoItemLables" for="coid_firstName"><%- model.required + model.firstName %></label>\n\t\t<input id="coid_firstName" type="text" aria-required="true" aria-invalid="false" value="<%- model.WaywoAskViewModel.firstName %>" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_firstName"></div>\n\t</div>\n\n\t\x3c!--Last Name--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_lastNameLabel" class="co_waywoItemLables" for="coid_lastName"><%- model.required + model.lastName %></label>\n\t\t<input id="coid_lastName" type="text" aria-required="true" aria-invalid="false" value="<%- model.WaywoAskViewModel.lastName %>" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_lastName"></div>\n\t</div>\n\n\t\x3c!--Work mail--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_workEmailLabel" class="co_waywoItemLables" for="coid_workEmail"><%- model.required + model.workEmail %></label>\n\t\t<input id="coid_workEmail" type="text" aria-required="true" aria-invalid="false" value="<%- model.WaywoAskViewModel.userEmail %>" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_workEmail"></div>\n\t</div>\n\n\t\x3c!--Organization Name--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_orgNameLabel" class="co_waywoItemLables" for="coid_orgName"><%- model.required + model.organizationName %></label>\n\t\t<input id="coid_orgName" type="text" class="co_waywoInputStyle" aria-required="true" aria-invalid="false" value="<%- model.WaywoAskViewModel.company %>" required/>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_orgName"></div>\n\t</div>\n\n\t\x3c!--Organization Type--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_organizationTypeLabel" class="co_waywoItemLables" for="coid_organizationTypeDropDownList"><%- model.required + model.organization %></label>\n\t\t<select id="coid_organizationTypeDropDownList" class="co_waywoLightboxSelect" aria-required="true" aria-invalid="false" required>\n\t\t\t<%= model.renderDropdownOptions(model.WaywoAskViewModel.organizationTypes) %>\n\t\t</select>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_organizationTypeDropDownList"></div>\n\t</div>\n\n\t\x3c!--Position--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_positionLabel" class="co_waywoItemLables" for="coid_yourPositionDropDownList"><%-model.required + model.position %></label>\n\t\t<select id="coid_yourPositionDropDownList" class="co_waywoLightboxSelect" aria-required="true" aria-invalid="false" required>\n\t\t\t<%= model.renderDropdownOptions(model.WaywoAskViewModel.positions) %>\n\t\t</select>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_yourPositionDropDownList"></div>\n\t</div>\n\n\t\x3c!--Jurisdiction Type--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_jurisdictionLabel" class="co_waywoItemLables" for="coid_jurisdictionDropDownList"><%- model.jurisdiction %></label>\n\t\t<select id="coid_jurisdictionDropDownList" class="co_waywoLightboxSelect">\n\t\t\t<option value="Select" selected="selected"><%- model.jurisdictionTitle %></option>\n\t\t\t<option value="US"><%- model.jurisdictionUS %></option>\n\t\t\t<option value="International"><%- model.jurisdictionInternational %></option>\n\t\t\t<option value="SpecificStates"><%- model.jurisdictionSpecificStates %></option>\n\t\t</select>\n\t</div>\n\n\t\x3c!--Topics and Sectors--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_topicsSectorsLabel" class="co_waywoItemLables" for="coid_topicsSectorsDropDownList"><%-model.required + model.topicsSectorsTitle %></label>\n\t\t<select id="coid_topicsSectorsDropDownList" class="co_waywoLightboxSelect" aria-required="true" aria-invalid="false" required>\n\t\t\t<%= model.renderDropdownOptions(model.WaywoAskViewModel.topicsSectors) %>\n\t\t</select>\n        <div class="co_validationMessage" id="inputAlert_coid_topicsSectorsDropDownList"></div>\n\t</div>\n\n\t\x3c!--What are you working on--\x3e\n\t<div class="co_formTextSelect">\n\t\t<label id="coid_waywoLabel" class="co_waywoItemLables" for="coid_waywoTextarea"><%- model.required + model.waywo %></label>\n\t\t<textarea id="coid_waywoTextarea" name="waywoTextarea" class="co_waywoTextAreaStyle" cols="82" rows="7" aria-required="true" aria-invalid="false" maxlength="<%- model.textareaMaxLength %>" required></textarea>\n\t\t<div class="co_waywoTextareaCountStyle" aria-atomic="true" aria-live="polite">\n\t\t\t<span id="coid_waywoTextareaCount"><%- model.textAreaCharCount %></span><span id="characterLabel" class="co_accessibilityLabel"><%- model.characters %></span>\n\t\t</div>\n\t\t<div class="co_validationMessage" id="inputAlert_coid_waywoTextarea"></div>\n\t</div>\n</div>\n')({model:this.waywoLightboxModel}):hs.prototype.renderLightboxContentBody.call(this)},render:function(){const e=hs.prototype.render.call(this);this.waywoLightboxModel.IsNewJurisdictionSelector()&&this.jurisdictionSelectorUtils.renderJurisdictionSelector();return e},onChangeJurisdiction:function(e){var t=this,n=e.currentTarget.value;this.showJurisdictionsAutocomplete="SpecificStates"===n;var i=st().template('\x3c!--\n @file StatesAutocompleteTemplate module\n--\x3e\n\n<div class="co_formTextSelect">\n\t<label id="coid_jurisdictionInputBoxLabel" class="co_waywoItemLables" for="coid_jurisdictionInputBox"><%- model.required + model.specificStatesTitle %></label>\n\t<div id="coid_jurisdictionAutocomplete">\n\t\t<ul id="coid_jurisdictionSelector" class="co_defaultInput co_contacts addedContactsInput" role="group" tabindex="-1">\n\t\t\t<li>\n\t\t\t\t<input autocomplete="off" id="coid_jurisdictionInputBox" aria-required="true" aria-invalid="false" required>\n\t\t\t\t<input type="button" aria-label="Close states combobox" id="co_closeButton" name="Close" value="Close" class="co_primaryBtn">\n\t\t\t</li>\n\t\t</ul>\n\t</div>\n\t<div class="co_validationMessage" id="inputAlert_coid_jurisdictionInputBox"></div>\n</div>\n');function a(e){const n=document.createElement("li");n.className="co_contacts_addedContactsPerson";const i=document.createElement("span");i.textContent=`${e}, `;n.append(i);n.addEventListener("click",(function(n){const i=fs.indexOf(e);i>=0&&fs.splice(i,1);n.currentTarget.remove();t.waywoLightboxModel.IsAskWaywoForm()&&(t.isSelectAllChecked=!1);(0,ea.isVisible)(document.querySelector("#coid_jurisdictionAutocomplete #co_closeButton"))&&c.focus()}));c.parent().before(n);fs.push(e);if(t.waywoLightboxModel.IsAskWaywoForm()){const e=t.specificStatesItems.slice(1);fs.length===e.length&&(t.isSelectAllChecked=!0)}}function r(e){const n=fs.indexOf(e);fs.splice(n,1);[...document.querySelectorAll("#coid_jurisdictionSelector li")].filter((0,ea.containsText)(e)).forEach((e=>e.remove()));t.waywoLightboxModel.IsAskWaywoForm()&&(t.isSelectAllChecked=!1)}if(this.showJurisdictionsAutocomplete&&o["default"].isIacOn("IAC-PLUS-WAYWOJURISDICTION")){e.currentTarget?.parentElement?.insertAdjacentHTML("afterend",i({model:t.waywoLightboxModel}));var s=!1,l=D["default"].lookup("SC.Website.WAYWO.NoResultsFound","No results found"),c=x()("#coid_jurisdictionInputBox").autocomplete({minLength:0,autoFocus:!1,appendTo:x()("#coid_jurisdictionAutocomplete"),source:function(e,n){n(x().ui.autocomplete.filter(t.waywoLightboxModel.IsAskWaywoForm()?t.specificStatesItems:t.waywoLightboxModel.states,(i=e.term,(a=i,a.split(/,\s*/)).pop())));var i,a},response:function(e,t){if(!t.content.length){const e={value:"",label:l};t.content.push(e)}},select:function(e,n){const i=n.item.label;if(t.waywoLightboxModel.IsAskWaywoForm()&&i===t.specificStatesItems[0]){const e=t.specificStatesItems.slice(1);fs.length<e.length?e.forEach((e=>{fs.includes(e)||a(e)})):e.forEach((e=>{fs.includes(e)&&r(e)}))}else fs.includes(i)?r(i):a(i);c.focus();this.value="";return!1}})
;c.focus((function(){(0,lt.showElements)(document.getElementById("co_closeButton"));c.data("ui-autocomplete").search();const e=(0,u.getElementWidth)(document.getElementById("coid_jurisdictionInputBox"));document.querySelectorAll(".ui-autocomplete").forEach((t=>t.style.maxWidth=`${e}px`));return!0}));var d=c.data("ui-autocomplete").close,h=!0;c.data("ui-autocomplete").close=function(){if(!s&&h)c.focus();else if(s){const e=document.getElementById("coid_jurisdictionInputBox");e&&(e.value="");d.call(this,arguments);(0,lt.hideElements)(document.getElementById("co_closeButton"));s=!1;h=!1;t.hideAlert(x()("#inputAlert_coid_jurisdictionInputBox"))}};c.data("ui-autocomplete")._renderItem=function(e,n){let i,a;i=t.waywoLightboxModel.IsAskWaywoForm()&&n.label===t.specificStatesItems[0]?t.isSelectAllChecked?"checked":"":fs.includes(n.label)?"checked":"";a=n.label===l?`<div class="co_infoBox_message">${n.label}</div>`:`<a><input type="checkbox" ${i}/>${n.label}</a>`;return x()("<li></li>").data("item.autocomplete",n).append(a).appendTo(e)};document.getElementById("co_closeButton")?.addEventListener("click",(function(){s=!0;c.data("ui-autocomplete").close()}));(0,lt.hideElements)(document.getElementById("co_closeButton"));document.querySelectorAll(".ui-autocomplete").forEach((e=>e.style.padding="0px"))}else this.cleanUpAutocomplete()},closeLightBox:function(){fs=[];this.cleanUpAutocomplete();hs.prototype.closeLightBox.call(this)},cleanUpAutocomplete:function(){var e=x()("#coid_jurisdictionInputBox");if(e.length>0){e.removeData("autocomplete");e.autocomplete("destroy");document.getElementById("coid_jurisdictionAutocomplete")?.parentNode.remove()}}}),ms=ps;var gs=function(){};gs.prototype={Id:"co_docToolbarFeedback",MenuText:D["default"].lookup("SC.Website.Feedback.IconTooltip","Provide Feedback"),CssIcon:"icon-comment",Draw:function(){const e="co_disabled";this.Disabled=o["default"].IsAnonymousSession||i["default"].displayOptions?.isAbstractView?e:"";const t=document.createElement("div");t.innerHTML=d.sanitizeHTML`<button id="feedbackLnk" href="javascript:void(0)" class="kh_icon ${this.CssIcon} ${this.Disabled}"><span>${this.MenuText}</span></button>`;this._parentObject.appendChild(t);var n=this,a=t.querySelector("button#feedbackLnk");a.classList.contains(e)||a.addEventListener("click",(function(){if(o["default"].isIacOn("IAC-PL-ASK-WAYWO-FORM")&&(Lt["default"].isPracticalLawUSCompartment()||Lt["default"].isPracticalLawConnectCompartment()||Lt["default"].isPracticalLawComplianceCompartment())){const e={ViewData:Z["default"].PageData};new ms({model:e}).render()}else Pr.Draw(n.GetParentDiv())}));new ht["default"](a,this.MenuText,{position:"left"}).render()},SetParentDiv:function(e){this._parentObject=e},GetParentDiv:function(){return this._parentObject}};const vs=gs,ys=c().extend({Id:r["default"].ids.coidBackToResults,parentDiv:null,documentNavigation:null,SetParentDiv:function(e){this.parentDiv=e},SetDocumentNavigation:function(e){this.documentNavigation=e},getBackLinkUrl(){return this.documentNavigation.returnTo.Url},Draw:function(){if(this.documentNavigation?.hasReturnToLink){const{Title:e}=this.documentNavigation.returnTo,t=this.getBackLinkUrl();if(t&&e){const n=r["default"].ids.coidBackToResultsLink,i=D["default"].format("SC.Document.Widget.NewDocumentToolbar.BackToResults.ReturnToText",{title:e},`Return to ${e}`),a=st().template('<a id="<%=backToResultsLink%>" title="<%=returnToText%>" href="<%=backLinkUrl%>">\n    <span class="kh_icon <%=iconReplyArrow%>">\n        <%=returnToText%>\n    </span>\n</a>')({backToResultsLink:n,returnToText:i,backLinkUrl:t,iconReplyArrow:r["default"].classes.iconReplyArrow});this.parentDiv?.insertAdjacentHTML("beforeend",a);const o=this.parentDiv?.querySelector(`#${n}`);o&&new ht["default"](o).render()}}}});var bs=n(6221);const Cs=ys.extend({getBackLinkUrl(){const e=this.documentNavigation.returnTo.Url;return Gi["default"].isSearchCardsAllowed()?bs["default"].modifyBackLinkUrl(e):e}});var Ss=n(230);class _s extends _a.PureComponent{constructor(e){super(e);this.subscriptionToTermNavigationOptionChange=null;this.state={isHighlightingEnabled:e.checked}}changePreferenceState(e){this.setState((({isHighlightingEnabled:e})=>({isHighlightingEnabled:!e})),(()=>{const{isHighlightingEnabled:t}=this.state;e&&this.props.updateTermNavigationPreference(t);g["default"].Set("Document","HighlightingToggleChecked",t)}))}subscribeToTermNavigationOptionChange(){this.subscriptionToTermNavigationOptionChange=y["default"].Subscribe(r["default"].events.termNavigationOptionChanged,((e,t)=>{t.newPreference!==r["default"].prefs.hideSearchTerms&&t.oldPreference!==r["default"].prefs.hideSearchTerms||this.changePreferenceState(!1)}))}componentDidMount(){this.subscribeToTermNavigationOptionChange()}componentWillUnmount(){y["default"].Unsubscribe(this.subscriptionToTermNavigationOptionChange)}render(){const{isHighlightingEnabled:e}=this.state,t=D["default"].lookup("SC.Document.HighlightingToggle.Title","Highlighting");return(0,Ta.jsx)(Ss["default"],{id:"searchTermHighlighting",title:t,checked:e,onChange:()=>this.changePreferenceState(!0)})}}_s.displayName="HighlightingToggle (Products/WestlawNext/js/Document/Widget/NewDocumentToolbar/HighlightingToggle.jsx)";const Ds=_s;var Ts=n(480),Is=n(1982),xs=n(2956);const ks=c().extend({init:function(e){this.documentDisplay=e;this.docNavigation=new Y.A},touchStartSearchTermElement:null,isExpanded:!1,isDataReady:!1,isDrawn:!1,parent:null,termNavigation:null,a11yTermNavigationMenu:null,docNavigation:null,searchTermFlag:null,isFirstTermSelected:!1,isLastTermSelected:!1,hasSearchResults:!1,documentDisplay:null,navigateState:"",directionToMove:r["default"].queryParameters.termNavStateForward,$previousTermButton:null,$searchMenu:null,$nextTermButton:null,SerialNumber:null,SetParentDiv:function(e){this.parent=e},DocumentHasTerms:function(){return this.docNavigation.hasTerms},IsTermNavigationValid:function(){return this.docNavigation.hasNavigationData&&this.docNavigation.hasTerms},IsDocumentNavigationDisabled:function(){return!1},CreateTermNavigationByDirection:function(e){var t=this;t.navigateState=e;if(t.SerialNumber){t.navigateState=r["default"].queryParameters.termNavStateForward;t.isDataReady=!0;t.Draw()}else if(t.docNavigation.hasLoadedData){t.isDataReady=!0;t.Draw()}else if(!t.docNavigation.HasListProvider()&&t.DocumentHasTerms()){t.isDataReady=!0;t.Draw()}else y["default"].Subscribe(r["default"].events.docNavDataIsReady,(function(){t.isDataReady=!0;t.Draw()}))},UpdateTermNavigationPreference:function(e){const t=this.GetNavigationPreferenceValues(null),n=this.GetNavigationPreferenceValues(e);this.ToggleHighlights(t.prefs,n.prefs);this.termNavigation.searchPreference=n.prefs;i["default"].SaveTermNavigationPreference(n.prefs);this.a11yTermNavigationMenu?.changeButtonClass(n);this.CheckForNextPreviousLinks()},DeterminePreferenceValues:function(e){return e===r["default"].prefs.searchTermsOnly?{text:r["default"].texts.originalTerms,className:r["default"].classes.termNavSearchTerm,prefs:e}:e===r["default"].prefs.searchWithinTermsOnly?{text:r["default"].texts.searchWithinTerms,className:r["default"].classes.termNavFindTerm,prefs:e}:e===r["default"].prefs.hideSearchTerms?{text:r["default"].texts.hideHighlighting,className:r["default"].classes.termNavHideHighlighting,prefs:e}:{text:r["default"].texts.allSearchTerms,className:r["default"].classes.termNavAllTerm,prefs:e}},GetNavigationPreferenceValues:function(e){var t=this,n=null;if(t.termNavigation)if(e){var i=null;switch(e.className.split(" ")[1]){case r["default"].classes.termNavSearchTerm:i="searchTermsOnly";break;case r["default"].classes.termNavFindTerm:i="searchWithinTermsOnly";break;case r["default"].classes.termNavHideHighlighting:i="hideSearchTerms";break;case r["default"].classes.termNavAllTerm:i="allSearchTerms"}i&&(n=r["default"].prefs[i])}else n=t.termNavigation.searchPreference;return t.DeterminePreferenceValues(n)},GetTermNavigationHtml:function(){var e=this.docNavigation.secondaryHighlightedTerms&&this.docNavigation.secondaryHighlightedTerms.length>0;if(this.docNavigation.highlightedTerms&&this.docNavigation.highlightedTerms.length>0||e){
const{ids:e,classes:t}=r["default"],n=D["default"].lookup("SC.Document.TermNavigation.PreviousTerm","Previous Term"),i=D["default"].lookup("SC.Document.TermNavigation.NextTerm","Next Term"),a=this.GetDocumentNavigationItemsTemplateParams();this.a11yTermNavigationMenu=new Is.A(a);const o=this.a11yTermNavigationMenu.buildDropdownContainer();return st().template(xs)({previousTermText:n,previousTermId:e.searchTermNavigationPrevious,previousTermClass:t.previous,termNavigationHtml:o,nextTermText:i,nextTermId:e.searchTermNavigationNext,nextTermClass:t.next,termNavMessagingStructure:this.GetTermNavMessagingStructure()})}},GetTermNavMessagingStructure:()=>`<div id="${r["default"].ids.termNavigationToasterMessageBox}" class="${r["default"].classes.messageBoxContainer} ${r["default"].classes.hideState}">\n                <div class="${r["default"].classes.messageBox}">\n                    <div class="${r["default"].classes.messageBoxContent}" id="${r["default"].ids.termNavigationToasterMessage}">&nbsp;</div>     \n                </div>\n            </div>`,GetDocumentNavigationItemsTemplateParams:function(){const e=this.docNavigation.highlightedTerms;return{focusHighlightEnabled:!1,highlightNavigationEnabled:!1,isBestPortion:!1,isOverrulingRisk:!1,isPartiallyOverruled:!1,suppressListItemForRA:!1,searchQuery:this.docNavigation.searchQuery,searchQueryType:this.docNavigation.searchQueryType,searchWithinQuery:this.docNavigation.searchWithinQuery,isSearchWithinDocument:this.docNavigation.secondaryHighlightedTerms&&this.docNavigation.secondaryHighlightedTerms.length>0,highlightedTerms:Array.isArray(e)?e.join(" "):e,classes:r["default"].classes,searchQueryTypes:r["default"].searchQueryTypes,allTermsText:D["default"].lookup("SC.Document.TermNavigation.AllTerms","All Terms"),termNavigationText:D["default"].lookup("SC.Document.TermNavigation.TermNavigation","Term Navigation"),texts:r["default"].texts}},Draw:function(){var e=this;if(e.isDrawn)return;if(!e.isDataReady)return;if(!e.IsTermNavigationValid())return;e.isDrawn=!0;e.termNavigation=new Ts.A(e.navigateState,e.documentDisplay);const t=document.createElement("div");t.id=r["default"].ids.searchTermNavigation;t.innerHTML=e.GetTermNavigationHtml();e.parent.appendChild(t);const n=x()(t);e.$previousTermButton=n.find("#"+r["default"].ids.searchTermNavigationPrevious);e.$searchMenu=n.find("#"+r["default"].ids.searchTermMenu);e.$nextTermButton=n.find("#"+r["default"].ids.searchTermNavigationNext);e.isFirstTermSelected=!(e.navigateState==r["default"].queryParameters.termNavStateBackward);e.isLastTermSelected=e.navigateState==r["default"].queryParameters.termNavStateBackward;e.ClickEvent({selector:e.$previousTermButton,func:e.ClickPrevious,params:{currentWidget:e}});e.ClickEvent({selector:e.$nextTermButton,func:e.ClickNext,params:{currentWidget:e}});if(e.$previousTermButton.length&&o["default"].EnableIpad){var i=x().find("div#"+r["default"].ids.document);i.on("touchstart",e.TouchStartHandler);i.on("touchend",e.TouchEndHandler)}e.$previousTermButton.length>0&&new ht["default"](e.$previousTermButton).render();e.$nextTermButton.length>0&&new ht["default"](e.$nextTermButton).render();y["default"].Subscribe(r["default"].events.noSearchTermsOnDocument,(function(){e.NoSearchTermsFound()}));y["default"].Subscribe(r["default"].events.onlySearchTermOnDocument,(function(){e.OneSearchTermFound()}));y["default"].Subscribe(r["default"].events.firstSearchTermOnDocument,(function(){e.OnFirstSearchTermOnDocument()}));y["default"].Subscribe(r["default"].events.lastSearchTermOnDocument,(function(){e.OnLastSearchTermOnDocument()}));y["default"].Subscribe(r["default"].events.moveToNextSearchDocument,(function(){e.MoveToNextSearchDocument()}));y["default"].Subscribe(r["default"].events.moveToPreviousSearchDocument,(function(){e.MoveToPreviousSearchDocument()}));const a=e.DeterminePreferenceValues(e.termNavigation.searchPreference);e.ToggleHighlights(null,a.prefs);this.CheckForNextPreviousLinks();if(this.a11yTermNavigationMenu){this.a11yTermNavigationMenu.setMenuContainerElement(e.$searchMenu);this.a11yTermNavigationMenu.setChangePreferenceHandler(e.UpdateTermNavigationPreference.bind(e));this.a11yTermNavigationMenu.draw(e.termNavigation.searchPreference)}},ToggleHighlights:function(e,t){if(t==e)return;var n=r["default"].classes.searchTerm,i=r["default"].classes.currentSearchTerm,a=r["default"].classes.locateTerm,o=r["default"].classes.hideSearchTerm,s=r["default"].classes.hideCurrentSearchTerm,l=r["default"].classes.hideLocateTerm,c=[...document.querySelectorAll("#co_document span, #kh_tocContainer span")],d=new RegExp(/[lL]ocateTerm/),u=c.filter((function(e){return d.exec(e.className)}));d=new RegExp(/[sS]earchTerm/);var h=c.filter((function(e){return d.exec(e.className)&&!u.includes(e)}));d=new RegExp(/[cC]urrent/);var f=h.filter((function(e){return d.exec(e.className)}));h=h.filter((e=>!f.includes(e)));var p=u.filter((function(e){return d.exec(e.className)}));u=u.filter((e=>!p.includes(e)));const m=(e,t,n)=>{e.forEach((e=>{e.classList.remove(...t);e.classList.add(...n)}))};if(t==r["default"].prefs.hideSearchTerms){m(u,[a,n],[l,o]);m(p,[a,i],[l,s]);m(h,[n],[o]);m(f,[n],[o]);m(f,[i],[s])}else if(t==r["default"].prefs.searchWithinTermsOnly){m(u,[l,o],[a,n]);m(p,[l,s],[a,i]);m(h,[n],[o]);m(f,[n],[o]);m(f,[i],[s])}else if(t==r["default"].prefs.searchTermsOnly){m(u,[a,n],[l,o]);m(p,[a,i],[l,s]);m(h,[o],[n]);m(f,[o],[n]);m(f,[s],[i])}else if(t==r["default"].prefs.allSearchTerms){m(u,[l,o],[a,n]);m(p,[l,s],[a,i]);m(h,[o],[n]);m(f,[o],[n]);m(f,[s],[i])}},TouchStartHandler:function(e){var t=e.changedTouches[0].target,n=v["default"].GetAncestorOrSelfElement(t,"span",r["default"].classes.searchTerm);n&&(this.touchStartSearchTermElement=n)},TouchEndHandler:function(e){var t=this,n=e.changedTouches[0].target,i=v["default"].GetAncestorOrSelfElement(n,"span",r["default"].classes.searchTerm);if(i&&t.touchStartSearchTermElement===i){t.termNavigation.setCurrentSearchTermFromElement(i);t.termNavigation.MoveToNextTerm();e.preventDefault()}i=""},ClickPrevious:function(e){var t=e.data.currentWidget;if(t.$previousTermButton.hasClass("disabled"))return;t.HideMessage();t.isFirstTermSelected=!1;t.isLastTermSelected=!1;t.termNavigation.MoveToPreviousTerm();t.AreNextOrPreviousLinksValid()},ClickNext:function(e){var t=e.data.currentWidget;if(t.$nextTermButton.hasClass("disabled"))return;t.HideMessage();t.isFirstTermSelected=!1;t.isLastTermSelected=!1;t.termNavigation.MoveToNextTerm();t.AreNextOrPreviousLinksValid()},NoSearchTermsFound:function(){var e=this;if(e.docNavigation.highlightedTerms&&e.docNavigation.highlightedTerms.length>0){e.ShowMessage(r["default"].texts.noTermsOnDocument);setTimeout(e.HideMessage.bind(e),r["default"].timeouts.navigateToDocumentMesssage)}this.isFirstTermSelected=!1;this.isLastTermSelected=!1;this.searchTermFlag="zero";this.AreNextOrPreviousLinksValid()},OneSearchTermFound:function(){this.isFirstTermSelected=!0;this.isLastTermSelected=!0;this.searchTermFlag="one";this.AreNextOrPreviousLinksValid()},OnFirstSearchTermOnDocument:function(){var e=this,t=r["default"].texts.firstTermInDocument;if("one"===e.searchTermFlag){t=r["default"].texts.oneTermInDocument;e.isLastTermSelected=!0}e.isFirstTermSelected=!0;e.ShowMessage(t);setTimeout(e.HideMessage.bind(e),r["default"].timeouts.navigateToDocumentMesssage);e.AreNextOrPreviousLinksValid()},OnLastSearchTermOnDocument:function(){var e=this,t=r["default"].texts.lastTermInDocument;if("one"===e.searchTermFlag){t=r["default"].texts.oneTermInDocument;e.isFirstTermSelected=!0}e.isLastTermSelected=!0;e.ShowMessage(t);setTimeout(e.HideMessage.bind(e),r["default"].timeouts.navigateToDocumentMesssage);e.AreNextOrPreviousLinksValid()},HideMessage:function(){p["default"].AddClass(this.GetMessageBoxElement(),r["default"].classes.hideState)},ShowMessage:function(e){var t=this.GetMessageElement();if(t){t.innerHTML=e;p["default"].RemoveClass(this.GetMessageBoxElement(),r["default"].classes.hideState)}},GetMessageBoxElement:function(){return document.getElementById(r["default"].ids.termNavigationToasterMessageBox)},GetMessageElement:function(){
return document.getElementById(r["default"].ids.termNavigationToasterMessage)},AreNextOrPreviousLinksValid:function(){var e=this;if(!e.$previousTermButton.length)return;var t=r["default"].classes.hideState,n="disabled",i=e.parent,a=e.$previousTermButton,o=e.$searchMenu,s=e.$nextTermButton;i?.classList.remove(t);a.removeClass(n+" "+t);a.removeAttr("aria-disabled");o.removeClass(n+" "+t);s.removeClass(n+" "+t);s.removeAttr("aria-disabled");var l=e.docNavigation,c=e.termNavigation;if(e.ShouldHideWidget()){a.addClass(t);a.attr("aria-disabled",!0);o.addClass(t);s.addClass(t);s.attr("aria-disabled",!0);i?.classList.add(t);return}if(e.searchTermFlag||e.IsDocumentNavigationDisabled()||c.searchPreference==r["default"].prefs.hideSearchTerms){a.addClass(n);a.attr("aria-disabled",!0);s.addClass(n);s.attr("aria-disabled",!0);"zero"===e.searchTermFlag&&o.addClass(n);return}if(l.IsFirstDocument()&&!e.termNavigation.IsSearchTermNavigationLooped()&&(e.isFirstTermSelected||e.IsFirstSearchTermViewable())){a.addClass(n);a.attr("aria-disabled",!0)}if(l.IsLastDocument()&&!e.termNavigation.IsSearchTermNavigationLooped()&&(e.isLastTermSelected||e.IsLastSearchTermViewable())){s.addClass(n);s.attr("aria-disabled",!0)}},ShouldHideWidget:function(){var e=this.docNavigation,t=e.highlightedTerms,n=e.secondaryHighlightedTerms,i=this.termNavigation.searchTermsInDocument;return st().isEmpty(t)&&st().isEmpty(n)||st().isEmpty(i)},IsFirstSearchTermViewable:function(){var e=!0;this.termNavigation&&(e=this.termNavigation.IsSearchTermViewable(r["default"].searchTerm.first));return e},IsLastSearchTermViewable:function(){var e=!0;this.termNavigation&&(e=this.termNavigation.IsSearchTermViewable(r["default"].searchTerm.last));return e},MoveToNextSearchDocument:function(){var e=this;if(e.IsDocumentNavigationDisabled())return;if(!e.docNavigation.IsLastDocument()){e.directionToMove=r["default"].queryParameters.termNavStateForward;var t=e.GetCitingReferenceSkipLinkOutMessage("next");e.docNavigation.NavigateToNextUrl((function(t){e.MoveToUrl(t)}),t)}},MoveToUrl:function(e){if(e){var t=e.replace(/originationContext=[^&#]*/gi,"originationContext=PreviousNextSearchTerm");this.ChangeUrl(t,this.directionToMove)}},MoveToPreviousSearchDocument:function(){var e=this;if(e.IsDocumentNavigationDisabled())return;if(!e.docNavigation.IsFirstDocument()){e.directionToMove=r["default"].queryParameters.termNavStateBackward;var t=e.GetCitingReferenceSkipLinkOutMessage("previous");e.docNavigation.NavigateToPreviousUrl((function(t){e.MoveToUrl(t)}),t)}},GetCitingReferenceSkipLinkOutMessage:function(e){var t="";if(this.docNavigation.IsCitingReference())switch(e){case"next":t=D["default"].format("SC.Document.Navigation.SkipLinkOutMessage.Next",{ProductName:Rr.ProductName},`The next document is not yet available on ${Rr.ProductName}. Do you wish to return to the reference list or skip to the next available document?`);break;case"previous":t=D["default"].format("SC.Document.Navigation.SkipLinkOutMessage.Previous",{ProductName:Rr.ProductName},`The previous document is not yet available on ${Rr.ProductName}. Do you wish to return to the reference list or skip to the previous available document?`)}return t},ChangeUrl:function(e,t){var n=r["default"].queryParameters.termNavState+"="+t;n=e.split("?").length>1?"&"+n:"?"+n;var i=e.split("#");window.location.href=i[0]+n},CheckForNextPreviousLinks:function(){var e=this;if(e.termNavigation.FinishedInitializing)e.AreNextOrPreviousLinksValid();else{var t=r["default"].classes.hideState,n=document.getElementById(r["default"].ids.searchTermNavigation);n?.classList.add(t);y["default"].Subscribe(r["default"].events.termNavFinishedInitializing,(function(){n?.classList.remove(t);e.AreNextOrPreviousLinksValid()}))}},ClickEvent:function(e){if(!(e.selector&&e.selector.length&&e.func))return;e.isRemoveEvent?o["default"].EnableIpad?e.selector.off("touchend",e.func):e.selector.off("click",e.func):o["default"].EnableIpad?e.selector.on("touchend",e.params,e.func):e.selector.on("click",e.params,e.func)}}),ws=ks.prototype.UpdateTermNavigationPreference;ks.prototype.UpdateTermNavigationPreference=function(e,t){const n=this.GetNavigationPreferenceValues(null),i=this.GetNavigationPreferenceValues(e);n?.prefs===i?.prefs||t||y["default"].Publish(r["default"].events.termNavigationOptionChanged,{oldPreference:n.prefs,newPreference:i.prefs});ws.apply(this,arguments)};ks.prototype.UpdateTermNavigationMenu=function(e){const t=e.closest("li.a11yDropdown-item"),n=this.parent.querySelectorAll("li.a11yDropdown-item");if(n.length>0){const e=[...n].indexOf(t);this.a11yTermNavigationMenu.menu.selectItemByIndex(e)}};const Es=ks,As=c().extend({init:function(){this.stickyOffset=-250},documentDisplay:null,parentObject:null,Name:"TermNavigation",Id:r["default"].ids.coidearchTermNavigation,termNavWidget:null,SetParentDiv:function(e){this.parentObject=e},SetDocumentDisplay:function(e){this.documentDisplay=e},Draw:function(){var e=this;e.termNavWidget=new Es(e.documentDisplay);e.termNavWidget.SetParentDiv(e.parentObject);e.termNavWidget.SerialNumber=e.documentDisplay.SourceSerial;e.termNavWidget.CreateTermNavigationByDirection(e.documentDisplay.TermNavigationState);window.scrollBy(0,e.stickyOffset)},setStickyOffset:function(e){this.stickyOffset=e},getStickyOffset:function(){return this.stickyOffset}});As.prototype.BaseDraw=As.prototype.Draw;As.prototype.Draw=function(){As.prototype.BaseDraw.apply(this,arguments);(Lt["default"].isPracticalLawUSCompartment()||Lt["default"].isPracticalLawConnectCompartment())&&o["default"].isIacOn("IAC-PL-HIGHLIGHTING-TOGGLE")&&this._drawHighlightingToggle()};As.prototype._drawHighlightingToggle=function(){const e=document.getElementById(r["default"].ids.searchTermNavigation);if(!e)return;const t=document.createElement("div");t.className="co_highlightingToggleWrapper";e.append(t);const n=(0,ya.createRoot)(t),a=i["default"].GetTermNavigationPreference()!==r["default"].prefs.hideSearchTerms;n.render((0,Ta.jsx)(Ds,{checked:a,updateTermNavigationPreference:e=>this._updateTermNavigationPreference(e)}))};As.prototype._updateTermNavigationPreference=function(e){let t;if(e){const e=this.termNavWidget.$searchMenu.find(`.${r["default"].classes.termNavAllTerm}`);t=e?.length?e:this.termNavWidget.$searchMenu.find(`.${r["default"].classes.termNavSearchTerm}`)}else t=this.termNavWidget.$searchMenu.find(`.${r["default"].classes.termNavHideHighlighting}`);this.termNavWidget.UpdateTermNavigationPreference(t.get(0),!0);this.termNavWidget.UpdateTermNavigationMenu(t.get(0))};const Ls=As,Ns=c().extend({init:function(){this.tocWidget=new Pi;var e=this.tocWidget;this.tocWidget.tocInformationRetrieved=function(t){e.tocXhtml=t.flyoutXhtml;null!=e.tocXhtml&&""!=e.tocXhtml&&e.drawTableOfContentsLink("TOC")}},documentDisplay:null,parentObject:null,Name:"TOC",Id:r["default"].ids.docToolbarTocFlyout,termNavWidget:null,SetParentDiv:function(e){this.parentObject=e},SetDocumentDisplay:function(e){this.documentDisplay=e},Draw:function(){this.tocWidget.SetParentDiv(this.parentObject);this.tocWidget.SetGuid(this.documentDisplay.DocumentGuid);(new _["default"]).GetTocInformation(this.documentDisplay.DocumentGuid,this.tocWidget.tocInformationRetrieved)}});var Rs=function(){};Rs.prototype={Id:r["default"].ids.coidBreadCrumbContainer,ClassName:r["default"].classes.coDocBreadcrumbContainer+" "+r["default"].classes.floatLeft,parentDiv:null,breadCrumbs:[],SetParentDiv:function(e){this.parentDiv=e},AddBreadCrumb:function(e,t){this.breadCrumbs.push({Title:e,Link:t})},Draw:function(){for(var e=0;e<this.breadCrumbs.length;++e){if(0!=e){const e=document.createElement("span");e.textContent="»";this.parentDiv?.append(e)}var t,n=this.breadCrumbs[e];t=n.Link?`<a href="${n.Link}">${n.Title}</a>`:n.Title;this.parentDiv?.insertAdjacentHTML("beforeend",t)}}};const Ps=Rs;var Os=n(1574);const Bs=c().extend({Id:r["default"].ids.coidFullTocTitle,parentDiv:null,fullToc:null,documentGuid:null,SetParentDiv:function(e){this.parentDiv=e},SetFullToc:function(e){this.fullToc=e},SetDocumentGuid:function(e){this.documentGuid=e},Draw:function(){if(this.fullToc&&this.fullToc.SetCategoryPageUrl&&this.documentGuid){
this.parentDiv?.insertAdjacentHTML("beforeend",'<h1><a class="co_fullTocPublicationHeader"></a></h1>');this.fullToc.SetCategoryPageUrl(".co_fullTocPublicationHeader",this.documentGuid)}}});var Ms=function(){};Ms.prototype={Id:r["default"].ids.coidRulebookHeader,Draw:function(){document.body.classList.add("co_hasPageHeader");this._parentObject?.classList.add("th_dark");var e={rulebookName:this.RulebookName(),rulebookBreadcrumb:this.GetRulebookBreadcrumb()},t="<div class='co_clear'></div><h1 id='co_browsePageLabel'>"+e.rulebookName+"</h1><% if (model.rulebookBreadcrumb) { %><div id='coid_website_breadCrumbTrail' class='co_website_browseBreadCrumbTrail'>"+e.rulebookBreadcrumb+"</div><% } %>";this._parentObject.innerHTML=st().template(t)({model:e})},SetParentDiv:function(e){this._parentObject=e},GetParentDiv:function(){return this._parentObject},SetDocumentDisplay:function(e){this._documentDisplay=e},GetDocumentDisplay:function(){return this._documentDisplay},RulebookName:function(){return i["default"].ViewData.NortTableOfContents.NortLabel.Title},GetRulebookBreadcrumb:function(){if("sec_rule"===Fs(i["default"].ViewData.NortTableOfContents)){var e=Ws(i["default"].ViewData.NortTableOfContents,i["default"].ViewData.DocumentGuid);e.reverse();e.pop();var t=0;e.forEach((function(e){t+=e.length}));if(t>180){var n=e.slice(0,e.length);e.shift();return"<span class='breadCrumbTrail_metadata' title='"+n.join(">")+"' >"+e.join(">")+"</span>"}return e.join(">")}}};var Fs=function(e){if(e.NortLabel.SectionType)return e.NortLabel.SectionType;if(e.Children){for(var t=0;t<e.Children.length;t++){var n=Fs(e.Children[t]);if(n)return n}return null}return null},Ws=function(e,t){if(e.DocGuid===t)return[e.NortLabel.Title];if(e.Children){for(var n=0;n<e.Children.length;n++){var i=Ws(e.Children[n],t);if(i){i.push(e.NortLabel.Title);return i}}return null}return null};const Hs=Ms;var Gs=n(9820),Us=n(1451),js=function(e){this.widgetType=e;this.widgetType===r["default"].texts.addNewAnnotationWidget?this.Id=r["default"].ids.newDocumentToolbarAddNewAnnotationWidgetId:this.widgetType===r["default"].texts.annotationShowHideWidget&&(this.Id=r["default"].ids.newDocumentToolbarAnnotationTogglerId)};(js.prototype={widgetObject:null,parentObject:null,documentDisplay:null,showAnnotations:!0,showAnnotationCount:!0,widgetName:"ToggleAnnotation",Draw:function(){var e=this,t=null;if(void 0!==e.widgetType&&null!==e.widgetType){e.showAnnotations=g["default"].Get("Foldering",Us["default"].SHOW_ANNOTATIONS_PREFERENCE_KEY);if(e.widgetType===r["default"].texts.addNewAnnotationWidget){e.Id=r["default"].ids.newDocumentToolbarAddNewAnnotationWidgetId;t=this.BuildTempateParametersForNewAnnotation()}else if(e.widgetType===r["default"].texts.annotationShowHideWidget){e.Id=r["default"].ids.newDocumentToolbarAnnotationTogglerId;const n=e.showAnnotations===Us["default"].SHOW_ANNOTATIONS_PREFERENCE_VALUE_CHECKED;t=this.BuildTempateParametersForShowHideAnnotations(n);n?this.ShowAnnotationsContainer():this.HideAnnotationsContainer()}const n=document.createElement("template");n.innerHTML=Je().template('<div id="<%=wrapperId%>" <% if (wrapperClass) { %> class="<%=wrapperClass%>"<% } %>>\n    <button <% if (buttonClass) { %> class="<%=buttonClass%>"<% } %>>\n        <span id="<%=spanId%>" <% if (spanClass) { %> class="<%=spanClass%>"<% } %>><%=spanText%></span>\n    </button>\n</div>')(t);e.widgetObject=n.content.firstElementChild;e.parentObject.appendChild(e.widgetObject);const i=e.widgetObject.querySelector("button");e._tooltip=new ht["default"](i,t.spanText,{position:"left"});e._tooltip.render();e._bindEvents();e._subscribeEvents()}},BuildTempateParametersForNewAnnotation:function(){return{wrapperId:r["default"].ids.newDocumentToolbarAddNewAnnotationWrapperId,wrapperClass:null,buttonClass:"kh_icon icon-add-note",spanId:r["default"].ids.actionMenuBarAddAnnotationWidgetTextSpanId,spanText:D["default"].lookup("SC.Document.Widget.Annotation.AddAnnotationWidgetSpanText","New Annotation"),spanClass:null}},BuildTempateParametersForShowHideAnnotations:function(e){const t={wrapperId:r["default"].ids.newDocumentToolbarAnnotationWrapperId,wrapperClass:null,buttonClass:"kh_icon icon-notes",spanId:r["default"].ids.actionMenuBarShowHideAnnotationWidgetTextSpanId,spanClass:null};if(e){t.wrapperClass=r["default"].classes.annotationShowHideToggle;t.spanText=r["default"].texts.toggleHideAnnotationWidgetSpanText}else t.spanText=r["default"].texts.toggleAnnotationWidgetSpanText;return t},SetParentDiv:function(e){this.parentObject=e},GetAnnotationsContainer:function(){return this._annotationsContainer},SetShowAnnotationCount:function(e){this.showAnnotationCount=e},SetAnnotationsContainer:function(e){this._annotationsContainer=e},HideAnnotationsContainer:function(){this._annotationsContainer?.classList.add("co_hideAnnotations")},ShowAnnotationsContainer:function(){this._annotationsContainer?.classList.remove("co_hideAnnotations")},CheckAnnotationIcon:function(){this.widgetObject?.classList.add(r["default"].classes.annotationShowHideToggle);const e=r["default"].texts.toggleHideAnnotationWidgetSpanText;x()(this.widgetObject).find("#"+r["default"].ids.actionMenuBarShowHideAnnotationWidgetTextSpanId).text(e);this._tooltip?.setTooltipText(e)},UncheckAnnotationIcon:function(){this.widgetObject?.classList.remove(r["default"].classes.annotationShowHideToggle);const e=r["default"].texts.toggleAnnotationWidgetSpanText;x()(this.widgetObject).find("#"+r["default"].ids.actionMenuBarShowHideAnnotationWidgetTextSpanId).text(e);this._tooltip?.setTooltipText(e)},SetWidgetType:function(e){this.widgetType=e},GetWidgetType:function(){return this.widgetType},SetWrapperId:function(e){this.wrapperId=e}})._bindEvents=function(){var e=this;e.widgetObject.addEventListener("click",(function(){e.widgetType===r["default"].texts.annotationShowHideWidget?e.showAnnotations===Us["default"].SHOW_ANNOTATIONS_PREFERENCE_VALUE_CHECKED?e._hideDocumentAnnotaion():e._showDocumentAnnotaion():e.widgetType===r["default"].texts.addNewAnnotationWidget&&(Gs["default"].isAnnotationsLimitExceeded()?Gs["default"].drawAnnotationsLimitLightBox():e._publishEvents())}))};js.prototype._updateUserPreferenceShowAnnotations=function(e,t){g["default"].Set("Foldering",e,t,(function(){}),(function(){}))};js.prototype._publishEvent=function(e){var t=new b["default"]({},{},e,"1.0");y["default"].Publish(e,t)};js.prototype._subscribeEvents=function(){var e=this,t="";if(e.widgetType===r["default"].texts.annotationShowHideWidget){t="Cobalt.Foldering.NoteMenu.AddDocumentNoteEvent";y["default"].Subscribe(t,(function(){e._showDocumentAnnotaion()}));if(e.showAnnotationCount){t="Cobalt.DocumentHighlighting.AnnotationsRetrievedEvent";y["default"].Subscribe(t,(function(t,n){e._countAnnotations(n.EventData);Gs["default"].updateNotesCount(n.EventData)}))}t="Cobalt.Document.Highlighting.AnnotationAdded";y["default"].Subscribe(t,(function(){e._showDocumentAnnotaion()}))}if(e.widgetType===r["default"].texts.addNewAnnotationWidget&&e.showAnnotationCount){t="Cobalt.Foldering.Note.Add";y["default"].Subscribe(t,(function(t,n){e._increaseAnnotationCount(n)}));t="Cobalt.Foldering.Note.Delete";y["default"].Subscribe(t,(function(t,n){e._decreaseAnnotationCount(n)}));t="Cobalt.Foldering.Note.Undo";y["default"].Subscribe(t,(function(t,n){e._increaseAnnotationCount(n)}));t="Cobalt.Document.Highlighting.AnnotationAdded";y["default"].Subscribe(t,(function(t,n){"Highlight"===n.Data.AnnotationType&&e._increaseAnnotationCount(n)}));t="Cobalt.Document.Hightlighting.DeletedHighlight";y["default"].Subscribe(t,(function(t,n){e._decreaseAnnotationCount(n)}))}};js.prototype._publishEvents=function(){this.widgetType===r["default"].texts.addNewAnnotationWidget&&this._publishEvent("Cobalt.Foldering.NoteMenu.AddDocumentNoteEvent")};js.prototype._increaseAnnotationCount=function(){var e=document.querySelector("span[id='co_ToggleAnnotationCount']");if(e){var t=parseInt(e.textContent??"");t++;e.textContent=t}};js.prototype._decreaseAnnotationCount=function(){var e=document.querySelector("span[id='co_ToggleAnnotationCount']");if(e){var t=parseInt(e.textContent??"");t--;e.textContent=t}}
;js.prototype._showDocumentAnnotaion=function(){var e=this;e.ShowAnnotationsContainer();e._publishEvent("Cobalt.Foldering.NoteMenu.ShowAnnotationsEvent");e.CheckAnnotationIcon();e.showAnnotations=Us["default"].SHOW_ANNOTATIONS_PREFERENCE_VALUE_CHECKED;e._updateUserPreferenceShowAnnotations(Us["default"].SHOW_ANNOTATIONS_PREFERENCE_KEY,Us["default"].SHOW_ANNOTATIONS_PREFERENCE_VALUE_CHECKED)};js.prototype._hideDocumentAnnotaion=function(){var e=this;e.HideAnnotationsContainer();e._publishEvent("Cobalt.Foldering.NoteMenu.HideAnnotationsEvent");e.UncheckAnnotationIcon();e.showAnnotations=Us["default"].SHOW_ANNOTATIONS_PREFERENCE_VALUE_UNCHECKED;e._updateUserPreferenceShowAnnotations(Us["default"].SHOW_ANNOTATIONS_PREFERENCE_KEY,Us["default"].SHOW_ANNOTATIONS_PREFERENCE_VALUE_UNCHECKED)};js.prototype._countAnnotations=function(e){var t=parseInt(null!==e.documentLevelNotes?e.documentLevelNotes.length:0)+parseInt(null!==e.inlineHighlightsAndNotes?e.inlineHighlightsAndNotes.length:0)+parseInt(null!==e.orphanHighlightsAndNotes?e.orphanHighlightsAndNotes.length:0);x()(this.widgetObject).find("span[id='"+r["default"].ids.actionMenuBarShowHideAnnotationWidgetTextSpanId+"']").after("<span id='co_ToggleAnnotationCount'>"+t+"</span>")};const $s=js;var Vs=n(95),qs=n(9478),zs=n(9099);function Ks(){qs["default"].apply(this,arguments)}Ks.prototype=Object.create(qs["default"].prototype);Ks.prototype.constructor=Ks;Ks.prototype._baseDownload=qs["default"].prototype.Download;Ks.prototype.Download=function(e,t){this.hasClauseFinder=zs["default"].isClauseFinderAvailableOnDocumentView()&&zs["default"].isClauseFinderEnabled();this._baseDownload.call(this,e,t)};const Ys=Ks;function Qs(){var e=this;this.deliveryOption=null;this.documentDisplay=null;this._instance=null;this.parentObject=null;this.Id=null;this.defaultContentType="KNOWHOW";this.tooltip=null;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.SetDeliveryOptions=function(e){this.deliveryOption=e;this.deliveryOption.Medium===Vs["default"].DownloadQuickDraft?this.Id=r["default"].ids.newDocumentToolbarDownloadQuickDraftId:this.Id=r["default"].ids.docToolbarDeliveryWidget+this.deliveryOption.Medium};this.Draw=function(){null==e._instance&&(e._instance=(Qs._NextDeliveryNum++).toString());Qs._ObjectMap[this._instance]=this;if(this.deliveryOption.HasAccess){var t=D["default"].lookup("SC.Website.Delivery.Medium."+this.deliveryOption.Medium,this.deliveryOption.Medium),n="",i="<span>"+t+"</span>",a=document.createElement("div");a.id="co_"+this.deliveryOption.Medium+"Widget";let o=null;this.tooltip=D["default"].lookup("SC.Website.Delivery.Medium."+this.deliveryOption.Medium+"Tooltip");(void 0===this.tooltip||(0,d.IsNullOrEmpty)(this.tooltip))&&(this.tooltip=t);this.deliveryOption.Medium===Vs["default"].Email?n="kh_icon icon-envelope":this.deliveryOption.Medium===Vs["default"].Print?n="kh_icon icon-print":this.deliveryOption.Medium===Vs["default"].Download?n="kh_icon icon-download-arrow":this.deliveryOption.Medium===Vs["default"].DownloadQuickDraft?n="kh_icon icon-draft-word":this.deliveryOption.Medium===Vs["default"].DownloadMatterMapImage?n="kh_icon icon-matter-map":this.deliveryOption.Medium===Vs["default"].Fitzroy&&(n="kh_icon icon-kindle");if(this.deliveryOption.Medium===Vs["default"].DownloadQuickDraft&&this._MultipleDownloadQuickDraftsExist()){this.tooltip=r["default"].texts.toggleDownloadQuickDraftIconToolTip;e.parentObject.appendChild(this._BuildWidgetStructure()[0]);o=e.parentObject.querySelector("button#"+r["default"].ids.downloadQuickDraftToggleWidgetAnchorToggle);this._BindMainDownloadQuickDraftEvent()}else{o=document.createElement("button");o.id="deliveryLinkRow"+this.deliveryOption.Medium;o.title=this.tooltip;o.innerHTML=i;o.className=n;o.addEventListener("click",(function(){Qs.Get(e._instance).DeliverySelected(e.deliveryOption.Medium)}));a.appendChild(o);e.parentObject.appendChild(a)}o&&new ht["default"](o,null,{position:"left"}).render()}};this.BuildRequestContext=function(e){var t;if(ne["default"].Instance){t=f["default"].GetObject(r["default"].objectIds.provider).GetDocumentDeliveryMetaInfo(e).ContextData;this.documentDisplay.RulebookMode&&(t.RulebookMode=this.documentDisplay.RulebookMode)}else{var n=[];(t=new Ei["default"]).SelectedItems=n;var i=new ka["default"];i.DocumentGuid=this.documentDisplay.DocumentGuid;i.ContentType=this.defaultContentType;n.push(i)}t.Medium=e;t.ContextView=Ai["default"].SingleDocument;e===Vs["default"].DownloadQuickDraft&&(t.IsQuickDraftDelivery=!0);if(e===Vs["default"].DownloadMatterMapImage){var a=0,o=0,s=(0,u.getElementHeight)(document.querySelector("div.co-TaskBoard"));document.querySelectorAll("div.co-TaskBoard-column").forEach((function(e){var t=(0,u.getElementWidth)(e);t<205&&(t=205);o+=t}));s<250&&(s=250);a=3*(0,u.getElementHeight)(document.querySelector("#co_docHeaderContainer .co_title"))+s;o<820&&(o=820);var l=document.querySelector("div#coid_website_documentWidgetDiv"),c=l?.classList.contains("co_disOpt_textSizeSmall"),d=l?.classList.contains("co_disOpt_textSizeMedium"),h=l?.classList.contains("co_disOpt_textSizeExtraLarge"),p=1;c?p=1.35:d?p=1.12:h&&(p=.75);t.WebKitHeight=Math.ceil(a/2.6*p);t.WebKitWidth=Math.ceil(o/3.78)}return t};this.DeliverySelected=async function(t){this.PublishDeliveryMediumSelectedEvent(t);var n=await e.BuildRequestContext(t);if(n==Ei["default"].Incomplete)return;if(!n||20!==n.Version){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("The generated delivery request context is invalid.")}t===Vs["default"].DownloadQuickDraft||t===Vs["default"].DownloadMatterMapImage?this.InitiateQuickDraftDownload(n):this.LaunchOptionsDialog(n)};this._MultipleDeliverySelected=function(e){var t=e.target.getAttribute("data-url"),n=null!==x()(".co_title")?document.querySelector(".co_title")?.textContent??"":"Quick Draft";this._HideDownloadQuickDraftOptionsModal();window.open(t+"&imageFileName="+n.replace(/\W/g,""),"_parent")};this.PublishDeliveryMediumSelectedEvent=function(e){var t={DeliveryMedium:e},n="Cobalt.Website.DeliveryOption.Clicked",i=new b["default"](t,{},"Cobalt.Website.DeliveryOption.Clicked","1.0");y["default"].Publish(n,i);(0,R.postUXEvent)(n)};this.LaunchOptionsDialog=function(e){var t=f["default"].GetObject("Cobalt.Delivery.DeliveryOptionsDialog");t.Initialize();t.SetRequestContext(e);t.RequestHtmlAndDraw()};this.InitiateQuickDraftDownload=function(e){(new Ys).Download(e,this.deliveryOption)};this._BuildWidgetStructure=function(){var e,t=r["default"].ids.actionMenuBarDownloadQuickDraftWidgetTextSpanId,n=r["default"].texts.toggleDownloadQuickDraftIconToolTip;return e=x()('<div id="'+r["default"].ids.downloadQuickDraftToggleWidgetContainer+'" >  <a id="'+r["default"].ids.downloadQuickDraftToggleWidgetAnchorToggle+'" href="javascript:void(0)" class="kh_icon icon-draft-word" title="'+this.tooltip+'"> <span id="'+t+'">'+n+'</span> </a>  <div id="'+r["default"].ids.downloadQuickDraftOptionsModalContainerId+'">      <div id="'+r["default"].ids.downloadQuickDraftOptionsModalContainerInnerId+'"> </div>  </div> </div>')};this._BindMainDownloadQuickDraftEvent=function(){var e=this;x()(e.parentObject).find("a#"+r["default"].ids.downloadQuickDraftToggleWidgetAnchorToggle).click((function(){e._BuildOptionsModalStructure();document.getElementById(r["default"].ids.downloadQuickDraftOptionsModalContainerInnerId)?.innerHTML?.trim()?document.getElementById(r["default"].ids.downloadQuickDraftOptionsModalContainerInnerId)?.classList.contains(r["default"].classes.hideState)?e._ShowDownloadQuickDraftOptionsModal():e._HideDownloadQuickDraftOptionsModal():document.getElementById(r["default"].ids.downloadQuickDraftOptionsModalContainerInnerId).appendChild(e.modalDomStructure[0])}))};this._BuildOptionsModalStructure=function(){
this.modalDomStructure=x()("<div class='"+r["default"].classes.dropdownBoxExpanded+"'>    \x3c!-- toggle between co_dropDownBoxCollapsed and co_dropdownBoxExpanded to show/hide --\x3e     <div class='"+r["default"].classes.dropdownBoxHeader+"'></div>    <div class='"+r["default"].classes.dropdownBoxContent+"'>        <a id='"+r["default"].ids.downloadQuickDraftOptionsModalContainerCloseId+"' class='"+r["default"].classes.widgetCloseIcon+"' href='javascript:void(0);'>Close</a>        <div class='"+r["default"].classes.dropdownBoxContentRight+"'>            <ul>"+this._BuildModalListItems()+"            </ul>            <div class='"+r["default"].classes.clear+"'></div>        </div>    </div>    <div class='"+r["default"].classes.dropdownBoxFooter+"'></div></div>");this._BindOptionsModalEvent()};this._BuildModalListItems=function(){var e=this,t="",n=this._FindStandardDocumentAttachment();null!==n&&n.length>=1&&n.each((function(){const n=this.getAttribute("data-language"),i=document.createElement("li"),a=document.createElement("a");a.className=r["default"].classes.downloadQuickDraftAnchor;a.title=this.textContent;a.href="javascript:void(0);";a.setAttribute("data-language",n);a.setAttribute("data-url",this.getAttribute("href"));a.textContent=e._CapitalizeFirstLetter(n);i.appendChild(a);t+=i.outerHTML}));return t};this._FindStandardDocumentAttachment=function(){var e=null,t=null;(t=v["default"].GetElementsByClassName("kh_standardDocumentAttachment","div",document.getElementById(r["default"].ids.document))).length>0&&(e=x()(t[0].element).find("a"));return e};this._CapitalizeFirstLetter=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};this._MultipleDownloadQuickDraftsExist=function(){var e=!1,t=this._FindStandardDocumentAttachment();null!==t&&t.length>1&&(e=!0);return e};this._BindOptionsModalEvent=function(){var e=this;e.modalDomStructure.find("a#"+r["default"].ids.downloadQuickDraftOptionsModalContainerCloseId).click((function(){e._HideDownloadQuickDraftOptionsModal()}));e.modalDomStructure.find("a."+r["default"].classes.downloadQuickDraftAnchor).click((function(t){e._MultipleDeliverySelected(t)}))};this._ShowDownloadQuickDraftOptionsModal=function(){document.getElementById(r["default"].ids.downloadQuickDraftOptionsModalContainerInnerId)?.classList.remove(r["default"].classes.hideState)};this._HideDownloadQuickDraftOptionsModal=function(){document.getElementById(r["default"].ids.downloadQuickDraftOptionsModalContainerInnerId)?.classList.add(r["default"].classes.hideState)};Qs._NextDeliveryNum=1;Qs._ObjectMap={};Qs.Get=function(e){return Qs._ObjectMap[e]}}function Xs(){Qs.apply(this,arguments);this.baseDraw=this.Draw;this.Draw=function(){this.baseDraw.apply(this,arguments);this.deliveryOption.Medium===Vs["default"].DownloadQuickDraft&&zs["default"].isClauseFinderAvailableOnDocumentView()&&zs["default"].isClauseFinderEnabled()&&y["default"].Subscribe(r["default"].events.clauseFinderDeliveryLaunch,(()=>{Qs.Get(this._instance).DeliverySelected(Vs["default"].DownloadQuickDraft)}))}}var Js=function(){};(Js.prototype={Id:r["default"].ids.newDocumentToolbarRuleBookRedlineId,ToolTipShowRedline:r["default"].texts.toggleShowRuleBookRedlineIconToolTip,ToolTipHideRedline:r["default"].texts.toggleHideRuleBookRedlineIconToolTip,Draw:function(){var e=this;this.Name="RuleBookRedline";this.toggleKeyClass="co_"+this.Name+"Expanded";this.anchorId="co_Toggle"+this.Name+"Widget";this._buildWidgetStructure();this._bindAllRuleBookRedlineToggleEvent();g["default"].Get("Document","RuleBookRedline")?this._displayRuleBookRedline(e):this._hideRuleBookRedline(e);y["default"].Subscribe("ShowRedlineRelated",(function(){e._displayRuleBookRedline(e)}));y["default"].Subscribe("HideRedlineRelated",(function(){e._hideRuleBookRedline(e)}))},SetParentDiv:function(e){this._parentObject=e},GetParentDiv:function(){return this._parentObject},SetDocumentDisplay:function(e){this._documentDisplay=e},GetDocumentDisplay:function(){return this._documentDisplay},RuleBookRedlineExistInDOM:function(){return null!=document.querySelector(".co_ruleBookRedline")}})._buildWidgetStructure=function(){var e=r["default"].ids.actionMenuBarRuleBookRedlineWidgetTextSpanId,t=r["default"].texts.toggleShowRuleBookRedlineWidgetSpanText;const n=document.createElement("template");n.innerHTML=`<div id="${this.anchorId}" >\n\t\t\t\t\t\t\t  <a href="javascript:void(0)" class="kh_icon icon-pencil-history" title="${this.ToolTipShowRedline}"> <span id="${e}">${t}</span> </a>\n\t\t\t\t\t\t  </div>`;this.domStructure=n.content.firstElementChild;this._parentObject.appendChild(this.domStructure)};Js.prototype._bindAllRuleBookRedlineToggleEvent=function(){var e=this;e.domStructure?.addEventListener("click",(function(){if(!e.domStructure?.classList.contains(e.toggleKeyClass)){e._displayRuleBookRedline(e);y["default"].Publish("ShowRedlineToolbarClicked");(0,R.postUXEvent)("Cobalt.Document.Rulebook.Redline",{action:"On"})}else{e._hideRuleBookRedline(e);y["default"].Publish("HideRedlineToolbarClicked");(0,R.postUXEvent)("Cobalt.Document.Rulebook.Redline",{action:"Off"})}}))};Js.prototype._displayRuleBookRedline=function(e){var t=e;if(h["default"].Instance)for(var n=0;n<h["default"].Instance.chunks.length;n++){x()(h["default"].Instance.chunks[n]).find(".co_document del").removeClass("co_hideState");x()(h["default"].Instance.chunks[n]).find(".co_document ins").removeAttr("style")}else{document.querySelectorAll(".co_document del").forEach((e=>e.classList.remove("co_hideState")));document.querySelectorAll(".co_document ins").forEach((e=>e.removeAttribute("style")));document.getElementById("coid_redlineShowHeaderMessage")?.classList.add("co_hideState");if(document.getElementById("coid_redlineHeaderMessage"))document.getElementById("coid_redlineHeaderMessage")?.classList.remove("co_hideState");else{var i={message:`Reflecting most recent amendments made ${document.getElementById("redlineStartdate")?.textContent??""}. `,toolTip:this.ToolTipHideRedline};document.getElementById("co_docHeaderContainer")?.insertAdjacentHTML("beforeend",st().template("<ul id='coid_redlineHeaderMessage' class='co_inlineList'><li><%-model.message%></li><li><a id='hideAmendments' title='<%-model.toolTip%>' href='javascript:void(0)'>Hide Amendments</a></li></ul>")({model:i}));document.getElementById("hideAmendments")?.addEventListener("click",(function(){t._hideRuleBookRedline(t);y["default"].Publish("HideRedlineToolbarClicked")}))}}document.querySelectorAll("#co_ToggleRuleBookRedlineWidget>a").forEach((e=>e.classList.remove("is-active")));e.domStructure?.classList.add(e.toggleKeyClass);g["default"].Set(r["default"].prefs.documentPreferenceSpace,r["default"].prefs.ruleBookRedlinePref,!0,(function(){}),(function(){}));x()(e.domStructure).find("#"+r["default"].ids.actionMenuBarRuleBookRedlineWidgetTextSpanId).text(r["default"].texts.toggleHideRuleBookRedlineWidgetSpanText).parent().attr("title",this.ToolTipHideRedline)};Js.prototype._hideRuleBookRedline=function(e){var t=e;if(h["default"].Instance)for(var n=0;n<h["default"].Instance.chunks.length;n++){x()(h["default"].Instance.chunks[n]).find(".co_document del").addClass("co_hideState");x()(h["default"].Instance.chunks[n]).find(".co_document ins").css("background-color","white")}else{document.querySelectorAll(".co_document del").forEach((e=>e.classList.add("co_hideState")));document.querySelectorAll(".co_document ins").forEach((e=>e.style.backgroundColor="white"));document.getElementById("coid_redlineHeaderMessage")?.classList.add("co_hideState");if(document.getElementById("coid_redlineShowHeaderMessage"))document.getElementById("coid_redlineShowHeaderMessage")?.classList.remove("co_hideState");else{var i={message:"Show Amendments",toolTip:this.ToolTipShowRedline};document.getElementById("co_docHeaderContainer")?.insertAdjacentHTML("beforeend",st().template("<ul id='coid_redlineShowHeaderMessage' class='co_inlineList'><li><a id='showAmendments' title='<%-model.toolTip%>' href='javascript:void(0)'><%-model.message%></a></li></ul>")({model:i}));document.getElementById("showAmendments")?.addEventListener("click",(function(){t._displayRuleBookRedline(t);y["default"].Publish("ShowRedlineToolbarClicked")}))
}}document.querySelectorAll("#co_ToggleRuleBookRedlineWidget>a").forEach((e=>e.classList.add("is-active")));e.domStructure?.classList.remove(e.toggleKeyClass);g["default"].Set(r["default"].prefs.documentPreferenceSpace,r["default"].prefs.ruleBookRedlinePref,!1,(function(){}),(function(){}));x()(e.domStructure).find("#"+r["default"].ids.actionMenuBarRuleBookRedlineWidgetTextSpanId).text(r["default"].texts.toggleShowRuleBookRedlineWidgetSpanText).parent().attr("title",this.ToolTipShowRedline)};const Zs=Js;var el=function(){};el.prototype={Id:"DummyWidget",ToolTip:"DummyWidget",CssIcon:"",Draw:function(){this.domStructure=document.createElement("div");this.domStructure.innerHTML=`<a href="javascript:void(0)" class="kh_icon ${this.CssIcon} co_disabled" title="${this.ToolTip}"><span>${this.ToolTip}</span></a>`;this._parentObject?.appendChild(this.domStructure)},SetDummyInfo:function(e,t,n){this.Id=e;this.ToolTip=t;this.CssIcon=n},SetParentDiv:function(e){this._parentObject=e},GetParentDiv:function(){return this._parentObject}};const tl=el;function nl(){var e=this;this.parent=null;this.documentDisplay=null;this.Name="DocumentNavigation";this.Id="co_docToolbar"+this.Name+"Widget";this.WrapperId="co_"+this.Name+"Widget";this.docNavigation=null;this.isDataReady=!1;this.SetParentDiv=function(t){e.parent=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.ShouldSuppressDocumentNavigation=function(){return!e.docNavigation.hasNavigationData||!e.parent};this.Draw=function(){if(!e.isDataReady){if(e.docNavigation)return;if(!e.documentDisplay)return;e.docNavigation=new Y.A;if(e.docNavigation.hasLoadedData)e.isDataReady=!0;else{y["default"].Subscribe(r["default"].events.docNavDataIsReady,(function(){e.isDataReady=!0;e.Draw()}));var t=e.documentDisplay.NavigationProperties;if(e.docNavigation.FetchNextPreviousData(t.ListSource,t.NavigationPath,t.List,t.Rank))return}}if(e.ShouldSuppressDocumentNavigation())return;var n=e.GetTitleForDocument(!1),i=D["default"].lookup("SC.Document.DocumentNavigation.PreviousDocument","Previous Document");n||(n=i);var a=e.GetTitleForDocument(!0),o=D["default"].lookup("SC.Document.DocumentNavigation.NextDocument","Next Document");a||(a=o);var s=this.docNavigation,l=s.returnTo?`<a class="${r["default"].classes.pageFlipperBackToResults}\n            " href="${s.returnTo.Url}"><span class="kh_icon \n\t\t\t${r["default"].classes.iconReplyArrow} ${r["default"].classes.floatLeft}\n\t\t\t">Return to ${s.returnTo.Title}</span></a>`:"",c=document.createElement("template");c.innerHTML=`<div id="${this.WrapperId}">\n\t\t\t\t<div id="${r["default"].ids.leftPageFlipper}" class="${r["default"].classes.pageFlipper}" tabindex="0">\n\t\t\t\t${this.WrapWithClickAnchor(`<span class="${r["default"].classes.pageFlipperHandleStationary} kh_icon icon-left-arrow">${i}</span>`)}\n\t\t\t\t<span class="${r["default"].classes.pageFlipperAccordian}">\n\t\t\t\t${this.WrapWithClickAnchor(n)}\n\t\t\t\t${l}\n\t\t\t\t</span>\n\t\t\t\t</div>\n\t\t\t\t<div id="${r["default"].ids.rightPageFlipper}" class="${r["default"].classes.pageFlipper}" tabindex="0">\n\t\t\t\t<span class="${r["default"].classes.pageFlipperAccordian}">\n\t\t\t\t${this.WrapWithClickAnchor(a)}\n\t\t\t\t${l}\n\t\t\t\t</span>\n\t\t\t\t${this.WrapWithClickAnchor(`<span class="${r["default"].classes.pageFlipperHandleStationary} kh_icon icon-right-arrow">${o}</span>`)}\n   \t\t\t\t</div>\n   \t\t\t</div>`;e.parent.append(c.content);var d=r["default"].classes.disabled,u=document.getElementById(r["default"].ids.leftPageFlipper);u?.querySelectorAll("."+r["default"].classes.pageFlipperNav).forEach((t=>t.addEventListener("click",(function(t){e.ClickPrevious();t.preventDefault();t.stopPropagation()}))));s.IsFirstDocument()&&u?.classList.add(d);var h=document.getElementById(r["default"].ids.rightPageFlipper);h?.querySelectorAll("."+r["default"].classes.pageFlipperNav).forEach((t=>t.addEventListener("click",(function(t){e.ClickNext();t.preventDefault();t.stopPropagation()}))));s.IsLastDocument()&&h?.classList.add(d);document.querySelectorAll(".co_pageFlipper").forEach((function(e){e.addEventListener("mouseenter",(function(){this.classList.add("is-active")}));e.addEventListener("mouseleave",(function(){this.classList.remove("is-active")}))}))};this.IsLeftNavEnabled=function(){return e.IsFlipperEnabled(r["default"].ids.leftPageFlipper)};this.IsRightNavEnabled=function(){return e.IsFlipperEnabled(r["default"].ids.rightPageFlipper)};this.GetTitleForDocument=function(t){var n=e.docNavigation;return n.useInPlanDocumentsOnly?n[t?"nextDocumentInPlanTitle":"previousDocumentInPlanTitle"]:n[t?"nextDocumentUrlAndTitle":"previousDocumentUrlAndTitle"].Title};this.IsFlipperEnabled=function(e){const t=document.querySelector(`#${e}.${r["default"].classes.pageFlipper}`);if(!t)return!1;return!t.classList.contains(r["default"].classes.disabled)};this.ClickNext=function(){if(!e.docNavigation.IsLastDocument()){var t="";e.docNavigation.IsCitingReference()&&(t=D["default"].format("SC.Document.Navigation.SkipLinkOutMessage.Next",{ProductName:Rr.ProductName},`The next document is not yet available on ${Rr.ProductName}. Do you wish to return to the reference list or skip to the next available document?`));e.docNavigation.NavigateToNextUrl(e.ChangeUrl,t,!0)}};this.ClickPrevious=function(){if(!e.docNavigation.IsFirstDocument()){var t="";e.docNavigation.IsCitingReference()&&(t=D["default"].format("SC.Document.Navigation.SkipLinkOutMessage.Previous",{ProductName:Rr.ProductName},`The previous document is not yet available on ${Rr.ProductName}. Do you wish to return to the reference list or skip to the previous available document?`));e.docNavigation.NavigateToPreviousUrl(e.ChangeUrl,t,!0)}};this.ChangeUrl=function(e){(0,hn["default"])(e)};this.WrapWithClickAnchor=function(e){return`<a class="${r["default"].classes.pageFlipperNav}" href="javascript:void(0);">${e}</a>`}}var il=n(7929),al=c().extend({init:function(){},parentObject:null,Id:r["default"].ids.docMatterMapsWidget,linkoutDomain:"CustomMatterMaps",SetParentDiv:function(e){this.parentObject=e},SetDocumentGuid:function(e){this.documentGuid=e},Draw:function(){var e=D["default"].lookup("SC.Document.Widget.MatterMaps.ToolbarButtonText","Customize Matter Map"),t="/Transfer.html?domainKey="+this.linkoutDomain+"&uri=/mattermaps/perm-guid/"+this.documentGuid;const n=document.createElement("template");n.innerHTML=d.sanitizeHTML`
        <div id="co_docToolbarMatterMapsButtonContainer">
            <a id="co_matterMapsLink" title="${e}" href="${t}" class="kh_icon icon-matter-map-edit" target="_blank">
                <span>${e}</span>
            </a>
        </div>`;const i=n.content.firstElementChild;i.addEventListener("click",(function(){(0,R.postUXEvent)("Cobalt.Website.MatterTemplates.ProjectXLinkOut");o["default"].isFeatureEnabled("BLOCKSESSIONPAUSEDISPLAY")||(0,Be.website_ShowResumeResearchLightbox)("pause",!0)}));this.parentObject?.append(i)}});const ol=al;var rl=c().extend({init:function(){this.parentObject=null;this.documentGuid="";this.Name="MatterMaps";this.Id=r["default"].ids.docToolbarMatterMapsWidget},SetParentDiv:function(e){this.parentObject=e},SetDocumentGuid:function(e){this.documentGuid=e},Draw:function(){this.matterMapsWidget=new ol;this.matterMapsWidget.SetParentDiv(this.parentObject);this.matterMapsWidget.SetDocumentGuid(this.documentGuid);this.matterMapsWidget.Draw()},ShowWidget:function(){var e=pn["default"],t="HasCustomizeMatterMapAccess",n=e.getItem(t),i=o["default"].isIacOn("IAC-MATTERMAPS-FORCELINKOUTBUTTON"),a=!1;i||n&&"GRANT"==n?a=!0:n&&"DENY"==n?a=!1:x().ajax({url:"/V1/CustomerInfo/ProductAccess/PROJECTX",async:!1}).done((function(i){a=i.HasAccess;n=a?"GRANT":"DENY";e.setItem(t,n)})).fail((function(){a=!1}));return a}});const sl=rl;function ll(){var e=this,t=null,n=null,i=null,o=null;this.isAccessibleTooltipEnabled=!0;this.getHost=function(){return n};this.getRouteNameParts=function(){return i};this.template=st().template('<button id="co_linkBuilder"\n   title="<%- uiMessage %>"\n   class="linkBuilder-button icon_link co_tbButton"><span class="icon25 icon_link_small"><%- linkBuilderTitle %></span></button>');this.Initialize=function(e){n=e.Hostname;i=e.AspRouteName.split(".");o=e.Parameters};this.setTargetDomElement=function(e){t=e};this.getTargetDomElement=function(){return t};this.SetParentDiv=function(e){t=e};this.Draw=function(){var n=D["default"].lookup("SC.Website.Widget.Linkbuilder.UiMessage","Copy page URL to clipboard"),i=D["default"].lookup("SC.Website.Widget.Linkbuilder.LinkBuilderTitle","Copy link");t?.insertAdjacentHTML("afterbegin",this.template({linkBuilderTitle:i,uiMessage:n}));e.applyA11yTooltip();t?.querySelector("#co_linkBuilder")?.addEventListener("click",(function(){e.buildAndCopyLink()}))};this.tooltipOptions=null;this.applyA11yTooltip=function(){const e=x()("#co_linkBuilder",t);this.isAccessibleTooltipEnabled&&e.length&&new ht["default"](e,null,this.tooltipOptions).render()};this.SetTooltipOptions=function(e){this.tooltipOptions=e};this.buildAndCopyLink=function(t){var n=e.buildUrl();new ia(n).draw(t)};this.buildUrl=function(){var t=a["default"][i[0]][i[1]];if(t)var n=e.buildUrlObject(t),o=a["default"].Absolute(n);return o};this.buildUrlObject=function(e){var t={};t=e(o);var n=this.getHost();if(n){t.RootUrl=window.location.protocol+"//";t.RootUrl+=n}return t}}function cl(){this.topParentObject=null;this.rightParentObject=null;this.bottomParentObject=null;this.widgetErrors=[];this.rightToolbarSubWidgets=null;this.topToolbarSubWidgets=null;this.alreadyDrawn=!1;this.documentDisplay=null;this.documentData=null;this.documentNavigation=null;this.searchGradingId=null;this.keyCiteAlertWarning="None";this.docketTrackWarning="None";this._isEmailDownloadAvailable=!0;this._isDownloadEnabled=!0;this._quickDraftingFeatureAvailable=!0;this._matterMapImageFeatureAvailable=!1;this.DeliveryMedia=null;this._deliveryHeaderLocation=0;this._viewingHeaderLocation=0;var e=this;this.keyrulesId="23";this.fermiContentTypeIdForUKBooks="102";this.whatsMarket="483";this.selfRegulatoryOrganization="521";this.commentaryIndices="569";this.subContentTypeIdForUKFCA="829";this.SetParentDivs=function(t,n,i){e.topParentObject=t;e.rightParentObject=n;e.bottomParentObject=i};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.SetSearchGradingId=function(t){e.searchGradingId=t};this.SetKeyCiteAlertWarning=function(t){e.keyCiteAlertWarning=t};this.SetIsDownloadEnabled=function(){this._isDownloadEnabled=!e.documentDisplay.IsUserDocument};this.SetDocketTrackWarning=function(t){e.docketTrackWarning=t};this.SetDocumentData=function(t){e.documentData=t};this.ConfigureQuickDraftingFeature=function(){var t=r["default"].collections.standardDocuments;-1!=st().indexOf(t,this.documentData.Collection)?e._quickDraftingFeatureAvailable=!0:e._quickDraftingFeatureAvailable=!1};this.ConfigureMatterMapImageFeature=function(){var t=document.getElementById(r["default"].ids.matterMapImage);e._matterMapImageFeatureAvailable=null!=t};this.SetupRightToolbarDraw=function(){if(!e.documentDisplay.FinishedRendering){const t=r["default"].events.documentRenderComplete;y["default"].Subscribe(t,e.Draw);return}null==e.documentNavigation&&(e.documentNavigation=new Y.A);if(!e.documentNavigation.hasLoadedData&&!e.documentNavigation.isRefreshingExpiredData){const t=r["default"].events.docNavDataIsReady;y["default"].Subscribe(t,e.Draw);if(e.documentNavigation.FetchNextPreviousData(e.documentDisplay.listSource,e.documentDisplay.navigationPath,e.documentDisplay.list,e.documentDisplay.rank))return}e.setWidgets()};this.SetupTopToolbarDraw=function(){var t,n=[];(t=new Cs).SetParentDiv(e.topParentObject);t.SetDocumentNavigation(e.documentNavigation);n.push(t);if(e.documentData.metaInformation.contentTypeId!==e.fermiContentTypeIdForUKBooks&&e.documentData.metaInformation.subContentTypeId!==e.subContentTypeIdForUKFCA||!e.FullToc){if(e.documentData.metaInformation.subContentTypeId===e.keyrulesId){(t=new Ns).SetDocumentDisplay(e.documentDisplay);n.push(t)}}else{var a=new Os.A;e.FullToc(e.topParentObject,document.getElementById("co_leftColumn"),a);if(!o["default"].isFeatureEnabled("SMART BREADCRUMB DISPLAY")){(t=new Bs).SetParentDiv(e.topParentObject);t.SetFullToc(a);t.SetDocumentGuid(e.documentDisplay.DocumentGuid);n.push(t)}}var r=this.createTermNavigationWidget();n.push(r);if(e.documentData.metaInformation.subContentTypeId!==e.keyrulesId&&!this.documentDisplay.RulebookMode&&e.documentData.metaInformation.subContentTypeId!==e.selfRegulatoryOrganization&&o["default"].isFeatureEnabled("PRACTICAL LAW")&&(t=e.GeneratePracticalLawBreadCrumbsWidget())){t.SetParentDiv(e.topParentObject);n.push(t)}if(e.documentData.metaInformation.subContentTypeId===e.keyrulesId){(t=new Ps).SetParentDiv(e.topParentObject);t.AddBreadCrumb("Home","/Browse/Home?contextData=(sc.Default)&amp;transitionType=Default");t.AddBreadCrumb("KeyRules","/Browse/Home/SecondarySources/KeyRules?contextData=(sc.Default)&amp;transitionType=Default");t.AddBreadCrumb("Document");n.push(t)}if(i["default"].ViewData.RulebookMode&&i["default"].ViewData.RulebookModeContent&&null!=i["default"].ViewData.NortTableOfContents){(t=new Hs).SetParentDiv(e.topParentObject);n.push(t)}e.SetTopToolbarSubWidgets(n)};this.GeneratePracticalLawBreadCrumbsWidget=function(){return new Ps};this.SetupBottomToolbarDraw=function(){};this.setWidgets=function(){var t=[];if(o["default"].IsAnonymousSession||i["default"].displayOptions&&i["default"].displayOptions.isAbstractView){t.push(this.createDummyWidget("co_docToolbarSearchWithinDocument","Search Within","icon-search"));t.push(this.createDummyWidget("co_docToolbarAddNewAnnotationWidget","New Annotation...","icon-add-note"));t.push(this.createDummyWidget("co_docToolbarToggleAnnotationWidget","Show Annotation","icon-notes"));t.push(this.createDummyWidget("co_docToolbarSaveToWidget","Add To Folder","icon-folder-check"));t.push(this.createDummyWidget("co_docToolbarDeliveryWidgetEmail","Email","icon-envelope"));t.push(this.createDummyWidget("co_docToolbarDeliveryWidgetPrint","Print","icon-print"));t.push(this.createDummyWidget("co_docToolbarDeliveryWidgetDownload","Download","icon-download-arrow"));t.push(this.createDummyWidget("co_docToolbarDeliveryWidgetPrint","LEAP","icon-kindle"));this._deliveryHeaderLocation+=8;e.SetRightToolbarSubWidgets(t);return}if(!0===o["default"].isFeatureEnabled("PRERELCONTENTFEAT")){var n=new Vn;n.SetDocumentDisplay(e.documentDisplay);t.push(n);var a=new qn;a.SetDocumentDisplay(e.documentDisplay);t.push(a);var s=new zn;s.SetDocumentDisplay(e.documentDisplay);t.push(s);this._deliveryHeaderLocation=3}this.createSearchWithinWidget(t);if(o["default"].isFeatureEnabled("ANNOTATIONS")){const n=new $s(r["default"].texts.addNewAnnotationWidget),i=e.documentDisplay.DomId,a=document.getElementById(i)
;n.SetAnnotationsContainer(a);t.push(n);this._deliveryHeaderLocation++}if(o["default"].isFeatureEnabled("ANNOTATIONS")){const n=new $s(r["default"].texts.annotationShowHideWidget),i=e.documentDisplay.DomId,a=document.getElementById(i);n.SetAnnotationsContainer(a);t.push(n)}if(o["default"].isFeatureEnabled("FOLDERS")&&!this.documentDisplay.IsUserDocument&&v["default"].IsFolderable(document)){var l=f["default"].GetObject(r["default"].objectIds.provider).GetFolderingWidget();l.SetDocumentGuid(e.documentDisplay.DocumentGuid);l.SetDocumentDisplay(e.documentDisplay);l.SetShowFolderedStatus(!0);t.push(l);this._viewingHeaderLocation=this._deliveryHeaderLocation+1}this.CheckContentRestriction();this.DeliveryMedia={Email:{Medium:Vs["default"].Email,HasAccess:o["default"].isFeatureEnabled("EMAILDELIVERY")&&this._isEmailDownloadAvailable},Print:{Medium:Vs["default"].Print,HasAccess:o["default"].isFeatureEnabled("PRINTDELIVERY")},Download:{Medium:Vs["default"].Download,HasAccess:o["default"].isFeatureEnabled("DOWNLOADDELIVERY")&&this._isDownloadEnabled&&this._isEmailDownloadAvailable},DownloadQuickDraft:{Medium:Vs["default"].DownloadQuickDraft,HasAccess:this.HasDownloadQuickDraftAccess()},DownloadMatterMapImage:{Medium:Vs["default"].DownloadMatterMapImage,HasAccess:o["default"].isFeatureEnabled("DOWNLOADDELIVERY")&&this._isDownloadEnabled&&this._isEmailDownloadAvailable&&this._matterMapImageFeatureAvailable},Fitzroy:{Medium:Vs["default"].Fitzroy,HasAccess:o["default"].isFeatureEnabled("LEAP")&&o["default"].isIacOn("IAC-FITZROY-DELIVERY")}};if(this.DeliveryMedia.Email.HasAccess){var c=new Xs;c.SetDocumentDisplay(e.documentDisplay);c.SetDeliveryOptions(this.DeliveryMedia.Email);t.push(c);this._viewingHeaderLocation++}if(this.DeliveryMedia.Print.HasAccess){var d=new Xs;d.SetDocumentDisplay(e.documentDisplay);d.SetDeliveryOptions(this.DeliveryMedia.Print);t.push(d);this._viewingHeaderLocation++}if(this.DeliveryMedia.Download.HasAccess){var u=new Xs;u.SetDocumentDisplay(e.documentDisplay);u.SetDeliveryOptions(this.DeliveryMedia.Download);t.push(u);this._viewingHeaderLocation++}if(this.DeliveryMedia.DownloadQuickDraft.HasAccess){var h=new Xs;h.SetDocumentDisplay(e.documentDisplay);h.SetDeliveryOptions(this.DeliveryMedia.DownloadQuickDraft);t.push(h);this._viewingHeaderLocation++}if(this.DeliveryMedia.DownloadMatterMapImage.HasAccess&&o["default"].isIacOn("IAC-MATTERMAPS-DELIVER-IMAGE")){var p=new Xs;p.SetDocumentDisplay(e.documentDisplay);p.SetDeliveryOptions(this.DeliveryMedia.DownloadMatterMapImage);t.push(p);this._viewingHeaderLocation++}if(this.DeliveryMedia.Fitzroy.HasAccess){var m=new Xs;m.SetDocumentDisplay(e.documentDisplay);m.SetDeliveryOptions(this.DeliveryMedia.Fitzroy);t.push(m);this._viewingHeaderLocation++}o["default"].isFeatureEnabled("PATRONHELP")&&this._viewingHeaderLocation++;var g=new rn;if(g.DraftingNotesExistInDOM()){g.SetDocumentDisplay(e.documentDisplay);t.push(g);this._viewingHeaderLocation++}if(this.documentDisplay.RulebookModeContent){var y=new Zs;if(y.RuleBookRedlineExistInDOM()){y.SetDocumentDisplay(e.documentDisplay);t.push(y);this._viewingHeaderLocation++}}if(o["default"].isIacOn("IAC-MATTERMAPS-EDITMAP")&&this.documentData.metaInformation.isSearchable){if(null!=document.getElementById(r["default"].ids.matterMapImage)){var b=new sl;if(b.ShowWidget()){b.SetDocumentGuid(e.documentDisplay.DocumentGuid);t.push(b);this._viewingHeaderLocation++}}}if(e.documentData.metaInformation.subContentTypeId===e.keyrulesId){var C=new Ci;C.SetAllowDisplayOptionsOnly(!0);C.SetDisplayOptionsDivClass("kh_icon");var S=new fi;S.SetReadingModeManager(C);t.push(S)}if(Z["default"].PageData&&Z["default"].PageData.LinkBuilderParameters){var _=new ll;_.Initialize(Z["default"].PageData.LinkBuilderParameters);_.SetTooltipOptions({position:"left"});t.push(_)}e.SetRightToolbarSubWidgets(t)};this.createSearchWithinWidget=function(t){var n=f["default"].GetObject(r["default"].objectIds.widget$ToolbarSearchWithinDocument,[{Val:e.documentDisplay}]);n.SetDocumentDisplay(e.documentDisplay);n.SetHideRecentSearches(!0);t.push(n);this._deliveryHeaderLocation++;document.addEventListener("click",(e=>{const t=e.target.closest(`#${this._getToolBarMenuListId()} > li > div > a, #${this._getToolBarMenuListId()} > li > a`);if(t){var i=document.getElementById("co_docSearchWithinDropdownContainerInnerContent")?.classList.contains("co_dropdownBoxExpanded");!("co_docSearchWithinContainer"===t.parentNode.id)&&i&&n.Hide()}}))};this.createTermNavigationWidget=function(){var t=new Ls;t.SetParentDiv(e.topParentObject);t.SetDocumentDisplay(e.documentDisplay);return t};this.createDummyWidget=function(e,t,n){var i=new tl;i.SetDummyInfo(e,t,n);return i};this.HasDownloadQuickDraftAccess=function(){return o["default"].isFeatureEnabled("DOWNLOADDELIVERY")&&this._isDownloadEnabled&&this._isEmailDownloadAvailable&&this._quickDraftingFeatureAvailable&&this.HasValidAttachmentType()};this.HasValidAttachmentType=function(){const e=document.querySelector(`.${r["default"].classes.standardDocumentAttachment} a`)?.getAttribute("type");return e===r["default"].texts.msdocType||e===r["default"].texts.msdocxType};this._getToolBarMenuListId=()=>r["default"].ids.docToolbarVerticalMenuRight;this._getToolBarMenuListClass=()=>null;this._getToolBarMenuList=()=>{const e=document.createElement("ul");e.id=this._getToolBarMenuListId();const t=this._getToolBarMenuListClass();t&&(e.className=t);return e};this.Draw=function(){e.SetupRightToolbarDraw();e.SetupTopToolbarDraw();e.SetupBottomToolbarDraw();let t=document.createElement("div");if(e.documentNavigation.isRefreshingExpiredData||e.alreadyDrawn||!e.topParentObject)return;e.alreadyDrawn=!0;!o["default"].isIacOn("IAC-ACCESSIBILITY-DOC-DOM-FOCUS-ORDER")&&v["default"].showGlobalDocumentNavigation()&&e.drawDocumentNavigaionToolbar(t);t.id=r["default"].ids.coidDocTopToolbarInner;t.className=r["default"].classes.coDocTopToolbarInner;e.topParentObject.appendChild(t);if(null!==e.topToolbarSubWidgets){var n=null;for(let i=0;i<e.topToolbarSubWidgets.length;i++)if(null!==(n=e.topToolbarSubWidgets[i])){var a=e.getElement(n,t.id,null,"div",i);t.appendChild(a);e.drawWidget(n,a)}}t=document.createElement("div");if(e.rightToolbarSubWidgets){e.drawRightPanel(t,e.rightToolbarSubWidgets);e.rightParentObject&&e.rightParentObject.appendChild(t)}if(e.documentDisplay.RulebookModeContent){i["default"].displayOptions.isNewDocumentView&&y["default"].Publish("Cobalt.Widget.Document.Rulebook.Bootstrap");var s=document.createElement("div");s.setAttributeNode(document.createAttribute("related-content-summary-widget"));document.querySelector(".co_section")?.prepend(s)}try{if(i["default"].displayOptions.isNewDocumentView){On().bootstrap(On().element("#co_contentWrapper")[0],["document"]);e.RenderRelatedContent()}}catch(t){(0,et["default"])(t);e.widgetErrors.push(t)}if(0==x()("#"+r["default"].ids.docToolbarDeliverySubHeader).children().length){const e=document.getElementById(r["default"].ids.docToolbarDeliverySubHeader);e&&(e.style.display="none")}if(0==x()("#"+r["default"].ids.docToolbarViewingSubHeader).children().length){const e=document.getElementById(r["default"].ids.docToolbarViewingSubHeader);e&&(e.style.display="none")}if(e.widgetErrors.length>0){(0,Ee.publishErrorMessage)(A["default"].Document,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw e.widgetErrors[0]}e.SetupUtilityWidgets();e.ChunkedDocumentsWidgetBinder();if(Xn["default"].isPLDynamicAnswersAvailable()&&Xn["default"].isPLAnswersAvailable()){const e=document.getElementById("co_planchor_plAnswerPinPoint");if(!e)return;e.parentElement.closest(".co_notesContent:not(.is-active)")?.previousElementSibling?.click();v["default"].WrapFragments(x()(e),"",r["default"].classes.pinpointIcon,!1);y["default"].SubscribeOnce("Cobalt.Document.Hightlighting.NotesAndHighlightsFinishedLoading",(function(){const t=i["default"].getDocumentStickyHeaderElement(),n=(t.length?t:i["default"].getDocumentContentHeaderElement()).outerHeight(!0);e.scrollIntoView();const a=n+window.innerHeight/3;window.scrollBy(0,-a)}))}y["default"].Publish(r["default"].events.newDocumentToolbarRenderComplete)}
;this.drawRightPanel=function(t,n){var i=this._getToolBarMenuList();t.appendChild(i);null!==n&&n.filter(Boolean).forEach(((t,n)=>{var a=e.getElement(t,i.id,null,"li",n);i.appendChild(a);e.drawWidget(t,a)}));var a=`<li id='${r["default"].ids.docToolbarDeliverySubHeader}' class='${r["default"].classes.docToolbarSubHeads}'>${r["default"].texts.deliveryOptionsActionMenuHeaderText}</li>`,o=`<li id='${r["default"].ids.docToolbarViewingSubHeader}' class='${r["default"].classes.docToolbarSubHeads}'>${r["default"].texts.ViewingOptionsActionMenuHeaderText}</li>`;x()(i).find(`li:eq(${e._deliveryHeaderLocation})`).before(a);x()(i).find(`li:eq(${e._viewingHeaderLocation})`).before(o)};this.ChunkedDocumentsWidgetBinder=function(){var e=this;y["default"].Subscribe(r["default"].events.chunkRendered,(function(){e.RenderRelatedContent();e.SetupUtilityWidgets()}))};this.SetupUtilityWidgets=function(){if(!0===f["default"].IsRegistered(r["default"].objectIds.widget$KnowHowDocumentShared)){var e=f["default"].GetObject(r["default"].objectIds.widget$KnowHowDocumentShared);e.PracticalLawDocumentHistorySetup();e.JurisdictionsExpandCollapseSetup()}};this.RenderRelatedContent=function(){var e='<span id="kh_relatedContentOffset"></span>';e+='<div class="related-content-widget co_excludeAnnotations co_disableHighlightFeatures"></div>';if(0===On().element(document.querySelector('.related-content-widget[ng-show="hasData"]')).length){var t=document.querySelector("[id ^= co_docContentBody]");if(t){t.insertAdjacentHTML("beforeend",'<span id="kh_relatedContentOffset"></span><div class="related-content-widget co_excludeAnnotations co_disableHighlightFeatures"></div>');var n=On().element(document.querySelector("#co_document")).injector(),i=On().element(document.querySelector(".related-content-widget"));n.invoke(["$compile",function(e){var t=i.scope();e(i)(t)}])}}};this.SetRightToolbarSubWidgets=function(e){this.rightToolbarSubWidgets=e};this.SetTopToolbarSubWidgets=function(e){this.topToolbarSubWidgets=e};this.drawWidget=function(t,n){try{t.SetParentDiv(n);t.Draw()}catch(t){(0,et["default"])(t);e.widgetErrors.push(t)}};this.getElement=function(e,t,n,i,a){var o=document.createElement(i);o.id=(0,d.IsNotNullOrEmpty)(e.Id)?e.Id:t+r["default"].texts.childWidget+a;(0,d.IsNotNullOrEmpty)(n)?o.className=n:(0,d.IsNotNullOrEmpty)(e.ClassName)&&(o.className=e.ClassName);return o};this.CheckContentRestriction=function(){this.SetIsDownloadEnabled();if(null!=e.documentDisplay.DocumentGuid&&o["default"].isFeatureEnabled("CONTENT DLVRY RSTRCT")){var t=new il["default"](A["default"].Website,a["default"].Relative(a["default"].Rest.IsDocumentContentRestricted({guid:e.documentDisplay.DocumentGuid})),{timeout:1e4}).SynchronousGet();JSON.parse(t.ResponseText).IsContentRestricted&&(this._isEmailDownloadAvailable=!1)}this.ConfigureQuickDraftingFeature();this.ConfigureMatterMapImageFeature()};this.drawDocumentNavigaionToolbar=function(t){const n=new nl;n.SetDocumentDisplay(e.documentDisplay);n.SetParentDiv(t);n.Draw()}}var dl=n(7914);const ul=class{constructor(){this._parentDiv="";this._tooltip=null;this._localizedMessages={toggleReadingModeTurnOn:D["default"].lookup("SC.Website.Widget.DocumentReadingMode.toggleReadingModeTurnOn","Expanded view"),toggleReadingModeTurnOff:D["default"].lookup("SC.Website.Widget.DocumentReadingMode.toggleReadingModeTurnOff","Close expanded view"),toggleReadingModeStateOn:D["default"].lookup("SC.Website.Widget.DocumentReadingMode.toggleReadingModeStateOn","Reading mode turned on"),toggleReadingModeStateOff:D["default"].lookup("SC.Website.Widget.DocumentReadingMode.toggleReadingModeStateOff","Reading mode turned off")};this._styleClasses={toolbarReadingMode:"co_docToolbarReadingMode",toolbarWidgetItem:"co_docToolbarReadingModeWidget",toolbarWidgetItemBtn:"co_docToolbarReadingModeWidgetBth",spanTurnOnClass:"icon_fullscreen",spanTurnOffClass:"icon_fullscreenExit-blue"};this._ids={readingModeWidget:"co_documentReadingModeWidget",readingModeWidgetBtn:"co_documentReadingModeWidgetBtn"};this._readingModeElement=`\n      <div id="${this._ids.readingModeWidget}">\n        <button id="${this._ids.readingModeWidgetBtn}"\n          class="${this._styleClasses.toolbarWidgetItemBtn}">\n          <span class="icon25 ${this._styleClasses.spanTurnOnClass}">${this._localizedMessages.toggleReadingModeTurnOn}</span>\n        </button>\n      </div>\n    `;this.readingModeStylesClass="co_documentReadingMode";this.pageBody=x()("body");this.toolbarItems=null;this.toggleReadingMode=this.toggleReadingMode.bind(this);this.sendToogleReadingModeEvent=this.sendToogleReadingModeEvent.bind(this)}bindHandlers(){this.widget.find(`#${this._ids.readingModeWidgetBtn}`).on("click",this.toggleReadingMode);this.subscribeRestoreAction();y["default"].Subscribe(dl["default"].events.didLayoutStickyHeader,(()=>{const e=this.pageBody.hasClass(this.readingModeStylesClass);this.toggleHeader(e)}))}subscribeRestoreAction(){y["default"].Subscribe(dl["default"].events.newDocumentToolbarRenderComplete,(()=>{this.restore()}))}getToolbarItems(){this.toolbarItems||(this.toolbarItems=document.querySelectorAll(`#co_docToolbarVerticalMenuRight li:not(.${this._styleClasses.toolbarWidgetItem})`));return this.toolbarItems}getContentBlock(){this.documentContentBlock||(this.documentContentBlock=x()("#coid_website_documentWidgetDiv"));return this.documentContentBlock}toggleReadingMode(){const e=!this.pageBody.hasClass(this.readingModeStylesClass);this.toggleDocElements(e);this.publishDocLayoutChangeEvents(e)}toggleDocElements(e){y["default"].Publish(dl["default"].events.documentWillChangeLayout);this.pageBody.toggleClass(this.readingModeStylesClass);this.getToolbarItems().forEach((e=>e.classList.toggle(this._styleClasses.toolbarReadingMode)));this.toggleReadingModeBtn(e);this.toggleToc(e);this.toggleHeader(e)}publishDocLayoutChangeEvents(e){const t=x()(i["default"].currentTocNode)[0];pn["default"].setItem("MaxViewMode",JSON.stringify({guid:this._document.DocGuid,readingMode:e}));y["default"].Publish(dl["default"].events.documentMayHaveChangedSize);t?v["default"].scrollToElement(t,!0):window.scrollTo(0,window.pageYOffset);y["default"].Publish(dl["default"].events.documentDidChangeLayout)}restore(){const e=JSON.parse(pn["default"].getItem("MaxViewMode"));if(e){const{guid:t,readingMode:n}=e;n&&t===this._document.DocGuid?this.toggleReadingMode():pn["default"].removeItem("MaxViewMode")}}toggleHeader(e){const t=document.getElementById("co_docStickyHeader"),n=e?(t?.offsetHeight??0)-x()(t).find(".subSectionTitle").outerHeight():"";this.getContentBlock().css("padding-top",n)}toggleReadingModeBtn(e){const t=x()("#"+this._ids.readingModeWidgetBtn).find("span");if(e){t.removeClass(this._styleClasses.spanTurnOnClass);t.addClass(this._styleClasses.spanTurnOffClass);this.updateBtnTooltip(this._localizedMessages.toggleReadingModeTurnOff);t.text(this._localizedMessages.toggleReadingModeTurnOff)}else{t.removeClass(this._styleClasses.spanTurnOffClass);t.addClass(this._styleClasses.spanTurnOnClass);this.updateBtnTooltip(this._localizedMessages.toggleReadingModeTurnOn);t.text(this._localizedMessages.toggleReadingModeTurnOn)}}updateBtnTooltip(e){this._tooltip&&this._tooltip.setTooltipText(e)}toggleToc(e){const t=document.getElementById("co_leftColumn"),n=document.getElementById("co_contentWrapper"),i=document.querySelector(".mainkeyfinder");if(e){this.tocCollapsed=!t?.classList.contains("is-active");t?.classList.remove("is-active");n?.classList.remove("sidebar-is-active");this.pageBody.removeClass("noscroll");i&&document.getElementById("co_docStickyHeader")?.append(i)}else{if(!this.tocCollapsed){t?.classList.add("is-active");n?.classList.add("sidebar-is-active");this.pageBody.addClass("noscroll")}i&&document.getElementById("coid_docTopToolbarInner")?.append(i)}}initWidget(){this.widget=x()(this._readingModeElement);this._parentDiv.classList.add(this._styleClasses.toolbarWidgetItem);this._parentDiv.appendChild(this.widget.get(0));const e=this.widget.get(0).querySelector("button");this._tooltip=new ht["default"](e,this._localizedMessages.toggleReadingModeTurnOn,{position:"left"});this._tooltip.render();this.bindHandlers();this.registerBIEvents()}
SetParentDiv(e){this._parentDiv=e}SetDocumentData(e){this._document=e}Draw(){this._parentDiv&&this.initWidget()}registerBIEvents(){this.widget.find(`#${this._ids.readingModeWidgetBtn}`).on("click",this.sendToogleReadingModeEvent)}sendToogleReadingModeEvent(){const e=this._document.DocGuid,t=this.pageBody.hasClass(this.readingModeStylesClass)?this._localizedMessages.toggleReadingModeStateOn:this._localizedMessages.toggleReadingModeStateOff;(0,R.postUXEvent)("Cobalt.StaticContent.Document.Widget.NewDocumentToolbar.DocumentReadingMode",{guid:e,state:t})}};const hl=class extends ul{toggleToc(e){e?document.getElementById("co_docToolbarContainer")?.classList.remove("sidebar-is-active"):this.tocCollapsed||document.getElementById("co_docToolbarContainer")?.classList.add("sidebar-is-active");super.toggleToc(e)}toggleReadingModeBtn(e){super.toggleReadingModeBtn(e);if(!o["default"].IsIndigoDisplayEnabled){const t=document.getElementById("co_globalToggle");if(!t)return;e?document.getElementById("co_compartment")?.after(t):document.querySelector("#co_newHeader_top .skipButtonContainer")?.after(t)}}};function fl(){cl.call(this);this.addDocumentReadingModeWidget=function(e){var t=new hl;t.SetDocumentData(this.documentData);e.push(t);this._viewingHeaderLocation++};this.showReadingModeWidget=function(){return this.isDocInReadingModeWhiteList()&&!this.isDocInReadingModeBlackList()};this.isDocInReadingModeWhiteList=function(){return this.isPracticeNotes()||this.isStandardDocuments()||this.isChecklists()||this.isToolkits()||this.isTrackers()||this.isLegalUpdates()||this.isArticles()||this.isCountryQandA()||this.isSectorNotes()};this.isDocInReadingModeBlackList=function(){return this.isWmDeals()||this.isAskDocs()||this.isBinaryDocs()||this.isLinkShellDocs()||this.isBooks()||this.isBCIConvictions()||this.isKeyDates()};this.isWmDeals=function(){return"whats market"===this.documentData.SubContentType.toLowerCase()&&this.documentData.metaInformation.dealType};this.isAskDocs=function(){return"know how - ask"===this.documentData.SubContentType.toLowerCase()};this.isBinaryDocs=function(){return"know how - binary documents"===this.documentData.SubContentType.toLowerCase()};this.isLinkShellDocs=function(){return"know how - link shell"===this.documentData.SubContentType.toLowerCase()};this.isBooks=function(){return"uk - books"===this.documentData.SubContentType.toLowerCase()};this.isBCIConvictions=function(){return"convictionstracker"===this.documentData.SubContentType.toLowerCase()};this.isKeyDates=function(){return"key dates"===this.documentData.SubContentType.toLowerCase()};this.isPracticeNotes=function(){return 0==this.getDocumentResourceName().indexOf("practice note")};this.isStandardDocuments=function(){return"standard documents"===this.getDocumentResourceName()||"standard clauses"===this.getDocumentResourceName()};this.isChecklists=function(){return"checklists"===this.getDocumentResourceName()||"help and information notes"===this.getDocumentResourceName()};this.isToolkits=function(){return"toolkit"===this.getDocumentResourceName()};this.isTrackers=function(){return"casetracker"===this.getDocumentResourceName()||"legislation tracker"===this.getDocumentResourceName()};this.isLegalUpdates=function(){return 0==this.getDocumentResourceName().indexOf("legal update")};this.isArticles=function(){return"articles"===this.getDocumentResourceName()};this.isCountryQandA=function(){return"country q&a"===this.getDocumentResourceName()};this.isSectorNotes=function(){return"sector notes"===this.getDocumentResourceName()};this.getDocumentResourceName=function(){if(this.documentData&&this.documentData.metaInformation&&this.documentData.metaInformation.plcResourceName)return this.documentData.metaInformation.plcResourceName.toLowerCase();return""}}var pl=n(9900);function ml(){fl.call(this);var e=this.SetRightToolbarSubWidgets;this.SetRightToolbarSubWidgets=function(t){o["default"].isIacOn("IAC-PLUS-EXPANDED-VIEW")&&this.showReadingModeWidget()&&this.addDocumentReadingModeWidget(t);this.addAlertsBellWidget(t);this.addFeedbackWidget(t);this.addGradingToolCopyDocumentWidget();return e.call(this,t)};const t=this.isDocInReadingModeWhiteList;this.isDocInReadingModeWhiteList=function(){return this.isStateQA()||t.call(this)};this.isStateQA=function(){return"know how - state q&a and state q&a tools"===this.documentData.SubContentType.toLowerCase()};this.addFeedbackWidget=function(e){if(this.isPracticalLawDocument()){var t=new vs;e.push(t);this._viewingHeaderLocation++}};this.addAlertsBellWidget=function(e){if(this.isPracticalLawDocument()){var t=new Nr;t.SetDocumentData(this.documentData);e.push(t);this._viewingHeaderLocation++}};this.isPracticalLawDocument=function(){return Z["default"].PageData.DocumentTabView&&Z["default"].PageData.DocumentTabView.DisplayOptions&&Z["default"].PageData.DocumentTabView.DisplayOptions.isNewDocumentView};this.addGradingToolCopyDocumentWidget=function(){if(o["default"].isIacOn("IAC-GRADINGTOOL")&&o["default"].isFeatureEnabled("GRADING TOOL")){const e=document.createElement("div"),t=document.createElement("a");t.setAttribute("href","javascript:void(0)");t.setAttribute("id","gradingToolCopyRelevantDocumentBtn");t.setAttribute("role","button");t.setAttribute("class","gradingToolCopyRelevantDocumentBtn co_defaultBtn");const n=D["default"].lookup("SC.Search.Results.GradingTool.copyRelevantDocTitle","Copy Document"),i=document.createTextNode(n);t.appendChild(i);t.addEventListener("click",this.copyDocumentAction);const a=document.createElement("input");a.setAttribute("class","gradingToolRelevantDocument");a.setAttribute("type","hidden");const o={docGuid:this.documentData.DocGuid,docTitle:this.documentData.TitleText,contentType:"KnowHow"===this.documentData.ContentType?"Know How":this.documentData.ContentType,resultContentType:"KNOWHOW"};a.setAttribute("value",JSON.stringify(o));e.appendChild(t);e.appendChild(a);this.topParentObject.insertBefore(e,this.topParentObject.childNodes[0])}};this.copyDocumentAction=function(e){pl["default"].copyRelatedDocument(e)};var n=this.createSearchWithinWidget;this.createSearchWithinWidget=function(e){v["default"].isKeyDatesDocument()||n.call(this,e)}}var gl=n(7686),vl=n(5734),yl=n(1078);function bl(){this.documentGuid=null;this.category=null;this.contextData=null;this.originationContext=null;this.rank=null;this.docSource=null;this.documentCollection=null;this.entityId=null;this.entityType=null}bl.prototype={setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setOriginationContext:function(e){this.originationContext=e},getOriginationContext:function(){return this.originationContext},setCategory:function(e){this.category=e},getCategory:function(){return this.category},setContextData:function(e){this.contextData=e},getContextData:function(){return this.contextData},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setRank:function(e){this.rank=e},getRank:function(){return this.rank},setDocumentCollection:function(e){this.documentCollection=e},getDocumentCollection:function(){return this.documentCollection},setEntityId:function(e){this.entityId=e},getEntityId:function(){return this.entityId},setEntityType:function(e){this.entityType=e},getEntityType:function(){return this.entityType},equals:function(e){var t=!1;We["default"].isNotNullOrUndefined(e)&&e instanceof bl&&this.documentGuid===e.getDocumentGuid()&&this.category===e.getCategory()&&this.contextData===e.getContextData()&&this.originationContext===e.getOriginationContext()&&this.rank===e.getRank()&&this.docSource===e.getDocSource()&&this.documentCollection===e.getDocumentCollection()&&this.entityId===e.getEntityId()&&this.entityType===e.getEntityType()&&(t=!0);return t}};var Cl=n(8042);function Sl(){this.menuOpts={disabledItemClass:"co_disabled"};this.buttonOpts={dropdownIdPrefix:"coid_relatedInfo_subCategory_"}}Sl.prototype.draw=function(e){if(!e)return;const t=document.getElementById(`co_${e.category}NavAnchor`),n=document.getElementById(`${e.category}Tab`),i=document.getElementById(`co_${e.category}NavContent`);this.opts=e;this.buttonOpts={...this.buttonOpts,dropdownContainer:n,
labelForButton:t?.textContent,dropdownIdPrefix:"coid_relatedInfo_subCategory_",hoverRelativeElement:n};return this._fetchItems().then((n=>{const a=n.map((e=>this._processMenuItem(e)));this.menuOpts.items=a;this.menu=new Cl["default"](this.menuOpts);this.menuButton=new zi["default"](this.menu,this.buttonOpts);this.menuButton.draw();t?.remove();i?.remove();const o=this.menuButton.getDOMElement();o.setAttribute("aria-labelledby",`coid_relatedInfo_${e.category}_link`);o.innerHTML=`<span class="icon25 icon_downMenu-gray">${this.buttonOpts.labelForButton}</span>`}))};Sl.prototype._getCategoryDropdownParams=function(){const e=new bl;e.setDocumentGuid(this.opts.documentGuid);e.setCategory(this.opts.category);e.setContextData(a["default"].PageContextData);e.setOriginationContext(this.opts.originationContext);e.setDocSource(this.opts.docSource);e.setRank(this.opts.rank);e.setDocumentCollection(this.opts.documentCollection);e.setEntityId(this.opts.entityId);e.setEntityType(this.opts.entityType);return e};Sl.prototype._fetchItems=function(){const e=this._getCategoryDropdownParams();return new Promise((t=>{yl.$.requestData(e,t)}))};Sl.prototype._processMenuItem=function(e){const t=this.getTabNavNoCountObject(),n=`coid_relatedInfo_subCategory_link${e.id}`;let i=e.link,a=e.displayName;"wlnIPToolsOverview.PatentFamilyTree"===e.id&&(i+=`#PatentFamilyTree=patAndAppCount=${e.count}`);t[e.id]||(a=D["default"].format("SC.Website.Views.Shared.TabViews.TabName",{TabName:e.displayName,count:e.count},`${e.displayName} (${e.count})`));return{content:a,id:n,href:i,isDisabled:0===e.count&&!t[e.id]}};class _l extends Sl{getTabNavNoCountObject(){const e={"StatuteHistory.Graphical":!0};return e}draw(e){const t=document.getElementById(`co_${e.category}NavAnchor`),n=x()("#DocumentTab"),i=this._getRelatedProfilesMenuItems(e.preViewData);this.menuOpts.items=i;this.opts=e;this.buttonOpts={...this.buttonOpts,dropdownContainer:n,hoverRelativeElement:n,labelForButton:t?.textContent,iconClass:"icon25 co_dropdownArrowCollapsed",idForButton:`#co_${e.category}NavAnchor`};this.menu=new Cl["default"](this.menuOpts);this.menuButton=new Dt["default"](this.menu,this.buttonOpts);this.menuButton.draw();this.menuButton.getDOMElement().innerHTML=`<span class="icon25 icon_downMenu-gray">${this.buttonOpts.labelForButton}</span>`;t?.remove()}_getRelatedProfilesMenuItems(e){if(!e.RelatedProfiles)return;const t=e.RelatedProfiles.Profiles,n=[];for(const e of t)n.push(this._processMenuItem(e.ProfileType,e.ProfileName,e.url,e.isCurrentDoc));return n}_processMenuItem(e,t,n,i){return{content:t,id:`coid_relatedInfo_subCategory_link${e}`,href:n,isDisabled:!0===i}}}const Dl=Sl;function Tl(){Dl.call(this)}Tl.prototype=new Dl;Tl.prototype.constructor=Tl;Tl.prototype.getTabNavNoCountObject=function(){var e={StatuteHistory:!0,"StatuteHistory.Graphical":!0,riLegislativeTimeline:!0};return e};const Il=Tl;function xl(){Dl.call(this)}xl.prototype=new Dl;xl.prototype.constructor=xl;xl.prototype.getTabNavNoCountObject=function(){var e={ContextAnalysis:!0};return e};const kl=xl;function wl(){Dl.call(this)}wl.prototype=new Dl;wl.prototype.constructor=wl;wl.prototype.getTabNavNoCountObject=function(){var e={ContextAnalysis:!0};return e};const El=wl;function Al(){Dl.call(this)}Al.prototype=new Dl;Al.prototype.constructor=Al;Al.prototype.getTabNavNoCountObject=function(){return{}};const Ll=Al;function Nl(){Dl.call(this)}Nl.prototype=new Dl;Nl.prototype.constructor=Nl;Nl.prototype.getTabNavNoCountObject=function(){return{}};const Rl=Nl;function Pl(){Dl.call(this)}Pl.prototype=Object.create(Dl.prototype);Pl.prototype.constructor=Pl;Pl.prototype.getTabNavNoCountObject=function(){return{}};const Ol=Pl;function Bl(){Dl.call(this)}Bl.prototype=new Dl;Bl.prototype.constructor=Bl;Bl.prototype.getTabNavNoCountObject=function(){return{}};const Ml=Bl;function Fl(){Dl.call(this)}Fl.prototype=new Dl;Fl.prototype.constructor=Fl;Fl.prototype.getTabNavNoCountObject=function(){return{}};const Wl=Fl;function Hl(){Dl.call(this)}Hl.prototype=new Dl;Hl.prototype.constructor=Hl;Hl.prototype.getTabNavNoCountObject=function(){var e={wlnIPToolsOverview:!0};return e};const Gl=Hl;const Ul=class{constructor(e,t){this.opts={docSource:e,rank:t}}addTabPreview(e){if(!this._isValidCategory(e.category))return;const t=this._overrideWidget(e.category);if(t){const n=Object.assign({},e,this.opts);t.draw(n)}}_overrideWidget(e){let t;switch(e){case"StatuteHistory":t=new Il;break;case"ContextAnalysis":t=new kl;break;case"riContextAnalysis":t=new El;break;case"StatuteCitingReferences":t=new Ll;break;case"Profiler":t=new _l;break;case"wlncCitingReferences":t=new Rl;break;case"wlncLaRefCitingReferences":t=new Ol;break;case"kcCitingReferences":t=new Ml;break;case"riMedicalReferences":t=new Wl;break;case"wlnIPToolsOverview":t=new Gl}return t}_isValidCategory(e){return["StatuteHistory","ContextAnalysis","riContextAnalysis","Profiler","wlncCitingReferences","wlncLaRefCitingReferences","kcCitingReferences","StatuteCitingReferences","riMedicalReferences","wlnIPToolsOverview"].indexOf(e)>=0}},jl={getPoweredByKeyCiteBoxIconsUrls:{yellowImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_yellow_small.png"),redImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_red_small.png"),blueImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_blue_small.png"),redStripedImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_red_striped_small.png"),cautionImage:A["default"].GetUrl(A["default"].Images,"/images/v1/caution_orange_small.png")}};function $l(){this._poweredByLightbox=null;this._contentHtml=st().template('<div>\n    <p><%- paragraphs.keyCiteDescription %></p>\n    <p><%- paragraphs.keyCiteWestKeyNumberIntegration %></p>\n    <p><%- paragraphs.keyCiteFlags %></p>\n    <ul class="co_keyciteLightboxList"><%\n    \tif (typeof(yellowFlag) !== \'undefined\') {\n        \t%><li>\n\t            <img src="<%- yellowFlag.imageUrl %>" alt="<%- yellowFlag.imageHint %>"/>\n\t            <p><%- yellowFlag.casesAndAdministrativeDecisions %></p>\n\t            <p><%- yellowFlag.statutesAndRegulations %></p>\n\t            <p><%- yellowFlag.patentsAndTrademarks %></p>\n        \t</li><%\n        }\n        if (typeof(redFlag) !== \'undefined\') {\n\t        %><li>\n\t            <img src="<%- redFlag.imageUrl %>" alt="<%- redFlag.imageHint %>"/>\n\t            <p><%- redFlag.casesAndAdministrativeDecisions %></p>\n\t            <p><%- redFlag.statutesAndRegulations %></p>\n\t            <p><%- redFlag.patentsAndTrademarks %></p>\n\t        </li><%\n\t    }\n\t\tif (typeof(redStripedFlag) !== \'undefined\') {\n\t        %><li>\n\t            <img src="<%- redStripedFlag.imageUrl %>" alt="<%- redStripedFlag.imageHint %>"/>\n\t            <p><%= redStripedFlag.description %></p>\n\t        </li><%\n\t    }\n\t    if (typeof(blueFlag) !== \'undefined\') {\n        \t%><li>\n\t            <img src="<%- blueFlag.imageUrl %>" alt="<%- blueFlag.imageHint %>"/>\n\t            <p><%- blueFlag.description %></p>\n\t        </li><%\n\t    }\n\t    if (typeof(overrulingFlag) !== \'undefined\') {\n\t        %><li>\n\t            <img src="<%- overrulingFlag.imageUrl %>" alt="<%- overrulingFlag.imageHint %>"/>\n\t            <p><%- overrulingFlag.description %></p>\n\t        </li><%\n\t    }\n    %></ul>\n    <p><%- paragraphs.keyCiteReferences %></p>\n    <p><%- paragraphs.forMoreInfo %></p>\n</div>')(this.buildFlagInfoData());this._footerHtml='<ul>  <li><button class="co_primaryBtn" id="co_poweredByKeyCiteClose">'+D["default"].lookup("SC.Website.PoweredByKeyCiteBox.CloseButton","Close")+"</button></li></ul>"}$l.prototype.buildFlagInfoData=function(){const e={yellowFlag:{imageUrl:o["default"].isIacOn("IAC-POWERED-BY-KEYCITE-EDGE-FLAGS")?jl.getPoweredByKeyCiteBoxIconsUrls.yellowImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_yellow_small.png"),imageHint:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.KeyCiteYellowFlag","KeyCite Yellow Flag"),
casesAndAdministrativeDecisions:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph4.YellowFlag.CasesAndAdministrativeDecisions","• Cases & Administrative Decisions - some negative treatment, but not reversed or overruled"),statutesAndRegulations:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph4.YellowFlag.StatutesAndRegulations","• Statutes & Regulations - proposed legislation or rule available, court decision has questioned validity, or prior version received negative treatment from a court"),patentsAndTrademarks:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph4.YellowFlag.PatentsAndTrademarks","• Patents & Trademarks - not infringed, but did not rule on its validity, all or part valid and not infringed, held a trademark was not diluted, or held a trademark was not violated by unfair competition")},redFlag:{imageUrl:o["default"].isIacOn("IAC-POWERED-BY-KEYCITE-EDGE-FLAGS")?jl.getPoweredByKeyCiteBoxIconsUrls.redImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_red_small.png"),imageHint:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.KeyCiteRedFlag","KeyCite Red Flag"),casesAndAdministrativeDecisions:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph5.RedFlag.CasesAndAdministrativeDecisions","• Cases & Administrative Decisions - no longer good for at least one point of law"),statutesAndRegulations:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph5.RedFlag.StatutesAndRegulations","• Statutes & Regulations - amended, repealed, superseded, or held unconstitutional or preempted in whole or in part"),patentsAndTrademarks:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph5.RedFlag.PatentsAndTrademarks","• Patents & Trademarks - all or part is invalid, invalid and not infringed, all or part of a patent is unenforceable due to the patentee's inequitable conduct, or a trademark is cancelled")},blueFlag:{imageUrl:o["default"].isIacOn("IAC-POWERED-BY-KEYCITE-EDGE-FLAGS")?jl.getPoweredByKeyCiteBoxIconsUrls.blueImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_blue_small.png"),imageHint:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.KeyCiteBlueFlag","KeyCite Blue Flag"),description:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph6","A blue-striped flag indicates a document has been appealed to the U.S. Courts of Appeals or the U.S. Supreme Court (excluding appeals originating from agencies).")},paragraphs:{keyCiteDescription:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph1","KeyCite is the powerful citation research service available exclusively on Westlaw. Use KeyCite at every step of your research to help you find, understand, and update the law."),keyCiteWestKeyNumberIntegration:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph2","The KeyCite citation network is integrated with the West Key Number system. This integration allows KeyCite to connect documents that discuss the same legal issues with the analytical materials that explain those issues."),keyCiteFlags:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph3","Once you have found a document upon which to base your legal argument, KeyCite Flags alert you to negative references or events that may impact the validity of that document."),keyCiteReferences:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.Paragraph7","KeyCite citing references help you investigate how other authorities have interpreted that document.  If your document is a court decision, KeyCite History tells you if that decision was reversed or upheld in a later appeal."),forMoreInfo:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.ForMoreInfo","For more information on using KeyCite,  please see the KeyCite tutorial in the Training & Support Center.")}};Gi["default"].isKeyCiteOverrulingsAllowed()&&(e.overrulingFlag={imageUrl:o["default"].isIacOn("IAC-POWERED-BY-KEYCITE-EDGE-FLAGS")?jl.getPoweredByKeyCiteBoxIconsUrls.cautionImage:A["default"].GetUrl(A["default"].Images,"/images/v1/caution_orange_small.png"),imageHint:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.KeyCiteOverrulingFlag","Implied Overruling Risk Warning"),description:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.KeyCiteOverrulingFlag.Description","The Overruling Risk warning indicates that a document may no longer be good for at least one point of law based on its reliance on an overruled or otherwise invalid prior decision.")});Gi["default"].isIssueLevelKeyCiteAllowed()&&(e.redStripedFlag={imageUrl:o["default"].isIacOn("IAC-POWERED-BY-KEYCITE-EDGE-FLAGS")?jl.getPoweredByKeyCiteBoxIconsUrls.redStripedImage:A["default"].GetUrl(A["default"].Images,"/images/v1/flag_red_striped_small.png"),imageHint:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.RedStripedFlag","KeyCite Red-Striped Flag"),description:D["default"].lookup("SC.Website.PoweredByKeyCiteBox.RedStripedFlag.Description","A red-striped flag indicates that a case is no longer good for at least one <u>identified</u> point of law.")});return e};$l.prototype.closeDialog=function(){if(null!=this._poweredByLightbox){this._poweredByLightbox.Remove();this._poweredByLightbox=null}};$l.prototype.openDialog=function(){this._poweredByLightbox=new fe["default"];this._poweredByLightbox.SetId("co_keycitePowered");this._poweredByLightbox.SetClass("co_searchWidget_poweredby_lightboxclass");this._poweredByLightbox.SetCloseLinkObject({id:"co_searchWidget_poweredby_popupclose",alt:"Close",onclick:()=>{this.closeDialog()}});this._poweredByLightbox.SetTitle(D["default"].lookup("SC.Website.KeyCite.Lightbox.Title","KeyCite&reg;"));this._poweredByLightbox.GetContentDomElement().innerHTML=this._contentHtml;this._poweredByLightbox.GetFooterDomElement().innerHTML=this._footerHtml;this._poweredByLightbox.SetIsExpandedView(!0);this._poweredByLightbox.Draw();document.getElementById("co_poweredByKeyCiteClose")?.addEventListener("click",(()=>{this.closeDialog()}));var e=document.getElementById("co_keycitePowered");(0,ni.addEscapeListener)(e,this.closeDialog.bind(this))};$l.prototype.setContent=function(e){this._contentHtml=e};const Vl=$l;var ql=function(){this.documentGuid=null;this.token=null;this.citation=null;this.legacyId=null;this.firmName=null;this.firmLogoUri=null;this.searchTranId=null;this.visible=!1;this.startIndex=null;this.paginationWidgetDiv=null;this.facetWidgetDiv=null;this.toolbarWidgetDiv=null;this.contentWidgetDiv=null;this.docSource=null;this.rank=null;this.serverProtocol=null};ql.prototype={setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setServerProtocol:function(e){this.serverProtocol=e},getServerProtocol:function(){return this.serverProtocol},setRank:function(e){this.rank=e},getRank:function(){return this.rank},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setToken:function(e){this.token=e},getToken:function(){return this.token},setCitation:function(e){this.citation=e},getCitation:function(){return this.citation},setLegacyId:function(e){this.legacyId=e},getLegacyId:function(){return this.legacyId},setFirmName:function(e){this.firmName=e},getFirmName:function(){return this.firmName},setFirmLogoUri:function(e){this.firmLogoUri=e},getFirmLogoUri:function(){return this.firmLogoUri},setSearchTranId:function(e){this.searchTranId=e},getSearchTranId:function(){return this.searchTranId},setVisible:function(e){this.visible=e},isVisible:function(){return this.visible},setStartIndex:function(e){this.startIndex=e},getStartIndex:function(){return this.startIndex},setPaginationWidgetDiv:function(e){this.paginationWidgetDiv=e},getPaginationWidgetDiv:function(){return this.paginationWidgetDiv},setFacetWidgetDiv:function(e){this.facetWidgetDiv=e},setToolbarWidgetDiv:function(e){this.toolbarWidgetDiv=e},getToolbarWidgetDiv:function(){return this.toolbarWidgetDiv},setContentWidgetDiv:function(e){this.contentWidgetDiv=e},getContentWidgetDiv:function(){return this.contentWidgetDiv}};const zl=ql;var Kl=n(81),Yl=n(468);function Ql(e){var t=this,n=e;this.retriesRemaining=1;const i=3e4,o="KMClientConnectionState";this.retrieveSearchStatus=function(e,i,a){
var o=n.getSearchTranId();if(o){var l="km/api/v1/search/{searchId}/status?token={authToken}",c={};c.searchId=o;c.authToken=n.getToken();s(l=r(l,c),(new Date).getTime()+3e4,e,a,i);return}t.citationSearch(e,a);return};this.retrieveSortFields=function(e,i){var a="km/api/v1/search/sortfields?searchId={searchId}&token={authToken}",o={};o.searchId=n.getSearchTranId();o.authToken=n.getToken();a=r(a,o);t.invokeKmRequest((function(t){e(t)}),a,3e4,i)};this.resetAllFacets=function(e,i){var a="km/api/v1/search/{searchId}/limits?token={authToken}&command=1",o={};o.searchId=n.getSearchTranId();o.authToken=n.getToken();a=r(a,o);t.invokeKmRequest((function(t){e(t)}),a,3e4,i)};this.retrieveFacets=function(e,a){var o="km/api/v1/search/{searchId}/limits?token={authToken}",s={};s.searchId=n.getSearchTranId();s.authToken=n.getToken();o=r(o,s);t.invokeKmRequest((function(t){e(t)}),o,i,a)};this.sort=function(e,i,a,o){var s="km/api/v1/search/{searchId}/sort?sortby={currentSortOption}&order={currentSortOrder}&token={authToken}",l={};l.searchId=n.getSearchTranId();l.authToken=n.getToken();l.currentSortOption=e;l.currentSortOrder=i+"";s=r(s,l);t.invokeKmRequest((function(e){a(e)}),s,3e4,o)};this.sort=function(e,i,a,o){var s="km/api/v1/search/{searchId}/sort?sortby={currentSortOption}&order={currentSortOrder}&token={authToken}",l={};l.searchId=n.getSearchTranId();l.authToken=n.getToken();l.currentSortOption=e;l.currentSortOrder=i+"";s=r(s,l);t.invokeKmRequest((function(e){a(e)}),s,3e4,o)};this.updateFacets=function(e,a,o,s,l){var c="km/api/v1/search/{searchId}/limit?limitField={facetKey}&command={command}&value={facetValue}&token={authToken}",d={};d.searchId=n.getSearchTranId();d.authToken=n.getToken();d.facetKey=encodeURIComponent(e);d.command=o;d.facetValue=encodeURIComponent(a);c=r(c,d);t.invokeKmRequest((function(e){s(e)}),c,i,l)};this.updateDepthFacet=function(e,a,o,s,l,c){let d="km/api/v1/search/{searchId}/limit?limitField={facetKey}&command={command}&value={facetValue}&token={authToken}";var u={};u.searchId=n.getSearchTranId();u.authToken=n.getToken();u.facetKey=encodeURIComponent(e);u.command=o;u.facetValue=encodeURIComponent(a);d=r(d,u);for(let e=0;e<s.length;e++)s[e]==a&&s.splice(e,1);var h=function(e){l(e)};if(0==o||0==s.length)t.invokeKmRequest(h,d,i,c);else{t.invokeKmRequest((function(){}),d,i,c);for(let e=0;e<s.length;e++){let n="km/api/v1/search/{searchId}/limit?limitField={facetKey}&command=0&value="+s[e]+"&token={authToken}";n=r(n,u);e+1>=s.length?t.invokeKmRequest(h,n,i,c):t.invokeKmRequest((function(){}),n,i,c)}}};this.retrieveSearchResults=function(e,i,a,o){var s="km/api/v1/search/{searchId}/results?start={startIndex}&end={endIndex}&token={authToken}",l={};l.searchId=n.getSearchTranId();l.authToken=n.getToken();l.startIndex=""+e;l.endIndex=""+i;s=r(s,l);t.invokeKmRequest((function(e){a(e)}),s,3e4,o)};this.citationSearch=function(e,i){var a="km/api/v1/search/keycite/start?cite={citation}&normalized=true&citingRef={citingRef}&token={token}",o={citation:n.getCitation(),token:n.getToken(),citingRef:n.isVisible()?"1":"0"};a=r(a,o);t.invokeKmRequest((function(o){if(l(o,"SearchTranId",i,a)){n.setSearchTranId(o.SearchTranId);t.retrieveSearchStatus(e,!1,i)}else if("KM.CiteRecognitionDomain.Exceptions.WestkmKeyCiteTranslationException"==o.Exception){o.Count=0;e(o)}}),a,3e4,i)};var r=function(e,t){return e.replace(/\{([^{}]*)\}/g,(function(e,n){var i=t[n];return"string"==typeof(i="function"==typeof i?i():i)?i:e}))};this.getConnectionState=function(){const e=pn["default"].getItem(o);if(e)return JSON.parse(e);return{}};this.setConnectionState=function(e){e?pn["default"].setItem(o,JSON.stringify(e)):pn["default"].removeItem(o)};this.invokeKmRequest=function(e,i,o){const r=A["default"].GetHost(A["default"].KM);let s=n.getServerProtocol();We["default"].isBlank(s)&&(s="string"==typeof Yl["default"].Protocol?Yl["default"].Protocol:"HTTP");let l=a["default"].Absolute({Protocol:s,Host:r,Path:i,QueryString:void 0});const c=We["default"].createUniqueValue();l=l+"&cachePrevent="+c;const d=t.getConnectionState(),u=d.connectionEstablished&&d.jsonpErrors?"json":"jsonp",h=n=>{if(!d.connectionEstablished){d.connectionEstablished=!0;d.jsonpErrors="jsonp"!==u;t.setConnectionState(d)}"function"==typeof e&&e(n)},f=n=>{if(!d.connectionEstablished){d.connectionEstablished=!0;if("jsonp"===u){d.jsonpErrors=!0;t.setConnectionState(d);t.invokeKmRequest(e,i,o)}}throw n};if("jsonp"===u){(0,Kl.loadScript)(l,{timeout:o,ignoreScriptErrors:!0}).then(h,f);return}(async()=>{const e=await fetch(l,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(o),credentials:d.includeCredentials?"include":"same-origin"});if(!e.ok)throw new Error(`Failed to get KM data. HTTP status: ${e.status}`);return e.json()})().then(h,f)};function s(e,i,a,o,r){var c=i-(new Date).getTime();c<=0||t.invokeKmRequest((function(d){if(null!=d.Message&&"The provided SearchId does not match any current searches."==d.Message&&t.retriesRemaining>0){t.retriesRemaining=t.retriesRemaining-1;n.setSearchTranId(null);t.citationSearch(a,o)}else{l(d,"StatusCode",o,e);if(l(d,"StatusCode",o,e))if(2==d.StatusCode){var u=Math.min(1e3,c);setTimeout((function(){s(e,i,a,o,r)}),u)}else 0==d.StatusCode||-1==d.StatusCode?a(d):d.StatusCode}}),e,c,o)}function l(e,t,n,i,a){if(null==e||void 0===e[t]||void 0!==a&&a!=e[t]){JSON.stringify(e);return!1}return!0}}var Xl=n(7271),Jl=n(3890);const Zl={Instance:void 0};var ec={createTextCell:function(e,t,n){var i=document.createElement("td");We["default"].isNotNullOrUndefined(n)&&""!=n?i.className="co_detailsTable_"+n:i.className="co_detailsTable_cell";if(We["default"].isNotNullOrUndefined(e)&&e.length>0)i.innerHTML=e;else{i.className=i.className+" empty";i.appendChild(We["default"].createDash())}return i},createCheckBoxCell:function(e){var t=document.createElement("td");t.className="co_detailsTable_select";var n=e.guid,i=e.contentType;We["default"].isNullOrUndefined(n)&&(n=e.documentGuid);We["default"].isNotNullOrUndefined(e.deliveryContentType)&&(i=e.deliveryContentType);if(We["default"].isNotNullOrUndefined(n)&&""!==n){var a=document.createElement("div");a.className="co_relative";var o=document.createElement("input");o.type="checkbox";o.id="coid_relatedInfo_resultList_checkbox_"+n;o.className="coid_relatedInfo_resultList_checkbox";o.setAttribute("title",e.title);o.setAttribute("guid",n);o.setAttribute("contentType",i);var r=n;if(We["default"].isNotNullOrUndefined(e.itemIdentifier)&&""!=e.itemIdentifier){o.setAttribute("itemIdentifier",e.itemIdentifier);r=e.itemIdentifier}else if(We["default"].isNotNullOrUndefined(e.relationshipGuid)&&""!=e.relationshipGuid){o.setAttribute("itemIdentifier",e.relationshipGuid);r=e.relationshipGuid}We["default"].isNotNullOrUndefined(e.navigationPath)&&o.setAttribute("navigationPath",e.navigationPath);We["default"].isNotNullOrUndefined(e.listSource)&&o.setAttribute("listSource",e.listSource);We["default"].isNotNullOrUndefined(e.list)&&o.setAttribute("list",e.list);We["default"].isNotNullOrUndefined(e.rank)&&o.setAttribute("rank",e.rank);Zl.Instance.isCheckboxChecked(r)&&(o.checked=!0);o.onclick=function(){Zl.Instance.checkBoxChanged(o)};a.appendChild(o);t.appendChild(a)}else{t.className=t.className+" empty";t.appendChild(We["default"].createDash())}return t},createDepthCell:function(e){var t=document.createElement("td");t.className="co_detailsTable_depth";var n=Zl.Instance,i=e.depthCode;if(We["default"].isNotNullOrUndefined(e)){var a,o,r=!1,s=document.createElement("div");s.id="coid_relatedInfo_dotBar_"+i;s.className="co_relatedInfo_dotBar_"+i;var l=n.docMetaData.TitleText;(We["default"].isNullOrUndefined(o)||We["default"].isBlank(o))&&(o=e.title);if("1"===i)a=l+" Mentioned by "+o;else if("2"===i)a=l+" Cited by "+o;else if("3"===i)a=l+" Discussed by "+o;else if("4"===i)a=l+" Examined by "+o;else{r=!0;t.className=t.className+" empty";t.appendChild(We["default"].createDash())}if(!r){s.title=a;s.innerHTML=a;t.appendChild(s)}}return t},createKCAResultDepthCell:function(e){var t=document.createElement("td");t.className="co_detailsTable_depth";var n=e.depthCode;if(We["default"].isNotNullOrUndefined(e))if(0!=n&&1!=n&&2!=n&&3!=n&&4!=n){
t.className=t.className+" empty";t.appendChild(We["default"].createDash())}else{var i=document.createElement("div");i.id="coid_relatedInfo_dotBar_"+n;i.className="co_relatedInfo_dotBar_"+n;i.innerHTML=n;t.appendChild(i)}return t},createKMDepthCell:function(e){var t=document.createElement("td");t.className="co_detailsTable_depth";var n=e.depthCode;if(We["default"].isNotNullOrUndefined(e))if(0!=n&&1!=n&&2!=n&&3!=n&&4!=n){t.className=t.className+" empty";t.appendChild(We["default"].createDash())}else{var i=document.createElement("div");i.id="coid_relatedInfo_dotBar_"+n;i.className="co_relatedInfo_dotBar_"+n;i.innerHTML=n;t.appendChild(i)}return t},createKMTreatmentCell:function(e,t){var n=document.createElement("td");n.className="co_detailsTable_treatment";var i=document.createElement("span");i.id="coid_relatedInfo_grid_treatment_"+t;i.className="co_relatedInfo_grid_treatment";if(void 0!==e.treatment&&null!=e.treatment&&e.treatment.length>0)i.innerHTML=e.treatment;else{n.className=n.className+" empty";n.appendChild(We["default"].createDash())}""!=i.innerHTML&&n.appendChild(i);return n},createHeadnoteCell:function(e,t){var n=Zl.Instance,i=document.createElement("td");i.className="co_detailsTable_headnotes";if(We["default"].isNotNullOrUndefined(e)){var a=e.headnoteInfoList;(We["default"].isNullOrUndefined(a)||We["default"].isNullOrUndefined(a[0]))&&(a=e.headnoteInfos);var r=e.guid;We["default"].isNullOrUndefined(r)&&(r=e.documentGuid);if(void 0!==a&&void 0!==a[0]){var s=document.createElement("div");s.id="coid_relatedInfo_grid_headnote_"+t;s.className="co_relatedInfo_grid_headnote";for(var l=[],c=0;c<a.length;c++){var d=a[c],u=document.createElement("ol");u.className="co_relatedInfo_grid_headnoteList";var h=document.createElement("span");h.innerHTML=d.abbreviation;for(var f=0;f<d.headnotes.length;f++){var p=d.headnotes[f],m=p.sequenceNumber,g=d.type,v=document.createElement("li"),b="coid_relatedInfo_grid_headnote_item_"+t+"_"+g+m;v.id=b;v.className="co_disabled";var C=document.createElement("span");C.setAttribute("title","Headnote "+p.sequenceNumber+" of Cited Case");C.seqNum=m;C.type=g;C.innerHTML=p.sequenceNumber;var S=p.linkUrl;if(null!=S&&""!==S){var _=document.createElement("div");_.appendChild(C);v.appendChild(_);var D=document.createElement("span");C.appendChild(D);D.style.top="auto";D.style.overflow="hidden";D.style.left="-10000px";D.style.position="absolute";D.style.height="1px";D.style.width="1px";var T={seqNum:m,type:g,elementId:b,linkUrl:S,headnoteElement:C,hoverSpanElement:D};l.push(T);if("StatuteCitingReferences"!==n.category&&!o["default"].EnableIpad){C.addEventListener("mouseenter",(function(e){n.headnotesWidget.lookupHeadnote(r,e.target,e.target)}));_.addEventListener("focus",(function(e){var t=e.target.querySelector("span");t&&n.headnotesWidget.lookupHeadnote(r,t,e.target)}))}}else v.appendChild(C);u.appendChild(v)}y["default"].Subscribe("Cobalt.RelatedInfo.Headnotes.Complete",(function(){n.headnotesWidget.addHeadnoteTextToElements(l)}));s.appendChild(u);s.appendChild(h)}i.appendChild(s)}else{i.className=i.className+" empty";i.appendChild(We["default"].createDash())}}return i},createKCAResultHeadnoteCell:function(e,t){var n=document.createElement("td");n.className="co_detailsTable_headnotes";if(We["default"].isNotNullOrUndefined(e)){var i=e.headnoteInfoList;(We["default"].isNullOrUndefined(i)||We["default"].isNullOrUndefined(i[0]))&&(i=e.headnoteInfos);var a=e.guid;We["default"].isNullOrUndefined(a)&&(a=e.documentGuid);if(We["default"].isNotNullOrUndefined(i))if(void 0!==i&&void 0!==i[0]){var o=document.createElement("div");o.id="coid_relatedInfo_grid_headnote_"+t;o.className="co_relatedInfo_grid_headnote";for(var r=0;r<i.length;r++){var s=i[r],l=document.createElement("ol");l.className="co_relatedInfo_grid_headnoteList";var c=document.createElement("span");c.innerHTML=s.abbreviation;for(var d=0;d<s.headnotes.length;d++){var u=s.headnotes[d],h=u.sequenceNumber,f=s.type,p=document.createElement("li"),m="coid_relatedInfo_grid_headnote_item_"+t+"_"+f+h;p.id=m;var g=document.createElement("span");g.setAttribute("title","Headnote "+u.sequenceNumber+" of Cited Case");g.seqNum=h;g.type=f;g.innerHTML=u.sequenceNumber;var v=u.linkUrl;if(null!=v&&""!==v){var y=document.createElement("a");y.setAttribute("href",v);y.setAttribute("class","co_relatedInfo_grid_headnoteAnchor");y.setAttribute("target","_blank");y.appendChild(g);p.appendChild(y)}else p.appendChild(g);l.appendChild(p)}o.appendChild(l);o.appendChild(c)}n.appendChild(o)}else{n.className=n.className+" empty";n.appendChild(We["default"].createDash())}else{n.className=n.className+" empty";n.appendChild(We["default"].createDash())}}return n},createPdfCell:function(e){var t=document.createElement("td");t.className="co_detailsTable_pdf";var n=e.pdfLink;if(We["default"].isNotNullOrUndefined(n)&&""!==n){var i=document.createElement("a");i.className="co_blobLink";i.type="application/pdf";i.href=n;i.target="_blank";var a=document.createElement("img");a.className="co_relatedInfo_pdfIcon";a.src=A["default"].GetUrl(A["default"].Images,"/images/v1/co_pdf-icon.gif");a.alt="PDF Download for "+e.primaryCitation;i.setAttribute("title","Download");i.appendChild(a);t.appendChild(i)}else{t.className=t.className+" empty";t.appendChild(We["default"].createDash())}return t},createTreatmentCell:function(e,t,n){var i=document.createElement("td");i.className="co_detailsTable_treatment";var a=document.createElement("span");a.id="coid_relatedInfo_grid_treatment_"+t;a.className="co_relatedInfo_grid_treatment";if(void 0!==e.treatment&&e.treatment.length>0)a.innerHTML=e.treatment;else{var o="";if("1"==e.depthCode)o="Mentioned by";else if("2"==e.depthCode)o="Cited by";else if("3"==e.depthCode)o="Discussed by";else if("4"==e.depthCode)o="Examined by";else{i.className=i.className+" empty";i.appendChild(We["default"].createDash())}""!=o&&(i.innerHTML=o)}""!=a.innerHTML&&i.appendChild(a);if(!n&&!e.positive){var r=document.createElement("div"),s=A["default"].GetUrl(A["default"].Images,"/images/co_icon_treatmentLabel_negative.gif"),l=document.createElement("img");l.src=s;r.appendChild(l);r.className="co_textCenter";i.appendChild(r)}return i},createNODTopicsCell:function(e){var t=document.createElement("td");t.className="co_detailsTable_topics";if(null!=e&&e.length>0){var n=[],i=document.createElement("ul");i.className="co_detailsTable_topics_full";for(let t=0;t<e.length;t++){var a=D["default"].format("SC.RelatedInfo.CitingReferences.Content.NODTopics",{nodnumber:e[t].nodnumber,nodtext:e[t].nodtext},e[t].nodnumber+". "+e[t].nodtext);n.push(a);const o=document.createElement("li");o.textContent=a;i.appendChild(o)}t.appendChild(i);if(n.length>3){i.style.display="none";var o=document.createElement("ul");o.className="co_detailsTable_topics_short";for(let e=0;e<3;e++){const t=document.createElement("li");t.textContent=n[e];o.appendChild(t)}var r=document.createElement("a");r.href="javascript:void(0);";r.textContent=D["default"].lookup("SC.RelatedInfo.CitingReferences.NODTopics.ViewAllLink","View all");r.addEventListener("click",(function(){var e=this.parentElement,t=this.parentElement.getElementsByClassName("co_detailsTable_topics_full")[0];t.style.display="";e.innerHTML="";e.appendChild(t)}));t.appendChild(o);t.appendChild(r)}}else{t.className=t.className+" empty";t.appendChild(We["default"].createDash())}return t}};const tc=ec;function nc(){nc.singletonInstance=this;var e=this,t=We["default"].createElement;this.data=null;this.parentDiv=null;this.CREATED_DATE_FACET_NAME="pf_createddatetime";this.MODIFIED_DATE_FACET_NAME="pf_modifieddatetime";this.LOCATE_FACET_NAME="profile_locate";this.dragDropGroupId=null;this.kmDocLinks=null;this.noFacetInfo=null;this.setData=function(t){e.data=t};this.setNoFacetInfo=function(t){e.noFacetInfo=t};this.setParentDiv=function(t){e.parentDiv=t};this.draw=function(){e.parentDiv.appendChild(i());n()};var n=function(){if(!!o["default"].isFeatureEnabled("FOLDERS")&&!o["default"].EnableIpad){e.kmDocLinks=p["default"].GetElementsByClassName("co_realatedInfo_km_document");if(null!=e.dragDropGroupId)(0,Xl.DestroyDraggables)(e.dragDropGroupId);else{e.dragDropGroupId=(0,Xl.CreateDragDrop)()
;e.sendGroupIdToDock(e.dragDropGroupId)}var t={DragStart:function(){},Helper:function(){var t=void 0,n=e.getSelectedDragItems(this),i=n.length;if(1==i){var a=this.getAttribute("title");if(null==a){var o=this.getElementsByTagName("a");a=o[o.length-1].getAttribute("title")}a&&(t=a)}return Jl["default"].createDraggable(t,i,n)}};(0,Xl.RegisterDraggables)(e.dragDropGroupId,e.kmDocLinks,t)}};this.getSelectedDragItems=function(e){var t=[],n=[];if(We["default"].isNotNullOrUndefined(e)){var i=e.getAttribute("docguid"),a=e.getAttribute("title");const o={};o.id=e.id;o.TitleText=a;o.DocGuid=i;o.Type="KM";t.push(o);n=x()('input:not([docguid="'+i+'"])[id^="co_relatedInfo_km_document_checkbox_"]:checked')}else n=x()('input[id^="co_relatedInfo_km_document_checkbox_"]:checked');for(var o=0;o<n.length;o++){var r=n[o];const e={};e.id=r.getAttribute("id");e.TitleText=r.getAttribute("title");e.DocGuid=r.getAttribute("docguid");e.Type="KM";t.push(e)}return t};this.sendGroupIdToDock=function(e){var t={UID:e},n=new b["default"](t,{},"Cobalt.RelatedInfo.ResultList.DraggableUID","1.0");y["default"].Publish("Cobalt.RelatedInfo.ResultList.DraggableUID",n)};var i=function(){if(e.data.parsedDataArray.length>0){var n=document.createElement("div");n.id="coid_relatedinfo_KM_container";n.className="co_relatedInfo_citingRefsTable";var i=document.createElement("table");i.id="co_relatedInfo_table_KMcitingRefs";i.className="co_detailsTable";n.appendChild(i);var r=t("tbody"),s=t("thead");s.className="co_detailsTable_select";i.appendChild(s);i.appendChild(r);var l=[{text:"",name:"select"},{text:"Title & Citation",name:"content"},{text:"KM Treatment",name:"treatment"},{text:"Depth of KM Treatment",name:"depth"}];for(let e=0;e<l.length;e++){var c=t("col");i.appendChild(c)}var d=t("tr");s.appendChild(d);for(let e=0;e<l.length;e++){var u=l[e];if("select"==u.name){const e=t("th");e.className="co_detailsTable_"+u.name;d.appendChild(e);if(!o["default"].EnableIpad){var h=t("input",{type:"checkbox",id:"co_relatedInfo_selectAll_checkbox"});e.appendChild(h);h.addEventListener("click",(function(){this.checked?document.querySelectorAll('input[id^="co_relatedInfo_km_document_checkbox_"]').forEach((e=>e.checked=!0)):document.querySelectorAll('input[id^="co_relatedInfo_km_document_checkbox_"]').forEach((e=>e.checked=!1))}))}}else{var f=u.text;const e=t("th",{},f);e.className="co_detailsTable_"+u.name;d.appendChild(e)}}for(let t=0;t<e.data.parsedDataArray.length;t++){var p=e.data.parsedDataArray[t],m=a(p,t);r.appendChild(m)}return n}var g=document.createElement("div"),v="",y=!1;if(e.noFacetInfo){for(let t=0;t<e.data.facetData.length;t++){var b=e.data.facetData[t];if(b.Key==e.CREATED_DATE_FACET_NAME||b.Key==e.MODIFIED_DATE_FACET_NAME||b.Key==e.LOCATE_FACET_NAME)for(var C=0;C<b.Values.length;C++){var S=b.Values[C];if(S.IsApplied){v="Custom"==S.DisplayValue?y?v+" and "+S.Value:S.Value:y?v+" and "+S.Value:S.DisplayValue;y=!0}}}g.innerHTML="No KM results were found for "+v+"."}else g.innerHTML="No KM results were found for the applied facet(s).";return g},a=function(e,n){var i=t("tr"),a=t("td");a.className="co_detailsTable_select";if(!o["default"].EnableIpad){var r=t("input",{id:"co_relatedInfo_km_document_checkbox_"+n,type:"checkbox",docguid:e.profileId,title:e.title});r.addEventListener("click",(function(){0==document.querySelectorAll('input[id^="co_relatedInfo_km_document_checkbox_"]:not(:checked)').length?(document.getElementById("co_relatedInfo_selectAll_checkbox")??{}).checked=!0:(document.getElementById("co_relatedInfo_selectAll_checkbox")??{}).checked=!1}));a.appendChild(r)}i.appendChild(a);var s=tc.createTextCell(e.titleAndCitation,n);i.appendChild(s);var l=tc.createKMTreatmentCell(e,n);i.appendChild(l);var c=tc.createKMDepthCell(e,n);i.appendChild(c);return i}}var ic=n(6337),ac=n(7897);var oc=n(7739);const rc=function(e,t){oc["default"].call(this,e,t);this._publishRecentQuerySelectionMessage=e=>{const t=this.createDataForSelection(e),n=Zn["default"].events.searchWithinRecentQueryListOptionSelected,i=new b["default"](t,{},n,"1.0");y["default"].Publish(Zn["default"].events.searchWithinRecentQueryListOptionSelected,i)}};var sc=n(5431),lc=n(6105),cc=n(9762);class dc{constructor(e,t,n){this.menu=e;this.menuButton=t;this.opts=(0,Xe.merge)({},cc.LazyLoadMenuDefaults,n)}draw(){this.menu.addItems(this.opts.retrievingResults,0);this.menuButton.draw();this._addEventListeners()}_addEventListeners(){this.menuButton.getDOMElement().addEventListener("dropdown-expanded",(()=>{this._retrieveMenuItems()}),{once:!0})}_retrieveMenuItems(){return this.requestItems().then((e=>{this._updateMenuItems(e)})).catch((()=>{this._updateMenuItems(this.opts.retrievingResultsFailed)})).finally((()=>{this.menu.getFirstMenuItem().focus()}))}_updateMenuItems(e){this._removeAllMenuItems();this.menu.addItems(e,0)}requestItems(){throw new Error("requestItems should be overridden in derived class and implement a real retrieving menu items logic")}_removeAllMenuItems(){let e=this.menu.getCount();if(e<1)return;for(;e;)this.menu.removeItem(--e)}}class uc extends dc{constructor(e,t,n){super(e,t);this.a11yRecentQueryList=n}requestItems(){return this.a11yRecentQueryList.requestItems()}}class hc{constructor(e){this.opts=e;this.isSearch4K=(0,ni.isSearch4KAvailable)();this._recentQueryBoxId=Zn["default"].search.recentQueryBoxId;this._recentQueryListId=Zn["default"].search.recentQueryListId}draw(e,t){this.buttonOpts=e;this.menuOpts=t;this._draw()}hide(){this.menuButton&&this.menuButton.collapsePopup()}requestItems(){return this._getRecentSearchHistory()}_getRecentSearchHistory(){return sc["default"].Get().then((e=>e.RecentSearches.map((e=>this._buildMenuItem(e.QueryString)))))}_draw(){this.menu=new Tt["default"](this.menuOpts);this.menuButton=new zi["default"](this.menu,this.buttonOpts);new uc(this.menu,this.menuButton,this).draw();this._addEventListeners()}_addEventListeners(){this.menu.getDOMElement()?.addEventListener("menu-item-selected",(e=>{const t=this._getSelectedItemsText(e.detail.items);this.opts?.completionCallback(t)}));this.menuButton.getDOMElement().addEventListener("dropdown-expanded",(()=>{this.opts?.menuOpeningCallback()}));this._addTooltip()}_buildMenuItem(e){const t=this._getDisplayedQuery(e),n=e.length>Zn["default"].search.maxQueryLength,i={content:t,fullContent:e,disableFocusAfterSelect:!0};!this.isSearch4K&&n&&(i.isDisabled=!0);return i}_getDisplayedQuery(e){return this.isSearch4K?lc["default"].truncateSearchQueryToSpecificLimit(e,Zn["default"].search.maxQueryLength,Zn["default"].search.beginningQueryLimit,Zn["default"].search.endingQueryLimit,Zn["default"].search.characterThreshold):e}_getSelectedItemsText(e){return e.map((e=>e.fullContent)).join(", ")}_addTooltip(){if(this.opts?.disableA11yTooltip)return;const e=this.buttonOpts.ariaLabelForButton;new ht["default"](this.menuButton.getDOMElement(),e).render()}}class fc extends hc{constructor(e){super(e)}_buildMenuItem(e){let t=e;const n=e.match(/^MATFACT\((.+)\)$/);n&&(t=n[1]);return super._buildMenuItem(t)}}const pc=function e(t,n){const i=this,a=new ic["default"],r=t||"searchWithin",s=o["default"].isIacOn("IAC-A11Y-DROPDOWN-RECENT-SEARCH");let l=Zn["default"].search.searchWithinInputId,c=Zn["default"].search.searchWithinBoxId;const u="co_searchWithinWidget_buttons",h="co_searchWithinWidget_cancelButton",f="co_searchWithinWidget_closeButton",p="co_searchWithinWidget_continueButton",m="co_searchWithinWidget_help",g="co_searchWithinWidget_error",v="co_searchWithinQueryBuilder",b="co_searchWithinWidget_queryBuilderLink",C="co_searchWithinRecentQueries",S="co_searchWithinWidget_searchButton",_="co_searchWithinWidget_input",T="co_searchWithinWidget_undoButton",I="co_searchWithinWidget_undo",k="co_searchWithinWidget",w="co_searchWithinWidget_collapsed",E="co_disabled",A="co_hideState";let L=D["default"].lookup("SC.Search.Facets.SearchWithin.UndoSearch","Undo search within"),N=D["default"].lookup("SC.Search.Facets.SearchWithin.FacetTitle","Search within results")
;const R=D["default"].lookup("SC.Search.Facets.Generic.ContinueButton","Continue"),P=D["default"].lookup("SC.Search.Facets.Generic.Cancel","Cancel"),O=D["default"].lookup("SC.Search.Facets.SearchWithin.HoverText.CancelSearchWithin","Cancel Search Within"),B=D["default"].lookup("SC.Search.Facets.SearchWithin.HoverText.RecentSearches","Recent Searches"),M=D["default"].lookup("SC.Search.Facets.Generic.Close","Close"),F=D["default"].lookup("SC.Search.Facets.SearchWithin.ScreenReader.RecentSearches","Last 20 Search Within Searches"),W=D["default"].lookup("SC.Search.Facets.SearchWithin.ScreenReader.SearchButton","Search"),H=D["default"].lookup("SC.Search.Facets.SearchWithin.ScreenReader.SearchButtonLabel","Search Within");let G=D["default"].lookup("SC.Search.Facets.SearchWithin.ScreenReader.TextAreaLabel","Search Within Query");this.QUERY_BUILDER_AUTO_MODE="auto";this.QUERY_BUILDER_ICON_MODE="icon";const U=Z["default"].PageData.SearchWithin&&Z["default"].PageData.SearchWithin.IsLongQueryAllowed;let $=!1,V=!1,q=!0,z=!1,K="",Y=i.QUERY_BUILDER_AUTO_MODE;this.compactMode=!1;this.textInputCols=20;this.textInputRows=5;let Q,X,J,ee,te,ne=null,ie=null,ae=null,oe=null,re=null,se=null,le=null,ce=null,de=null,ue=null,he=n;this.ignoreFocusOut=function(){if($){$=!1;return!0}if(re&&re.ignoreFocusOut())return!0;return!1};this.handleWidgetFocusout=function(){if(i.ignoreFocusOut())return;Q=!1;setTimeout((function(){Q||i.collapse()}),150)};this.initialize=function(){const e=`[id='${k}'][data-facetId='${r}']`;X=document.querySelector(e);ue=x()(X);oe=x()("#"+m,ue);ae=x()("#"+u,ue);de=x()("#"+I,ue);le=x()("#"+S,ue);ce=x()("#"+l,ue);ie=x()("#coid_ri_applyFiltersButton1");var t=X?.querySelector("#"+h),n=X?.querySelector("#"+f),a=X?.querySelector("#"+p),o=X?.querySelector("#"+T),c=X?.querySelector("#"+_);c?.addEventListener("click",(function(){i.expand()}));ce.click((function(){i.expand()}));ce.keydown((function(e){ae.hasClass(A)&&e.keyCode===mn["default"].ENTER&&i.expand()}));ce.keyup((function(){ae.hasClass(A)&&ce.val()!=K?i.expand():re&&re.isQueryBuilderOpen()&&(ce.val()||!re.isQueryFieldsEmpty())&&re.setQueryFields(ce.val())}));ue.focusin((function(){Q=!0}));ue.click((function(){Q=!0}));ue.bind("mousedown",(function(){i.setIgnoreFocusOut(!0)}));ue.bind("mouseup",(function(){i.setIgnoreFocusOut(!1)}));ti["default"].addPageTouchedListener(i.setFocusInWidget,ue.get(0),null,!1,!1);if(!s){X?.addEventListener("focusout",this.handleWidgetFocusout);(0,ni.addEscapeListener)(ue,i.cancel)}ce.bind("change",(function(){this.value=(0,ni.cleanInputText)(this.value);re&&re.isQueryBuilderOpen()&&re.setQueryFields(this.value)}));ue.keypress((function(e){var a=e.target?e.target:e.originalTarget;if(e.keyCode===mn["default"].ENTER&&a!=t&&a!=n&&a!=o&&a.id!=C&&a.id!=b){ce.val()!=K&&i.activate();return!1}}));t?.addEventListener("click",(function(e){i.cancel();e.preventDefault();e.stopPropagation()}));n?.addEventListener("click",(function(e){i.cancel();e.preventDefault();e.stopPropagation()}));le.click((function(){i.activate();return!1}));a?.addEventListener("click",(function(e){i.activate();e.preventDefault();e.stopPropagation()}));o?.addEventListener("click",(function(e){i.deactivate();e.preventDefault();e.stopPropagation()}));if(V){var g=X?.querySelector("#"+C);if(s){this._buildA11yQueryMenu(x()(g));ue.on("keydown",(e=>{e.keyCode===mn["default"].ESCAPE&&i.cancel()}))}else{var D=function(e){i.expand();ne.toggleRecentQueryList();e.preventDefault();e.stopPropagation()};g?.addEventListener("click",D);g?.addEventListener("keypress",(function(e){e.keyCode==mn["default"].ENTER&&D(e)}))}}if(re){se=x()("#"+v,ue);(0,d.AreSame)(Y,i.QUERY_BUILDER_ICON_MODE)&&document.getElementById(b)?.addEventListener("click",pe);y["default"].Subscribe("Cobalt.Search.QueryBuilderDialog.QueryFieldsInitialized",(function(){re.setFocusInDialog()}))}};this._buildA11yQueryMenu=e=>{const t=D["default"].lookup("SC.Search.Facets.SearchWithin.RecentSearches","Last 20 Searches"),n={menuOpeningCallback:()=>this.expand(),completionCallback:e=>{ce.val(e);ce.focus()}},i={existingButton:e,ariaLabelForButton:t},a={ariaLabelForMenuContainer:t};this.getA11yRecentQueryList(n).draw(i,a)};this.getA11yRecentQueryList=e=>new fc(e);this.disableQueryBuilder=function(){re=null;Y=i.QUERY_BUILDER_AUTO_MODE};this.enableQueryBuilder=function(e,t){re=new ac["default"](v,i,"co_searchWithinWidgetQueryBuilder");re.setIncludeNoneField(t);re.setIsCompactMode(this.compactMode);if((0,d.IsNotNullOrEmpty)(Xn["default"].SearchResult)){re.setTemplateId(Xn["default"].SearchResult._templateId);re.setContentType(Xn["default"].SearchResult.getContentType())}Y=e};this.setTitle=function(e){N=e};this.setScreenReaderLabel=function(e){G=e};this.setUndoMessage=function(e){L=e};this.setQuery=function(e){K=(0,ni.isBlank)(e)?"":e};this.setQueryTextInputValue=function(e){ce.val(e)};this.setTextInputId=function(e){l=e};this.setQualifier=function(e){c=e};this.setMultiSelectEnabled=function(e){z=e;X?.querySelector(`#${S}`)?.classList.toggle(A,z);X?.querySelector(`#${p}`)?.classList.toggle(A,!z)};this.isMultiSelectEnabled=function(){return z};this.setValidateCallback=function(e){te=e};this.setWatermarkText=function(e,t){re&&re.setWatermarkText(e,t)};this.setActivateCallback=function(e){J=e};this.getActivateCallback=function(){return J};this.setDeactivateCallback=function(e){ee=e};this.setInlineMode=function(){this.compactMode=!0;this.textInputRows=1;this.textInputCols=80};this.setDialogMode=function(){this.compactMode=!1;this.textInputRows=5;this.textInputCols=20};this.setCompactMode=function(e){e?this.setInlineMode():this.setDialogMode();re&&re.setContentType(e)};this.setFocusInWidget=function(){Q=!0};this.setIgnoreFocusOut=function(e){$=e};this.activate=function(){var e=x()("#"+l,ue).val(),t=Xn["default"].SearchResult.getContentType();if((0,ni.isBlank)(e))return i.displayError(D["default"].lookup("SC.Search.Facets.SearchWithin.EmptyKeyword","Please enter at least one term."));e=(0,ni.cleanInputText)(e);a.validateSearchQuery(e,t,fe,(function(){if(void 0!==te)return te(e);if("function"!=typeof J)throw new Error("IllegalStateException.  No activateCallback defined for SearchWithinWidget");J(e)}),null,"searchWithin",U)};e.runSpellCheckSearch=function(){i.activate()};this.deactivate=function(){if("function"!=typeof ee)throw new Error("IllegalStateException.  No deactivateCallback defined for SearchWithinWidget");ee();K="";ce.val("")};this.displayError=function(e,t){t=void 0===t?j["default"].Bottom:t;(X??document).querySelector("#"+l)?.focus();var n,i,a,o,r=(X??document).querySelector("#"+g),s=x()("#"+l,ue).get(0);if(t===j["default"].Right)n=(a=(i=s).offsetWidth+i.offsetLeft+2,o=i.offsetTop,{left:a,top:o});else n=function(e){var t=e.offsetLeft,n=e.offsetTop+e.offsetHeight+2;return{left:t,top:n}}(s);if(r){r.style.position="absolute";r.style.left=`${n.left}px`;r.style.top=`${n.top}px`}(0,ni.showMessageWithPageTouchListener)(e,r,t,s,!0)};function fe(e){var t=e[0];i.displayError(t.message)}this.closeIfReady=function(){this.collapse();return!0};this.getId=function(){return k};this.getTitle=function(){return N};this.getIgnoreFocusOut=function(){return $};this.getQueryClient=function(){return a};this.getQueryTextInputValue=function(){return ce.val().trim()};this.getQueryTextInput=function(){return ce[0]};this.expand=function(){if(this.compactMode)ce.focus();else{he||this.getQueryTextInput()?.setAttribute("aria-describedby",m);ue.addClass("co_searchWithinWidget_expanded").removeClass(w);ae.removeClass(A);oe.removeClass(A);de.addClass(A);q=ie.hasClass(E);ie.addClass(E);if(re&&(0,d.AreSame)(Y,i.QUERY_BUILDER_AUTO_MODE)&&!re.isQueryBuilderOpen()){se.removeClass(A);re.open()}(function(){if(Xn["default"].Device.isIPadEnabled())return;var e=window.pageYOffset,t=window.innerHeight,n=e+t,i=(0,ft.offset)(ue[0]).top,a=ue.height(),o=i+a,r=null;if(o>n){r=e+(o-n)+50;window.scrollTo({top:r,behavior:"smooth"})}})();s&&X?.addEventListener("keydown",gn["default"])}};this.collapse=function(){re&&re.isQueryBuilderOpen()&&re.close();this.compactMode||i.redraw()};this.cancel=function(){i.redraw(!0);setTimeout((function(){ce.focus();ce.focus()}),75)};this.redraw=function(e){var t=ue.prev(),n=ue.parent()
;q||ie.removeClass(E);re&&re.isQueryBuilderOpen()&&re.close();ue.remove();var a=i.createHtml();0!=t.length?t.after(a):n.prepend(a);i.initialize();e||document.activeElement.focus()};this.setRecentQueriesEnabled=function(e){V=e};this.hideHelp=function(){he=!0};this.createHtml=function(){const e=(0,ni.isBlank)(K),t=this.compactMode?"":w,n=this.getRecentQueriesButton(),i=this.getRecentQueryListString(),a=he?"":this.createHelpHtml(),o=this.compactMode?"":this.createButtonsTemplate(),s=re?this.createQueryBuilderLinkHtml():"",c=re?this.createQueryFieldsContainerHtml():"";return(0,Xe.template)('<div id="<%= widgetId %>" class="<%= widgetDivClass %>" data-facetId="<%= facetId %>" <% if (!compactMode) { %>role="dialog" aria-modal="true"<% } %>>\n    <div id="co_searchWithinWidget_header" class="co_searchWithinWidget_headerHeading"><%= title %></div>\n    \n    <% if (!compactMode) { %>\n        <button id="<%= closeButtonId %>" class="Close-button-iconOnly" aria-label="<%= screenReaderCloseSearchWithinText %>">\n            <i class="fa-solid fa-xmark"></i>\n        </button>\n    <% } %>\n\n    <div id="<%= textInputDivId %>">\n        <%= recentQueriesButton %>\n        <textarea id="<%= textInputId %>" \n                  rows="<%= textInputRows %>" \n                  cols="<%= textInputCols %>" \n                  autocorrect="off" \n                  aria-labelledby="co_searchWithinWidget_header"\n                  autocapitalize="off"><%= previousQuery %></textarea>\n\n        <% if (compactMode && !isPreviousQueryBlank) { %>\n            <button id="<%= undoButtonId %>" class="co_linkBlue">\n                <%= undoMessage %>\n            </button>\n        <% } %>\n\n        <%= queryBuilderLinkHtml %>\n\n        <% if (compactMode && isPreviousQueryBlank) { %>\n            <button id="<%= searchButtonId %>" class="co_defaultBtn">\n                <%= screenReaderSearchButtonText %>\n            </button>\n        <% } %>\n\n        <div id="<%= inputErrorId %>" class="co_hideState"></div>\n    </div>\n\n    <%= recentQueriesList %>\n    <%= queryFieldsContainerHtml %>\n\n    <% if (!compactMode) { %>\n        <%= buttonsTemplateHtml %>\n    <% } %>\n\n    <%= helpHtml %>\n\n    <% if (!compactMode && !isPreviousQueryBlank) { %>\n        <div id="<%= undoDivId %>">        \n            <button id="<%= undoButtonId %>" class="co_linkBlue">\n                <%= undoMessage %>\n            </button>\n        </div>\n    <% } %>\n</div>')({buttonsTemplateHtml:o,closeButtonId:f,compactMode:this.compactMode,facetId:r,helpDivId:m,helpHtml:a,inputErrorId:g,isPreviousQueryBlank:e,previousQuery:K,queryBuilderLinkHtml:s,queryFieldsContainerHtml:c,recentQueriesButton:n,recentQueriesList:i,screenReaderCloseSearchWithinText:M,screenReaderSearchButtonText:W,screenReaderTextAreaLabel:G,searchButtonId:S,textInputCols:this.textInputCols,textInputDivId:_,textInputId:l,textInputRows:this.textInputRows,title:N,undoButtonId:T,undoDivId:I,undoMessage:L,widgetDivClass:t,widgetId:k})};this.getRecentQueriesButton=function(){let e="";if(!V)return"";e=s?`<button id="${C}"></button>`:`<a href="javascript:void(0);" title="${B}" onclick="return false;" id="${C}" role="button">${F}</a>`;return e};this.getRecentQueryListString=function(){if(s||!V)return"";ne=i.getRecentQueryList(c,l);return ne.draw()};this.getRecentQueryList=function(e,t){return new rc(e,t)};this.createHelpHtml=function(){const e=this.getHelpItems();return(0,Xe.template)('<div id="<%= helpDivId %>" class="co_hideState">\n    <h4><%= screenReaderSearchTips %></h4>\n    <table class="co_tcTable">\n        <% _.forEach(helpItems, function(item) { %>\n            <tr>\n                <td class="co_term"><%= item.term %></td>\n                <td class="co_description"><%= item.description %></td>\n            </tr>\n        <% }); %>\n    </table>\n</div>')({helpDivId:m,screenReaderSearchTips:Zn["default"].search.ScreenReaderSearchTips,helpItems:e})};this.getHelpItems=function(){const e="COMMENTARY_LIBRARY"===Xn["default"].SearchResult.getContentType();return[{term:Zn["default"].search.HelpPhraseDesc,description:e?Zn["default"].search.searchByTitleHelpPhraseText:Zn["default"].search.searchWithinHelpPhraseText},{term:Zn["default"].search.HelpUseANDDesc,description:e?Zn["default"].search.searchByTitleHelpConClauseText:Zn["default"].search.searchWithinHelpConClauseText},{term:Zn["default"].search.HelpUseTnCDesc,description:e?Zn["default"].search.searchByTitleHelpTNCText:Zn["default"].search.searchWithinHelpTNCText}]};this.createButtonsTemplate=function(){return(0,Xe.template)('<div id="<%- buttonsDivId %>" class="co_hideState">\n    <button class="co_secondaryBtn <%- searchButtonClass %>" id="<%- searchButtonId %>">\n        <%- screenReaderSearchButtonText %>\n    </button>\n    <button class="co_secondaryBtn <%- continueButtonClass %>" id="<%- continueButtonId %>">\n        <%- continueButtonText %>\n    </button>\n    <button id="<%- cancelButtonId %>">\n        <%- cancelButtonText %>\n    </button>\n</div>\n')({buttonsDivId:u,cancelButtonId:h,cancelButtonText:P,cancelSearchWithin:O,continueButtonClass:z?"":A,continueButtonId:p,continueButtonText:R,screenReaderSearchButtonLabel:H,screenReaderSearchButtonText:W,searchButtonClass:z?A:"",searchButtonId:S})};this.createQueryBuilderLinkHtml=function(){if((0,d.AreSame)(Y,i.QUERY_BUILDER_ICON_MODE)&&(0,ni.isBlank)(K)){const e=D["default"].lookup("SC.Search.SearchWidget.ScreenReader.QueryBuilderLinkText","QueryBuilder"),t=D["default"].lookup("SC.Search.SearchWidget.HoverText.QueryBuilderLinkTitle","Query Builder");return`\n                <a id="${b}" class="icon25 icon_gear" href="#" onclick="return false;" title="${t}">\n                    ${e}\n                </a>`}return""};this.createQueryFieldsContainerHtml=function(){const e=re.createHtml();return`\n            <div id="${v}" class="co_hideState">\n                ${e}\n            </div>`};function pe(){re.isQueryBuilderOpen()?re.close():re.open()}y["default"].Subscribe(Zn["default"].events.searchWithinRecentQueryListOptionSelected,(function(e,t){var n=t.Data.searchInputId;if(!n||n==l){var i=t.Data.selectedQuery;ce.val(i);ce.focus();re&&re.isQueryBuilderOpen()&&re.setQueryFields(i);V&&ne.hide()}}));y["default"].Subscribe("Cobalt.Search.QueryBuilderDialog.QueryFieldsUpdated",(function(){re.setFocusInDialog()}));this.getTextInputId=function(){return l};this.getWidgetDiv=function(){return ue}};function mc(e,t){pc.call(this,e,function(e){if(Lt["default"].isPracticalLawUSCompartment())return!0;return e}(t));Lt["default"].isPracticalLawUSCompartment()&&this.setInlineMode();const n=this.activate;this.activate=function(){const e=x()("#"+this.getTextInputId(),this.getWidgetDiv()).val();x()("#"+this.getTextInputId(),this.getWidgetDiv()).val(e.replace(/\B@\B/g,""));n.call(this)}}mc.prototype=Object.create(pc.prototype);const gc=mc;n(1315);var vc=n(3523);var yc=Lo().extend((function(e,t){this.STYLE_A="A";this.STYLE_B="B";this.ALL="all";this.CUSTOM="custom";this.FROM_UNTIL="fromUntil";this.ON="on";this.BEFORE="before";this.AFTER="after";this._DROPDOWN_ANCHOR_ID=`co_dateWidget_${e}_dropdown`;this._DROPDOWN_LIST_ITEM_ID=`co_dateWidget_${e}_dropdown_listItem`;this._CUSTOM_RANGE_EXPANDO_COLLAPSE_CLASS="co_collapsed";this._CUSTOM_RANGE_EXPANDO_EXPAND_CLASS="co_expanded";this._FIXED_LIST_ID=`co_dateWidgetFixedList_${e}`;this._HIDE_CLASS="co_hideState";this.style=this.STYLE_A;this.fixedRangeTypeList=[];this.selectedRangeTypeId="";this.selectedCustomRangeSubTypeId="";this.selectedCustomRangeDate="";this.selectedCustomRangeDateUntil="";this.collapseOnDone=!1;this.doneButtonText=D["default"].lookup("SC.Search.DateWidget.Go","Go");this.doneButtonTextKey="Go";this.widgetDateFormat=D["default"].lookup("SC.Config.Date.DateWidget.DataDateFormat","MM-dd-yyyy");this._multiSelectEnabled=!1;this._fixedRangeCounts=[];this._completionCallback=void 0;this.customFromToOnly=!1;this.errorLocation="right";this.scrollableContainerSelector="html";const n={};this.createHtml=function(e,t){return function(e,t){o.validateInitialProperties();o._completionCallback=e;a=t;const n=o.createFixedListHtml(),i=o.createCustomListHtml();let r
;if(o.style==o.STYLE_A){r=o.STYLE_A_CONTAINER_HTML({dropdownListItemId:o._DROPDOWN_LIST_ITEM_ID,dropdownAnchorId:o._DROPDOWN_ANCHOR_ID,dropdownCollapsedClass:p,dateFilteringText:I,dropDownSpanId:b,selectedRangeLabel:o.getSelectedRangeLabel(),footerDivId:g,fixedListId:o._FIXED_LIST_ID,fixedList:n,customListId:C,customList:i});document.body.addEventListener("click",o.handleDocumentClick)}else r=x({id:o._FIXED_LIST_ID,footerDivId:g,fixedList:n,customListId:C,customList:i});const s=o.customFromToOnly?"onlyFromTo":"",l=o.style!==o.STYLE_A&&o.selectedRangeTypeId===o.CUSTOM?f:h;return o.OVERALL_DATE_HTML({overallDateId:m,contents:r,hideShowClass:l,onlyFromToCustomOption:s})}(e,t)};this.refresh=function(){o.refreshFixedAndCustomList();(function(){if(o.style==o.STYLE_A){var e=document.getElementById(b);e&&(e.innerHTML=o.getSelectedRangeLabel())}})();o._fixedRangeCounts.length>0&&N(o._fixedRangeCounts)};this.refreshCounts=function(e){N(e)};this.hasBeenExpandedBefore=function(){return u};this.setHasBeenExpandedBefore=function(e){u=e};this.getDateFormat=function(){return this.widgetDateFormat};this.getDatesLabel=function(){return"Dates"};this.getDatesLabelKey=function(){return"Dates"};this.getDateRangeLabel=function(){return D["default"].lookup("SC.Search.DateWidget.DateRange","Date Range")};this.getSpecificDateLabel=function(){return D["default"].lookup("SC.Search.DateWidget.SpecificDate","Specific Date")};this.getAllDatesAfterLabel=function(e){switch(e){case"Dates":return D["default"].lookup("SC.Search.DateWidget.AllAfterDates","All Dates After");case"Years":return D["default"].lookup("SC.Search.DateWidget.AllAfterYears","All Years After");default:throw new Error(`Dates Label Key ${e} is not defined.`)}};this.getAllDatesBeforeLabel=function(e){switch(e){case"Dates":return D["default"].lookup("SC.Search.DateWidget.AllBeforeDates","All Dates Before");case"Years":return D["default"].lookup("SC.Search.DateWidget.AllBeforeYears","All Years Before");default:throw new Error(`Dates Label Key ${e} is not defined.`)}};this.getOnLabel=function(){return D["default"].lookup("SC.Search.DateWidget.OnLabel","On")};this.getCustomRangeTextElement=function(e){return o.getCustomRangeElement(o._CUSTOM_RANGE_TEXT_ID,e)};this.getCustomRangeUntilElement=function(e){return o.getCustomRangeElement(o._CUSTOM_RANGE_UNTIL_TEXT_ID,e)};this.isYearOnly=function(e){return function(e){e=e.trim();var t=parseInt(e);return t+""==e&&t>1e3&&t<=2200}(e)};this.convertStringToDate=function(e,t){if((0,ni.isBlank)(e))return null;o.isYearOnly(e)&&(e=null!=t&&t?`12/${e}`:`1/${e}`);return Date.parseLenient(e,t)};var i,a,o=this,r=e,s=t,l=!1,c="co_button_submit_small co_primaryBtn",u=!1,h="co_collapsed",f="co_expanded",p="co_dropdownArrowCollapsed",m=`co_dateWidget_${e}`,g=`co_dateWidget_footer_${e}`,v=`co_dateWidget_${e}_selectDate`,b=`co_dateWidget_${e}_dropdown_span`,C=`co_dateWidgetCustomList_${r}`,S=`co_dateWidgetCount_${r}_`,_=`co_dateWidgetSelectRangeLink_${r}_`,T=`co_dateWidgetSelectRangeListItem_${r}_`,I=D["default"].format("SC.Search.DateWidget.MoreDateOptions",{label:s},`More Date Filtering Options for ${s}`);Xn["default"].Browse.isDocketBankruptcyReport()&&(I=D["default"].lookup("SC.Search.DateWidget.MoreDateOptionsBankrupcyReport","Petition Filing Date"));this._CUSTOM_RANGE_EXPANDO_ID=`co_dateWidgetCustomRangeExpando_${r}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_ENTRY_FIELD_LIST_ID=`co_dateWidgetCustomRangeItem_${r}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_TEXT_ID=`co_dateWidgetCustomRangeText_${r}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_ERROR_BOX_ID=`co_dateWidgetCustomRangeError_${e}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_UNTIL_TEXT_ID=`co_dateWidgetCustomRangeUntilText_${r}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID=`co_dateWidgetCustomRangeUntilError_${e}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_DONE_BUTTON_ID=`co_dateWidgetCustomRangeDoneButton_${r}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_CANCEL_BUTTON_ID=`co_dateWidgetCustomRangeCancelButton_${r}_{customRangeSubTypeId}`;this._CUSTOM_RANGE_LIST_ENTRY_FIELD_HTML=st().template('<%\n\t// @file CustomRangeListEntryField Template\n%>\n\n<li role="presentation">\n    <label class="<%- labelClass %>" for="<%- customRangeTextId %>"><%= label %></label>\n    <input id="<%- customRangeTextId %>" type="text" value="<%- date %>" autocorrect="off" autocapitalize="off" placeholder="<%- placeholderText %>"/>\n    <div id="<%- customRangeErrorBoxId %>" class="co_hideState"></div>\n</li>\n');this._CUSTOM_RANGE_LIST_ENTRY_UNTIL_FIELD_HTML=st().template('<%\n\t// @file CustomRangeListEntryUntilField Template\n%>\n\n<li role="presentation">\n    <label for="<%- customRangeUntilTextId %>"><%= label %></label>\n    <input id="<%= customRangeUntilTextId %>" type="text" value="<%- date %>" autocorrect="off" autocapitalize="off" placeholder="<%- placeholderText %>"/>\n    <div id="<%- customRangeUntilErrorBoxId %>"></div>\n</li>\n');this.OVERALL_DATE_HTML=st().template('<%\n\t// @file OverallDate Template\n%>\n\n<div id="<%- overallDateId %>" class="co_facet_sad <%- hideShowClass %> <%- onlyFromToCustomOption %>">\n    <%= contents %>\n</div>\n');this.SELECTED_FIXED_RANGE_ITEM_HTML=st().template('<%\n\t// @file SelectedFixedRangeItem Template\n%>\n\n<li role="menuitem" class="co_atState" \n<% if (ariaLabel !== "") { %>\n\taria-label="<%- ariaLabel %>"\n<% } %>>\n    <span id="<%- widgetCountId %>" class="co_facetCount"><%= count %></span>\n\t<%= label %><%= compliance %>\n</li>\n');this.UNSELECTED_FIXED_RANGE_ITEM_HTML=st().template('<%\n\t// @file UnselectedFixedRangeItem Template\n%>\n\n<li id="<%- selectRangeListItemId %>" role="presentation">\n    <span id="<%- widgetCountId %>" class="co_facetCount"><%= count %></span>\n    <span id="<%- selectRangeLinkId %>">\n        <a href="javascript:void(0);" role="menuitem" \n        <% if (ariaLabel !== "") { %>\n            aria-label="<%- ariaLabel %>"\n        <% } %>><%= label %></a>\n    </span>\n</li>\n');this.STYLE_A_CONTAINER_HTML=st().template('<% // @file StyleAContainer Template %>\n\n<div class="co_facet_sad_options">\n    <div class="co_facet_sad_optionsRight">\n        <div id="<%- dropdownListItemId %>">\n            <a\n                id="<%- dropdownAnchorId %>"\n                href="javascript:void(0);"\n                role="button"\n                aria-expanded="false"\n                aria-haspopup="true"\n                aria-controls="<%- fixedListId %>_<%- customListId %>"\n                class="<%- dropdownCollapsedClass %>"\n                ><%= dateFilteringText %></a\n            >\n            <span id="<%- dropDownSpanId %>"><%= selectedRangeLabel %></span>\n        </div>\n    </div>\n</div>\n<div class="co_clear"></div>\n<div class="co_facet_sad_footerContainer">\n    <div id="<%- footerDivId %>" class="co_facet_sad_footer">\n        <div class="co_facet_sad_footerRight" id="<%- fixedListId %>_<%- customListId %>" aria-labelledby="<%- dropdownAnchorId %>" role="menu">\n            <ul id="<%- fixedListId %>" role="group" class="co_facet_sad_footerOptions">\n                <%= fixedList %>\n            </ul>\n            <ul id="<%- customListId %>" role="group" class="co_facet_sad_footerContent">\n                <%= customList %>\n            </ul>\n        </div>\n    </div>\n</div>\n')
;var x=st().template('<%\n\t// @file StyleBContainer Template\n%>\n\n<div class="co_facet_sad_options">\n    <div class="co_facet_sad_optionsRight">\n        <ul id="<%- id %>" class="co_facet_sad_optionsContent"><%= fixedList %></ul>\n    </div>\n</div>\n<div class="co_clear"></div>\n<div class="co_facet_sad_footerContainer">\n    <div id="<%- footerDivId %>" class="co_facet_sad_footer">\n        <div class="co_facet_sad_footerRight">\n            <ul class="co_facet_sad_footerOptions"></ul>\n            <ul id="<%- customListId %>" class="co_facet_sad_footerContent"><%= customList %></ul>\n        </div>\n    </div>\n</div>\n'),k=st().template('<%\n\t// @file StyleBCustomDropdown Template\n%>\n\n<li>\n    <a id="<%- dropdownAnchorId %>" href="javascript:void(0);" aria-expanded="false" class="<%- dropdownCollapsedClass %>"><%= moreOptionsText %></a>\n    <a id="<%- dropdownDateId %>" href="javascript:void(0);"><%= selectDateText %></a>\n</li>\n'),w=st().template('<%\n\t// @file CustomRangeListItem Template\n%>\n\n<li id="<%- customRangeExpandoId %>" class="<%- expandoClass %>" role="presentation"><a href="javascript:void(0);" role="menuitem"><%= label %></a>\n    <fieldset>\n        <legend class="co_accessibilityLabel"><%= label %></legend>\n        <ol role="presentation" id="<%- customRangeEntryFieldListId %>" class="co_facet_sad_dateSelect <%- hideClass %>">\n            <%= entryField %>\n            <%= untilEntryField %>\n            <li role="presentation" class="<%- customRangeButtonListClass %>">\n                <input id="<%- customRangeDoneBtnId %>" type="submit" value="<%- doneButtonText %>" class="<%- doneButtonClass %>"/>\n                <input id="<%- customRangeCancelBtnId %>" type="submit" value="Cancel" class="co_button_cancel_small"/>\n            </li>\n        </ol>\n    </fieldset>\n</li>\n'),E=st().template('<span class="co_skipToLink"><%= selectedText %></span>')({selectedText:D["default"].lookup("SC.Search.DateWidget.Selected","Selected")}),L=[o.FROM_UNTIL,o.ON,o.AFTER,o.BEFORE];this.handleDocumentClick=function(e){e.target.closest("#"+o._DROPDOWN_LIST_ITEM_ID)&&o.toggleAllRange()};this.refreshFixedAndCustomList=function(){var e=document.getElementById(o._FIXED_LIST_ID);e&&(e.innerHTML=o.createFixedListHtml());var t=document.getElementById(C);t&&(t.innerHTML=o.createCustomListHtml());o.initialize()};function N(e){o._fixedRangeCounts=e;e?.forEach((e=>{var t=document.getElementById(`${S}${e.id}`);t&&(t.innerHTML=o.getFormattedCount(e.count))}))}this.setMultiSelectEnabled=function(e){o._multiSelectEnabled=e;o.collapseOnDone=e;var t=document.querySelector(`#${C} input.co_primaryBtn`);if(o._multiSelectEnabled){var n=D["default"].lookup("SC.Search.DateWidget.Continue","Continue");t?.setAttribute("value",n);o.doneButtonText=n;o.doneButtonTextKey="Continue"}else{o._fixedRangeCounts=[];var i=D["default"].lookup("SC.Search.DateWidget.Go","Go");t?.setAttribute("value",i);o.doneButtonText=i;o.doneButtonTextKey="Go"}};this.toggleAllRange=function(){var e=document.getElementById(m),t=document.getElementById(o._DROPDOWN_ANCHOR_ID);const n=document.querySelector(`#${g} a`);if(e&&(e.classList.contains(f)||function(){if(vc.currentFacetRenderer){var e=vc.currentFacetRenderer.aboutToShowFacet();e&&vc.currentFacetRenderer.registerModalFacet(r,o);return e}return!0}())){e?.classList.toggle(h);e?.classList.toggle(f);t?.classList.toggle(p);t?.classList.toggle("co_dropdownArrowExpanded");if(e.classList.contains(f)){(function(){if(null==i){(i={}).selectedRangeTypeId=o.selectedRangeTypeId;i.selectedCustomRangeSubTypeId=o.selectedCustomRangeSubTypeId;i.selectedCustomRangeDate=o.selectedCustomRangeDate;i.selectedCustomRangeDateUntil=o.selectedCustomRangeDateUntil}})();o.scrollToVisible();ti["default"].addPageTouchedListener(o.toggleAllRange,e,null,!0);if(!l){l=!0;(0,ni.addEscapeListener)(e,o.toggleAllRange)}a&&a(r,o);n?.focus()}else{o.toggleCustomRange(o.selectedCustomRangeSubTypeId);o._multiSelectEnabled||function(){if(i){o.selectedRangeTypeId=i.selectedRangeTypeId;o.selectedCustomRangeSubTypeId=i.selectedCustomRangeSubTypeId;o.selectedCustomRangeDate=i.selectedCustomRangeDate;o.selectedCustomRangeDateUntil=i.selectedCustomRangeDateUntil}}();ti["default"].removePageTouchedListener(o.toggleAllRange);t?.focus()}t?.setAttribute("aria-expanded",e.classList.contains(f))}};this.resetInitialProperties=function(){i=void 0};this.scrollToVisible=function(){if(Xn["default"].Device.isIPadEnabled())return;var e=document.getElementById(m),t=document.getElementById(g)?.parentNode,n=e.offsetHeight+t?.offsetHeight,i=(0,ft.offset)(e).top+n,a=document.querySelector(this.scrollableContainerSelector),o=i-(a?.clientHeight+Math.abs((0,ft.offset)(a).top));a&&o>0&&(a.scrollTop=Math.ceil(a.scrollTop+o))};function R(e,t){const n=document.getElementById(e);n?.querySelectorAll("a").forEach((e=>{e.addEventListener("keydown",t)}))}function P(e){const t=e.currentTarget,n=Array.from(document.querySelectorAll(`#${g} a`)),i=n.indexOf(t);switch(e.key){case"Enter":case" ":t.click();e.preventDefault();break;case"ArrowUp":i>0&&n[i-1].focus();e.preventDefault();break;case"ArrowDown":i<n.length-1&&n[i+1].focus();e.preventDefault();break;case"Escape":o.toggleAllRange();e.preventDefault();break;case"Tab":o.toggleAllRange()}}function O(e){if(null!=e.keyCode&&13==e.keyCode){o.handleGoClicked(e);e.preventDefault();e.stopPropagation()}}this.createFixedListHtml=function(){let e="";o.selectedRangeTypeId==o.CUSTOM&&o.style==o.STYLE_A&&(e+=o.SELECTED_FIXED_RANGE_ITEM_HTML({widgetCountId:S+o.CUSTOM,label:o.getSelectedRangeLabel(),attributes:'class="co_selectDateRange_active"',count:"",compliance:"",ariaLabel:""}));for(var t in o.fixedRangeTypeList){const i=o.fixedRangeTypeList[t],a=M(i.id),r={label:i.label,count:a,attributes:"",compliance:"",widgetCountId:S+i.id,selectRangeLinkId:_+i.id,selectRangeListItemId:T+i.id,ariaLabel:""!==a?D["default"].format("SC.Search.DateWidget.OptionLabel",{label:i.label,count:a},`${i.label}, ${a} results`):""};if(o.selectedRangeTypeId==i.id){Xn["default"].Browse.isDocketBankruptcyReport()&&(r.compliance=E);e+=o.SELECTED_FIXED_RANGE_ITEM_HTML(r)}else{e+=o.UNSELECTED_FIXED_RANGE_ITEM_HTML(r);const t="#"+T+CSS.escape(i.id);document.body.removeEventListener("click",n[t]);const a=function(e){if(e.target.closest(t)){y["default"].Publish("Cobalt.Search.DateWidget.ItemSelected",{eventTarget:e.target});o.handleFixedRangeTypeSelection(i.id)}};document.body.addEventListener("click",a);n[t]=a}}if(o.style==o.STYLE_B){e+=k({dropdownAnchorId:o._DROPDOWN_ANCHOR_ID,dropdownCollapsedClass:p,moreOptionsText:D["default"].lookup("SC.Search.DateWidget.MoreOptions","More Options"),dropdownDateId:v,selectDateText:D["default"].lookup("SC.Search.DateWidget.SelectDate","Select a Date")});document.body.addEventListener("click",this.handleDropdownClick)}return e};this.handleDropdownClick=function(e){const t=e.target.closest("#"+o._DROPDOWN_ANCHOR_ID),n=e.target.closest("#"+v);if(t||n){o.toggleAllRange();e.preventDefault();e.stopPropagation()}};this.createCustomListHtml=function(){return o.createCustomBeforeHtml()+o.createCustomAfterHtml()+o.createCustomOnHtml()+o.createCustomFromUntilHtml()};this.createCustomBeforeHtml=function(){const e=o.getAllDatesBeforeLabel(o.getDatesLabelKey());var t=o.BEFORE==o.selectedCustomRangeSubTypeId?`<strong>${e}</strong>`:e,n=o.BEFORE==o.selectedCustomRangeSubTypeId?"":o._HIDE_CLASS,i=o.BEFORE==o.selectedCustomRangeSubTypeId?o._CUSTOM_RANGE_EXPANDO_EXPAND_CLASS:o._CUSTOM_RANGE_EXPANDO_COLLAPSE_CLASS,a=o._CUSTOM_RANGE_LIST_ENTRY_FIELD_HTML(o.getCustomFieldSubstituteObject(o.selectedCustomRangeDate,"co_accessibilityLabel",D["default"].lookup("SC.Search.DateWidget.DateLabel","Date"),o.BEFORE));o.setCustomRangeListClickHandlers(o.BEFORE);return w(o.getSubstituteData(i,a,"","","",t,n,c,o.BEFORE))};this.createCustomAfterHtml=function(){const e=o.getAllDatesAfterLabel(o.getDatesLabelKey())
;var t=o.AFTER==o.selectedCustomRangeSubTypeId?`<strong>${e}</strong>`:e,n=o.AFTER==o.selectedCustomRangeSubTypeId?"":o._HIDE_CLASS,i=o.AFTER==o.selectedCustomRangeSubTypeId?o._CUSTOM_RANGE_EXPANDO_EXPAND_CLASS:o._CUSTOM_RANGE_EXPANDO_COLLAPSE_CLASS,a=o._CUSTOM_RANGE_LIST_ENTRY_FIELD_HTML(o.getCustomFieldSubstituteObject(o.selectedCustomRangeDate,"co_accessibilityLabel",D["default"].lookup("SC.Search.DateWidget.DateLabel","Date"),o.AFTER));o.setCustomRangeListClickHandlers(o.AFTER);return w(o.getSubstituteData(i,a,"","","",t,n,c,o.AFTER))};this.createCustomOnHtml=function(){var e=o.ON==o.selectedCustomRangeSubTypeId?`<strong>${o.getSpecificDateLabel()}</strong>`:o.getSpecificDateLabel(),t=o.ON==o.selectedCustomRangeSubTypeId?"":o._HIDE_CLASS,n=o.ON==o.selectedCustomRangeSubTypeId?o._CUSTOM_RANGE_EXPANDO_EXPAND_CLASS:o._CUSTOM_RANGE_EXPANDO_COLLAPSE_CLASS,i=o._CUSTOM_RANGE_LIST_ENTRY_FIELD_HTML(o.getCustomFieldSubstituteObject(o.selectedCustomRangeDate,"co_accessibilityLabel",D["default"].lookup("SC.Search.DateWidget.DateLabel","Date"),o.ON));o.setCustomRangeListClickHandlers(o.ON);return w(o.getSubstituteData(n,i,"","","",e,t,c,o.ON))};this.createCustomFromUntilHtml=function(){var e=o.FROM_UNTIL==o.selectedCustomRangeSubTypeId?`<strong>${D["default"].lookup("SC.Search.DateWidget.FromLabel","From:")}</strong>`:D["default"].lookup("SC.Search.DateWidget.FromLabel","From:"),t=o.FROM_UNTIL==o.selectedCustomRangeSubTypeId?`<strong>${D["default"].lookup("SC.Search.DateWidget.UntilLabel","Until:")}</strong>`:D["default"].lookup("SC.Search.DateWidget.UntilLabel","Until:"),n=o.FROM_UNTIL==o.selectedCustomRangeSubTypeId?`<strong>${o.getDateRangeLabel()}</strong>`:o.getDateRangeLabel(),i=o.FROM_UNTIL==o.selectedCustomRangeSubTypeId?"":o._HIDE_CLASS,a=o.FROM_UNTIL==o.selectedCustomRangeSubTypeId?o._CUSTOM_RANGE_EXPANDO_EXPAND_CLASS:o._CUSTOM_RANGE_EXPANDO_COLLAPSE_CLASS,r=o._CUSTOM_RANGE_LIST_ENTRY_FIELD_HTML(o.getCustomFieldSubstituteObject(o.selectedCustomRangeDate,"",e,o.FROM_UNTIL)),s=o._CUSTOM_RANGE_LIST_ENTRY_UNTIL_FIELD_HTML(o.getCustomFieldSubstituteObject(o.selectedCustomRangeDateUntil,"",t,o.FROM_UNTIL));o.setCustomRangeListClickHandlers(o.FROM_UNTIL);return w(o.getSubstituteData(a,r,"co_dateWidgetCustomRange_fromUntil_submit",s,"",n,i,c,o.FROM_UNTIL))};this.getSubstituteData=function(e,t,n,i,a,r,s,l,c){return{customRangeExpandoId:(0,ni.substitute)(o._CUSTOM_RANGE_EXPANDO_ID,{customRangeSubTypeId:c}),customRangeEntryFieldListId:(0,ni.substitute)(o._CUSTOM_RANGE_ENTRY_FIELD_LIST_ID,{customRangeSubTypeId:c}),customRangeDoneBtnId:(0,ni.substitute)(o._CUSTOM_RANGE_DONE_BUTTON_ID,{customRangeSubTypeId:c}),customRangeCancelBtnId:(0,ni.substitute)(o._CUSTOM_RANGE_CANCEL_BUTTON_ID,{customRangeSubTypeId:c}),expandoClass:e,entryField:t,customRangeButtonListClass:n,untilEntryField:i,labelClass:a,label:r,hideClass:s,doneButtonText:o.doneButtonText,doneButtonClass:l}};this.setCustomRangeListClickHandlers=function(e){const t={customRangeSubTypeId:e};var i="#"+(0,ni.substitute)(o._CUSTOM_RANGE_EXPANDO_ID,t),a="#"+(0,ni.substitute)(o._CUSTOM_RANGE_DONE_BUTTON_ID,t),r="#"+(0,ni.substitute)(o._CUSTOM_RANGE_CANCEL_BUTTON_ID,t);document.body.removeEventListener("click",n[i]);document.body.removeEventListener("click",n[a]);document.body.removeEventListener("click",n[r]);n[i]=function(e){e.target.closest(i)&&o.handleCustomRangeSubTypeSelection(t.customRangeSubTypeId)};document.body.addEventListener("click",n[i]);n[a]=function(e){if(e.target.closest(a)){o.handleGoClicked(e);e.preventDefault();e.stopPropagation()}};document.body.addEventListener("click",n[a]);n[r]=function(e){if(e.target.closest(r)){o.handleCancelClicked();e.preventDefault();e.stopPropagation()}};document.body.addEventListener("click",n[r])};this.closeIfReady=function(){document.getElementById(m)?.classList.contains(f)||document.getElementById(m)?.classList.add(h);return!0};this.toggleCustomRange=function(e){var t=o.getCustomRangeElement(o._CUSTOM_RANGE_EXPANDO_ID,e),n=o.getCustomRangeElement(o._CUSTOM_RANGE_ENTRY_FIELD_LIST_ID,e);t?.classList.toggle(o._CUSTOM_RANGE_EXPANDO_EXPAND_CLASS);t?.classList.toggle(o._CUSTOM_RANGE_EXPANDO_COLLAPSE_CLASS);n?.classList.toggle(o._HIDE_CLASS)};this.handleCustomRangeSubTypeSelection=function(e){if(e==o.selectedCustomRangeSubTypeId){if(Xn["default"].Device.isIPadEnabled()){o.toggleCustomRange(e);o.selectedCustomRangeSubTypeId=""}return}o.selectedRangeTypeId=o.CUSTOM;(0,ni.isBlank)(o.selectedCustomRangeSubTypeId)||o.toggleCustomRange(o.selectedCustomRangeSubTypeId);if(!(0,ni.isBlank)(e)){o.toggleCustomRange(e);o.getCustomRangeElement(o._CUSTOM_RANGE_TEXT_ID,e).focus({preventScroll:!0})}o.scrollToVisible();o.selectedCustomRangeSubTypeId=e};this.handleFixedRangeTypeSelection=function(e){o.resetInitialProperties();if(o.selectedRangeTypeId!=e){o.handleCustomRangeSubTypeSelection("");o.selectedRangeTypeId=e;o.selectedCustomRangeSubTypeId="";o.selectedCustomRangeDate="";o.selectedCustomRangeDateUntil="";o.collapseOnDoneIfApplicable();o.fireCompletedCallback()}else o.collapseOnDoneIfApplicable()};this.handleGoClicked=function(e){e.stopPropagation();if(!o.validate())return!1;o.resetInitialProperties();o.collapseOnDoneIfApplicable();o.fireCompletedCallback();return!0};this.handleCancelClicked=function(){o.handleCustomRangeSubTypeSelection("");(o.style=o.STYLE_A)&&o.toggleAllRange()};this.populateDateFields=function(e){if(null==e||(0,ni.isBlank)(e.type))o.selectedRangeTypeId=B();else{o.selectedRangeTypeId=e.type;o.selectedCustomRangeSubTypeId=e.subType;if((0,d.IsNotNullOrEmpty)(e.date))if((0,d.IsNotNullOrEmpty)(e.dateFormat)){var t=Date.parseExact(e.date,e.dateFormat);t?o.selectedCustomRangeDate=t.toFormattedString(o.getDateFormat()):o.displayBadDateValidationMessage(e.date,e.date,o.selectedCustomRangeSubTypeId,o._CUSTOM_RANGE_ERROR_BOX_ID)}else o.selectedCustomRangeDate=Date.parseLenient(e.date).toFormattedString(o.getDateFormat());(0,d.IsNotNullOrEmpty)(e.until)&&((0,d.IsNotNullOrEmpty)(e.dateFormat)?o.selectedCustomRangeDateUntil=Date.parseExact(e.until,e.dateFormat).toFormattedString(o.getDateFormat()):o.selectedCustomRangeDateUntil=Date.parseLenient(e.until).toFormattedString(o.getDateFormat()))}};function B(){for(var e=0;e<o.fixedRangeTypeList.length;e++)if(o.fixedRangeTypeList[e].id==o.ALL)return o.ALL;return null}this.getDateFieldObject=function(){if((0,ni.isBlank)(o.selectedRangeTypeId)||o.selectedRangeTypeId==o.ALL)return null;var e={type:o.selectedRangeTypeId};if((0,d.IsNotNullOrEmpty)(o.selectedRangeTypeId)){e.subType=o.selectedCustomRangeSubTypeId;(0,d.IsNotNullOrEmpty)(o.selectedCustomRangeDate)&&(e.date=o.selectedCustomRangeDate);(0,d.IsNotNullOrEmpty)(o.selectedCustomRangeDateUntil)&&(e.until=o.selectedCustomRangeDateUntil)}e.dateFormat=o.getDateFormat();return e};this.initialize=function(){(function(){for(var e=0;e<L.length;e++){var t=L[e],n=[],i=o.getCustomRangeElement(o._CUSTOM_RANGE_TEXT_ID,t);i&&n.push(i);if(t==o.FROM_UNTIL){var a=o.getCustomRangeElement(o._CUSTOM_RANGE_UNTIL_TEXT_ID,t);a&&n.push(a)}for(var r=0;r<n.length;r++){n[r].addEventListener("keypress",O);n[r].addEventListener("click",(function(e){e.preventDefault();e.stopPropagation()}))}}R(o._FIXED_LIST_ID,P);R(C,P)})()};this.finalize=function(){if(o.selectedRangeTypeId==o.CUSTOM){o.commitCustomValues();var e=o.getCustomRangeElement(o._CUSTOM_RANGE_TEXT_ID,o.selectedCustomRangeSubTypeId).value,t=o.getCustomRangeElement(o._CUSTOM_RANGE_UNTIL_TEXT_ID,o.selectedCustomRangeSubTypeId),n=null!=t?t.value:null;(0,ni.isBlank)(e)&&(0,ni.isBlank)(n)&&o.handleFixedRangeTypeSelection(B())}o.refresh()};this.commitCustomValues=function(){o.selectedRangeTypeId=o.CUSTOM;var e=o.getCustomRangeElement(o._CUSTOM_RANGE_TEXT_ID,o.selectedCustomRangeSubTypeId).value;(function(e){if(o.selectedCustomRangeSubTypeId==o.ON&&o.isYearOnly(e)){o.getCustomRangeElement(o._CUSTOM_RANGE_UNTIL_TEXT_ID,o.FROM_UNTIL).value=e;o.selectedCustomRangeSubTypeId=o.FROM_UNTIL}})(e);var t=o.selectedCustomRangeSubTypeId==o.AFTER?this.convertStringToDate(e,!0):this.convertStringToDate(e);o.selectedCustomRangeDate=G(t);if(o.selectedCustomRangeSubTypeId==o.FROM_UNTIL){
var n=o.getCustomRangeElement(o._CUSTOM_RANGE_UNTIL_TEXT_ID,o.selectedCustomRangeSubTypeId).value,i=this.convertStringToDate(n,!0);o.selectedCustomRangeDateUntil=G(i)}else o.selectedCustomRangeDateUntil=""};this.getSelectedRangeLabel=function(){if((0,ni.isBlank)(o.selectedRangeTypeId))return"Choose a date";if(o.selectedRangeTypeId==o.CUSTOM){if(o.selectedCustomRangeSubTypeId==o.FROM_UNTIL)return o.formatDate(o.selectedCustomRangeDate,"?")+" - "+o.formatDate(o.selectedCustomRangeDateUntil,"?");if(o.selectedCustomRangeSubTypeId==o.BEFORE)return D["default"].format("SC.Search.DateWidget.BeforeDate",{date:o.formatDate(o.selectedCustomRangeDate,"?")},"Before "+o.formatDate(o.selectedCustomRangeDate,"?"));if(o.selectedCustomRangeSubTypeId==o.AFTER)return D["default"].format("SC.Search.DateWidget.AfterDate",{date:o.formatDate(o.selectedCustomRangeDate,"?")},"After "+o.formatDate(o.selectedCustomRangeDate,"?"));if(o.selectedCustomRangeSubTypeId==o.ON)return o.getOnLabel()+" "+o.formatDate(o.selectedCustomRangeDate,"?")}for(var e in function(e){if(e)return e;return[]}(o.fixedRangeTypeList))if(o.fixedRangeTypeList[e].id==o.selectedRangeTypeId)return o.fixedRangeTypeList[e].label;H("illegal state...can't find type ID that matches")};this.validateInitialProperties=function(){F("instanceId is required",r);F("fixed range list cannot be null",o.fixedRangeTypeList);o.fixedRangeTypeList.length<1&&H("fixed range list cannot be empty");F("selectedRangeTypeId must be set",o.selectedRangeTypeId);if(o.CUSTOM!=o.selectedRangeTypeId){var e=!0;for(var t in o.fixedRangeTypeList)if(o.fixedRangeTypeList[t].id==o.selectedRangeTypeId){e=!1;break}e&&H(`the range id set as selected (${o.selectedRangeTypeId}) is not in the list of options`)}if(o.selectedRangeTypeId==o.CUSTOM){e=!0;for(var n in L)if(L[n]==o.selectedCustomRangeSubTypeId){e=!1;break}e&&H(`the custom range subytpe set as selected (${o.selectedCustomRangeSubTypeId}) is not valid`);(0,ni.isBlank)(o.selectedCustomRangeSubTypeId)||W(`selectedCustomRangeDate is required for ${o.selectedCustomRangeSubTypeId}`,o.selectedCustomRangeDate);o.selectedCustomRangeSubTypeId==o.FROM_UNTIL&&W(`selectedCustomRangeDateUntil is required for ${o.selectedCustomRangeSubTypeId}`,o.selectedCustomRangeDateUntil)}};this.validate=function(){if(o.CUSTOM==o.selectedRangeTypeId){const e=o.getCustomRangeElement(o._CUSTOM_RANGE_TEXT_ID,o.selectedCustomRangeSubTypeId),t=e.value,n=this.convertStringToDate(t);if(o.selectedCustomRangeSubTypeId!=o.FROM_UNTIL&&null==n){o.displayBadDateValidationMessage(e,t,o.selectedCustomRangeSubTypeId,o._CUSTOM_RANGE_ERROR_BOX_ID);return!1}if(o.selectedCustomRangeSubTypeId==o.FROM_UNTIL){const i=o.getCustomRangeElement(o._CUSTOM_RANGE_UNTIL_TEXT_ID,o.selectedCustomRangeSubTypeId),a=i.value,r=this.convertStringToDate(a),s=!(0,ni.isBlank)(t)&&null==n,l=!(0,ni.isBlank)(a)&&null==r;if(s){o.displayBadDateValidationMessage(e,t,o.selectedCustomRangeSubTypeId,o._CUSTOM_RANGE_ERROR_BOX_ID);return!1}if(l){o.displayBadDateValidationMessage(i,a,o.selectedCustomRangeSubTypeId,o._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID);return!1}if((0,ni.isBlank)(t)){o.displayBadDateValidationMessage(e,t,o.selectedCustomRangeSubTypeId,o._CUSTOM_RANGE_ERROR_BOX_ID);return!1}if((0,ni.isBlank)(a)){o.displayBadDateValidationMessage(i,a,o.selectedCustomRangeSubTypeId,o._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID);return!1}if(n.compareTo(r)>-1){o.showErrorMessage(D["default"].lookup("SC.Search.DateWidget.BadUntilDate","Until date must be greater than From date"),i,o._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID);return!1}}o.commitCustomValues()}return!0};this.displayBadDateValidationMessage=function(e,t,n,i){var a=n==o.FROM_UNTIL?"both dates":"date",r=n==o.FROM_UNTIL?"BothDates":"Date";const s=document.createElement("div");s.textContent=t;var l=s.innerHTML,c=(0,ni.isBlank)(t)?D["default"].lookup("SC.Search.DateWidget.BlankDateError."+r+o.doneButtonTextKey,`Please enter ${a} before clicking "${o.doneButtonText}"`):D["default"].format("SC.Search.DateWidget.BadDateError",{badDate:l},`'${l}' is not a valid date`);o.showErrorMessage(c,e,i)};this.showErrorMessage=function(e,t,n){var i=o.getCustomRangeElement(n,o.selectedCustomRangeSubTypeId);(0,ni.showErrorMessage)(e,i,o.errorLocation,t,!0)};this.getFormattedCount=function(e){return(0,ni.formatNumberWithCommas)(e)};this.getCustomFieldSubstituteObject=function(e,t,n,i){return{customRangeTextId:(0,ni.substitute)(o._CUSTOM_RANGE_TEXT_ID,{customRangeSubTypeId:i}),customRangeErrorBoxId:(0,ni.substitute)(o._CUSTOM_RANGE_ERROR_BOX_ID,{customRangeSubTypeId:i}),customRangeUntilTextId:(0,ni.substitute)(o._CUSTOM_RANGE_UNTIL_TEXT_ID,{customRangeSubTypeId:i}),customRangeUntilErrorBoxId:(0,ni.substitute)(o._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID,{customRangeSubTypeId:i}),date:o.formatDate(e),labelClass:t,label:n,customRangeSubTypeId:i,placeholderText:D["default"].lookup("SC.Search.DateWidget.DateFieldPlaceHolder","")}};this.formatDate=function(e,t){null==t&&(t="");return null!=e?e:t};function M(e){var t="";o.fixedRangeTypeList.forEach((n=>{if(n.id==e&&(0,d.IsNotNullOrEmpty)(n.count)){t=n.count;t=o.getFormattedCount(t)}}));return t}function F(e,t){null==t&&H(e)}function W(e,t){(0,ni.isBlank)(t)&&H(e)}this.collapseOnDoneIfApplicable=function(){if(o.collapseOnDone){o.refresh();o.toggleAllRange()}};this.fireCompletedCallback=function(){o._completionCallback(r,o)};function H(e){(0,Ee.publishErrorMessage)(A["default"].Search,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(e)}function G(e){return null==e?null:e.toFormattedString(o.getDateFormat())}this.getCustomRangeElement=function(e,t){var n=(0,ni.substitute)(e,{customRangeSubTypeId:t});return document.getElementById(n)}}));const bc=yc;var Cc=n(6463);const Sc=bc.extend((function(e,t){this._super(e,t);const n=this.hasBeenExpandedBefore;this.hasBeenExpandedBefore=function(){const e=Xn["default"].SearchResult.getContentType();if(Cc["default"].isCompositeDocketsPage()&&e===ir["default"].SEARCHABLEDOCKETPDFS.code)return!0;return n()}}));var _c=n(9938);function Dc(e){var t,n,i,a=this,o=Object.assign({},e);const r={};this._divCssClasses=["co_divider"];this.getFacet=function(){return o};this.getFacetId=function(){return o.displayOptions.id};this.getDisplayName=function(){return o.name};this.getIconText=function(){return o.displayOptions.iconText};this.getDescription=function(){var e=null;null!=o.description&&(e=o.description);return e};this.getSubTitle=function(){return o.displayOptions.subtitle};this.getDisplayNamePlural=function(){return o.displayOptions.plural};this.getData=function(){return o.data};this.isMultiSelectAllowed=function(){var e=o.displayOptions.multiSelectAllowed;return null==e||e};this.isExpressAccordianSelectionSupported=function(){return!1};this.isCountRefreshRequired=function(){return!1};this.handleSelectClicked=function(){throw new Error("Unsupported operation for facet")};this.createHtml=function(){var e=(0,ni.addAccordionTitle)(a.getDisplayName(),a.getFacetId());e+='<div id="{parentDivId}" class="{cssClasses}"><fieldset>{headerHtml}{facetHtml}</fieldset></div>';var t={parentDivId:a.getParentDivId(),facetHtml:a.getFacetHtml(),cssClasses:a.getDivCssClasses().join(" "),headerHtml:a.getHeaderHtml()};return(0,ni.substitute)(e,t)};this.getDivCssClasses=function(){return a._divCssClasses};this.removeDivCssClass=function(e){var t=a._divCssClasses.indexOf(e);a._divCssClasses.splice(t,1)};this.registerModal=function(){var e=a.getModalWidget();e&&vc.currentFacetRenderer.registerModalFacet(a.getFacetId(),e)};this.getModalWidget=function(){n||(n=a.createModalWidget())&&n.setMultiSelectEnabled(a.isMultiSelectEnabled());return n};this.createModalWidget=function(){return null};this.getParentDivId=function(){var e={facetId:a.getFacetId()};return(0,ni.substitute)("facet_div_{facetId}",e)};this.getPopupParentDivId=function(){var e={facetId:a.getFacetId()};return(0,ni.substitute)("co_facet_{facetId}_popup",e)};this.getHeaderTemplate=function(){return'<legend><span id="co_facetHeader{id}" class="co_facet_header{additionalClasses}">{name}{headerDecoration}</span></legend>'};this.handleHeaderClicked=function(){}
;this.getHeaderAdditionalClasses=function(){return""};this.getHeaderHtml=function(){var e=a.getHeaderTemplate(),t={id:a.getFacetId(),name:a.getDisplayName(),additionalClasses:a.getHeaderAdditionalClasses(),headerDecoration:a.getHeaderDecorationHtml(),iconText:a.getIconText()},n="";n+=(0,ni.substitute)(e,t);a.initHeaderClickHandler();var i=a.getSubTitle();if((0,d.IsNotNullOrEmpty)(i)){t.subtitle=i;n+=(0,ni.substitute)('<div id="co_facetSubHeader{id}"><span class="co_facet_subtitle">{subtitle}</span></div>',t)}return n};this.initHeaderClickHandler=function(){var e="#co_facetHeader"+a.getFacetId();document.body.removeEventListener("click",r[e]);const t=function(t){t.target.closest(e)&&a.handleHeaderClicked()};document.body.addEventListener("click",t);r[e]=t};this.getHeaderDecorationHtml=function(){return""};this.getFacetHtml=function(){throw new Error("Subclasses should implement getFacetHtml()")};this.getSortedAttributes=function(e,t){t||(t={active:[],inactive:[]});for(var n in e){var i=e[n];i.dataOptions&&i.dataOptions.active?t.active.push(i):t.inactive.push(i);"object"==typeof i.children&&i.children.length>0&&(t=a.getSortedAttributes(i.children,t))}return t};this.setMultiSelectEnabled=function(e){t=e;var n=a.getModalWidget();n&&n.setMultiSelectEnabled(a.isMultiSelectEnabled())};this.isMultiSelectEnabled=function(){return t&&a.isMultiSelectAllowed()};this.getFacetSettings=function(){return i};this.setFacetSettings=function(e){i=e};this.getDisplayValue=function(){return""}}var Tc=c().extend({init:function(e,t){this._applyToFront=null!=e&&e;this._currentRenderer=null!=t?t:vc.currentFacetRenderer;this.countTemplate='<span class="{clazz}">{count}</span>'},createHtml:function(e,t,n){null==n&&(n=!0);return this.createXBoxList(e,t,n)},getFacetData:function(e,t,n){return{parentid:e,attributeId:t.dataOptions.id,labelClass:t.dataOptions.labelClass,name:t.name,applyToFront:this._applyToFront.toString(),class:n,disabled:""}},createXBoxList:function(e,t,n){var i,a,o="",r=`xBoxInput_${y["default"].CreateUUID()}`;for(var s in t){i=t[s];a=this.getFacetTemplate(i.dataOptions.id);const l=this.getFacetData(e,i,r);l.itemId=this.createItemId(l);l.inputId=this.createInputId(l);l.countHtml=n?this.createCountHtml(i):"";l.ariaLabel=this.createAriaLabel(i);l.labelHtml=this.createInputLabelHtml(l);if(1==i.dataOptions.active){l.isAddition="false";l.checked="checked";vc.currentFacetRenderer.putToActiveList(e,l.attributeId)}else{l.isAddition="true";l.checked=""}o+=(0,ni.substitute)(a,l)}document.addEventListener("click",(e=>{if(!e.target.closest(`input.${r}`))return;var t=ge.ElementStorage.get(e.target,"parent-id"),n=ge.ElementStorage.get(e.target,"attribute-id"),i=ge.ElementStorage.get(e.target,"apply-to-front");this._currentRenderer.toggle(t,n,i)}));return o},createCountHtml:function(e){var t="co_facetCount",n="";if(null!=e.dataOptions.count){"0"==e.dataOptions.count&&(t+=" co_disabled");var i=(0,ni.formatNumberWithCommas)(e.dataOptions.count);n=(0,ni.substitute)(this.countTemplate,{count:i,clazz:t})}return n},createAriaLabel:function(e){let t="";if(e.dataOptions.count){const n=D["default"].format("SC.Search.Results.Filters.Facets.XBox.AriaLabel",{resultsAmount:e.dataOptions.count},`${e.dataOptions.count} results`);t=`aria-label="${e.name}: ${n}"`}return t},createInputLabelHtml:function(e){let t="";(0,d.IsNotNullOrEmpty)(e.labelClass)&&(t+=`class="${e.labelClass}"`);return`<label for="${this.createInputId(e)}" ${t}>\n                    ${(0,d.Trim)(e.name)}\n                </label>`},getFacetTemplate(e){var t="";t+='<li id="{itemId}"';"INCLUDE_SUBSEARCH"===e&&(t+=' style="display:none"');t+=">";t+='<input id="{inputId}" type="checkbox" {ariaLabel} data-parent-id="{parentid}" data-attribute-id="{attributeId}" data-apply-to-front="{applyToFront}" class="{class}" {disabled} {checked} />';t+="{countHtml}";t+="{labelHtml}";return t+="</li>"}});Tc.prototype._facetPrefixId="co_facet";Tc.prototype._facetInputPrefixId="co_facetItem_";Tc.prototype.createInputId=function(e){return this._facetInputPrefixId+e.parentid+e.attributeId};Tc.prototype.createItemId=function(e){return this._facetPrefixId+e.attributeId};const Ic=Tc;function xc(e){Dc.call(this,e);const t=this,n=t.getFacetId();t.getDivCssClasses().push("co_popup_facet");this.getFacetHtml=function(){return`${t.createSelectButton(n,t.getDisplayName())}<ul class="co_facet_applied">${t.createItemList()}</ul>`};this.handleHeaderClicked=function(){return vc.currentFacetRenderer.openFacetDialog(n)};this.createItemList=function(e){const i=t.getSortedAttributes(t.getData());return t.getXBoxRenderer().createHtml(n,i.active,e)};this.createSelectButton=function(e,n){const i=`\n            <button type="button" id="co_facet_selectLink_${e}" class="co_facet_selectLink co_linkBlue">\n                ${D["default"].lookup("SC.Search.Facets.Generic.Select","Select")} <span class="co_accessibilityLabel">${n}</span>\n            </button>`;t.attachEventListener(e);return i};this.attachEventListener=function(e){const t=`#co_facet_selectLink_${e}`;document.body.addEventListener("click",(function(n){if(n.target.closest(t)){if(!1===vc.currentFacetRenderer.openFacetDialog(e)){n.preventDefault();n.stopPropagation()}}}))};this.refreshFacetList=function(e){const i=document.querySelector(`#facet_div_${n} ul.co_facet_applied`),a=t.getXBoxRenderer().createHtml(n,e);i.innerHTML=a};this.getXBoxRenderer=function(){return new Ic};this.isExpressAccordianSelectionSupported=function(){return!0};this.handleSelectClicked=function(){return vc.currentFacetRenderer.openFacetDialog(n)}}xc.prototype=Object.create(Dc.prototype);xc.prototype.constructor=xc;const kc=xc;var wc=n(149);function Ec(e,t,n){const i=this,a=function(e){return(0,ni.createValidHtmlId)(e)}(t),o=e,r=n;let s=null,l=null;const c=D["default"].lookup("SC.Search.Facets.Generic.Cancel","Cancel"),d=D["default"].lookup("SC.Search.Facets.NavigatorWidget.ScreenReader.CloseWindow","Close this window");let u=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SelectSubSearch.Filter","Filter"),h=D["default"].lookup("SC.Search.Facets.Generic.ContinueButton","Continue");const f="co_hideState";this.getId=function(){return a};this.getHtmlId=function(){return a};this.getParentDivId=function(){return o};this.getTitle=function(){return r};this.getDialogId=function(){return"co_facet_"+i.getHtmlId()+"_popup"};function p(){return"co_facet_"+i.getHtmlId()+"_popupClose"}this.getFilterButtonId=function(){return"co_facet_"+i.getHtmlId()+"_filterButton"};this.getContinueButtonId=function(){return"co_facet_"+i.getHtmlId()+"_continueButton"};this.getCancelButtonId=function(){return"co_facet_"+i.getHtmlId()+"_cancelButton"};this.getContainerClass=function(){return""};this.getDialogTitleClass=function(){return""};this.setFilterButtonText=function(e){u=e};this.setContinueButtonText=function(e){h=e};this.setVisible=function(e){i.trigger=document.activeElement;e.insertAdjacentHTML("beforeend",i.draw());e.classList.add("co_active");void 0!==e.id&&-1!==e.id.indexOf("Wide")&&document.querySelectorAll(".co_overlayBox_container").forEach((e=>e.classList.add("co_wide")));i.initialize();const t=document.getElementById(i.getDialogId());t?.dispatchEvent(new CustomEvent("popupshown",{bubbles:!0,cancelable:!0}));if(!Xn["default"].Device.isIPadEnabled()){_c["default"].repositionElementForViewport(t);i.setDefaultFocus()}};this.setMultiSelectEnabled=function(e){s=e;document.getElementById(i.getFilterButtonId())?.classList.toggle(f);document.getElementById(i.getContinueButtonId())?.classList.toggle(f)};this.getMultiSelectEnabled=function(){return s};this.initialize=function(){i.popupInitialize()};this.popupInitialize=function(){const e=document.getElementById(i.getDialogId());e?.querySelector("#"+p())?.addEventListener("click",i.closeIfReady);e?.querySelector("#"+i.getCancelButtonId())?.addEventListener("click",i.closeIfReady);this.enableFilterButton();(0,ni.addEscapeListener1)(e,i.closeIfReady);e?.addEventListener("keydown",gn["default"])};this.filterCallback=function(){i.closeIfReady()};this.continueCallback=function(){i.filterCallback();i.closeIfReady();var e=i.getSelected(),t=[];for(var n in e){var a=e[n],o={}
;o.name=i.getAttributeDisplayName(a);o.dataOptions={};o.dataOptions.id=a.id;o.dataOptions.count=a.count;o.dataOptions.active=!0;t.push(o)}vc.currentFacetRenderer.getFacetWidget(i.getId()).refreshFacetList(t)};this.setContinueCallback=function(e){i.continueCallback=e};this.setFilterCallback=function(e){i.filterCallback=e};this.setDefaultFocus=function(){var e=i.getDefaultFocusElement();e?.focus()};this.getDefaultFocusElement=function(){const e=document.getElementById(i.getDialogId()),t=document.getElementById(p()),n=Array.from(e?.querySelectorAll("input[type=text], textarea")??[]).find(ea.isFocusable);if(n)return n;return t};this.updateSelectedIds=function(){throw new Error("A popup window must define a method of updating selected Ids")};this.draw=function(){const e={cancelButtonId:i.getCancelButtonId(),cancelButtonText:c,closeWindowScreenReader:d,containerClass:i.getContainerClass(),continueButtonClass:s?"":f,continueButtonId:i.getContinueButtonId(),continueButtonText:h,dialogCloseId:p(),dialogId:i.getDialogId(),dialogTitle:i.getTitle(),dialogTitleClass:"Digest Topics"!=i.getTitle()?i.getDialogTitleClass():"",dialogTitleElementId:i.getDialogId()+"_title",filterButtonClass:s?f:"",filterButtonId:i.getFilterButtonId(),filterButtonText:u,popupContent:i.getPopupContent(),wrappingDivEnd:i.hasWrappingDiv()?"</div>":"",wrappingDivStart:i.hasWrappingDiv()?m():""};return(0,Xe.template)('<%= wrappingDivStart %>\n<div\n    id="<%= dialogId %>"\n    role="dialog"\n    aria-labelledby="<%= dialogTitleElementId %>"\n    tabindex="-1"\n    aria-live="rude"\n    class="co_overlayBox_container <%= containerClass %>"\n>\n    <div class="co_overlayBox_topLeft">\n        <div class="co_overlayBox_topRight">\n            <div class="co_overlayBox_headline">\n                <h2 id="<%= dialogTitleElementId %>" class="<%= dialogTitleClass %>" tabindex="-1">\n                    <%= dialogTitle %>\n                </h2>\n                <button class="co_overlayBox_closeButton" id="<%= dialogCloseId %>">\n                    <%= closeWindowScreenReader %>\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class="co_overlayBox_left">\n        <div class="co_overlayBox_right">\n            <div class="co_overlayBox_content"><%= popupContent %></div>\n        </div>\n    </div>\n    <div class="co_overlayBox_optionsBottomLeft">\n        <div class="co_overlayBox_optionsBottomRight">\n            <div class="co_overlayBox_optionsBottom">\n                <ul>\n                    <li>\n                        <label for="<%= filterButtonId %>" class="co_accLink">\n                            <%= filterButtonText %> <%= dialogTitle %>\n                        </label>\n                        <button class="<%= filterButtonClass %> co_primaryBtn" id="<%= filterButtonId %>">\n                            <%= filterButtonText %>\n                        </button>\n                        <button class="<%= continueButtonClass %> co_primaryBtn" id="<%= continueButtonId %>">\n                            <%= continueButtonText %>\n                        </button>\n                    </li>\n                    <li>\n                        <button class="co_overlayBox_buttonCancel" id="<%= cancelButtonId %>">\n                            <%= cancelButtonText %>\n                        </button>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>\n<%= wrappingDivEnd %>')(e)};this.getPopupContent=function(){throw new Error("A popup window must define content")};this.disableFilterButton=function(){if(l||null==l){i.disableButton(i.getFilterButtonId(),i.filterCallback);i.disableButton(i.getContinueButtonId(),i.continueCallback);l=!1}};this.disableButton=function(e,t){var n=document.getElementById(e);if(n){n.classList.add("co_disabled");n.disabled=!0;n.removeEventListener("click",t)}};this.enableButton=function(e,t){var n=document.getElementById(e);if(n){n.classList.remove("co_disabled");n.disabled=!1;n.addEventListener("click",t)}};this.enableFilterButton=function(){var e=x()("#"+i.getFilterButtonId());if(!l&&e.length>0){i.enableButton(i.getFilterButtonId(),i.filterCallback);i.enableButton(i.getContinueButtonId(),i.continueCallback);l=!0}};this.closeIfReady=function(){i.hasWrappingDiv()?document.getElementById(g())?.remove():document.getElementById(i.getDialogId())?.remove();const e=document.getElementById(i.getParentDivId());if(e){e.dispatchEvent(new Event("popuphidden",{bubbles:!0}));e.classList.remove("co_active")}if(i.trigger){i.trigger.focus();i.trigger=null}vc.currentFacetRenderer&&vc.currentFacetRenderer.triggerModalClosed();return!0};this.hasWrappingDiv=function(){return!1};this.getWrappingDivClasses=function(){return null};function m(){var e={wrapperId:g(),wrapperClasses:i.getWrappingDivClasses()};return(0,ni.substitute)('<div id="{wrapperId}" class="{wrapperClasses}">',e)}function g(){return`co_facet_${i.getHtmlId()}_popup_wrapper`}}function Ac(e,t,n,i,a,r){Ec.call(this,e,t,n);var s,l=this,c="co_collectorWidgetErrorMessage",u=!1;this.setData=function(e){s=e;f(e)};this.getData=function(){return s};this.localizerKey={yourSelections:"SC.Search.Facets.NavigatorWidget.yourSelections",zeroItemsSelected:"SC.Search.Facets.NavigatorWidget.Hierarchy.ZeroItemsSelected"};var h=[];function f(e,t){e||(h=[]);e=e||s;0==h.length&&(0,Xe.forEach)(e,(function(e){t&&(e.parentId=t.dataOptions.id);h[e.dataOptions.id]=e;e.children&&e.children.length>0&&f(e.children,e)}));return f}this.updateOptionsCache=function(e,t){null!=h&&(0,Xe.forEach)(e,(function(e){e.parentId=t;h[e.dataOptions.id]=e}))};l.setData(i);var p,g,v=a||[],y=v.slice(),b=!1,C=!!r&&r.hideCounts,S=!r||r.hideSelectedCount,_=r?r.maxSelect:void 0,T=!!r&&r.includeAllChildrenOnParentSelect,I=!!r&&r.onlyLeafNodesSelectable,k="{parentId}",w=D["default"].lookup("SC.Search.Facets.NavigatorWidget.EnterSearchLabel."+t,`Enter ${_c["default"].getIndefiniteArticle(n)} ${n}`),E="co_facet_searchBoxInput",A="co_facet_searchBox",L="co_tocPreviousResult",N="co_tocNextResult",R="("+(_?D["default"].format("SC.Search.Facets.NavigatorWidget.MaxSelectText",{maxSelect:_},"select up to "+_):"")+")",P=!1,O=0,B="";this.getAvailableListId=function(){return`co_facet_${l.getHtmlId()}_availableOptions`};this.getSelectedListId=function(){return`co_facet_${l.getHtmlId()}_selectedOptions`};this.getContainerClass=function(){return"co_facet_collector co_wide"};this.getSelectedList=function(){g&&0!=g.length||(g=x()("#"+l.getSelectedListId()));return g};this.getAvailableList=function(){p&&0!=p.length||(p=x()("#"+l.getAvailableListId()));p.attr("aria-labelledby",`co_facet_${this.getHtmlId()}_availableOptions_heading`);return p};this.initialize=function(){l.initializeCollector()};this.popupHiddenHandler=function(){p=void 0;g=void 0};this.popupShownHandler=function(){l.setCustomWidgetState();l.setFilterButtonState();l.attachSearchEvents()};this.handleDialogSelection=function(e){const{optionId:t}=e.detail;l.refreshSelected(t);l.toggleAvailable(t);l.setCustomWidgetState(t);l.setFilterButtonState()};this.initializeCollector=function(){l.popupInitialize();l.updateNumberOfItemsSelected();var e=document.getElementById(l.getParentDivId());e?.addEventListener("popuphidden",l.popupHiddenHandler);var t=document.getElementById(l.getDialogId());(0,wc.finalizeElementForIpad)(t,!1);l.attachEventsToAvailableList();l.attachEventsToSelectedList();t?.addEventListener("selectedchanged",this.handleDialogSelection);t?.addEventListener("popupshown",l.popupShownHandler)};this.attachEventsToAvailableList=function(){l.getAvailableList().off("click",'a[linkType="item"]',l.handleAvailableListAnchorClick);l.getAvailableList().on("click",'a[linkType="item"]',l.handleAvailableListAnchorClick);l.getAvailableList().off("keypress",'a[linkType="item"]',l.handleAvailableListAnchorKeypress);l.getAvailableList().on("keypress",'a[linkType="item"]',l.handleAvailableListAnchorKeypress)};this.handleAvailableListAnchorClick=function(){l.choosingAvailableListItem(l.getSelectableListItem(this))};this.handleAvailableListAnchorKeypress=function(e){32==e.charCode&&l.choosingAvailableListItem(l.getSelectableListItem(this))}
;this.getSelectableListItem=e=>x()(e);this.attachEventsToSelectedList=function(){l.getSelectedList().off("click",'a[linkType="item"]',l.handleSelectedListAnchorClick);l.getSelectedList().on("click",'a[linkType="item"]',l.handleSelectedListAnchorClick);l.getSelectedList().off("keypress",'a[linkType="item"]',l.handleSelectedListAnchorKeypress);l.getSelectedList().on("keypress",'a[linkType="item"]',l.handleSelectedListAnchorKeypress)};this.handleSelectedListAnchorClick=function(){l._choosingSelectedListItem(l.getSelectableListItem(this))};this.handleSelectedListAnchorKeypress=function(e){32==e.charCode&&l._choosingSelectedListItem(l.getSelectableListItem(this))};this.choosingAvailableListItem=function(e){var t=e.attr("id");l.isItemSelected(t)?l.removeFromSelected(t):function(){if(_){var e=document.querySelector(".co_tree")?.id;if(document.querySelector(`#${e} .co_checkbox_selected`)>=_){(function(e,t){var n=document.getElementById(c),i=D["default"].format("SC.Search.Facets.NavigatorWidget.TooManySelected",{Limit:t.Limit,Plural:t.Plural},`<p>You have exceeded the maximum number of selections.</p><p>Please limit your selections to ${t.Limit} item${t.Plural} or fewer.</p>`);if(n){n.innerHTML=i;n.classList.remove("co_hideState")}})(0,{Limit:_,Plural:1==_?"":"s"});(function(){if(!1!==u){window.clearTimeout(u);u=!1}})();u=window.setTimeout((function(){V()}),1e4);return!1}V()}return!0}()&&l.addToSelected(t);Xn["default"].Device.isIPadEnabled()||document.getElementById(t)?.focus();l.updateNumberOfItemsSelected()};this._choosingSelectedListItem=function(e){var t=e.attr("id").replace("_selected","");const n=this.getSelected().findIndex((e=>e.id===t)),i=n===this.getSelected().length-1;l.removeFromSelected(t);if(!Xn["default"].Device.isIPadEnabled())if(this.getSelected().length&&!i){const e=document.getElementById(`${this.getSelected()[n]?.id}_selected`);e?.focus()}else{const e=document.getElementById(this.getFilterButtonId()),t=document.getElementById(this.getCancelButtonId());!e?.disabled?e?.focus():t?.focus()}l.updateNumberOfItemsSelected()};this.getSelectionsFooterContent=function(){return""};this.setLastPerformedQuery=function(e){B=e};this.getPopupContent=function(){v=y.slice();p=null;g=null;return this.drawPopupContent()};this.drawPopupContent=function(){return st().template('<div id="<%=errorMessageDomId%>" aria-live="rude" role="alert" class="co_hideState"></div>\n<%=searchBox%>\n<%if (isWMAHeader) {%>\n    <div class="co_facet_columnHeaders">\n        <%=availableTitle%>\n        <h3>\n            <%=selectionsLabel%>\n        </h3>\n    </div>\n<%}%>\n<div class="co_overlayBox_leftContent">\n    <%if (!isWMAHeader){%>\n        <%=availableTitle%>\n    <%}%>\n    <div class="co_collectorScrollOne co_scrollWrapper">\n        <ul class="co_tree" id="<%=availableListId%>">\n            <%=requiredInputHtml%>\n        </ul>\n    </div>\n</div>\n<div class="co_overlayBox_rightContent">\n    <%if (!isWMAHeader){%>\n        <h3 id="co_facet_selectedItems_heading">\n            <%=selectionsLabel%>\n        </h3>\n    <%}%>\n    <div class="co_collectorScrollTwo co_scrollWrapper">\n        <ul class="co_tree" id="<%=selectedListId%>" aria-labelledby="co_facet_selectedItems_heading">\n            <%=selected%>\n        </ul>\n    </div>\n    <%=footerContent%>\n</div>\n<div class="co_clear"></div>\n<%if(!hideSelectedCount){%>\n    <span id="co_facet_searchable_selected">\n        <%=zeroItemsSelected%>\n        <%if (maxSelect) {%>\n            <%=extraSelectCountText%>\n        <%}%>\n    </span>\n<%}%>')({errorMessageDomId:c,availableTitle:l.drawAvailableTitle(),searchBox:l.drawSearchBox(),availableListId:l.getAvailableListId(),requiredInputHtml:l.renderAvailable(),footerContent:l.getSelectionsFooterContent(),selectedListId:l.getSelectedListId(),selectionsLabel:D["default"].lookup(l.localizerKey.yourSelections,"Your Selections:"),selected:l.renderSelected(),hideSelectedCount:S,zeroItemsSelected:D["default"].lookup(l.localizerKey.zeroItemsSelected,"<strong>0</strong> items selected"),maxSelect:_,extraSelectCountText:R,isWMAHeader:Lt["default"].isPracticalLawUK()&&o["default"].isFeatureEnabled("PLACEWMANALYTICSUK")})};this.drawAvailableTitle=function(){let e;e=r&&r.description?r.description:l.getTitle();return`<h3 id="co_facet_${this.getHtmlId()}_availableOptions_heading">${e}</h3>`};this.drawSearchBox=function(){var e="";e+=b?'<div id="{divId}" class="co_noNavigation">':'<div id="{divId}">';e+='<label for="{inputId}" class="co_accLink">{defaultText}</label>';e+='<input id="{inputId}" type="text" value="{defaultText}" autocorrect="off" autocapitalize="off"/>';e+=l.drawButtonsForSearchBox();e+="</div>";e+='<div id="{searchResultDiv}"></div>';var t={title:l.getTitle(),divId:A,inputId:E,defaultText:w,nextPreviousDivId:"co_facet_searchButtons",previousLinkId:L,previousLinkClass:"co_facet_searchPrevious",nextLinkId:N,nextLinkClass:"co_facet_searchNext",searchResultDiv:"co_docTocOverlay_search_results"};return(0,ni.substitute)(e,t)};this.drawButtonsForSearchBox=function(){var e="";if(!b){e+='<div class="{nextPreviousDivId}">';var n=D["default"].lookup("SC.Search.Facets.NavigatorWidget.PreviousButtonHover."+t,"Previous {title} Match"),i=D["default"].lookup("SC.Search.Facets.NavigatorWidget.NextButtonHover."+t,"Next {title} Match");e+=`<a href="javascript:void(0);" aria-label="${n}" role="button" id="{previousLinkId}" class="{previousLinkClass}" title="${n}">${D["default"].lookup("SC.Search.Facets.NavigatorWidget.PreviousButtonHoverText","Prev")}</a>`;e+=`<a href="javascript:void(0);" aria-label="${i}" role="button" id="{nextLinkId}" class="{nextLinkClass}" title="${i}">${D["default"].lookup("SC.Search.Facets.NavigatorWidget.NextButtonHoverText","Next")}</a>`;e+="</div>"}return e};this.getOriginalSelected=function(){return y};this.updateSelectedIds=function(e){y=[];if(e){var t=e.data||e;for(var n in t){var i=t[n],a=l.getSelectedItem(i);if(!a){var o=l.getOption(i);a=l.createSelectedItem(o)}y.unshift(a)}}return y};this._keyupEventHandler=function(){var e=x()("#"+E),t=l.getQuery();if((0,d.IsNullOrEmpty)(t)){l._clearSearch();B="";l.scrollToTop();l._setResultsText("")}else{if(!P&&t.length>=2){P=!0;setTimeout((function(){H(t,!0,(function(){P=!1}))}),0);l._setResultsText("");return}t.length<2&&l.handleTooFewCharacters(e)}};this.hideNoResults=()=>{document.getElementById(this.getAvailableListId()).querySelectorAll("li.co_facet_searchEmpty").forEach((e=>e.remove()))};this.removeHighlightedSearchTerms=()=>{var e=document.getElementById(l.getAvailableListId());e?.querySelectorAll("span.name").forEach((function(e){e.innerHTML=e.textContent;e.removeAttribute("searchid");e.closest("li")?.classList.add("co_hideState")}))};this.attachPlaceholderEmulationEvents=function(){const e=document.getElementById(E);e?.addEventListener("focus",(function(){if(e.value===w){e.value="";document.getElementById(A)?.classList.add("co_active")}}));e?.addEventListener("blur",(function(){if((0,d.IsNullOrEmpty)(e.value)){e.value=w;document.getElementById(A)?.classList.remove("co_active")}}))};this.attachSearchEvents=function(){document.getElementById(E)?.addEventListener("keyup",this._keyupEventHandler.bind(this));this.attachPlaceholderEmulationEvents();document.getElementById(L)?.addEventListener("click",(function(){M((function(e){var t=--e;return t>0?t:O}))}));document.getElementById(N)?.addEventListener("click",(function(){M((function(e){var t=++e;return t<=O?t:1}))}))};function M(e){var t=document.querySelector(`#${l.getAvailableListId()} span.co_currentSearchTerm`);if(t){var n=t.id.replace("matchedWord","");W(t);var i=document.getElementById("matchedWord"+e(n));W(i);F(i)}}this.scrollToTop=function(){var e=document.querySelector(`#${l.getAvailableListId()} a`);e&&F(e)};function F(e){(e=x()(e).get(0))&&(0,m.ScrollTo)(document.getElementById(l.getAvailableListId()),e,{offset:-100})}this.performSearch=function(e,t){this.hideNoResults();var n=(new Date).getTime();this.removeHighlightedSearchTerms();O=0;var i=document.getElementById(l.getAvailableListId());const a=i?.parentElement;var o=!1,r=e.toLowerCase();i?.querySelectorAll("span.name").forEach((function(t){
var i=t.textContent||t.innerText||"",a=i.toLowerCase(),s=a.indexOf(r);if(-1!=s){o=!0;for(var l=0,c="";-1!=s;){O++;c+=i.substring(l,s);c+=`<span id="matchedWord${O}" class="co_searchTerm">`;c+=i.substring(s,s+e.length);c+="</span>";l=s+e.length;s=a.indexOf(r,s+1)}c+=i.substring(l);t.innerHTML=c;t.setAttribute("searchid",n);t.closest("li")?.classList.remove("co_hideState")}else t.closest("li")?.classList.add("co_hideState")}));l._clearSearch(n);a?.replaceChildren(i);if(o){W(document.getElementById("matchedWord1"));F(document.getElementById("matchedWord1"));l._setResultsText("")}else{l.scrollToTop();var s=D["default"].lookup("SC.Search.Facets.NavigatorWidget.NoResult","0 Results");l._setResultsText(s)}B=e;t()};this._setResultsText=function(e,t){var n=document.getElementById("co_docTocOverlay_search_results");if(!n)return;t?n.innerHTML=e:n.textContent=e};function W(e){if(e){e.classList.toggle("co_searchTerm");e.classList.toggle("co_currentSearchTerm")}}this._clearSearch=e=>{this.hideNoResults();document.querySelectorAll(`#${this.getAvailableListId()} span.name:not([searchId="${e}"]`).forEach((t=>{t.removeAttribute("searchId");e||t.closest("li").classList.remove("co_hideState")}));e||this.setLastPerformedQuery("")};this.handleTooFewCharacters=function(){l._clearSearch();setTimeout((function(){var e=l.getQuery();(0,d.IsNotNullOrEmpty)(e)&&e.length<2&&l._setResultsText(D["default"].lookup("SC.Search.Facets.NavigatorWidget.MinCharacters","Please enter at least 2 characters to search"))}),500)};function H(e,t,n){var i=l.getQuery();B==i||!t&&e==i?n():l.performSearch(i,(function(){H(i,!1,n)}))}this.filterCallback=function(){vc.currentFacetRenderer.apply(!0,l.getId(),l.getActiveIds(),!0);l.closeIfReady()};this.getAttributeDisplayName=function(e){return e.name};this.getSelected=function(){return v};this.setSelected=function(e){v=e};this.getActiveIds=function(){var e=[];v.forEach((t=>{e.push(t.id)}));return e};this.refreshAvailable=function(){var e=x()("#"+l.getAvailableListId());e.html(l.renderAvailable());(0,ni.iScrollRefreshElement)(e.get(0))};this.refreshSelected=function(){var e=document.getElementById(l.getSelectedListId());if(e){e.innerHTML=l.renderSelected();e.setAttribute("style","")}(0,ni.iScrollRefreshElement)(e)};this.setCustomWidgetState=function(){};this.setFilterButtonState=function(){!function(){if(v.length!=y.length)return!0;var e=[];y.forEach((t=>{e.push(t.id)}));e.sort();var t=[];v.forEach((e=>{t.push(e.id)}));t.sort();for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!0;return!1}()?l.disableFilterButton():l.enableFilterButton()};this.toggleAvailable=function(e){const t=document.getElementById(e);if(t&&("co_facet_ipInventor_selectedOptions"!=l.getSelectedListId()||"\\,"!=e)){t.classList.toggle("co_checkbox_unselected");t.classList.toggle("co_checkbox_selected");t.parentElement.classList.toggle("co_selected");"false"==t.getAttribute("aria-checked")?t.setAttribute("aria-checked","true"):t.setAttribute("aria-checked","false")}l.toggleAdditionalAvailableInfo(e)};this.toggleAdditionalAvailableInfo=function(){};function G(e){var t=document.getElementById(e)?.getAttribute("parentId");if(void 0!==t&&t!=k){l.isSelected(t)&&l.removeFromSelected(t);G(t)}}this.isItemSelected=function(e){return void 0!==l.getSelectedItem(e)};this.getSelectedItem=function(e){var t=void 0;(0,Xe.forEach)(v,(function(n){if(n.id==e){t=n;return!1}}));return t};this.createSelectedItemCollector=function(e){return{id:e.dataOptions.id,name:e.name,dataOptions:e.dataOptions}};this.createSelectedItem=function(e){return l.createSelectedItemCollector(e)};this.addToSelected=function(e){var t,n=l.getOption(e),i=!1,a=l.createSelectedItem(n);if(T){t=document.getElementById(e)?.getAttribute("parentId");if(t!=k){1==x()("#"+t+"_children a.co_checkbox_unselected").length&&(i=!0)}document.querySelectorAll(`#${CSS.escape(e)}_children a.co_checkbox_unselected`).forEach((function(e){l.addToSelected(e.id)}));if(!l.isItemSelected(e)){v.unshift(a);l.notifySelectedChanged(e)}i&&l.addToSelected(t)}else{U(e);v.unshift(a);G(e);l.notifySelectedChanged(e)}};this.removeFromSelected=function(e){if(T){0==x()(`#${e}_children a.co_checkbox_unselected`).length&&U(e);if(l.isItemSelected(e)){l.processRemoved(e);V();l.notifySelectedChanged(e)}G(e)}else{l.processRemoved(e);V();l.notifySelectedChanged(e)}};function U(e){document.querySelectorAll(`#${CSS.escape(e)}_children a.co_checkbox_selected`).forEach((function(e){l.removeFromSelected(e.id)}))}this.processRemoved=function(e){l.removeFromSelectedCollector(e)};this.removeFromSelectedCollector=function(e){v=v.filter((t=>e!=t.id))};this.notifySelectedChanged=function(e){document.getElementById(l.getSelectedListId())?.dispatchEvent(new CustomEvent("selectedchanged",{bubbles:!0,detail:{optionId:e}}))};this.renderAvailable=function(){return l._renderAvailableLevel(s)};this.getFilteredSelected=function(){return v};this.getSelectedItemData=function(e){var t={id:e.id,text:e.name};t.selectedItem=l.renderSelectedItem(e,t);t.children=l.renderSelectedItemChildren(e);return t};this.renderSelected=function(){var e="";l.getFilteredSelected().forEach((t=>{var n=l.getSelectedItemData(t);e+=(0,ni.substitute)('<li><div class="co_listItem">{selectedItem}</div>{children} </li>',n)}));return e};this.renderSelectedItem=function(e,t){return l.renderSelectedItemCollector(e,t)};this.renderSelectedItemCollector=function(e,t){var n="";n+='\t<a id="{id}_selected" linkType="item" class="co_listItem_remove" href="javascript:void(0);" aria-checked="true" role="checkbox">{text}</a>';return(0,ni.substitute)('\t<a id="{id}_selected" linkType="item" class="co_listItem_remove" href="javascript:void(0);" aria-checked="true" role="checkbox">{text}</a>',t)};this.renderSelectedItemChildren=function(){return""};this._renderAvailableLevel=function(e,t){var n="";for(var i in e){var a=e[i],o=$(a),r=a.dataOptions.browseChildrenCount?parseInt(a.dataOptions.browseChildrenCount):0,s=o||r>0,c={id:a.dataOptions.id.replace('"',"&quot;"),parentId:t,text:a.name,count:a.dataOptions.count};j(a,c);c.availableItem=l.renderAvailableItem(a,c,s);var d="";if(o){c.childItems=l._renderAvailableLevel(a.children,a.dataOptions.id);d=(0,ni.substitute)(l.getChildrenTemplate(),c)}c.children=d;I&&s&&(c.divSelected+=" notSelectable");n+=(0,ni.substitute)('<li id="{id}Level"><div class="co_listItem {divSelected}">{availableItem}</div>{children}</li>',c)}return n};this.getChildrenTemplate=function(){return'<fieldset><legend class="co_accessibilityLabel">{text}</legend><ul id="{id}_children">{childItems}</ul></fieldset>'};this.renderAvailableItem=function(e,t,n){return l.renderAvailableItemCollector(e,t,n)};this.updateNumberOfItemsSelected=function(){if(!S){var e=l.getNumSelected(),t=`<strong>${e}</strong>${1==e?"item":"items"}selected`,n=D["default"].format("SC.Search.Facet.NavigatorWidget.OneItemSelected",{oneItem:`<strong>${e}</strong>`},t),i=D["default"].format("SC.Search.Facet.NavigatorWidget.MultipleItemSelected",{numberOfItemSelected:`<strong>${e}</strong>`},t),a=1==e?n:i;_&&(a+=R);var o=document.getElementById("co_facet_searchable_selected");o&&(o.innerHTML=a)}};this.getNumSelected=function(){var e=document.querySelector(".co_tree")?.id,t=document.querySelector(`#${e} .co_checkbox_selected`);return D["default"].renderInteger(t)};this.renderAvailableItemCollector=function(e,t,n){var i="";i+=` id="{id}" linkType="{linkType}" parentId="${k}" href="javascript:void(0);" class="{style}" aria-checked="{checked}" role="checkbox"><span class="name">{text}</span> `;C||void 0===t.count||(i+='<span class="count">({count})</span>');t.linkType=I&&n?"browseItem":"item";i=`<a${i}</a>`;return(0,ni.substitute)(i,t)};function j(e,t){var n="co_checkbox_unselected",i="",a="false";if(l.isSelected(e.dataOptions.id)){n="co_checkbox_selected";a="true";i="co_selected"}t.style=n;t.checked=a;t.divSelected=i}function $(e){return"object"==typeof e.children&&e.children.length>0}this.isSelected=function(e){var t=!1;(0,Xe.forEach)(v,(function(n){if(n.id==e){t=!0;return!1}}));return t};this.getOption=function(e){var t=null;h&&(t=h[e]);return t};this.getOptionsCache=function(){return h};this.getQuery=function(){return this.encodeHtml((0,
ni.cleanInputText)(document.getElementById(E)?.value??""))};this.encodeHtml=function(e){var t="";if(null!=e){const n=document.createElement("div");n.textContent=e;t=n.innerHTML}return t};this.setQuery=function(e){(document.getElementById(E)??{}).value=e??"";this.setFocus();if(null!=e&&e.length>0){document.getElementById(l.getAvailableListId())?.replaceChildren();l.performSearch(e,(function(){P=!1}))}};this.setFocus=function(){document.getElementById(E)?.focus()};this.getSearchMinimumInputLength=function(){return 2};this.setHideNavigation=function(e){b=e};this.getHideNavigation=function(){return b};this.addToSelectedItems=function(e){v.unshift(e)};function V(){var e=document.getElementById(c);if(e){e.replaceChildren();e.classList.add("co_hideState")}}}Ac.prototype=Object.create(Ec.prototype);Ac.prototype.constructor=Ac;const Lc=Ac;function Nc(e,t){kc.call(this,e);var n=this,i=new Ic(!0);this.getData=function(){if(!Array.isArray(n.getFacet().data.available))throw new Error("Collector facet data structure requires available array");return n.getFacet().data.available};this.getSelectedAttributes=function(){if(!Array.isArray(n.getFacet().data.selected))return[];return n.getFacet().data.selected};n.getSelectedAttributes().forEach((e=>{vc.currentFacetRenderer.putToActiveList(n.getFacetId(),e.id)}));this.getXBoxRenderer=function(){return i};this.createModalWidget=function(){t&&null!=n.getDescription()&&(t.description=n.getDescription());var e=n.getDisplayName(),i=n.getParentDivId(),a=n.getFacetId();return new Lc(i,a,e,n.getData(),n.getSelectedAttributes(),t)}}Nc.prototype=Object.create(kc.prototype);Nc.prototype.constructor=Nc;const Rc=Nc;var Pc=n(3546),Oc=n(1896);function Bc(e,t,n,i,a){Lc.call(this,e,t,n,i,a);var o=this,r=!1,s=[],l="co_facet_keynumber_breadcrumb",c=[],d=[],u="co_facet_keySelect_parent",h=new Pc["default"];this.getDialogTitleClass=function(){return"co_keyIcon"};this.getHtmlId=function(){return"keynumber"};this.drawAvailableTitle=function(){var e="";e+=`<h4>${o.getTitle()}</h4>`;e+=`<nav class="co_facet_keynumber_breadcrumb co_hideState" id="{breadcrumbId}" aria-label="${D["default"].lookup("SC.Search.Facets.KeyNumberWidget.BreadcrumbLabel","Breadcrumb")}">`;e+="{breadcrumb}";e+="</nav>";var t={breadcrumbId:l,breadcrumb:o.drawBreadcrumb()};return(0,ni.substitute)(e,t)};this.getAttributeDisplayName=function(e){return o.renderSelectedAttributeText(e)};this.drawSearchBox=function(){return""};this.setFacetClient=function(e){h=e};this.createSelectedItem=function(e){var t=o.createSelectedItemCollector(e);t.keyNumber=e.dataOptions.keyNumber;t.path=e.dataOptions.path;return t};this.renderAvailable=function(){var e=o.getData();return e?o._renderAvailableLevel(e):`<li id="co_facet_keynumber_noResult">${D["default"].lookup("SC.Search.Facets.NavigatorWidget.KeyNumber.noKeyNumberFound","No key numbers found in these documents")}</li>`};this.renderAvailableItem=function(e,t){t.text=`<strong>${e.dataOptions.keyNumber}</strong> ${e.name}`;t.kn=e.dataOptions.keyNumber;t.expandDivClass=e.dataOptions.folder?u:"";var n="";n+=`<a id="{id}" linkType="item" parentId="{parentId}" href="javascript:void(0);" class="{style}" aria-checked="{checked}" role="checkbox">${D["default"].lookup("SC.Search.Facets.NavigatorWidget.CheckBoxAdd.keyNumber","Add")}</a>`;n+='<div id="{id}_expand" class="{expandDivClass}">';e.dataOptions.folder&&!o.isSelected(e.dataOptions.id)?n+=`<a id="{id}_expandLink" itemId="{id}" linkType="item_expand" href="javascript:void(0);" class="co_keynumber_expand" title="${D["default"].format("SC.Search.Facets.NavigatorWidget.HoverText.ExpandKNTitle",{kn:t.kn},`Expand ${t.kn}`)}"><span class="name">{text}</span> <span class="count">({count})</span></a>`:n+='<span class="name">{text}</span> <span class="count">({count})</span>';n+="</div>";return(0,ni.substitute)(n,t)};this.toggleAdditionalAvailableInfo=function(e){var t=document.getElementById(e+"_expand");if(t){var n=[];n.id=e;n.text=t.querySelector(".name")?.innerHTML??"";n.count=t.querySelector(".count")?.textContent??"";n.kn=t.querySelector("strong")?.innerHTML??"";var i="";t.querySelector(`#${e}_expandLink`)||t.className!=u?i+='<span class="name">{text}</span> <span class="count">{count}</span>':i+='<a id="{id}_expandLink" itemId="{id}" linkType="item_expand" href="javascript:void(0);" class="co_keynumber_expand" title="Expand {kn}"><span class="name">{text}</span> <span class="count">{count}</span></a>';t.innerHTML=(0,ni.substitute)(i,n)}};this.renderSelectedItem=function(e,t){t.text=o.renderSelectedAttributeText(e);return o.renderSelectedItemCollector(e,t)};function f(){o.refreshAvailable();o.initializeCollector();o.setFilterButtonState();(function(){o.getAvailableList().on("click",'a[linkType="item_expand"]',(function(){var e=this.getAttribute("itemId"),t=o.getOption(e);o.navigate(t.name,e)}));document.getElementById(l)?.addEventListener("click",(function(e){const t=e.target.closest('a[linkType="breadcrumb"]');if(e.currentTarget.contains(t)){var n=t.getAttribute("itemId"),i=t.getAttribute("itemName");o.navigate(i,n)}}))})()}this.initialize=function(){if(r){o.setData(s);(c=[]).push({name:D["default"].lookup("SC.Search.Facets.KeyNumberWidget.Home","Home"),id:"root"});f()}else{r=!0;o.disableFilterButton();(function(e){m();h.retrieveKeyNumberFacet("root",[],(function(t){s=t.data.available;o.setData(s);d=[s];e()}),(function(e){o.popupInitialize();Oc["default"].throwServerError(e)}))})((function(){c.push({name:D["default"].lookup("SC.Search.Facets.KeyNumberWidget.Home","Home"),id:"root"});f()}))}};this.drawBreadcrumb=function(){var e="",t=document.getElementById(l);if(!(c.length>1)){p["default"].AddClass(t,"co_hideState");return e}p["default"].RemoveClass(t,"co_hideState");e+="<ol>";for(var n in c){e+="<li>";n<c.length-1?e+=`<a linkType="breadcrumb" itemId="${c[n].id}" itemName="${c[n].name}" href="javascript:void(0);">${c[n].name}</a> &gt; `:e+=`<strong aria-current="true">${c[n].name}</strong>`;e+="</li>"}return e+="</ol>"};this.renderSelectedAttributeText=function(e){var t=e.path;if(!(0,ni.hasElements)(t))return`<strong>${e.keyNumber}</strong> ${e.name}`;var n="";for(var i in t){n+=t[i];i<t.length&&(n+=" &gt; ")}return n+=`<strong>${e.keyNumber}</strong> ${e.name}`};function m(){var e=o.getAvailableList();e.html("");var t=document.createElement("div");t.id="co_keynumber_progress";e.append(t);var n=new ee["default"](t,"small");n.Draw();return n}this.navigate=function(e,t){var n,i,a=function(e){for(var t in c)if(c[t].id==e)return t;return-1}(t),r=document.getElementById(l);if(-1==a){m();n=t,i=function(){c.push({name:e,id:t});r&&(r.innerHTML=o.drawBreadcrumb());o.refreshAvailable()},h.retrieveKeyNumberFacet(n,[],(function(e){o.setData(e.data.available);d.push(e.data.available);i()}))}else{o.setData(d[a]);for(;c.length-1>a;){c.pop();d.pop()}r&&(r.innerHTML=o.drawBreadcrumb());o.refreshAvailable()}o.getAvailableList().focus()}}Bc.prototype=Object.create(Lc.prototype);Bc.prototype.constructor=Bc;const Mc=Bc;function Fc(e){Rc.call(this,e);var t=this;this.getSortedAttributes=function(){var e=t.getSelectedAttributes(),n=[];for(var i in e){var a=e[i],o={name:t.getModalWidget().renderSelectedAttributeText(a),dataOptions:{id:a.id,count:a.count,keyNumber:a.keyNumber,path:a.path,active:!0}};n.push(o)}return{inactive:[],active:n}};this.createModalWidget=function(){return new Mc(t.getParentDivId(),t.getFacetId(),t.getDisplayName(),t.getData(),t.getSelectedAttributes())}}Fc.prototype=Object.create(Rc.prototype);Fc.prototype.constructor=Fc;const Wc=Fc;const Hc={ids:{textList:"co_treeSearch_list",searchBoxId:"co_docTocOverlay_searchInput",previousResult:"co_tocPreviousResult",nextResult:"co_tocNextResult",overlaySearch:"co_docTocOverlay_search",overlaySearchResults:"co_docTocOverlay_search_results"},classes:{currentSearchTerm:"co_currentSearchTerm",searchTerm:"co_searchTerm",overlayNextPrevious:"co_docTocOverlay_searchNextPrevious",previousLink:"co_docTocOverlay_searchPreviousLink",nextLink:"co_docTocOverlay_searchNextLink",activeClass:"co_active",defaultText:"co_defaultInput",itemCount:"co_treeSearch_itemCount"}};function Gc(e,t,n,i,a,o,r,s){Ec.call(this,e,t,n);var l=this,c=a,u=n,h=i
;1==r&&1==s&&-1!=i.indexOf("Class")&&(h+=" (ex. 250 or A/61)");var f,p,g=t,v=[],y=!1,b=s,C=r,S=!1,_=0,T="matchedWord",I=Hc.ids,k=Hc.classes;this.displayCounts=!0;this.facetList=o;this.getContainerClass=function(){return s?"co_facet_searchable":""};this.buildLevel=function(e,t,n,i,a){var o,r,s="";for(var u in e){try{r=e[u].name;o=e[u]}catch(t){r=e.name;o=e}var h,f=!1;n.each((function(){if(this.id==o.dataOptions.id||this.value&&this.value==o.dataOptions.value){f=!0;return}}));s+="<li>";if(C&&l.hasChildren(o)){h=l.getFacetIsExpanded(o,n);s+=_c["default"].ToggleLink.create(o.dataOptions.id,l.getChildrenElementId(o.dataOptions.id),c,r,h)}s+=`<input type="checkbox" id="${o.dataOptions.id}"`;o.dataOptions.value&&(s+=` value="${(0,d.EncodeHtml)(o.dataOptions.value)}"`);s+=!y&&1==o.dataOptions.active||1==f?" checked":"";s+=`><label for="${o.dataOptions.id}" id="${o.dataOptions.id}Label">`;var p=l.performSearchForLevel(o,r,i,a),m=!1;-1!=p.indexOf("parentMatchCandidate")&&(m=!0);s+=p;if(l.displayCounts){s+=` <span class="${k.itemCount}">`;s+=`(${o.dataOptions.count})`;s+="</span>"}if(l.hasChildren(o)){var g="";C&&!h&&(g="co_hideState");s+="</label>";s+=`<ul id="${l.getChildrenElementId(o.dataOptions.id)}" class="${g}">`;var v=a;m?++v:v=0;s+=l.buildLevel(o.children,!1,n,i,v)+"</ul>"}else s+="</label>"}return s+='<div class="co_clear"></div></li>'};this.getFacetIsExpanded=function(e,t){if(y){var n=!1;x()(e.children).each((function(){var e=this;t.each((function(){if(e.dataOptions.id==this.id){n=!0;return}}));if(n)return}));return n}return e.dataOptions.isExpanded};this.hasChildren=function(e){return"object"==typeof e.children&&e.children.length>0};this.getUniqueId=function(e){return e+"_"+g};this.getChildrenElementId=function(e){return"facet_hierarchy_children_"+l.getUniqueId(e)};this.initialize=function(){l.disableFilterButton();l.popupInitialize();p=document.querySelectorAll("#co_treeSearch_list input[type=checkbox]:checked");l.updateNumberOfItemsSelected();b&&l.attachSearchEvents();document.getElementById("co_treeSearch_list")?.addEventListener("click",(function(e){const t=e.target.closest("input[type=checkbox]");if(e.currentTarget.contains(t)){document.querySelectorAll("#"+l.getChildrenElementId(t.id)+" input[type=checkbox]:checked").forEach((e=>{e.checked=!1}));document.querySelectorAll("#"+l.getDialogId()+" input:checked").forEach((e=>{e!=t&&ti["default"].nodeContains(e.parentNode,t)&&(e.checked=!1)}));l.updateNumberOfItemsSelected()}}))};this.filterCallback=function(){var e=document.querySelectorAll("#co_treeSearch_list input[type=checkbox]:checked"),t=[];v=[];e.forEach((e=>{var n=document.querySelector(`label[for=${e.id}]`)?.cloneNode(!0);n?.querySelectorAll("em").forEach((e=>e.replaceChildren()));n?.querySelectorAll("span."+k.itemCount).forEach((e=>e.replaceChildren()));var i={};i.name=n?.textContent;i.id=e.id;i.value=e.value;v.push(i);t.push(e.id)}));l.callApply(t,v);y=!0;p=e};this.callApply=function(e){vc.currentFacetRenderer.resetFacet(g);vc.currentFacetRenderer.apply(!0,g,e,!0,!1)};this.updateSelectedIds=function(e,t){v=[];if(e){var n=e.data;for(var i in n){var a={};if(t){a.id=n[i].id;a.value=n[i].value}else a.id=n[i];v.push(a)}}return v};this.getSelected=function(){return v};this.getAttributeDisplayName=function(e){return e.name};this.attachSearchEvents=function(){var e=document.getElementById(I.searchBoxId);e.onkeyup=function(){_=1;S=!1;var t=(0,d.Trim)(e.value),n=x()("#co_treeSearch_list input[type=checkbox]:checked");if(t.length>=1){f=[];l.searched=!0;var i=l.buildTree(l.facetList,!0,n,t.replace(/\\/g,"/").split("/")),a=document.getElementById(I.textList);a&&(a.innerHTML=i)}else if(1==l.searched){document.getElementById(I.overlaySearch)?.classList.remove(k.activeClass);document.querySelectorAll(`span.${k.currentSearchTerm}`).forEach((e=>e.classList.remove(k.currentSearchTerm)));document.querySelectorAll(`span.${k.searchTerm}`).forEach((e=>e.classList.remove(k.searchTerm)));f=[]}const o=l.getScrollableElement();var r=document.getElementById(I.overlaySearchResults);if(!S&&t.length>=1){r&&(r.innerHTML=D["default"].lookup("SC.Search.Facets.NavigatorWidget.noResults","<span>No</span> results found"));l.scrollTo(l.getScrollableElement(),x()(o).children("li")[0])}else if(t.length<1)l.scrollTo(l.getScrollableElement(),x()(o).children("li")[0]);else{r?.replaceChildren();const e=document.querySelector(`span.${k.currentSearchTerm}`);C&&l.expandAllInSelection(x()((0,P.parents)(e,".co_facet_checkboxTree")));l.scrollTo(o,e)}return};document.getElementById(I.searchBoxId)?.addEventListener("focus",(function(){(document.getElementById(I.searchBoxId)?.value??"")==h&&((document.getElementById(I.searchBoxId)??{}).value="")}));document.getElementById(I.previousResult)?.addEventListener("click",(function(){l.findHighlightedMatch(!0)}));document.getElementById(I.nextResult)?.addEventListener("click",(function(){l.findHighlightedMatch(!1)}))};this.findHighlightedMatch=function(e){var t=!1,n=f.length,i=n;e&&(i=n+1);for(var a=0;a<i;a++){var o=document.querySelector(`span[id='${f[a]}']`),r=o?.classList.contains(k.currentSearchTerm);if(r){o.classList.add(k.searchTerm);o.classList.remove(k.currentSearchTerm);t=!0}if(t){var s=a+1;e&&(s=a-1);var c=f[s],d=document.querySelector(`span[id='${c}']`);d?.classList.add(k.currentSearchTerm);d?.classList.remove(k.searchTerm);var u=document.getElementById(d?.id);l.scrollTo(l.getScrollableElement(),u);return!1}}};this.getScrollableElement=function(){return document.getElementById(I.textList)};this.expandAllInSelection=function(e){for(var t=0;t<e.length;t++)for(var n=e.eq(t).children(),i=0;i<n.length;i++){for(var a=x()(n[i]).children(".co_facet_expand"),o=0;o<a.length;o++)_c["default"].ToggleLink.toggle(a[o]);l.expandAllInSelection(x()(n[i]).children("ul"))}};this.updateNumberOfItemsSelected=function(){var e=document.querySelectorAll("#co_treeSearch_list input[type=checkbox]:checked");void 0===p&&(p=e);l.setFilterButtonState(e);var t=D["default"].format("SC.Search.Facet.NavigatorWidget.OneItemSelected",{oneItem:`<strong>${e.length}</strong>`},`<strong>${e.length}</strong> item selected`),n=D["default"].format("SC.Search.Facet.NavigatorWidget.MultipleItemSelected",{numberOfItemSelected:`<strong>${e.length}</strong>`},`<strong>${e.length}<strong> items selected`),i=1===e.length?t:n,a=document.getElementById("co_facet_searchable_selected");a&&(a.innerHTML=i)};this.setFilterButtonState=function(e){l.hasSelectedChanged(e)?l.enableFilterButton():l.disableFilterButton()};this.hasSelectedChanged=function(e){if(e.length!=p.length)return!0;var t=[];p.forEach((e=>{t.push(e.id)}));t.sort();var n=[];e.forEach((e=>{n.push(e.id)}));n.sort();for(var i=0;i<t.length;i++)if(t[i]!==n[i])return!0;return!1};this.performSearchForLevel=function(e,t,n,i){var a="";if(void 0!==n&&void 0!==n[i]&&t.toLowerCase().indexOf(n[i].toLowerCase())>=0){document.getElementById(I.overlaySearch)?.classList.add(k.activeClass);for(var o=new RegExp(`(${n[i]})`,"gi"),r=t.split(o),s=r.length,l=0;l<s;l++){var c=r[l];if(c.toLowerCase().match(n[i].toLowerCase()))if(0!=c.length&&0!=l&&i==n.length-1){a+=`<span id="${T}${_}" class="`;f.push(T+_);if(0==S){a+=`${k.currentSearchTerm}">${c}</span>`;S=!0}else a+=`${k.searchTerm}">${c}</span>`;_++}else a+=`<span id="parentMatchCandidate${i}">${c}</span>`;else(0,d.IsNotNullOrEmpty)(c)&&(a+=`<span>${c}</span>`)}}else a+=t;return a};this.getPopupContent=function(){var e="";b&&(e+=l.drawSearchBox());e+='<div class="co_scrollWrapper"><ul id="{listId}" class="co_facet_checkboxTree" style="clear:left;">';e+=l.buildTree(l.facetList,!0,v);e+="</ul></div>";e+='<span id="co_facet_searchable_selected"><strong>0</strong> items selected</span>';var t={listId:I.textList};return(0,ni.substitute)(e,t)};this.buildTree=function(e,t,n,i){var a=x()(n);return l.buildLevel(e,t,a,i,0)};this.drawSearchBox=function(){var e="";e+='<div id="{overlayId}" class="co_searchKNOS">';e+='<label for="{inputId}">{defaultText}</label>';e+='<input id="{inputId}" type="text" value="{defaultText}" autocorrect="off" autocapitalize="off"/>';e+='<div class="{nextPreviousDivId}">'
;e+=`<a id="{previousLinkId}" class="{previousLinkClass}" title="${D["default"].lookup("SC.Search.Facets.NavigatorWidget.PreviousButtonHover."+l.getId(),"Previous {title} Match")}"/></a>`;e+=`<a id="{nextLinkId}" class="{nextLinkClass}" title="${D["default"].lookup("SC.Search.Facets.NavigatorWidget.NextButtonHover."+l.getId(),"Next {title} Match")}"/></a>`;e+="</div></div>";e+='<div id="{searchResultDiv}"></div>';var t={title:u,overlayId:I.overlaySearch,inputId:I.searchBoxId,defaultText:h,nextPreviousDivId:k.overlayNextPrevious,previousLinkId:I.previousResult,previousLinkClass:k.previousLink,nextLinkId:I.nextResult,nextLinkClass:k.nextLink,searchResultDiv:I.overlaySearchResults};return(0,ni.substitute)(e,t)};this.scrollTo=function(e,t){(0,m.ScrollTo)(e,t,{offset:-50})}}Gc.prototype=Object.create(Ec.prototype);Gc.prototype.constructor=Gc;const Uc=Gc;function jc(e,t){kc.call(this,e);var n=this;t||(t={});var i=_c["default"].getIndefiniteArticle(n.getDisplayName())+" "+n.getDisplayName(),a=D["default"].lookup("SC.Search.Facets.NavigatorWidget.EnterSearchLabel."+n.getFacetId(),"Enter "+i),o=!!t.expandable&&t.expandable,r=!!t.searchable&&t.searchable,s=n.getDisplayName();this.createModalWidget=function(){return new Uc(n.getParentDivId(),n.getFacetId(),s,a,n.getDisplayName(),n.getData(),o,r)}}jc.prototype=Object.create(kc.prototype);jc.prototype.constructor=jc;const $c=jc;var Vc=n(7564);function qc(e){let t,n;if(e){t=e.replace(/_(child)$/,"");n=e===t?"parent":e.substring(t.length+1)}return{id:t,groupType:n}}function zc(){Vc["default"].call(this);const e=Xn["default"].SearchResult;this.buildRetrieveAllFacetsURI=()=>{const t=Xn["default"].getDualSearchData();let n="";n=(0,ni.appendEncodedIfNotBlank)("result",e.getGuid(),n);n=(0,ni.appendEncodedIfNotBlank)("type","DUAL_SEARCH",n);n=(0,ni.appendEncodedIfNotBlank)("parentType",t.parentSearchData.contentType,n);n=(0,ni.appendEncodedIfNotBlank)("childType",t.childSearchData.contentType,n);n=(0,ni.appendEncodedIfNotBlank)("jurisdiction",e.getJurisdictions().join(","),n);n=(0,ni.appendEncodedIfNotBlank)("clientId",te["default"].GetClientId(),n);n=(0,ni.appendEncodedIfNotBlank)("isDynamicContent",e.isDynamicContent(),n);e.isSearchRestartedFromContext()&&(n=(0,ni.appendEncoded)("requestId",(0,ni.createUniqueValue)(),n));return`${Zn["default"].Context}/v3/facet/all${n}`};this.buildRetrieveDateFacetURI=n=>{const{id:i,groupType:a}=qc(n);let o="";o=(0,ni.appendEncodedIfNotBlank)("result",e.getGuid,o);o=(0,ni.appendEncodedIfNotBlank)("type",t(a),o);o=(0,ni.appendEncodedIfNotBlank)("facetName",i,o);o=(0,ni.appendEncodedIfNotBlank)("typeQualifier",a,o);return`${Zn["default"].Context}/v3/facet/date${o}`};this.buildRetrieveRangeFacetURI=n=>{const{id:i,groupType:a}=qc(n);let o="";o=(0,ni.appendEncodedIfNotBlank)("result",e.getGuid,o);o=(0,ni.appendEncodedIfNotBlank)("type",t(a),o);o=(0,ni.appendEncodedIfNotBlank)("facetName",i,o);o=(0,ni.appendEncodedIfNotBlank)("typeQualifier",a,o);return`${Zn["default"].Context}/v3/facet/range${o}`};this.buildRetrieveLpaFacetAttributesURI=(n,i)=>{const{id:a,groupType:o}=qc(n);let r="";r=(0,ni.appendEncoded)("filter",i,r);r=(0,ni.appendEncodedIfNotBlank)("facet",a,r);r=(0,ni.appendEncodedIfNotBlank)("result",e.getGuid,r);r=(0,ni.appendEncodedIfNotBlank)("type",t(o),r);r=(0,ni.appendEncodedIfNotBlank)("typeQualifier",o,r);return`${Zn["default"].Context}/v3/facet/lpa${r}`};const t=e=>{const t=Xn["default"].getDualSearchData();return"parent"===e?t.parentSearchData.contentType:t.childSearchData.contentType}}function Kc(){if(Xn["default"].SearchResult.isDualSearchResult())return new zc;return f["default"].GetObject(Zn["default"].objectIds.facetClient)}function Yc(e,t,n,i,a,o,r,s){Lc.call(this,e,t,n,o,r);this.showFooterContentForId=function(e,t){return t&&!("arbitrator"===e||"industry"===e)};var l=this,c=s,u=n,h=i,f=t,p=l.showFooterContentForId(t,a),m=!1,g="",v=[],y=[],b=Kc(),C="co_facet_includeSubSearchLabel",S="co_facet_includeSubSearchCheckbox",_=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SearchPriorText","Search prior to 1990."),T=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SearchPriorTextJudge","Search Judge's last name prior to 1990."),I="INCLUDE_SUBSEARCH",x={id:I,name:"judge"===f?T:_},k='<div>  <input id="'+S+'" name="'+S+'" type="checkbox"/>  <label id="'+C+'" for="'+S+'">'+("judge"===f?T:_)+"</label></div>";l.setData([]);l.setHideNavigation(!0);this.setFacetClient=function(e){b=e};this.getFilteredSelected=function(){var e=[];(0,Xe.forEach)(l.getSelected(),(function(t){t.id!=I&&e.push(t)}));return e};this.getSelectionsFooterContent=function(){return p?k:""};function w(){l.setData([]);g="";v=[]}function E(){for(var e=l.getSelected(),t=0;t<e.length;t++)if(e[t].id==x.id)return t;return-1}function A(){-1==E()&&l.getSelected().push(x)}function L(){var e=E();e>-1&&l.getSelected().splice(e,1)}function N(){if(this.checked)A();else{L();m=!0}l.setFilterButtonState()}this.handleBodyClick=function(e){e.target.closest("#lpaStartOverLink")&&l._clearSearch();e.target.closest("#co_lpaSearchLink > a")&&l.applyKeywordSearch(l.getQuery())};this.initialize=function(){document.getElementById(l.getParentDivId())?.addEventListener("popuphidden",w);if(p){document.getElementById(S)?.addEventListener("click",N);E()>-1&&((document.getElementById(S)??{}).checked=!0)}document.body.addEventListener("click",this.handleBodyClick);l.initializeCollector()};this.performSearch=function(e,t){(0,d.IsNotNullOrEmpty)(g)&&0==e.toLowerCase().indexOf(g)?R(e,t):e.length>=l.getSearchMinimumInputLength()&&function(e,t){var n=e.toLowerCase().substring(0,l.getSearchMinimumInputLength());function i(){g=n;R(e,t)}if(o.length>0){v=o;i()}else b.retrieveLpaFacetAttributes(l.getId(),n,(e=>{v=e.data.available;i()}))}(e,t)};function R(e,t){var n=[],i=(0,d.DecodeHtml)(e.toLowerCase());v.forEach((e=>{-1!==e.name.toLowerCase().indexOf(i)&&n.push(e)}));y=n;l.setData(y);var a=l.getAvailableList();a.html(l.renderAvailable(e));if(Xn["default"].Device.isIPadEnabled()){a.addClass("co_hideState").removeClass("co_hideState");(0,ni.iScrollRefreshElement)(a.get(0))}t()}this.renderAvailableItemCollector=function(e,t){t.name2=e.name2?e.name2:"";return(0,ni.substitute)('<a id="{id}" linkType="item" parentId="{parentId}" href="javascript:void(0);" class="{style}" aria-checked="{checked}" role="checkbox"><div class="co_lpaItem_firstLine"><span class="name">{text}</span> </div><div class="co_lpaItem_secondLine">{name2}</div></a>',t)};this.renderAvailable=function(e){var t="",n={_id:f,plural:null!=h&&""!==h?h.toLowerCase():h,title:u.toLowerCase(),name:e},i=l.getData();if(i.length>0){t+=l._renderAvailableLevel(i);if((0,d.IsNotNullOrEmpty)(e)&&!c){n.nameEscaped=(0,ni.escapeSingleQuote)(e);var a=`Search the ${n.title} field for "{name}"`;t+="<li>";t+='<div class="co_listItem co_lpaCannotFind">';t+='<span id="lpaCannotFind_text">';t+=D["default"].lookup("SC.Search.Facets.NavigatorWidget.CannotFindText","Can't find who you're looking for?");t+="</span>";t+='<div id="co_lpaSearchLink" class="co_lpaCannotFind_link">';t+='<a href="javascript:void(0);">';t+=D["default"].format("SC.Search.Facets.NavigatorWidget.CannotFindSuggest."+n._id,{name:n.name},a);t+="</a>";t+="</div>";t+="</div>";t+="</li>"}return(0,ni.substitute)(t,n)}if((0,d.IsNotNullOrEmpty)(e)){n.nameEscaped=(0,ni.escapeSingleQuote)(e);var o='<div class="co_noResult_count">'+D["default"].format("SC.Search.Facets.NavigatorWidget.NoResultCount",{name:n.name},`0 results for ${n.name}`)+'</div><div class="co_noResult_explanation">'+D["default"].lookup("SC.Search.Facets.NavigatorWidget.NoResultExplanation."+n._id,"Some {plural} are not listed in our {title} index.")+"</div>",r="Search the "+n.title+' field for "{name}"',s='<div id="co_lpaSearchLink"><a href="javascript:void(0)">'+D["default"].format("SC.Search.Facets.NavigatorWidget.NoMatchSearchSuggest."+n._id,{name:n.name},r)+"</a></div>";t+='<li class="co_lpaNoResults">';t+=(0,ni.substitute)(o,n);if(!c){t+=(0,ni.substitute)(s,n);t+=`<div id="lpaOr">${D["default"].lookup("SC.Search.Facets.NavigatorWidget.NoMatchSuggestOR","or")}</div>`}t+='<div id="lpaStartOver">'
;t+=`<a href='javascript:void(0);' id='lpaStartOverLink'>${D["default"].lookup("SC.Search.Facets.NavigatorWidget.NoMatchSearch","Start Over")}</a>`;t+="</div>";return t+="</li>"}n.names="judge"===n.title||"attorney"===n.title?"last names":"names";var p=n.title.search(/ names?$/);p>0&&(n.title=n.title.substr(0,p));t='<div id="co_lpaInitial">'+D["default"].lookup("SC.Search.Facets.NavigatorWidget.MinimumCharacters."+n._id,"Please type in at least 2 characters to search {title} {names}.")+"</div>";return(0,ni.substitute)(t,n)};this.handleTooFewCharacters=function(){w();R("",(function(){}))};this._clearSearch=function(){l.setQuery("");w();R("",(function(){}))};this.setCustomWidgetState=function(e){if(!p)return;var t=document.getElementById(C),n=document.getElementById(S);if(l.getFilteredSelected().length>0){t?.classList.remove("co_disabled");n&&(n.disabled=!1);if(null!=e&&!m){n&&(n.checked=!0);A()}}else{t?.classList.add("co_disabled");n&&(n.disabled=!0);if(null!=e){n&&(n.checked=!1);L()}m=!1}};this.scrollToTop=function(){};this.filterCallback=function(){vc.currentFacetRenderer.removeFromActiveList(f+"_keyword");vc.currentFacetRenderer.apply(!0,f,l.getActiveIds(),!0)};this.applyKeywordSearch=function(e){var t=(0,d.Trim)(e),n={isKeyword:!0,data:t,displayOptions:{id:f+"_keyword"}},i=!1;if(!(0,ni.isBlank)(t)){i=!0;vc.currentFacetRenderer.removeFromActiveList(f)}vc.currentFacetRenderer.apply(i,f+"_keyword",t,!1,!1);vc.currentFacetRenderer.resetFacet(f);l.closeIfReady();vc.currentFacetRenderer.getFacetWidget(f).refreshFacetList(n)}}Yc.prototype=Object.create(Lc.prototype);Yc.prototype.constructor=Yc;const Qc=Yc;function Xc(e,t){Rc.call(this,e);var n=this,i=t,a=e.displayOptions.removeSubSearch,o=e.displayOptions.plural,r=e.displayOptions.includeCombinedSubSearch,s="co_facetItem_"+e.displayOptions.id+"INCLUDE_SUBSEARCH",l="INCLUDE_SUBSEARCH",c="",d=new Ic(!0,n);this.handleBodyClick=function(e){const t=n.getFacetId();if(e.target.closest(`#co_facet_selectLink_${t}`)){n.getModalWidget().setFocus();n.getModalWidget().setQuery(c)}const i=e.target.closest(`#co_facet_lpaKeyword_selected_${t}`);i&&(i.checked?vc.currentFacetRenderer.apply(!0,`${t}_keyword`,document.querySelector(`label[for='co_facet_lpaKeyword_selected_${t}']`)?.textContent??"",!0,!1):vc.currentFacetRenderer.apply(!1,`${t}_keyword`,null,!0,!1))};this.createItemList=function(){var e,t=n.getFacetId();if(i&&!(0,ni.isBlank)(i.data))e=i;else{e=n.getSortedAttributes(n.getData()).active}var a=!1;i&&(a=!0);var o=u(t,e,a);document.body.addEventListener("click",this.handleBodyClick);return o};this.toggle=function(e,t,i){(function(){var e=document.querySelector(`#${s}`),t=n.getFacetId();if(e){var i=x()("#facet_div_"+t),a=0;i.find("input:checkbox").each((function(){this.checked&&this.id!=s&&a++}));var o=i.find(`label[for=${s}]`);if(0==a){e.checked=!1;e.disabled=!0;o.addClass("co_disabled");vc.currentFacetRenderer.removeFromActiveList(t,l)}else{e.disabled=!1;o.removeClass("co_disabled")}}})();vc.currentFacetRenderer.toggle(e,t,i)};this.refreshFacetList=function(e){var t=n.getFacetId();x()(`#facet_div_${t} ul.co_facet_applied`).html(u(t,e,e.isKeyword))};function u(e,t,i){var a="";if(i&&!(0,ni.isBlank)(t.data)){c=t.data;vc.currentFacetRenderer.putToActiveList(t.displayOptions.id,t.data);a+=`<li><input id='co_facet_lpaKeyword_selected_${e}' type='checkbox' checked='true'>`;a+=`<label for='co_facet_lpaKeyword_selected_${e}'>`;a+=`${t.data}</label>`;a+="</li>"}else{var o=!function(e){if((0,ni.hasElements)(e))for(var t=0;t<e.length;t++)if(l==e[t].dataOptions.id)return!0;return!1}(t);a+=n.getXBoxRenderer().createHtml(e,t,o)}return a}this.getXBoxRenderer=function(){return d};this.createModalWidget=function(){var e=n.getDisplayName(),t=n.getSelectedAttributes();return new Qc(n.getParentDivId(),n.getFacetId(),e,o,r,n.getData(),t,a)}}Xc.prototype=Object.create(Rc.prototype);Xc.prototype.constructor=Xc;const Jc=Xc;var Zc=n(8541),ed=n.n(Zc),td={DEFAULT_RANGE:[{id:"all",label:D["default"].lookup("SC.Search.DateWidget.AllLabel","All")},{id:"last6mo",label:D["default"].lookup("SC.Search.DateWidget.last6mo","Last 6 months")},{id:"last12mo",label:D["default"].lookup("SC.Search.DateWidget.last12mo","Last 12 months")},{id:"last3yr",label:D["default"].lookup("SC.Search.DateWidget.last3yr","Last 3 years")}],yearAdmittedToPractice:[{id:"all",label:D["default"].lookup("SC.Search.DateWidget.AllLabel","All")},{id:"last2yr",label:D["default"].lookup("SC.Search.Facets.DateWidget.last2yr","Last 2 yrs")},{id:"last5yr",label:D["default"].lookup("SC.Search.Facets.DateWidget.last5yr","Last 5 yrs")},{id:"last10yr",label:D["default"].lookup("SC.Search.Facets.DateWidget.last10yr","Last 10 yrs")}],dataRoomDate:[{id:"all",label:D["default"].lookup("SC.Search.DateWidget.AllLabel","All")},{id:"last7day",label:D["default"].lookup("SC.Search.DateWidget.last7days","Last 7 days")},{id:"last30day",label:D["default"].lookup("SC.Search.DateWidget.last30days","Last 30 days")},{id:"last12mo",label:D["default"].lookup("SC.Search.DateWidget.last12mo","Last 12 months")}],notificationCenterDate:[{id:"last30days",label:D["default"].lookup("SC.Search.DateWidget.last30days","Last 30 days")},{id:"last7days",label:D["default"].lookup("SC.Search.DateWidget.last7days","Last 7 days")},{id:"today",label:D["default"].lookup("SC.Search.DateWidget.today","Today")}],wmDealDateRange:[],wmDateRange:[]};const nd=td;function id(e){Dc.call(this,e);var t=this,n=Xn["default"].SearchResult;this.getFacetHtml=function(){var e;!n.isKmContentType()&&(0,ni.isBlank)(t.getData().selectedRangeId)&&(e=i);return t.getModalWidget().createHtml(t.handleDateSelection,e)};this.getDateRanges=function(){var t=nd[n.getContentType()];void 0===t&&(t=nd[e.displayOptions.id]);return void 0!==t?t:nd.DEFAULT_RANGE};this.createModalWidget=function(){var i=t.getData(),a=new Sc(e.displayOptions.id,e.name),o=i.selectedRangeId;if("KM"!=n.getContentType()){a.fixedRangeTypeList=t.getDateRanges();for(var r in a.fixedRangeTypeList)a.fixedRangeTypeList[r].count=i.counts[a.fixedRangeTypeList[r].id]}else{a.fixedRangeTypeList=[];i.fixedRanges?.forEach((e=>{var t={id:e.counts.id,count:e.counts.count,label:e.counts.label};1==e.counts.active&&(o=t.id);a.fixedRangeTypeList.push(t)}));var s={id:"all",label:D["default"].lookup("SC.Search.DateWidget.AllLabel","All")};a.fixedRangeTypeList.push(s)}if(!(0,ni.isBlank)(o)){var l=[o];if(o==a.CUSTOM){l.push(i.selectedBeginDate);l.push(i.selectedEndDate)}vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,l,!1,e.displayOptions.selector)}a.customRangeLabel="Select a date or range >>";a.selectedRangeTypeId=(0,ni.isBlank)(o)?"all":o;if(o==a.CUSTOM)if("0"!=i.selectedBeginDate&&0!=i.selectedEndDate){a.selectedCustomRangeSubTypeId=i.selectedBeginDate==i.selectedEndDate?a.ON:a.FROM_UNTIL;a.selectedCustomRangeDate=t.getDateStringFormattedForDisplay(i.selectedBeginDate,!1,a.getDateFormat());a.selectedCustomRangeSubTypeId==a.FROM_UNTIL&&(a.selectedCustomRangeDateUntil=t.getDateStringFormattedForDisplay(i.selectedEndDate,!1,a.getDateFormat()))}else{a.selectedCustomRangeSubTypeId=0==i.selectedBeginDate?a.BEFORE:a.AFTER;a.selectedCustomRangeDate=a.selectedCustomRangeSubTypeId==a.BEFORE?t.getDateStringFormattedForDisplay(i.selectedEndDate,1,a.getDateFormat()):t.getDateStringFormattedForDisplay(i.selectedBeginDate,-1,a.getDateFormat())}a.setMultiSelectEnabled(t.isMultiSelectEnabled());return a};function i(t,n){if(!n.hasBeenExpandedBefore()){n.setHasBeenExpandedBefore(!0);Kc().retrieveDateFacet((function(e){var t=[];Object.entries(e.data.counts).forEach((([e,n])=>{t.push({id:e,count:n})}));n.refreshCounts(t)}),e.displayOptions.id)}}this.handleDateSelection=function(e,n){t.isMultiSelectEnabled()||vc.currentFacetRenderer.removeFromActiveList(e);var i={id:e,selector:t.getSelector(),data:[n.selectedRangeTypeId]};if("all"==n.selectedRangeTypeId){t.isMultiSelectEnabled()||(i.data=[]);vc.currentFacetRenderer.isKM()?vc.currentFacetRenderer.fireApplyKm(!1):vc.currentFacetRenderer.apply(!1,i.id,i.data,!0,!1,i.selector)}else{if(n.selectedRangeTypeId==n.CUSTOM)if(n.selectedCustomRangeSubTypeId==n.FROM_UNTIL){i.data.push(n.selectedCustomRangeDate);i.data.push(n.selectedCustomRangeDateUntil)
}else if(n.selectedCustomRangeSubTypeId==n.ON){i.data.push(n.selectedCustomRangeDate);i.data.push(n.selectedCustomRangeDate)}else if(n.selectedCustomRangeSubTypeId==n.BEFORE){i.data.push(t.getInfinity());i.data.push(t.processBeforeDate(n.selectedCustomRangeDate,n.getDateFormat()))}else{if(n.selectedCustomRangeSubTypeId!=n.AFTER)throw new Error(`invalid custom date range subtype '${n.selectedCustomRangeSubTypeId}'`);i.data.push(t.processAfterDate(n.selectedCustomRangeDate,n.getDateFormat()));i.data.push(t.getInfinity())}t.activate(i,!0)}};this.getSelector=function(){return"date"};this.activate=function(e,n){if(t.isMultiSelectEnabled())vc.currentFacetRenderer.apply(n,e.id,e.data,!0,!1,e.selector);else{vc.currentFacetRenderer.putToActiveList(e.id,e.data,!1,e.selector);vc.currentFacetRenderer.fireApply(n)}};this.processBeforeDate=function(e,t){return a(e,-1,t)};this.processAfterDate=function(e,t){return a(e,1,t)};this.getInfinity=function(){return"0"};this.initialize=function(e){t.getModalWidget().initialize();e()};this.isCountRefreshRequired=function(){return!0};this.handleSelectClicked=function(){i(0,t.getModalWidget())};function a(e,t,n){var i=null;return(i=(i=n?Date.parseExact(e,n):Date.parseLenient(e)).addDays(t)).toFormattedString(n||"MM-dd-yyyy")}this.getDateStringFormattedForDisplay=function(e,t,n){var i=null;if(null==(i=n?Date.parseExact(e,n):Date.parseLenient(e)))return"";t&&(i=i.addDays(t));return i.toFormattedString(D["default"].lookup("SC.Config.Date.Search.DefaultDateFormat","MM-dd-yyyy"))}}id.prototype=Object.create(Dc.prototype);id.prototype.constructor=id;const ad=id,od=On().module("WLN.dateFacet",[]).run(["$templateCache",function(e){e.put("views/DateRangeCalendarView.html",'<div id="co_dateFacet_dateRangeCalendarContainer" class="co_DatePicker-dualCalendars" ng-show="showDualCalendar">\n    \x3c!--\n        @file Tr Discover Date Range Calendar view\n    --\x3e\n    <div id="co_dateFacet_dualInputContainer" class="co_DatePicker-calendar">\n        <h3 id="co_dateFacet_beginHeader" tabindex="-1">{{startdatetitle}}</h3>\n        <input id="co_dateFacet_calendarInputStart" class="co_DatePicker-startEndDate" type="text" autofocus maxlength="10" />\n        <div id="co_dateFacet_startInputUtilError" class="co_hideState"></div>\n        <div id="datepickerbegin"></div>\n    </div>\n\n    <div class="co_DatePicker-calendar">\n        <h3 id="co_dateFacet_endHeader" tabindex="-1">{{enddatetitle}}</h3>\n        <input id="co_dateFacet_calendarInputEnd" class="co_DatePicker-startEndDate" type="text" maxlength="10" />\n        <div id="co_dateFacet_endInputUtilError" class="co_hideState"></div>\n        <div id="datepickerend"></div>\n    </div>\n\n    <div id="co_dateFacet_calendarFooter" class="co_DatePicker-footer">\n        <ul>\n            <li>\n                <label for="co_facet_calendar_applyButton" class="co_accLink">{{applybuttontext}}</label>\n                <input class="co_primaryBtn co_disabled" type="button" value="{{applybuttontext}}" id="co_facet_dualCalendar_continueButton">\n            </li>\n            <li>\n                <a ng-click="closeDateFacetWidget()" href="javascript:void(0);" id="co_facet_dualCalendar_cancelButton" title="{{cancelbuttontitle}}">{{cancelbuttontext}}</a>\n            </li>\n        </ul>\n    </div>\n</div>');e.put("views/SingleCalendarView.html",'<div id="co_dateFacet_singleCalendarContainer" ng-show="showSingleCalendar">\n\t\x3c!--\n\t\t@file Tr Discover Single Calendar view\n\t--\x3e\n\t<div id="co_dateFacet_inputContainer">      \n\t\t<div id="co_dateFacet_singleCalendar" class="co_DatePicker-calendar">\n\t\t\t<h3 tabindex="-1">{{singledatetitle}}</h3>\n\t\t\t<input id="co_dateFacet_calendarInput" class="co_DatePicker-startEndDate" type="text" autofocus maxlength="10" />\n\t\t\t<div id="co_dateFacet_inputUtilError" class="co_hideState"></div>\n\t\t\t<div id="datepicker"></div>\n\t\t</div>\n\t\t<div id="co_dateFacet_calendarFooter" class="co_DatePicker-footer">\n\t\t\t<ul>\n\t\t\t\t<li>\n\t\t\t\t\t<label for="co_facet_calendar_applyButton" class="co_accLink">{{applybuttontext}}</label>\n\t\t\t\t\t<input class="co_primaryBtn co_disabled" class="co_DatePicker-startEndDate" type="button" value="{{applybuttontext}}" id="co_facet_singleCalendar_continueButton">\n\t\t\t\t</li>\n\t\t\t\t<li>\n\t\t\t\t\t<a ng-click="closeDateFacetWidget()" href="javascript:void(0);" id="co_facet_calendar_cancelButton" title="{{cancelbuttontitle}}">{{cancelbuttontext}}</a>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>');e.put("views/DateFacetView.html",'<div class="co_clear"></div>\n\x3c!--\n\t@file Tr Discover Date Facet view\n--\x3e\n<div class="co_popup_facet co_overlayBox_container co_wide">\n\t<div class="co_overlayBox_topLeft">\n\t\t<div class="co_overlayBox_topRight">\n\t\t\t<div class="co_overlayBox_headline">\n\t\t\t\t\t<h3 class="" tabindex="-1">{{datecalendarheadertitle}}</h3>\n\t\t\t\t\t<a ng-click="closeDateFacetWidget()" href="javascript:void(0);" title="{{closecalendartitle}}" class="co_overlayBox_closeButton" id="co_facet_calendar_popupClose">{{closecalendar}}</a>\n\t\t   </div>\n\t\t</div>\n\t</div>\n\n\t<div class="co_overlayBox_left">\n\t\t<div class="co_overlayBox_right">\n\t\t\t<div class="co_overlayBox_content">\n\t\t\t\t<div class="co_DatePicker">\t\n\t\t\t\t\t<div class="co_DatePicker-arrow"></div>\n\t\t\t\t\t<div id="co_dateFacet_leftContainer" class="co_DatePicker-listContainer">\n\t\t\t\t\t\t<div id="co_dateWidget_footer_date" class="co_DatePicker-lists">\n\t\t\t\t\t\t\t<ul id="co_dateWidgetFixedList_date" date-facet-fixed-list facet="facet"></ul>\n\t\t\t\t\t\t\t<ul id="co_dateWidgetCustomList_date" date-facet-custom-list></ul>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div id="co_dateFacet_calendarContainer" class="co_DatePicker-calendarContainer co_hideState">\n\t\t\t\t\t\t<div date-facet-single-calendar></div>\n\t\t\t\t\t\t<div date-facet-date-range-calendar></div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>');e.put("views/CustomListView.html",'<li id="co_dateWidget_customlist" ng-repeat="item in customListRange" ng-class="{\'co_dateWidget_customlist_highlightItem\': highlight === item.id && maxDate !== 0 && minDate !== 0}">\n    \x3c!--\n        @file Tr Discover Custom List view\n    --\x3e\n\n    <a href="" id="co_dateFacet_{{item.id}}" ng-click="loadCalendar(item.id,$event)" ng-class="{\'co_trDiscover_disableHover\': maxDate === 0 && minDate === 0, \'co_disabled\': maxDate === 0 && minDate === 0}">\n        {{item.label}}\n        <span class="icon25 icon_grey_right_arrow"></span>\n    </a>\n</li>');e.put("views/FixedListView.html",'<li id="co_dateWidget_fixedList" ng-repeat="item in fixedListRange">\n\t\x3c!--\n\t\t@file Tr Discover Fixed List view\n\t--\x3e\n\t<a href="" ng-click="appendItem(item.id,item.label,$event)" ng-class="{\'co_trDiscover_disableHover\': getCount(item.id) === \'0\', \'co_disabled\': getCount(item.id) === \'0\'}">\n\t\t{{item.label}}\n\t\t<span id="{{item.id}}_date_count" class="co_DatePicker-fixedListCount">{{item.count}}</span>\n\t</a>\n</li>');e.put("views/PickedListItemView.html",'<li id="co_facetDate">\n\t<input ng-change="activateFacet(dateFacetData,checkboxModel)" ng-model="checkboxModel" id="co_facetItem_dateDate" type="checkbox" data-parent-id="trd_date" data-attribute-id="trd_date" data-apply-to-front="true" checked="checked" />\n\t<span ng-if=\'count !== ""\' class="co_facetCount">{{count}}</span>\n\t<label for "co_facetItem_dateDate">{{label}}</label>\n</li>')}]);od.directive("dateFacetDateRangeCalendar",[function(){return{restrict:"A",templateUrl:"views/DateRangeCalendarView.html",controller:"DateFacetController"}}]);od.directive("dateFacetSingleCalendar",[function(){return{restrict:"A",templateUrl:"views/SingleCalendarView.html",controller:"DateFacetController"}}]);od.directive("dateFacetContainer",[function(){return{restrict:"E",templateUrl:"views/DateFacetView.html"}}]);od.directive("dateFacetCustomList",[function(){return{restrict:"A",templateUrl:"views/CustomListView.html",controller:"DateFacetController"}}]);od.directive("dateFacetFixedList",[function(){return{restrict:"A",
templateUrl:"views/FixedListView.html",controller:"DateFacetController"}}]);od.directive("dateFacetPickedList",[function(){return{restrict:"E",templateUrl:"views/PickedListItemView.html",controller:"DateFacetController"}}]);n(7378);od.controller("DateFacetController",["$scope","dateFacetService","$compile","$templateCache",function(e,t,n,i){e.count="";e.dateFacetData=null;e.label="";e.checkboxModel=!1;e.currentCalendarType=null;e.highlight="";e.showSingleCalendar=!1;e.showDualCalendar=!1;e.hasNoMaxDate=!t.maxDate;e.hasNoMinDate=!t.minDate;e.datecalendarheadertitle=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.DateCalendarHeaderTitle","Date");e.closecalendartitle=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.DateCalendarCloseTitle","Close");e.cancelbuttontext=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.CancelButtonText","Cancel");e.cancelbuttontitle=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.CancelButtonTitle","Cancel Calendar");e.startdatetitle=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.StartDateTitleWithFormat","Start Date (MM/DD/YYYY)");e.enddatetitle=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.EndDateTitleWithFormat","End Date (MM/DD/YYYY)");e.singledatetitle=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.SingleDateTitleWithFormat","Date (MM/DD/YYYY)");e.datepickerDateformat=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.DatePickerDateFormat","mm/dd/yy");e.momentServerFormat=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentServerFormat","MM-DD-YYYY");e.momentDisplayFormat=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentDisplayFormat","MM/DD/YYYY");e.momentAlternateDisplayFormat1=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat1","MM/DD/YY");e.momentAlternateDisplayFormat2=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat2","M/D/YYYY");e.momentAlternateDisplayFormat3=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat3","M/D/YY");e.momentAlternateDisplayFormat4=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat4","MM/D/YYYY");e.momentAlternateDisplayFormat5=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat5","MM/D/YY");e.momentAlternateDisplayFormat6=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat6","M/DD/YYYY");e.momentAlternateDisplayFormat7=D["default"].lookup("SC.Config.Date.Search.Facets.TrDiscover.DateFacet.MomentAlternateDisplayFormat7","M/DD/YY");e.momentDisplayFormatsArray=[e.momentDisplayFormat,e.momentAlternateDisplayFormat1,e.momentAlternateDisplayFormat2,e.momentAlternateDisplayFormat3,e.momentAlternateDisplayFormat4,e.momentAlternateDisplayFormat5,e.momentAlternateDisplayFormat6,e.momentAlternateDisplayFormat7];e.today=new Date;e.maxDate=t.maxDate?ed()(t.maxDate).format(e.momentDisplayFormat):0;e.minDate=t.minDate?ed()(t.minDate).format(e.momentDisplayFormat):0;e.fixedListRange=t.fixedListRange;e.customListRange=t.customListRange;e.getCount=function(t){var n="",i=st().find(e.fixedListRange,(function(e){return t===e.id}));i&&i.count&&(n=i["count"]);return n};e.appendItem=function(t,n,i){if("0"===e.getCount(t))i.preventDefault();else{document.querySelectorAll("#facet_div_trd_date .co_facet_applied").forEach((e=>e.replaceChildren()));var a=t;document.querySelector("#facet_div_trd_date ul.co_facet_applied")?.append(e.createSelectableListItem(a,n,!0,t));e.activateFacet(a,!0)}};e.isMultiSelectEnabled=function(){if(!document.getElementById("co_multifacet_selector_1_selectMultiFacetFilter")?.classList.contains("co_hideState"))return!0;return!1};e.activateFacet=function(t,n){e.clearCalendars();e.highlight="";e.clearDateFacetWidget();vc.currentFacetRenderer.removeFromActiveList("trd_date",void 0,!0);if(n)if(e.isMultiSelectEnabled()){vc.currentFacetRenderer.putToActiveList("trd_date",t,!0,"dateSelect");vc.currentFacetRenderer.fireApply(n)}else{vc.currentFacetRenderer.apply(n,"trd_date",t,!0,!1,"dateSelect");document.getElementById("co_multifacet_selector_1_applyFacetFilter")?.classList.remove("co_disabled")}else{e.isMultiSelectEnabled()&&vc.currentFacetRenderer.fireApply(n);document.getElementById("co_multifacet_selector_1_applyFacetFilter")?.classList.add("co_disabled")}};e.createSelectableListItem=function(t,a,o,r,s){e.dateFacetData=t;e.label=a;e.count="";r&&r.length&&void 0===s&&(e.count=document.getElementById(`${r}_date_count`)?.textContent??"");s&&(e.count=s);e.checkboxModel=o;var l=n(i.get("views/PickedListItemView.html"))(e);st().defer((function(){e.$apply()}));return l.get(0)};e.removeHighLightingFromOtherCalendarOnNewDateSelection=function(e,t,n){if(null!==e&&null!==t)for(var i=0;i<n.length;i++)x()(n[i]).find("td").each((function(){this.classList.contains("co_DatePicker-highlight")&&this.classList.remove("co_DatePicker-highlight")}))};e.clearDateFacetWidget=function(){e.showSingleCalendar=!1;e.showDualCalendar=!1;document.getElementById("co_dateFacet_calendarContainer")?.classList.add("co_hideState");(0,lt.hideElements)(document.getElementById("co_dateFacet_container"));document.getElementById("co_facet_selectLink_trd_date")?.classList.remove("co_disabled")};e.closeDateFacetWidget=function(){e.clearCalendars();e.highlight="";e.clearDateFacetWidget()};e.beforeShowDayStartDate=function(t){var n=ed()(document.getElementById("co_dateFacet_calendarInputEnd")?.value??"",e.momentDisplayFormatsArray,!0);if(e.hasNoMaxDate&&e.hasNoMinDate){(document.getElementById("co_dateFacet_calendarInputStart")??{}).disabled=!0;return[!1]}if(!ed()(document.getElementById("co_dateFacet_calendarInputStart")?.value??"",e.momentDisplayFormatsArray,!0).isValid()&&!n.isValid()){var i="MM/YYYY",a=!1;ed()(t).format(i)===ed()(e.minDate).format(i)&&(a=!0);return[!0,ed()(t).format(e.momentDisplayFormat)===e.minDate||!a&&1==t.getDate()?"co_DatePicker-highlight":""]}var o=x()("#datepickerend tbody tr"),r=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputStart")?.value??""),s=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputEnd")?.value??"");if(null!==s&&null!==r&&r<s)for(var l=0;l<o.length;l++)x()(o[l]).find("td").each((function(){!this.classList.contains("ui-state-disabled")&&this.innerText.replace(/\s+/g,"").trim()<=s.getDate()&&this.classList.add("co_DatePicker-highlight")}));return[!0,r&&(t.getTime()==r.getTime()||s&&t>=r&&t<=s)?"co_DatePicker-highlight":""]};e.beforeShowDateEndDate=function(t){var n=x()("#datepickerbegin tbody tr"),i=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputStart")?.value??""),a=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputEnd")?.value??"");if(e.hasNoMaxDate&&e.hasNoMinDate){(document.getElementById("co_dateFacet_calendarInputEnd")??{}).disabled=!0;return[!1]}if(null!==i&&null!==a&&a>i)for(var o=0;o<n.length;o++)x()(n[o]).find("td").each((function(){!this.classList.contains("ui-state-disabled")&&this.innerText.replace(/\s+/g,"").trim()>=i.getDate()&&this.classList.add("co_DatePicker-highlight")}));return[!0,i&&(t.getTime()==i.getTime()||a&&t>=i&&t<=a)?"co_DatePicker-highlight":""]};e.onSelectStartDate=function(t){e.inputsMustHaveValidOrNoDateForChangingMonthsAndYears();if(""!==t){const e=document.getElementById("co_dateFacet_calendarInputStart");e&&(e.value=t||"")}this.click();(document.getElementById("co_dateFacet_calendarInputEnd")??{}).disabled=!1;var n=x()("#datepickerbegin").datepicker("getDate");e.setMinDate(n,x()("#datepickerend"));var i=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputStart")?.value??""),a=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputEnd")?.value??""),o=x()("#datepickerend tbody tr")
;e.removeHighLightingFromOtherCalendarOnNewDateSelection(i,a,o);if(ed()(document.getElementById("co_dateFacet_calendarInputStart")?.value??"").isValid()&&ed()(document.getElementById("co_dateFacet_calendarInputEnd")?.value??"").isValid()){x()("#datepickerend").datepicker("option","beforeShowDay",e.beforeShowDateEndDate);e.startDateBeforeEndDate(i,a,x()("#datepickerbegin"),x()("#datepickerend"),x()("#co_facet_dualCalendar_continueButton"),x()("#co_dateFacet_calendarInputStart"),x()("#co_dateFacet_calendarInputEnd"),"co_dateFacet_startInputUtilError")}st().defer((function(){e.createTabbing(e.currentCalendarType)}))};e.onSelectEndDate=function(t){e.inputsMustHaveValidOrNoDateForChangingMonthsAndYears();if(""!==t){const e=document.getElementById("co_dateFacet_calendarInputEnd");e&&(e.value=t??"")}this.click();(document.getElementById("co_dateFacet_calendarInputStart")??{}).disabled=!1;var n=x()("#datepickerend").datepicker("getDate");e.setMaxDate(n,x()("#datepickerbegin"));var i=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputStart")?.value??""),a=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputEnd")?.value??""),o=x()("#datepickerbegin tbody tr");e.removeHighLightingFromOtherCalendarOnNewDateSelection(i,a,o);if(ed()(document.getElementById("co_dateFacet_calendarInputStart")?.value??"").isValid()&&ed()(document.getElementById("co_dateFacet_calendarInputEnd")?.value??"").isValid()){x()("#datepickerbegin").datepicker("option","beforeShowDay",e.beforeShowDayStartDate);e.startDateBeforeEndDate(i,a,x()("#datepickerend"),x()("#datepickerbegin"),x()("#co_facet_dualCalendar_continueButton"),x()("#co_dateFacet_calendarInputEnd"),x()("#co_dateFacet_calendarInputStart"),"co_dateFacet_endInputUtilError")}st().defer((function(){e.createTabbing(e.currentCalendarType)}))};e.createTabbing=function(e){if("range"===e){document.querySelectorAll("div#datepickerbegin a.ui-datepicker-prev").forEach((e=>{e.setAttribute("href","javascript:void(0)");e.setAttribute("role","button")}));document.querySelectorAll("div#datepickerbegin a.ui-datepicker-next").forEach((e=>{e.setAttribute("href","javascript:void(0)");e.setAttribute("role","button")}));document.querySelectorAll("div#datepickerend a.ui-datepicker-prev").forEach((e=>{e.setAttribute("href","javascript:void(0)");e.setAttribute("role","button")}));document.querySelectorAll("div#datepickerend a.ui-datepicker-next").forEach((e=>{e.setAttribute("href","javascript:void(0)");e.setAttribute("role","button")}))}else{document.querySelectorAll("div#datepicker a.ui-datepicker-prev").forEach((e=>{e.setAttribute("href","javascript:void(0)");e.setAttribute("role","button")}));document.querySelectorAll("div#datepicker a.ui-datepicker-next").forEach((e=>{e.setAttribute("href","javascript:void(0)");e.setAttribute("role","button")}))}};e.loadCalendar=function(t,n){if(e.hasNoMaxDate&&e.hasNoMinDate)n.preventDefault();else{e.loadCalendars(t);e.createTabbing(t)}};e.reduceUserInput=function(e){var t=e.which||e.keyCode;if((t>=47&&t<=57||111===t||191===t||t>=96&&t<=105||8===t||46===t||17===t||9===t||t>=35&&t<=40||t>=112&&t<=123)&&(!e.shiftKey||9===t&&e.shiftKey))return!0;e.preventDefault();return!1};e.setMinDate=function(e,t){var n=new Date(Date.parse(e));e.setDate(e.getDate()+1);var i=n.toDateString();i=new Date(Date.parse(i));t.datepicker("option","minDate",i)};e.setMaxDate=function(e,t){var n=new Date(Date.parse(e));e.setDate(e.getDate()-1);var i=n.toDateString();i=new Date(Date.parse(i));t.datepicker("option","maxDate",i)};e.startDateBeforeEndDate=function(t,n,i,a,o,r,s,l){if(Date.parse(t)<=Date.parse(n)){e.setMinDate(t,x()("#datepickerend"));e.setMaxDate(n,x()("#datepickerbegin"));a.datepicker("setDate",s.val());o.removeClass("co_disabled")}else{o.addClass("co_disabled");e.displayErrorMessage(D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.InvalidDateRangeMessage","Start Date must be earlier than End Date"),l,r.prop("id"))}};e.calendarValidation=function(t,n,i,a,o,r,s){var l,c=ed()(e.minDate).format(e.momentDisplayFormat),d=ed()(e.maxDate).format(e.momentDisplayFormat);t.on("keydown",(function(t){e.reduceUserInput(t)})).on("keyup",(function(){clearInterval(l);var u=t;if(x()(u).val().length){var h=ed()(x()(u).val(),e.momentDisplayFormatsArray,!0);if(h&&h.isValid()){var f=Date.parse(x()(u).val())<=Date.parse(e.maxDate),p=Date.parse(x()(u).val())>=Date.parse(e.minDate);if(f&&p){void 0===r&&i.datepicker("setDate",x()(u).val());if(x()(u).val().length&&!o||o&&o.val()&&o.val().length&&x()(u).val().length)if(x()(u).val().length&&o&&o.val()&&o.val().length){var m=Date.parse(o.val())<=Date.parse(e.maxDate),g=Date.parse(o.val())>=Date.parse(e.minDate);if(m&&g){void 0!==r&&i.datepicker("setDate",x()(u).val());var v=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputStart")?.value??""),y=x().datepicker.parseDate(e.datepickerDateformat,document.getElementById("co_dateFacet_calendarInputEnd")?.value??"");e.startDateBeforeEndDate(v,y,i,r,n,t,o,a,l)}else{n.addClass("co_disabled");l=setTimeout((function(){e.displayErrorMessage(D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.SelectedDateOutOfRangeMessage",{minDate:c,maxDate:d},"Please choose a date between "+c+" and "+d),s,t.prop("id"))}),1e3)}}else n.removeClass("co_disabled")}else{n.addClass("co_disabled");l=setTimeout((function(){e.displayErrorMessage(D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.SelectedDateOutOfRangeMessage",{minDate:c,maxDate:d},"Please choose a date between "+c+" and "+d),a,t.prop("id"))}),1e3)}}else{n.addClass("co_disabled");l=setTimeout((function(){e.displayErrorMessage(D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.InvalidDateMessage",{invalidDate:x()(u).val()},x()(u).val()+" is not a valid date"),a,t.prop("id"))}),5e3)}}else n.addClass("co_disabled")}))};e.inputsMustHaveValidOrNoDateForChangingMonthsAndYears=function(){var t=ed()(document.getElementById("co_dateFacet_calendarInputStart")?.value??"",e.momentDisplayFormatsArray,!0);if(document.getElementById("co_dateFacet_calendarInputStart")?.value&&!t.isValid()){const e=document.getElementById("co_dateFacet_calendarInputStart");e&&(e.value="")}var n=ed()(document.getElementById("co_dateFacet_calendarInputEnd")?.value??"",e.momentDisplayFormatsArray,!0);if(document.getElementById("co_dateFacet_calendarInputEnd")?.value&&!n.isValid()){const e=document.getElementById("co_dateFacet_calendarInputEnd");e&&(e.value="")}};e.loadCalendars=function(t){e.currentCalendarType=t;e.highlight=t;(document.getElementById("co_dateFacet_calendarInputStart")??{}).disabled=!1;(document.getElementById("co_dateFacet_calendarInputEnd")??{}).disabled=!1;(document.getElementById("co_dateFacet_calendarInput")??{}).disabled=!1;document.getElementById("co_multifacet_selector_1_selectMultiFacetFilter")?.classList.contains("co_hideState")?e.applybuttontext=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.ContinueButtonText","Continue"):e.applybuttontext=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.FilterButtonText","Filter");document.getElementById("co_multifacet_selector_1_selectMultiFacetFilter")?.addEventListener("click",(function(){e.applybuttontext=D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.ContinueButtonText","Continue");st().defer((function(){e.$apply()}))}));var n=x()("#co_facet_singleCalendar_continueButton"),i=x()("#co_dateFacet_calendarInput"),a=x()("#datepicker");e.calendarValidation(i,n,a,"co_dateFacet_inputUtilError");var o=x()("#co_dateFacet_calendarInputStart"),r=x()("#co_dateFacet_calendarInputEnd"),s=x()("#co_facet_dualCalendar_continueButton"),l=x()("#datepickerbegin"),c=x()("#datepickerend");e.calendarValidation(o,s,l,"co_dateFacet_startInputUtilError",r,c,"co_dateFacet_endInputUtilError");e.calendarValidation(r,s,c,"co_dateFacet_endInputUtilError",o,l,"co_dateFacet_startInputUtilError");e.clearCalendars();x().datepicker.setDefaults({dateFormat:e.datepickerDateformat,defaultDate:null,yearRange:"-300:+0",changeMonth:!0,changeYear:!0,maxDate:e.maxDate,minDate:e.minDate,numberOfMonths:1,
prevText:D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.PreviousButtonText","Previous"),nextText:D["default"].lookup("SC.Search.Facets.TrDiscover.DateFacet.NextButtonText","Next")});if("range"===t){document.getElementById("co_dateFacet_calendarContainer")?.classList.remove("co_hideState");e.showDualCalendar=!0;e.showSingleCalendar=!1;x()("#datepickerbegin").datepicker({maxDate:e.maxDate,onSelect:e.onSelectStartDate,beforeShowDay:e.beforeShowDayStartDate,onChangeMonthYear:function(){e.inputsMustHaveValidOrNoDateForChangingMonthsAndYears();st().defer((function(){e.createTabbing(t)}))}});x()("#datepickerend").datepicker({maxDate:e.maxDate,onSelect:e.onSelectEndDate,beforeShowDay:e.beforeShowDateEndDate,onChangeMonthYear:function(){e.inputsMustHaveValidOrNoDateForChangingMonthsAndYears();st().defer((function(){e.createTabbing(t)}))}});document.querySelectorAll("#datepickerbegin .ui-datepicker-current-day a ").forEach((e=>{e.classList.remove("ui-state-default");e.classList.remove("ui-state-highlight");e.classList.remove("ui-state-active");e.classList.remove("ui-state-hover")}));const n=document.getElementById("co_dateFacet_calendarHeader");n&&(n.style.width="627px")}else{document.getElementById("co_dateFacet_calendarContainer")?.classList.remove("co_hideState");e.showSingleCalendar=!0;e.showDualCalendar=!1;x()("#datepicker").datepicker({onSelect:function(t){this.click();const n=document.getElementById("co_dateFacet_calendarInput");n&&(n.value=t??"");document.getElementById("co_facet_singleCalendar_continueButton")?.classList.remove("co_disabled");st().defer((function(){e.createTabbing(e.currentCalendarType)}))},onChangeMonthYear:function(){st().defer((function(){e.createTabbing(t)}))}});if(e.hasNoMaxDate&&e.hasNoMinDate){(document.getElementById("co_dateFacet_calendarInput")??{}).disabled=!0;x()("#datepicker").datepicker("option","beforeShowDay",(function(){return[!1]}))}const n=document.getElementById("co_dateFacet_calendarHeader");n&&(n.style.width="393px")}document.getElementById("co_facet_singleCalendar_continueButton")?.addEventListener("click",(function(){if(!this.classList.contains("co_disabled")){document.getElementById("co_facet_singleCalendar_continueButton")?.classList.add("co_disabled");document.querySelectorAll("#facet_div_trd_date .co_facet_applied").forEach((e=>e.replaceChildren()));var t=ed()(document.getElementById("co_dateFacet_calendarInput")?.value??""),n="",i=[];switch(e.currentCalendarType){case"before":n=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormattedDateBefore",{date:t.format(e.momentDisplayFormat)},"Before "+t.format(e.momentDisplayFormat));i="custom,0,"+t.format(e.momentServerFormat);break;case"after":n=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormattedDateAfter",{date:t.format(e.momentDisplayFormat)},"After "+t.format(e.momentDisplayFormat));i="custom,"+t.format(e.momentServerFormat)+",0";break;case"specific":n=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormattedDateSpecific",{date:t.format(e.momentDisplayFormat)},"On "+t.format(e.momentDisplayFormat));i="custom,"+t.format(e.momentServerFormat)+","+t.format(e.momentServerFormat);break;default:n=""}document.querySelector("#facet_div_trd_date ul.co_facet_applied")?.append(e.createSelectableListItem(i,n,!0,void 0));e.activateFacet(i,!0)}}));document.getElementById("co_facet_dualCalendar_continueButton")?.addEventListener("click",(function(){if(!this.classList.contains("co_disabled")){document.getElementById("co_facet_dualCalendar_continueButton")?.classList.add("co_disabled");document.querySelectorAll("#facet_div_trd_date .co_facet_applied").forEach((e=>e.replaceChildren()));var t=ed()(document.getElementById("co_dateFacet_calendarInputStart")?.value??""),n=ed()(document.getElementById("co_dateFacet_calendarInputEnd")?.value??""),i="custom,"+t.format(e.momentServerFormat)+","+n.format(e.momentServerFormat);document.querySelector("#facet_div_trd_date ul.co_facet_applied").append(e.createSelectableListItem(i,D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormatDates",{startDate:t.format(e.momentDisplayFormat),endDate:n.format(e.momentDisplayFormat)},t.format(e.momentDisplayFormat)+" - "+n.format(e.momentDisplayFormat)),!0,void 0));e.activateFacet(i,!0)}}));st().defer((function(){e.createTabbing(t)}))};e.displayErrorMessage=function(e,t,n){(0,ni.showMessageWithPageTouchListener)(e,document.getElementById(t),"bottom",document.getElementById(n),!0)};e.clearCalendars=function(){document.getElementById("co_facet_singleCalendar_continueButton")?.classList.add("co_disabled");document.getElementById("co_facet_dualCalendar_continueButton")?.classList.add("co_disabled");const e=document.getElementById("co_dateFacet_calendarInputStart");e&&(e.value="");const t=document.getElementById("co_dateFacet_calendarInputEnd");t&&(t.value="");const n=document.getElementById("co_dateFacet_calendarInput");n&&(n.value="");x()("#datepicker").datepicker("destroy");x()("#datepickerbegin").datepicker("destroy");x()("#datepickerend").datepicker("destroy")}}]);od.factory("dateFacetService",["facet","activeFacet",function(e,t){var n=e,i=t,a=[{id:"last3mo",label:D["default"].lookup("SC.Search.Facets.DateWidget.Last3mo","Last 3 months")},{id:"last6mo",label:D["default"].lookup("SC.Search.DateWidget.last6mo","Last 6 months")},{id:"last12mo",label:D["default"].lookup("SC.Search.DateWidget.last12mo","Last 12 months")},{id:"last3yr",label:D["default"].lookup("SC.Search.DateWidget.last3yr","Last 3 years")}],o=[{id:"before",label:D["default"].lookup("SC.Alerts.Result.History.Date.Facet.Option.DatesBefore","All Dates Before")},{id:"after",label:D["default"].lookup("SC.Alerts.Result.History.Date.Facet.Option.DatesAfter","All Dates After")},{id:"specific",label:D["default"].lookup("SC.Alerts.Result.History.Date.Facet.Option.SpecificDate","Specific Date")},{id:"range",label:D["default"].lookup("SC.Alerts.Result.History.Date.Facet.Option.DateRange","Date Range")}];return{fixedListRange:function(e,t){var n=[];e?.forEach((e=>{var i=st().find(t.data.counts,(function(t,n){return e.id===n}));n.push({id:e.id,label:e.label,count:(0,ni.formatNumberWithCommas)(i)})}));return n}(a,n),customListRange:o,facetData:n,activeFacet:i,maxDate:n.data.limits&&n.data.limits.max?n.data.limits.max:null,minDate:n.data.limits&&n.data.limits.min?n.data.limits.min:null}}]);function rd(e){ad.call(this,e);if("dateSelect"===e.displayOptions.selector){var t=this,n=t.getFacetId(),i=t.getDisplayName(),a=D["default"].lookup("SC.Config.Date.Search.MomentDisplayFormt","M/D/YYYY");const c="MM-DD-YYYY",d={};t.initialize=function(t){document.getElementById("facet_div_trd_date")?.classList.add("co_popup_facet");od.value("facet",e);od.value("activeFacet",o());x()('<div id="co_dateFacet_container" style="display: none;"><date-facet-container /></div>').insertBefore("#facet_div_trd_date .co_facet_applied");On().bootstrap(document.getElementById("co_dateFacet_container"),["WLN.dateFacet"]);document.getElementById("co_facetHeadertrd_date")?.addEventListener("click",(function(){document.querySelector("#facet_div_trd_date .co_facet_applied")?.replaceChildren();document.getElementById("co_multifacet_selector_1_applyFacetFilter")?.classList.add("co_disabled")}));r();t()};var o=function(){var e=vc.currentFacetRenderer.getActive();return st().find(e,(function(e){return"trd_date"===e.id}))},r=function(){var t=o();if(t){var n=[];x().each(e.data.counts,(function(e,t){n.push({id:e,count:t})}));t=o();var i=st().find(n,(function(e){return e.id===t.data[0].toString()})),a="",r=On().element(document.getElementById("co_dateFacet_container")).scope(),l="";void 0!==i&&void 0!==i.count&&(l=(0,ni.formatNumberWithCommas)(i.count));var c=s(t);r.$apply((function(){a=r.createSelectableListItem(t.data[0],c,!0,t.data[0].toString(),l)}));document.querySelector("#facet_div_trd_date ul.co_facet_applied")?.replaceChildren(a)}};this.getFacetHtml=function(){var e="";e+="{selectLink}";e+=`<ul class="co_facet_applied">${l()}</ul>`;var t={name:i,selectLink:this.createSelectLink(n,i)};return(0,ni.substitute)(e,t)};const u=function(e,t=0){return ed()(e,c).add(t,"days").format(a)};var s=function(e){var t=""
;switch(e.data[0].toString()){case"last3mo":t=D["default"].lookup("SC.Search.Facets.DateWidget.Last3mo","Last 3 months");break;case"last6mo":t=D["default"].lookup("SC.Search.DateWidget.last6mo","Last 6 months");break;case"last12mo":t=D["default"].lookup("SC.Search.DateWidget.last12mo","Last 12 months");break;case"last3yr":t=D["default"].lookup("SC.Search.DateWidget.last3yr","Last 3 years")}if(e.data[0][0]&&"custom"===e.data[0][0]){if("0"===e.data[0][1].toString()){const n=u(e.data[0][2].toString(),1);t=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormattedDateBefore",{date:n},"Before "+n)}if("0"===e.data[0][2].toString()){const n=u(e.data[0][1].toString(),-1);t=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormattedDateAfter",{date:n},"After "+n)}if(e.data[0][1].toString()===e.data[0][2].toString()){const n=u(e.data[0][1].toString());t=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormattedDateSpecific",{date:n},"On "+n)}if("0"!==e.data[0][1].toString()&&"0"!==e.data[0][2].toString()&&e.data[0][1].toString()!==e.data[0][2].toString()){const n=u(e.data[0][1].toString()),i=u(e.data[0][2].toString());t=D["default"].format("SC.Search.Facets.TrDiscover.DateFacet.FormatDates",{startDate:n,endDate:i},n+" - "+i)}}return t},l=function(e){var t=o();if(t){var n=s(t),i="";i+='<li id="co_facetDate">';i+='<input id="co_facetItem_dateDate" type="checkbox" data-parent-id="trd_date" data-attribute-id="trd_date" data-apply-to-front="true" class="{class}"  checked />';e&&e.count&&(i+=`<span class="co_facetCount">${(0,ni.formatNumberWithCommas)(e.count)}</span>`);i+=`<label for "co_facetItem_dateDate">${n}</label>`;i+="</li>";document.getElementById("co_facetItem_dateDate")?.addEventListener("click",(function(){if(this.checked){vc.currentFacetRenderer.putToActiveList("trd_date",t,!0,"dateSelect");document.getElementById("co_multifacet_selector_1_applyFacetFilter")?.classList.add("co_disabled")}else{vc.currentFacetRenderer.removeFromActiveList("trd_date",void 0,!0);document.getElementById("co_multifacet_selector_1_applyFacetFilter")?.classList.remove("co_disabled")}}));return i}return""};this.facetHandleHeaderClicked=function(){h();const e=document.getElementById("co_dateFacet_container");e&&(e.style.display="block");const t=document.getElementById("co_dateFacet_calendarHeader");t&&(t.style.width="168px");document.getElementById("co_facet_selectLink_trd_date")?.classList.add("co_disabled")};const h=()=>{if(vc.currentFacetRenderer){var e=vc.currentFacetRenderer.aboutToShowFacet();e&&vc.currentFacetRenderer.registerModalFacet("trd_date",t);return e}return!0};this.closeIfReady=function(){const e=document.getElementById("co_dateFacet_container");e&&"block"===getComputedStyle(e).display&&(e.style.display="none");document.getElementById("co_facet_selectLink_trd_date")?.classList.remove("co_disabled");return!0};this.createSelectLink=function(e,i){const a={id:e,text:D["default"].lookup("SC.Search.Facets.Generic.Select","Select"),title:D["default"].lookup("SC.Search.Facets.SelectTitle."+n,"Select "+i),displayName:i};var o="#co_facet_selectLink_"+a.id;document.body.removeEventListener("click",d[o]);const r=function(e){const n=e.target.closest(o);n&&t.facetHandleHeaderClicked(n)};document.body.addEventListener("click",r);d[o]=r;return(0,ni.substitute)('<a id="co_facet_selectLink_{id}" href="javascript:void(0);" class="co_facet_selectLink" title="{title}">{text} <span class="co_accessibilityLabel"> {displayName}</span></a>',a)}}}rd.prototype=Object.create(ad.prototype);rd.prototype.constructor=rd;const sd=rd;function ld(e){sd.call(this,e,!0);this.processBeforeDate=function(e){return e};this.processAfterDate=function(e){return e};this.getInfinity=function(){return""};this.activate=function(e){vc.currentFacetRenderer.putToKMActiveList(e.id,e.data,e.selector);var t="";t="custom"==e.data[0]?e.data[1]+"|"+e.data[2]:e.data[0];vc.currentFacetRenderer.fireApplyKm(!0,t)}}ld.prototype=Object.create(sd.prototype);ld.prototype.constructor=ld;const cd=ld,dd={headerText:D["default"].lookup("SC.Search.DateWidget.HeaderText","Filter search results by date"),closeButtonText:D["default"].lookup("SC.Search.DateWidget.CloseButtonText","Close Date"),goButtonText:D["default"].lookup("SC.Search.DateWidget.Go","Go"),continueButtonText:D["default"].lookup("SC.Search.DateWidget.Continue","Continue"),submitButtonText:D["default"].lookup("SC.Search.DateWidget.Submit","Submit"),cancelButtonText:D["default"].lookup("SC.Search.DateWidget.Cancel","Cancel"),placeholderText:D["default"].lookup("SC.Search.DateWidget.DateFieldPlaceHolderText","mm/dd/yyyy"),triggerAriaLabel:D["default"].lookup("SC.Search.Results.SortType.DateDialogButtonAriaLabel","Filter by Filing Date"),inputInstruction:D["default"].lookup("SC.Search.DateWidget.KeyboardInstructionsText","Press Tab to enter the date"),dateHiddenLabel:D["default"].lookup("SC.Search.DateWidget.DateHiddenLabelText","Date:"),dateLabel:D["default"].lookup("SC.Search.DateWidget.DateLabel","Date"),changeDateButtonText:D["default"].lookup("SC.Search.DateWidget.ChangeDateButtonText","Change date"),last3mo:D["default"].lookup("SC.Search.AdvanceSearch.Last3moDateType","Last 3 months"),last6mo:D["default"].lookup("SC.Search.DateWidget.last6mo","Last 6 months"),last12mo:D["default"].lookup("SC.Search.DateWidget.last12mo","Last 12 months"),last1yr:D["default"].lookup("SC.Search.AdvanceSearch.Last1yrDateType","Last 1 year"),last3yr:D["default"].lookup("SC.Search.DateWidget.last3yr","Last 3 years"),last10yr:D["default"].lookup("SC.Search.AdvanceSearch.Last10yrDateType","Last 10 years"),all:D["default"].lookup("SC.Search.DateWidget.AllLabel","All"),today:D["default"].lookup("SC.Search.AdvanceSearch.Today","Today"),last7days:D["default"].lookup("SC.Search.AdvanceSearch.Last7daysDateType","Last 7 days"),last28days:D["default"].lookup("SC.Search.AdvanceSearch.Last28daysDateType","Last 28 days"),last30days:D["default"].lookup("SC.Search.AdvanceSearch.Last30daysDateType","Last 30 days"),last60days:D["default"].lookup("SC.Search.AdvanceSearch.Last60daysDateType","Last 60 days"),last90days:D["default"].lookup("SC.Search.AdvanceSearch.Last90daysDateType","Last 90 days"),mostRecent1yrs:D["default"].lookup("SC.Search.AdvanceSearch.MostRecent1yrsDateType","Year to date"),mostRecent2yrs:D["default"].lookup("SC.Search.AdvanceSearch.MostRecent2yrsDateType","This year and last year"),mostRecent3yrs:D["default"].lookup("SC.Search.AdvanceSearch.MostRecent3yrsDateType","Most recent 3 years"),mostRecent10yrs:D["default"].lookup("SC.Search.AdvanceSearch.MostRecent10yrsDateType","Most recent 10 years"),customInputTitle:D["default"].lookup("SC.Search.DateWidget.CustomInputTitle","Please fill in this field"),beforeLabelText:D["default"].lookup("SC.Search.DateWidget.AllBeforeDates","All Dates Before"),afterLabelText:D["default"].lookup("SC.Search.DateWidget.AllAfterDates","All Dates After"),onLabelText:D["default"].lookup("SC.Search.DateWidget.DateLabel","Date"),fromUntilLabelText:D["default"].lookup("SC.Search.DateWidget.DateRange","Date Range"),fromLabelText:D["default"].lookup("SC.Search.DateWidget.FromLabel","From:"),untilLabelText:D["default"].lookup("SC.Search.DateWidget.UntilLabel","Until:"),specificDateLabel:D["default"].lookup("SC.Search.DateWidget.SpecificDate","Specific Date"),onDateLabel:D["default"].lookup("SC.Search.DateWidget.OnLabel","On"),formattedDateBefore:e=>D["default"].format("SC.Search.DateWidget.BeforeDate",{date:e},`Before ${e}`),formattedDateAfter:e=>D["default"].format("SC.Search.DateWidget.AfterDate",{date:e},`After ${e}`),formattedDateOn:e=>D["default"].format("SC.Search.DateWidget.OnDate",{date:e},`On ${e}`),formattedDateRange:(e,t)=>D["default"].format("SC.Search.DateWidget.dateRange",{startDate:e,endDate:t},`${e} - ${t}`),dateFilteringText:e=>D["default"].format("SC.Search.DateWidget.MoreDateOptions",{label:e},`More Date Filtering Options for ${e}`),dateRangeError:D["default"].lookup("SC.Search.DateWidget.BadUntilDate","To date must be greater than From date"),badDateError:e=>D["default"].format("SC.Search.DateWidget.BadDateError",{badDate:e},`${e} is not a valid date`),
badDateFormatError:D["default"].lookup("SC.Search.DateWidget.BadDateFormatError","Enter a date in format MM/DD/YYYY"),blankDateError:D["default"].lookup("SC.Search.DateWidget.BlankDateError.DateContinue",'Please enter date before clicking "Continue"'),blankUntilDateError:D["default"].lookup("SC.Search.DateWidget.BlankDateError.BothDatesContinue",'Please enter both dates before clicking "Continue"'),rangeError:D["default"].lookup("SC.Search.DateWidget.BadUntilDate","To date must be greater than From date"),formattedDateFallback:D["default"].lookup("SC.Search.DateWidget.defaultLabel","Custom range")},ud="today",hd="last7days",fd="last28days",pd="last30days",md="last60days",gd="last90days",vd="last3mo",yd="last6mo",bd="last12mo",Cd="last1yr",Sd="last3yr",_d="last10yr",Dd="mostRecent1yrs",Td="mostRecent2yrs",Id="mostRecent3yrs",xd="mostRecent10yrs",kd="before",wd="after",Ed="on",Ad="fromUntil",Ld=[{label:dd.beforeLabelText,id:"before",isCustom:!0,legend:dd.beforeLabelText},{label:dd.afterLabelText,id:"after",isCustom:!0,legend:dd.afterLabelText},{label:dd.specificDateLabel,id:"on",isCustom:!0,legend:dd.specificDateLabel},{label:dd.fromUntilLabelText,id:"fromUntil",isCustom:!0,isFromUntil:!0,legend:dd.fromUntilLabelText}],Nd=[D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.1","MM/DD/YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.2","M/D/YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.3","M-D-YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.4","MM-D-YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.5","MM.DD.YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.6","MM.D.YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.7","M.D.YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.8","DD MMM YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.9","DD MMM"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.10","D MMM YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.11","D MMM"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.12","DD MMMM YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.13","DD MMMM"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.14","D MMMM YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.15","D MMMM"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.16","MMM DD YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.17","MMM DD"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.18","MMM D YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.19","MMM D"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.20","MMMM DD YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.21","MMMM DD"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.22","MMMM D YYYY"),D["default"].lookup("SC.Config.Date.DateWidget.DateFormat.23","MMMM D"),D["default"].lookup("SC.Config.Date.DefaultDateWidgetFormat","MM-DD-YYYY")],Rd=D["default"].lookup("SC.Config.Date.DefaultDateWidgetFormat","MM-DD-YYYY"),Pd=D["default"].lookup("SC.Config.Date.DateWidget.DataDateFormat","MM-dd-yyyy"),Od=D["default"].lookup("SC.Config.Date.DateWidget.ServerDateFormat","MM-DD-YYYY"),Bd=e=>ed()(e.trim(),Nd,!0).isValid(),Md=e=>{const t=ed()(e.trim(),Nd),n=t.isValid()?t.toDate():null,i=n?.toFormattedString(Pd);return i},Fd=e=>ed()(e.trim(),Od).format(Rd),Wd=(e,t)=>{const n=Bd(e),i=Bd(t);if(!e||!t)return{isValid:!1,errorMessage:dd.blankUntilDateError};if(!n)return{isValid:!1,errorMessage:dd.badDateFormatError};if(!i)return{isValid:!1,errorMessage:dd.badDateFormatError};if(!((e,t)=>{const n=ed()(e.trim(),Nd,!0);return ed()(t.trim(),Nd,!0).isAfter(n)})(e,t))return{isValid:!1,errorMessage:dd.rangeError};return{isValid:!0,errorMessage:""}},Hd=(e,t,n)=>{let i="All";switch(e){case ud:i=dd.today;break;case hd:i=dd.last7days;break;case fd:i=dd.last28days;break;case pd:i=dd.last30days;break;case md:i=dd.last60days;break;case gd:i=dd.last90days;break;case vd:i=dd.last3mo;break;case yd:i=dd.last6mo;break;case bd:i=dd.last12mo;break;case Cd:i=dd.last1yr;break;case Sd:i=dd.last3yr;break;case _d:i=dd.last10yr;break;case Dd:i=dd.mostRecent1yrs;break;case Td:i=dd.mostRecent2yrs;break;case Id:i=dd.mostRecent3yrs;break;case xd:i=dd.mostRecent10yrs;break;case kd:i=dd.formattedDateBefore(t);break;case wd:i=dd.formattedDateAfter(t);break;case Ed:i=dd.formattedDateOn(t);break;case Ad:i=dd.formattedDateRange(t,n);break;default:i=dd.all}return i},Gd=(e,t)=>{const{id:n,label:i,count:a}=e,o=(0,rt.uniqueId)(`radio_${n}`);return(0,rt.template)('<li>\t\n    <input type="radio" \n            name="<%- groupName %>" \n            id="<%- radioId %>" \n            value="<%-value %>"\n            tabindex="-1"\n        >        \n    <label \n            for="<%- radioId %>">\n            <%- label %>\n    </label>\n    <label for="<%- radioId %>" class="co_count_<%-value %>"><%-count%></label>\n</li>')({value:n,count:null!=a?`(${a})`:"",label:i,radioId:o,groupName:t})},Ud=(e,t,n)=>{const{id:i,label:a}=e,o=(0,rt.uniqueId)(`radio_customRange_${i}`);return(0,rt.template)('<li>\n    <input type="radio" \n        name="<%- groupName %>" \n        id="<%- radioId %>" \n        class="a11yDateWidget-custom"\n        value="<%-value %>" \n        tabindex="-1" \n        aria-describedby="<%- radioId %>_info" />\n    <label for="<%- radioId %>">\n        <%-label%>\n    </label>\n    <span id="<%-radioId %>_info" class="co_accessibilityLabel">\n        <%-titles.inputInstruction%>\n    </span>\n    <div class="co_dateWidget_input">\n        <%=customInput%>\n    </div>\n    <span id="asterisk_<%- value %>" class="co_input-required-asterisk" aria-hidden="true"></span>\n</li>\n')({label:a,radioId:o,value:i,groupName:t,titles:dd,customInput:n})},jd=e=>{const{id:t,isFromUntil:n,legend:i}=e,a={value:t,inputId:(0,rt.uniqueId)(`co_dateWidget_input_${t}`),legend:i||"",titles:dd};let o="";o=n?(0,rt.template)('<fieldset class="co_inputContainer_fromUntil" disabled>\n    <legend class="co_accessibilityLabel"><%-legend%></legend>\n    <div class="co_facet_sad_dateSelect">\n        <label for="<%- inputId %>">\n            <span class="co_dateRange"><%-titles.fromLabelText%></span>\n        </label>\n        <input\n            type="text"\n            title="<%- titles.customInputTitle %>"\n            id="<%- inputId %>"\n            class="co_input_fromUntil"\n            autocorrect="off"\n            autocapitalize="off"\n            required\n            placeholder="<%-titles.placeholderText%>"\n        />\n        <div class="co_dateWidget_input_error_fromUntil"></div>\n        <span id="asterisk_from" class="co_input-required-asterisk-fromUntil" aria-hidden="true"></span>\n    </div>\n    <div class="co_facet_sad_dateSelect">\n        <label for="<%- inputId %>_until">\n            <span class="co_dateRange"><%-titles.untilLabelText%></span>\n        </label>\n        <input\n            type="text"\n            title="<%- titles.customInputTitle %>"\n            id="<%- inputId %>_until"\n            class="co_input_fromUntil_until"\n            autocorrect="off"\n            autocapitalize="off"\n            required\n            placeholder="<%-titles.placeholderText%>"\n        />\n        <span id="asterisk_until" class="co_input-required-asterisk-fromUntil" aria-hidden="true"></span>\n    </div>\n    <div class="co_dateWidget_input_error_fromUntil_until"></div>\n</fieldset>')(a):(0,rt.template)('<fieldset class="co_inputContainer_<%-value%>" disabled>\n    <legend class="co_accessibilityLabel"><%-legend%></legend>\n    <div class="co_facet_sad_dateSelect">\n        <input\n            type="text"\n            title="<%- titles.customInputTitle %>"\n            id="<%- inputId %>"\n            class="co_input_<%-value%>"\n            autocorrect="off"\n            autocapitalize="off"\n            required\n            placeholder="<%-titles.placeholderText%>"\n            aria-label="<%-titles.dateHiddenLabel%>"\n        />\n    </div>\n    <div class="co_dateWidget_input_error_<%- value %>"></div>\n</fieldset>')(a);return o},$d=(e,t)=>{
new oa["default"](t,$["default"].None,j["default"].Right,{hasPointer:!0}).Draw(e)};class Vd{constructor(e){this.opts=e;this.opts.containerId=e.containerId||(0,rt.uniqueId)("co_dateWidget_container_");this.opts.customItems=Ld;this.wasExpandedBefore=!1;this.lightboxId=e.lightboxId||"coid_lightboxDateWidget";this.lightbox=new fe["default"];this.ALL="all";this.CUSTOM="custom";this.FROM_UNTIL="fromUntil";this.ON="on";this.BEFORE="before";this.AFTER="after";this._isInitialized=!1}createHtml(){this.opts.inputLabel=this.opts.buttonLabel??dd.dateLabel;const e=this._getCurrentRangeTitle(),t=((e,t)=>{const{containerId:n,inputLabel:i,buttonId:a}=e;return(0,rt.template)('<div id="<%-containerId%>" class="a11yDateWidget">\n    <button type="button" id="<%-buttonId%>" title="<%-buttonTitle%>" class="a11yDateWidget-button co_defaultBtn" aria-haspopup="dialog">\n        <%-buttonLabel%>\n    </button>\n    <div class="a11yDateWidget-value">\n        <span class="co_accessibilityLabel"><%-inputLabel%></span>\n        <span class="co_currentRangeTitle"><%-currentRangeTitle%></span>\n    </div>\n</div>\n')({containerId:n,currentRangeTitle:t,buttonLabel:dd.changeDateButtonText,buttonTitle:`${i} ${dd.changeDateButtonText}`,buttonId:a,inputLabel:i})})(this.opts,e);return t}closeIfReady(){this.close();return!0}setMultiSelectEnabled(e){this._multiSelectEnabled=e;this.collapseOnDone=e}initialize(){this._customizeLightbox();const e=x()(this.lightbox.GetContentDomElement()),t=x()(this.lightbox.GetFooterDomElement());this.containerElement=x()("#"+this.opts.containerId);this.lightboxTrigger=this.containerElement.find(".a11yDateWidget-button");this.displayValue=document.querySelector(`#${this.opts.containerId} .co_currentRangeTitle`);this.listsContainer=e.find(".a11yDateWidget-container");this.fixedRadioList=e.find(".a11yDateWidget-options");this.submitButton=t.find(".a11yDateWidget-submit");this.cancelButton=t.find(".a11yDateWidget-cancel");this.inputContainer=this.listsContainer.find(".co_dateWidget_input");this.radios=this.listsContainer.find('input[type="radio"]');this.inputs=this.listsContainer.find('input[type="text"]');this._addEventListeners();this._addIeFix();this._isInitialized=!0;this.opts.initializeCallback&&this.opts.initializeCallback()}open(){this.lightbox.Draw(!0,!0);this.setSelectedRadioElement();this.clearInputs();this.opts.expandedCallback&&this.opts.expandedCallback()}close(){this.lightbox.Remove();this.lightboxTrigger.focus()}finalize(){this.containerElement||this.initialize()}hasBeenExpandedBefore(){return this.wasExpandedBefore}setHasBeenExpandedBefore(e){this.wasExpandedBefore=e}refreshCounts(e){e.forEach((e=>{this.listsContainer.find(`.co_count_${e.id}`).text(`(${e.count})`)}))}refresh(){this._updateButtonText()}populateDateFields(e){if(null==e||(0,ni.isBlank)(e.type))this.selectedRangeTypeId=this.ALL;else{this.selectedRangeTypeId=e.type;this.selectedCustomRangeSubTypeId=e.subType;(0,ni.isBlank)(e.date)||(this.selectedCustomRangeDate=Fd(e.date));(0,ni.isBlank)(e.until)||(this.selectedCustomRangeDateUntil=Fd(e.until))}}clearInputs(){document.querySelector(".a11yDateWidget-rightColumn").querySelector(".a11yDateWidget-options").querySelectorAll("li").forEach((e=>{const t=e.querySelector('input[type="radio"]');if(!t?.checked){const t=e.querySelectorAll('input[type="text"]');t?.forEach((e=>{e.value=""}))}}))}setSelectedRadioElement(){let e;if(this.selectedCustomRangeDate){e=this.listsContainer.find(`input[value="${this.selectedCustomRangeSubTypeId}"]`);const t=`.co_input_${this.selectedCustomRangeSubTypeId}`,n=this._getInputLi(this.selectedCustomRangeSubTypeId);n.find(t).attr("value",this.selectedCustomRangeDate);if(this.selectedCustomRangeDateUntil){const e=`.co_input_${this.selectedCustomRangeSubTypeId}_until`;n.find(e).attr("value",this.selectedCustomRangeDateUntil)}}else e=this.listsContainer.find("input").first();e.attr("checked","true");e.attr("tabindex","0");e.focus()}getDateFieldObject(){if(this._isAllRangeSelected())return null;const e={dateFormat:this.getDateFormat(),type:this.selectedRangeTypeId,subType:this.selectedCustomRangeSubTypeId||""};this.selectedCustomRangeDate&&(e.date=this.selectedCustomRangeDate);this.selectedCustomRangeDateUntil&&(e.until=this.selectedCustomRangeDateUntil);return e}getDateFormat(){return Pd}isInitialized(){return this._isInitialized}_addEventListeners(){this.listsContainer.keydown(this._closeOnEscape.bind(this));this.submitButton.click(this._submitDate.bind(this));this.cancelButton.click(this.close.bind(this));this.fixedRadioList.focusin(this._togglePlainRange.bind(this));this.listsContainer.focusin(this._clearRadios.bind(this));this._addFieldsetFixes()}_customizeLightbox(){this.lightbox.SetTitle(dd.headerText);this.lightbox.SetId(this.lightboxId);this.lightbox.SetCloseLinkObject({id:"co_deliveryFolderExport_closeLink",alt:dd.closeButtonText,onclick:()=>this.close()});const e=this.opts.fixedRangeTypeList;if(e)for(let t=0;t<e.length;t++){const n=e[t]?.id;let i="";const a=e.find((e=>e.id==n));if((0,d.IsNotNullOrEmpty)(a?.count)){i=a.count;i=(0,ni.formatNumberWithCommas)(i);this.opts.items.find((e=>e.id===a.label)).count=i}}const t=(e=>{const{items:t,customItems:n,containerId:i}=e,a=e.groupName||(0,rt.uniqueId)("radioGroup");let o="",r="";t.forEach((e=>{const t=Gd(e,a);o+=t}));n.forEach((e=>{const t=jd(e),n=Ud(e,a,t);r+=n}));return(0,rt.template)('<div class="a11yDateWidget-container">\n    <ul class="a11yDateWidget-options">\n        <li class="a11yDateWidget-leftColumn">\n            <ul class="a11yDateWidget-options">\n                <%=plainList%>\n            </ul>\n        </li>\n        <li class="a11yDateWidget-rightColumn">\n            <ul class="a11yDateWidget-options">\n                <%=customList%>\n            </ul>\n        </li>\n    </ul>\n</div>')({plainList:o,customList:r,containerId:i})})(this.opts),n=(0,rt.template)('<ul>\n    <li>\n        <button type="button" class="co_primaryBtn a11yDateWidget-submit">\n            <%=titles.continueButtonText%>\n        </button>\n    </li>\n    <li>\n        <button type="button" class="a11yDateWidget-cancel">\n            <%=titles.cancelButtonText%>\n        </button>\n    </li>\n</div>')({titles:dd});x()(this.lightbox.GetContentDomElement()).html(t);x()(this.lightbox.GetFooterDomElement()).html(n)}_getInputValue(e){return this.listsContainer.find(`.co_input_${e}`).val()}_getErrorDiv(e){return this.listsContainer.find(`.co_dateWidget_input_error_${e}`)}_getInputLi(e){return this.listsContainer.find(`.co_inputContainer_${e}`)}_updateButtonText(){const e=this._getDisplayValue();this.displayValue||(this.displayValue=document.querySelector(`#${this.opts.containerId} .co_currentRangeTitle`));this.displayValue&&(this.displayValue.textContent=e)}_getDisplayValue(){let e,t,n;if(this.selectedRangeTypeId===this.CUSTOM){e=this.selectedCustomRangeSubTypeId;t=this.selectedCustomRangeDate;this.selectedCustomRangeSubTypeId===this.FROM_UNTIL&&(n=this.selectedCustomRangeDateUntil)}else e=this.focusedRadio?this.focusedRadio.value:this.ALL;return Hd(e,t,n)}_submitDate(){if(this.isCustom){const e=this._getInputValue(this.selectedCustomRangeSubTypeId);if(!this._validate(e))return;this._processCustomDate(e)}this._updateButtonText();this.close();this.opts.completionCallback(this.opts.containerId,this)}_processCustomDate(e){const t=Md(e),n={isCustom:this.isCustom,rangeId:this.selectedRangeTypeId};switch(this.selectedCustomRangeSubTypeId){case"before":case"after":this.selectedCustomRangeDate=t;break;case"on":this.selectedCustomRangeDate=t;this.selectedCustomRangeDateUntil=t;break;case"fromUntil":{const e=this._getInputValue("fromUntil_until"),n=Md(e);this.selectedCustomRangeDate=t;this.selectedCustomRangeDateUntil=n;break}}return n}_togglePlainRange(e){if(Array.from(this.inputContainer).some((t=>t.contains(e.target))))return;const t=e.target?.classList.contains("a11yDateWidget-custom");if(t){this.isCustom=!0;this.selectedRangeTypeId="custom";this.selectedCustomRangeSubTypeId=e.target.value}else{this.isCustom=!1;this.selectedRangeTypeId=e.target.value;this.selectedCustomRangeSubTypeId="";this.selectedCustomRangeDate=null}this.focusedRadio=e.target
;this._disableAllCustomInputs(e.target)}_disableAllCustomInputs(e){this.opts.customItems.forEach((t=>{const n=this._getInputLi(t.id),i="radio"===e?.type&&t.id===this.selectedCustomRangeSubTypeId,a=this.listsContainer[0].querySelector(`#asterisk_${t.id}`),o=this.listsContainer[0].querySelector("#asterisk_from"),r=this.listsContainer[0].querySelector("#asterisk_until");if(t.id===this.FROM_UNTIL){o.textContent=i?"*":"";r.textContent=i?"*":""}else a.textContent=i?"*":"";i?n[0]?.removeAttribute("disabled"):n[0]?.setAttribute("disabled","disabled")}))}_validate(e){let t="";const n=this._getErrorDiv(this.selectedCustomRangeSubTypeId),i=!e,a=!Bd(e)||e.length<5;if("fromUntil"===this.selectedCustomRangeSubTypeId)return this._validateFromUntil(e);if(i){$d(dd.blankDateError,n);return!1}if(a){t=dd.badDateFormatError;$d(t,n);return!1}return!0}_validateFromUntil(e){const t=this._getInputValue("fromUntil_until"),{errorMessage:n,isValid:i}=Wd(e,t);if(n){const e=this._getErrorDiv("fromUntil_until");$d(n,e)}return i}_getCurrentRangeTitle(){const{selectedBeginDate:e,selectedEndDate:t,selectedRangeId:n}=this.opts.currentDateRangeInfo,i=n||"all";let a=dd[i];this.selectedRangeTypeId=i;if("custom"===i){const n=((e,t)=>{let n,i,a;if("0"===e){n=kd;i=Fd(t);a=dd.formattedDateBefore(i)}else if("0"===t){n=wd;i=Fd(e);a=dd.formattedDateAfter(i)}else if(e===t){n=Ed;i=Fd(e);a=dd.formattedDateOn(i)}else{n=Ad;i=Fd(e);const o=Fd(t);a=dd.formattedDateRange(i,o)}return{title:a,currentRange:n}})(e,t);a=n.title;this.selectedCustomRangeSubTypeId=n.currentRange}"on"!==i&&"before"!==i&&"fromUntil"!==i&&"after"!==i||(a=Hd(n,e,t));return a}_clearRadios(e){const{target:t}=e;if("radio"===t.type){this.radios.each(((e,n)=>{n!==t&&(n.tabIndex=-1)}));t.tabIndex=0;t.checked=!0}}_closeOnEscape(e){e.keyCode===mn["default"].ESCAPE&&this.close()}_addIeFix(){const e=this.radios.length;this.radios.each(((t,n)=>{n.setAttribute("aria-setsize",e);n.setAttribute("aria-posinset",t+1)}))}_addFieldsetFixes(){const e=e=>e===mn["default"].ENTER||e===mn["default"].SPACE,t=t=>{e(t.keyCode)&&t.preventDefault()},n=t=>{if(e(t.keyCode)){t.preventDefault();this._submitDate()}};this.lightboxTrigger.click((e=>{"click"===e.type&&this.open()}));this.lightboxTrigger.keydown(t);this.lightboxTrigger.keydown((t=>{if(e(t.keyCode)){t.preventDefault();this.open()}}));this.cancelButton.keydown(t);this.inputs.keydown(t);this.submitButton.keydown(t);this.radios.keydown(t);this.cancelButton.keyup((t=>{if(e(t.keyCode)){t.preventDefault();this.close()}}));this.inputs.keyup(n);this.submitButton.keyup(n);this.radios.keydown(n)}_isAllRangeSelected(){return(0,ni.isBlank)(this.selectedRangeTypeId)||this.selectedRangeTypeId==this.ALL}}function qd(e){Dc.call(this,e);this.getFacetHtml=()=>{const e=!Xn["default"].SearchResult.isKmContentType()&&!this.getData().selectedRangeId;return this.getModalWidget().createHtml(e)};this.getDateRanges=()=>nd[Xn["default"].SearchResult.getContentType()]||nd[e.displayOptions.id]||nd.DEFAULT_RANGE;this.createModalWidget=()=>{const t=this.getData(),n=this.isMultiSelectEnabled(),i=t.selectedRangeId,a={containerId:e.displayOptions.id,items:this.getFixedRangesItems(t),currentDateRangeInfo:t,completionCallback:(e,t)=>this.handleDateSelection(e,t),expandedCallback:this.handleDateWidgetExpanded.bind(this)},o=new Vd(a);o.setMultiSelectEnabled(n);this.dateRenderer=o;this.checkIfSelectedRangeIsBlank(i,t);return o};this.checkIfSelectedRangeIsBlank=(t,n)=>{if(!(0,ni.isBlank)(t)){var i=[t];if("custom"===t){i.push(n.selectedBeginDate);i.push(n.selectedEndDate)}vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,i,!1,e.displayOptions.selector)}};this.getFixedRangesItems=e=>{const t=[];this.getDateRanges().forEach((n=>{n.count=e.counts[n.id];t.push(n)}));return t};this.handleDateWidgetExpanded=()=>{if(!this.dateRenderer.hasBeenExpandedBefore()){this.dateRenderer.setHasBeenExpandedBefore(!0);Kc().retrieveDateFacet((e=>{const t=[];Object.entries(e.data.counts).forEach((([e,n])=>{t.push({id:e,count:n})}));this.dateRenderer.refreshCounts(t)}),e.displayOptions.id)}};this.handleDateSelection=(e,t)=>{this.isMultiSelectEnabled()||vc.currentFacetRenderer.removeFromActiveList(e);const{selectedRangeTypeId:n}=t,i={id:e,selector:this.getSelector(),data:[n]};if("all"===n){this.isMultiSelectEnabled()||(i.data=[]);vc.currentFacetRenderer.apply(!1,i.id,i.data,!0,!1,i.selector)}else{"custom"===n&&(i.data=this.processCustomRange(t));this.activate(i,!0)}};this.processCustomRange=e=>{let{selectedCustomRangeSubTypeId:t,selectedCustomRangeDate:n,selectedCustomRangeDateUntil:i}=e;n=zd(n);const a=this.getInfinity(),o=["custom"];if("fromUntil"===t){i=zd(i);o.push(n,i)}else if("on"===t)o.push(n,n);else if("before"===t)o.push(a,n);else{if("after"!==t)throw new Error(`Invalid custom date range subtype "${t}"`);o.push(n,a)}return o};this.getSelector=()=>"date";this.activate=(e,t)=>{if(this.isMultiSelectEnabled())vc.currentFacetRenderer.apply(t,e.id,e.data,!0,!1,e.selector);else{vc.currentFacetRenderer.putToActiveList(e.id,e.data,!1,e.selector);vc.currentFacetRenderer.fireApply(t)}};this.getInfinity=()=>"0";this.initialize=e=>{this.getModalWidget().initialize();e()};this.isCountRefreshRequired=()=>!0;this.handleSelectClicked=()=>{this.handleDateWidgetExpanded()}}function zd(e){const t=D["default"].lookup("SC.Config.Date.DefaultDateWidgetFormat","MM-DD-YYYY"),n=D["default"].lookup("SC.Config.Date.ServerDateFormat","MM-DD-YYYY");return ed()(e.trim(),t).format(n)}qd.prototype=Object.create(Dc.prototype);qd.prototype.constructor=qd;const Kd=qd;const Yd={DEFAULT_RANGE:[{id:"all",label:D["default"].lookup("SC.Search.Facets.YearWidget.All","All")}]};function Qd(e){Sc.call(this,e);var t=this,n=`co_dateWidgetCustomRangeText_${e}_{customRangeSubTypeId}`,i=`co_dateWidgetCustomRangeError_${e}_{customRangeSubTypeId}`,a=`co_dateWidgetCustomRangeUntilText_${e}_{customRangeSubTypeId}`,o=`co_dateWidgetCustomRangeUntilError_${e}_{customRangeSubTypeId}`;function r(e,n,i,a){var o=i==t.FROM_UNTIL?"both years":"year",r=i==t.FROM_UNTIL?"BothYears":"Year";s((0,ni.isBlank)(n)?D["default"].lookup("SC.Search.Facets.YearWidget.BlankYearError."+r+t.doneButtonTextKey,`Please enter ${o} before clicking "${t.doneButtonText}"`):D["default"].format("SC.Search.Facets.YearWidget.BadYearError",{badDate:n},`'${n}' is not a valid year`),e,a)}function s(e,n,i){var a=d(i,t.selectedCustomRangeSubTypeId);(0,ni.showErrorMessage)(e,a,"right",n,!0)}function l(e,t){if((0,ni.isBlank)(e))return null;return Date.parseLenient(e,t)}function c(e){return null==e?null:e.toFormattedString("yyyy")}function d(e,t){var n=(0,ni.substitute)(e,{customRangeSubTypeId:t});return document.getElementById(n)}function u(e,n){var a=d(e,t.selectedCustomRangeSubTypeId),o=a.value;if(4!==o.length){r(a,o,t.selectedCustomRangeSubTypeId,i);return null}var s,c=l(o);if(null==c){r(a,o,t.selectedCustomRangeSubTypeId,i);return null}if(s=o,parseInt(s)+""==s&&s>"1000"&&s<="2200")return c;r(a,o,t.selectedCustomRangeSubTypeId,n);return null}this.getDateFormat=function(){return"yyyy"};this.getDatesLabel=function(){return"Years"};this.getDatesLabelKey=function(){return"Years"};this.getDateRangeLabel=function(){return D["default"].lookup("SC.Search.Facets.YearWidget.YearRange","Year Range")};this.getSpecificDateLabel=function(){return D["default"].lookup("SC.Search.Facets.YearWidget.SpecificYear","Specific Year")};this.getOnLabel=function(){return D["default"].lookup("SC.Search.Facets.YearWidget.OnLabel","In")};this.validate=function(){if(t.CUSTOM==t.selectedRangeTypeId){var e=u(n,i);if(null==e)return!1;if(t.selectedCustomRangeSubTypeId==t.FROM_UNTIL){var r=u(a,o);if(null==r)return!1;if(0==e.compareTo(r)){d(n,t.ON).value=d(n,t.FROM_UNTIL).value;t.selectedCustomRangeSubTypeId=t.ON}else if(e.compareTo(r)>0){s(D["default"].lookup("SC.Search.Facets.YearWidget.BadUntilDate","Until year must be greater than From year"),d(a,t.selectedCustomRangeSubTypeId),o);return!1}}(function(){t.selectedRangeTypeId=t.CUSTOM;var e=d(n,t.selectedCustomRangeSubTypeId).value,i=t.selectedCustomRangeSubTypeId==t.AFTER?l(e,!0):l(e);t.selectedCustomRangeDate=c(i);if(t.selectedCustomRangeSubTypeId==t.FROM_UNTIL){
var o=l(d(a,t.selectedCustomRangeSubTypeId).value,!0);t.selectedCustomRangeDateUntil=c(o)}else t.selectedCustomRangeDateUntil=""})()}return!0}}Qd.prototype=Object.create(Sc.prototype);Qd.prototype.constructor=Qd;const Xd=Qd;function Jd(e){sd.call(this,e);var t=this;this.processBeforeDate=function(e){return n(e,-1)};this.processAfterDate=function(e){return n(e,1)};function n(e,t){var n=Date.parseLenient(e);return(n=n.addYears(t)).toFormattedString("yyyy")}function i(e,t){var n=Date.parseLenient(e);if(null==n)return"";t&&(n=n.addYears(t));return n.toFormattedString("yyyy")}this.getDateRanges=function(){return Yd.DEFAULT_RANGE};this.getSelector=function(){return"year"};this.createModalWidget=function(){var n=t.getData(),a=new Xd(e.displayOptions.id),o=n.selectedRangeId;a.fixedRangeTypeList=t.getDateRanges();for(var r in a.fixedRangeTypeList)a.fixedRangeTypeList[r].count=n.counts[a.fixedRangeTypeList[r].id];if(!(0,ni.isBlank)(o)){var s=[o];if(o==a.CUSTOM){s.push(n.selectedBeginDate);s.push(n.selectedEndDate)}vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,s,!1,e.displayOptions.selector)}a.customRangeLabel="Select a year or range >>";a.selectedRangeTypeId=(0,ni.isBlank)(o)?"all":o;if(o==a.CUSTOM)if("0"!=n.selectedBeginDate&&0!=n.selectedEndDate){a.selectedCustomRangeSubTypeId=n.selectedBeginDate==n.selectedEndDate?a.ON:a.FROM_UNTIL;a.selectedCustomRangeDate=i(n.selectedBeginDate);a.selectedCustomRangeSubTypeId==a.FROM_UNTIL&&(a.selectedCustomRangeDateUntil=i(n.selectedEndDate))}else{a.selectedCustomRangeSubTypeId=0==n.selectedBeginDate?a.BEFORE:a.AFTER;a.selectedCustomRangeDate=a.selectedCustomRangeSubTypeId==a.BEFORE?i(n.selectedEndDate,1):i(n.selectedBeginDate,-1)}a.setMultiSelectEnabled(t.isMultiSelectEnabled());return a}}Jd.prototype=Object.create(sd.prototype);Jd.prototype.constructor=Jd;const Zd=Jd,eu='\x3c!--\n @file Hierarchy child template\n--\x3e\n\n\n<div id="facet_hierarchy_children<%=uniqueId%>" class="co_clear"><ul id="facet_expandable_<%=uniqueId%>" class="<%=childListClass%>" rendered="<%=childrenRendered%>"><%=renderedChildren%></ul></div>\n';function tu(e,t,n){var i=e,a=t,o=n,r=this;this._expandAction="Expand";this._collapseAction="Collapse";this._expandCssClass="co_facet_expand";this._collapseCssClass="co_facet_collapse";this._hideStateCssClass="co_hideState";this._attributeTemplate='\x3c!--\n @file Hierarchy attribute template\n--\x3e\n\n<li>\n    <%=expandLink%>\n    <input type="checkbox" attributeid="<%=attributeId%>" id="facet_hierarchy_<%=uniqueId%>" <%=ariaLabel%> <%=checked%> >\n    <span class="co_facetCount"><%=count%></span>\n    <label for="facet_hierarchy_<%=uniqueId%>"><%=displayName%></label>\n    <%=children%>\n</li>';this._childTemplate=eu;this._expandLinkTemplate='\x3c!--\n @file Hierarchy expand link template\n--\x3e\n\n<a id="<%=uniqueId%>Link" href="javascript:void(0);" role="button" childlistid="facet_expandable_<%=uniqueId%>" class="co_facet_<%=actionId%>"><%=actionName%> <%=facetDisplayName%> - <%=displayName%></a>\n';this.buildLevel=function(e){var t,n,o,s="";for(var l in e){n=!!(t=e[l]).isExpanded;o="object"==typeof t.children&&t.children.length>0;var c=t.dataOptions;1==c.active&&vc.currentFacetRenderer.putToActiveList(i,t.dataOptions.id);var d="";if(void 0!==c.count){d=`aria-label='${D["default"].format("SC.Search.Results.Filters.Facets.AriaLabel",{resultName:t.name,resultsAmount:c.count},`${t.name}: ${c.count} results`)}'`}var u={ResultsInFilterLabel:D["default"].lookup("SC.Search.Indigo.Facets.Components.ResultsInFilter","Results in this filter:"),attributeId:c.id,uniqueId:i+c.id,displayName:t.name,facetDisplayName:a,count:void 0!==c.count?c.count:"",checked:c.active?"checked":"",actionId:n?"collapse":"expand",actionName:n?r._collapseAction:r._expandAction,childrenRendered:""+(o&&n),ariaLabel:d,isExpanded:n,hasChildren:o},h="";o&&(h+=st().template(r._expandLinkTemplate)(u));u.expandLink=h;var f="";if(o){"true"==u.childrenRendered?u.renderedChildren=r.buildLevel(t.children,!1):u.renderedChildren="";u.childListClass=n?"":r._hideStateCssClass;f+=st().template(r._childTemplate)(u)}u.children=f;s+=st().template(r._attributeTemplate)(u)}return s};this.performToggle=function(e,t){var n=e.classList.contains(r._expandCssClass);if(n){e.classList.remove(r._expandCssClass);e.classList.add(r._collapseCssClass);e.textContent=e.textContent.replace(r._expandAction,r._collapseAction)}else{e.classList.remove(r._collapseCssClass);e.classList.add(r._expandCssClass);e.textContent=e.textContent.replace(r._collapseAction,r._expandAction)}r.showHideSubTree(t,n)};this.showHideSubTree=function(e){e.classList.toggle(r._hideStateCssClass)};this.handleLinkClickEvent=function(e){var t=e.target;r.toggleChildren(t)};this.toggleChildren=function(e){var t=document.getElementById(e.getAttribute("childListId"));if("true"!==t?.getAttribute("rendered")){var n=s(e.id.replace(i,"").replace("Link",""));t.innerHTML=r.buildLevel(n.children);t.setAttribute("rendered","true")}if(Xn["default"].Device.isIPadEnabled()){(0,lt.slideToggle)(t,300,(function(){r.performToggle(e,t);_c["default"].refreshFacetDomElement()}))}else r.performToggle(e,t)};this.handleCheckboxClickEvent=function(e){r.toggle(e.target)};this.initialize=function(){document.getElementById(`facet_div_${i}`)?.addEventListener("click",(e=>{const t=e.target.closest("a[childListId]");if(e.currentTarget.contains(t)){r.handleLinkClickEvent(e);e.preventDefault();e.stopPropagation()}const n=e.target.closest("input[type=checkbox][attributeid]");e.currentTarget.contains(n)&&r.handleCheckboxClickEvent(e)}))};function s(e,t){var n;t=t||o;for(var i in t){var a=t[i];if(a.dataOptions.id==e){n=a;break}if("object"==typeof a.children&&a.children.length>0&&(a=s(e,a.children))){n=a;break}}return n}this.draw=function(){var e=r.buildLevel(o,!0),t=x()(e).find("ul").length>0;!t&&o&&(t=o.some((function(e){return e.dataOptions&&(e.dataOptions.count>0||e.dataOptions.active)})));var n="";t&&(n='class="co_facet_tree"');return`<ul ${n}>${e}</ul>`};this.toggle=function(e){var t=e.getAttribute("attributeid");e.checked?function(e){document.querySelectorAll("#facet_hierarchy_children"+i+e+" input:checked").forEach((function(e){vc.currentFacetRenderer.removeFromActiveList(i,e.getAttribute("attributeid"));e.checked=!1}));var t=document.getElementById(`facet_hierarchy_${i}${e}`);document.querySelectorAll("#facet_div_"+i+" input:checked").forEach((function(e){if(e!=t&&ti["default"].nodeContains(e.parentNode,t)){vc.currentFacetRenderer.removeFromActiveList(i,e.getAttribute("attributeid"));e.checked=!1}}));vc.currentFacetRenderer.apply(!0,i,e)}(t):function(e){vc.currentFacetRenderer.apply(!1,i,e)}(t)}}function nu(e){Dc.call(this,e);var t=this;t._renderer="";var n=t.getFacetId(),i=t.getDisplayName();this.customFacets=["topic","practiceAreaTask","MetaDataTopicFacet","MetaDataBrandFacet","trd_practicearea"];this.isFacetCustom=function(e,t){return e.indexOf(t)>-1};this.initialize=function(e){t._renderer.initialize();e()};this.getFacetHtml=function(){var e=t.getData();e&&e.available&&(e=e.available);if(this.isFacetCustom(this.customFacets,n)&&e.length>5)return function(e,n){var i=!1,o="",r=function(e){var n="",i=t.getDisplayNamePlural();n=null!=i&&""!==i?i:D["default"].lookup("SC.Search.Facets.PluralSelectTitle."+e,"Topics");return n}(n),s=n+"hierarcyclientanchor",l=4;for(var c in e)if(c<=4&&1==e[c].isExpanded)l=a(e[c])+l;else if(c>4&&(1==e[c].dataOptions.active||1==e[c].isExpanded)){i=!0;break}if(i)o=t.showData(e);else{o=t.showData(e);var d=x()(o).find("li:gt("+l+")").hide().end().append(x()(`<li id="${s}"><button class="co_linkBlue">${r}</button></li>`));document.addEventListener("click",(function(e){const t=e.target.closest("#"+s);if(t){const e=x()(t).siblings(":hidden");e.fadeIn(0);e.eq(0).find(":tabbable").focus();document.getElementById(s)?.remove()}}));o=`<ul class="co_facet_tree">${o=d.html()}</ul>`}return o}(e,n);return t.showData(e)};function a(e){var t=e.children;if(!t)return 0;var n=0;for(var i in t){var o=t[i];o.isExpanded&&(n+=a(o));n++}return n}this.showData=function(e){t._renderer=new tu(n,i,e);return t._renderer.draw()};this.getDisplayValue=function(){let e=t.getData()
;e&&e.available&&(e=e.available);return o(e).join(", ")};function o(e){const t=[];for(const n in e){const i=e[n];i.dataOptions.active&&t.push(i.name);Array.isArray(i.children)&&i.children.length>0&&i.isExpanded&&t.push(...o(i.children))}return t}}nu.prototype=Object.create(Dc.prototype);nu.prototype.constructor=nu;const iu=nu;function au(e,t){const n=this,i=`co_facetsPopupEntryCancelButton_${e}`,a=`co_facetsPopupEntryEditLink_${e}`,o=`co_facetsPopupEntryEntityInput_${e}`,r=`co_facetsPopupEntryErrorMessage_${e}`,s=`co_facetsPopupEntryGoButton_${e}`,l=`co_facetsPopupEntry_${e}`,c=`co_facetsPopupSectionDiv_${e}`,u=`co_facetsPopupEntryRemoveLink_${e}`,h=`co_facetsPopupEntrySelectLink_${e}`,f=D["default"].lookup("SC.Search.Facets.Generic.Cancel","Cancel"),p=D["default"].lookup("SC.Search.Facets.Generic.ContinueButton","Continue"),m=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SelectPopup.EditLink","Edit"),g=D["default"].lookup("SC.Search.Facets.NavigatorWidget.ScreenReader.Go","Go"),v=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SelectPopup.GOButton","GO"),C=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SelectPopup.RemoveLink","Remove"),S=D["default"].lookup("SC.Search.Facets.Generic.Select","Select");let _,T=!1,I=!1,x="";this.handleDocumentClick=function(e){if(e.target.closest("#"+s)){n.handleGoClicked();e.preventDefault();e.stopPropagation()}if(e.target.closest("#"+i)){n.handleCancelClicked();e.preventDefault();e.stopPropagation()}if(e.target.closest("#"+h)){n.handleSelectClicked();e.preventDefault();e.stopPropagation()}if(e.target.closest("#"+a)){n.handleEditClicked();e.preventDefault();e.stopPropagation()}if(e.target.closest("#"+u)){n.handleRemoveClicked();e.preventDefault();e.stopPropagation()}};document.body.addEventListener("click",this.handleDocumentClick);this.setMultiSelectEnabled=function(e){I=e;n.refreshHtml()};this.setFocus=function(){document.getElementById(o).focus()};this.handleSelectClicked=function(){w();n.setFocus();const e=new b["default"]("Data",{},"defaultMessageName","serviceVersion"),i=t.replace(/\s+/g,"");y["default"].Publish("Cobalt.Search.Facet."+i+".Open",e)};this.handleCancelClicked=function(){E()};this.handleGoClicked=function(){if(n.validateName()){x=(0,d.Trim)(N().value);T=!A(x);L();if(I){n.refreshHtml(x);E()}}};this.handleEditClicked=function(){N().value=x;w();n.setFocus()};this.handleRemoveClicked=function(){x=null;T=!1;L();I&&n.refreshHtml(x)};this.createHtml=function(e,t){_=e;x=t;T=!A(x);return k()};this.refreshHtml=function(){const e=document.getElementById(l);e&&(e.outerHTML=k())};function k(){const n={cancelButtonValue:f,editButtonValue:m,entityLabel:t,goButtonLabel:I?p:g,goButtonValue:I?p:v,instanceId:e,isEntitySelected:T,isIPadDisabled:!Xn["default"].Device.isIPadEnabled(),removeButtonValue:C,selectButtonValue:S,value:null==x?"":(0,Xe.escape)(x)};return(0,Xe.template)('<div id="co_facetsPopupEntry_<%=instanceId%>">\n    <%\n        const existingEntityDisplayStyle = isEntitySelected ? \'co_showState\' : \'co_hideState\'\n        const newEntityDisplayStyle = isEntitySelected ? \'co_hideState\' : \'co_showState\';\n    %>\n    <% if (isIPadDisabled) { %>\n        <button id="co_facetsPopupEntrySelectLink_<%=instanceId%>" class="co_facet_selectLink co_linkBlue <%=newEntityDisplayStyle%>">\n            <%=selectButtonValue%>\n            <span class="co_accessibilityLabel"><%=entityLabel%></span>\n        </button>\n    <% } %>\n    <ul class="co_facet_applied">\n        <li id="co_facetsPopupEntryEntityDescriptionDisplay_<%=instanceId%>" class="<%=existingEntityDisplayStyle%>">\n            <%=value%>\n        </li>\n        <li id="co_facetsPopupEntryDisplayLinks_<%=instanceId%>" class="co_facet_popupEntryWidget_options <%=existingEntityDisplayStyle%>">\n            <button id="co_facetsPopupEntryEditLink_<%=instanceId%>" class="co_linkBlue">\n                <%=editButtonValue%>\n                <span class="co_accessibilityLabel"><%=entityLabel%> <%=value%></span>\n            </button>\n            <button id="co_facetsPopupEntryRemoveLink_<%=instanceId%>" class="co_linkBlue">\n                <%=removeButtonValue%>\n                <span class="co_accessibilityLabel"><%=entityLabel%> <%=value%></span>\n            </button>\n        </li>\n    </ul>\n    <div class="co_hideState" id="co_facetsPopupSectionDiv_<%=instanceId%>">\n        <div class="co_facet_simpleInputContainer" role="dialog" aria-live="assertive" aria-labelledby="co_facetsPopupEntryEntityInputLabel_<%=instanceId%>">\n            <div class="co_facet_simpleInputContent">\n                <label id="co_facetsPopupEntryEntityInputLabel_<%=instanceId%>" class="co_accLink" for="co_facetsPopupEntryEntityInput_<%=instanceId%>"><%=entityLabel%></label>\n                <input type="text" value="<%=value%>" id="co_facetsPopupEntryEntityInput_<%=instanceId%>" autocorrect="off" autocapitalize="off"/>\n                <label id="co_facetsPopupEntryGoButtonLabel_<%=instanceId%>" class="co_accLink" for="co_facetsPopupEntryGoButton_<%=instanceId%>"><%=goButtonLabel%> <%=entityLabel%></label>\n                <button class="co_primaryBtn" id="co_facetsPopupEntryGoButton_<%=instanceId%>">\n                    <%=goButtonValue%>\n                </button>\n                <button id="co_facetsPopupEntryCancelButton_<%=instanceId%>">\n                    <%=cancelButtonValue%>\n                </button>\n            </div>\n            <div id="co_facetsPopupEntryErrorMessage_<%=instanceId%>" class="co_hideState"></div>\n        </div>\n    </div>\n</div>')(n)}this.closeIfReady=function(){E();return!0};this.getValue=function(){return x};this.setValue=function(e){x=e};this.getCompletionListener=function(){return _};this.setCompletionListener=function(e){_=e};function w(){if(vc.currentFacetRenderer.aboutToShowFacet()){vc.currentFacetRenderer.registerModalFacet(e,n);const t=document.getElementById(c);t.className="co_facet_simpleInput";ti["default"].addPageTouchedListener(E,t,null,!1,!1);if(!t.dataset.popupInitialized){(0,ni.addEnterListener)(t,n.handleGoClicked,document.getElementById(i));(0,ni.addEscapeListener)(t,n.handleCancelClicked);t.dataset.popupInitialized="true"}_c["default"].refreshFacetDomElement()}}function E(){ti["default"].removePageTouchedListener(E);document.getElementById(c).className="co_hideState"}function A(e){return null==e||""==(0,d.Trim)(e)}function L(){_(!A(x),e,A(x)?null:x)}this.validateName=function(){if(A(N().value)){const e=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SelectSubSearch.EmptyEntry","Please supply a value");n.showInputErrorMessage(e);return!1}return!0};function N(){return document.getElementById(o)}this.showInputErrorMessage=function(e){const t=document.getElementById(r),n=new U["default"](t,$["default"].None,j["default"].Bottom,!0,!1,!1);n.Draw(e);document.getElementById(o).focus();ti["default"].addPageTouchedListener(R,null,{infoBox:n})};function R(e){ti["default"].removePageTouchedListener(R);e.data.infoBox.Remove()}}function ou(e){kc.call(this,e);var t,n=this,i=new au(n.getFacetId(),n.getDisplayName());this.createItemList=function(){return""};this.setMultiSelectEnabled=function(e){t=e;i.setMultiSelectEnabled(t)};this.isMultiSelectEnabled=function(){return t&&n.isMultiSelectAllowed()};this.createSelectButton=function(){var e=n.getData(),a=n.getFacetId();i.setMultiSelectEnabled(t);(0,ni.isBlank)(e)||vc.currentFacetRenderer.putToActiveList(a,e);var o=null==e?null:e;return i.createHtml((function(e,t,n){vc.currentFacetRenderer.apply(e,t,n,!0,!1)}),o)};this.handleHeaderClicked=function(){return i.handleSelectClicked()};this.handleSelectClicked=function(){return i.handleSelectClicked()}}ou.prototype=Object.create(kc.prototype);ou.prototype.constructor=ou;const ru=ou;var su=n(3595);const lu={defaultListItemStyle:'style="padding:.5em 0;font-size: 8pt;"'};const cu=Lo().extend((function(e,t,n,i){var a=this;t=t||"Link";e=e||"PopupContainer";n=n||{};(i=i||{}).listItemStyles=i.listItemStyles?i.listItemStyles:lu.defaultListItemStyle;var o=void 0;return{show:function(){a.finalize();a.showFieldHelpHoverBox()},finalize:function(){const e=document.getElementById(t);if(i.bindFocusMouseOver){
e?.addEventListener("mouseover",a.showFieldHelpHoverBox);e?.addEventListener("focus",a.showFieldHelpHoverBox)}if(i.bindBlurMouseOut){e?.addEventListener("mouseout",a.hideFieldHelpHoverBox);e?.addEventListener("blur",a.hideFieldHelpHoverBox)}},positionFieldNotesPopOver:function(){const n=document.getElementById(t),i=(0,ft.position)(n);var a=`top:${i.top+((0,u.getElementHeight)(n)+30)}px;left:${i.left}px;`;document.getElementById(e)?.setAttribute("style",a)},createFieldNotesHtml:function(){for(var e="",t="",o=0;o<n.length;o++)t+=(0,ni.substitute)(a.getFieldNoteTextLineHtmlTemplate(),{textLine:n[o],listItemStyles:i.listItemStyles});return e+=(0,ni.substitute)(a.getFieldNoteHtmlTemplate(),{textLines:t})},getFieldNoteHtmlTemplate:function(){return"<ul>{textLines}</ul>"},getFieldNoteTextLineHtmlTemplate:function(){return'<li tabindex="-1" aria-label="{textLine}" {listItemStyles}>{textLine}</li>'},showFieldHelpHoverBox:function(){var t=document.getElementById(e),n=a.createFieldNotesHtml();(o=new U["default"](t,$["default"].None,j["default"].Bottom,!0,!1,!1)).Draw(n);document.getElementById(e)?.classList.add("hover");a.positionFieldNotesPopOver()},hideFieldHelpHoverBox:function(){if(null!=o&&void 0!==o){document.getElementById(e)?.classList.remove("hover");o.Remove();o=null}document.getElementById(e)?.replaceChildren()}}}));const du={defaultListItemStyle:'style="padding:.5em 0;font-size: 8pt;"',astLinkStyle:'class="co_advancedSearch_fieldHelpLink"',facetLinkStyle:'class="co_moreInfo" style="margin-right:100px;"'};const uu=Lo().extend((function(e,t,n){var i=this;e=e||{};(n=n||{}).listItemStyles=n.listItemStyles?n.listItemStyles:du.defaultListItemStyle;n.linkStyles=n.linkStyles?n.linkStyles:du.astLinkStyle;var a=null,o=void 0;return{initialize:function(){if(!a){(a={}).DOMID_PREFIX="FieldNoteWidget";const e=(0,su["default"])().substr(0,8);a.DOMID_SUFFIX=null==t?e:t;a.helpSpanDomId=`${a.DOMID_PREFIX}_Span_${a.DOMID_SUFFIX}`;a.helpLinkDomId=`${a.DOMID_PREFIX}_Link_${a.DOMID_SUFFIX}`;a.helpPopupDomId=`${a.DOMID_PREFIX}_PopUp_${a.DOMID_SUFFIX}`}},draw:function(){this.initialize();return i.createFieldHelpLinkHtml()},finalize:function(){i.createInfoBoxWithPopOver()},destroy:function(){if(o){o.hideFieldHelpHoverBox();o=void 0}},createInfoBoxWithPopOver:function(){i.destroy();(o=new cu(a.helpPopupDomId,a.helpLinkDomId,e,{linkStyles:'co_moreInfo" style="margin-right:100px;"',bindFocusMouseOver:!0,bindBlurMouseOut:!0})).finalize()},createFieldHelpLinkHtml:function(){var t="";(0,ni.hasElements)(e)&&(t=(0,ni.substitute)(i.getFieldHelpLinkHtmlTemplate(),i.getFieldHelpLinkHtmlTemplateMap(n)));return t},getFieldHelpLinkHtmlTemplate:function(){return'&nbsp;&nbsp;<span id="{spanId}">\t\t<a id="{linkId}" href="javascript:void(0);" {linkStyles} aria-label="{ariaLabel}">(?)</a>\t\t<div id="{popupId}" class="co_hideState"></div></span>'},getFieldHelpLinkHtmlTemplateMap:function(e){var t=D["default"].lookup("SC.Search.AdvancedSearch.MoreInfo","More Info"),n="",i=e.headerText||"";n=""!==i?(0,ni.substitute)("{moreInfo} - {description}",{moreInfo:t,description:i}):t;return{spanId:a.helpSpanDomId,linkId:a.helpLinkDomId,popupId:a.helpPopupDomId,linkStyles:e.linkStyles,ariaLabel:n}},getDomIds:function(){this.initialize();return a}}}));function hu(e){Rc.call(this,e);var t,n=this,i=Zn["default"].FacetDecorationTypes;const a={};o()||n.removeDivCssClass("co_popup_facet");this.initialize=function(e){t&&t.finalize();e()};this.handleHeaderClicked=function(){if(o())return vc.currentFacetRenderer.openFacetDialog(n.getFacetId())};this.getHeaderAdditionalClasses=function(){var e=n.getFacet().displayOptions.headerClasses;if(!e)return"";if(!Array.isArray(e))throw new Error("MultipleXBoxes facet data structure requires available array");for(var t="",i=0;i<e.length;i++)t+=" "+e[i];return t};this.getFacetHtml=function(){var e="",t=n.getFacetId(),i=n.getData(),o=n.getDisplayName(),r=D["default"].lookup("SC.Search.Facets.PluralSelectTitle."+t,n.getDisplayNamePlural()?n.getDisplayNamePlural():D["default"].lookup("SC.Search.Facets.Generic.More","More"));i.length<6?e+=`<ul class="co_facet_multiple">${n.createXBoxList(t,i)}</ul>`:i.length<20?e+=function(e,t,i,o){var r=!1,s="",l=e+"Overflow";for(var c in t)if(c>4&&1==t[c].dataOptions.active){r=!0;break}if(r)s+=`<ul class="co_facet_multiple">${n.createXBoxList(e,t)}</ul>`;else{s+='<ul class="co_facet_multiple">'+n.createXBoxList(e,t.slice(0,5))+'</ul><a href="#" class="co_multiple_xboxes_link_'+e+'" id="clientanchor">'+function(e){return void 0!==e&&"undefined"!=e?e:""}(o)+'</a><div class="co_hideState" id="'+l+'"><ul class="co_facet_multiple">'+n.createXBoxList(e,t.slice(5))+"</ul></div>";const i=`.co_multiple_xboxes_link_${e}`;document.body.removeEventListener("click",a[i]);const r=function(e){const t=e.target.closest(i);if(t){t.className="co_hideState";p["default"].RemoveClass(document.getElementById(l),"co_hideState");e.preventDefault();e.stopPropagation()}};document.body.addEventListener("click",r);a[i]=r}return s}(t,i,0,r):e+=function(e,t,i){var a=n.getSortedAttributes(t),o="";o+=n.createSelectButton(e,i);o+=`<ul class="co_facet_applied">${n.createXBoxList(e,a.active)}</ul>`;return o}(t,i,o);return e};this.getHeaderDecorationHtml=function(){var e=n.getFacet().displayOptions.decorationOptions;if(e&&(0,d.AreSame)(i.INFORMATION_ICON_WITH_POPOVER,e.type))return(t=this.createInformationalPopupWidget(e.message)).draw();return""};this.createInformationalPopupWidget=function(e){return new uu([e],n.getFacetId(),{linkStyles:du.facetLinkStyle})};this.isExpressAccordianSelectionSupported=function(){return o()};this.getDisplayValue=function(){const e=n.getData(),t=[];for(const n in e)e[n].dataOptions.active&&t.push(e[n].name);return t.join(", ")};function o(){return e.data.available.length>=20}this.createXBoxList=function(e,t){return n.getXBoxRenderer().createHtml(e,t)}}hu.prototype=Object.create(Rc.prototype);hu.prototype.constructor=hu;const fu=hu;function pu(e){fu.call(this,e);var t=this;this.getHeaderTemplate=function(){return this._headerTemplate};this.handleDocumentClick=function(e){e.target.closest(`#coid_facetHeader_link_${t.getFacetId()}`)&&t.handleHeaderClicked()};this.initHeaderClickHandler=function(){document.addEventListener("click",this.handleDocumentClick)};this.handleHeaderClicked=function(){var e=t.getFacet();if(e.displayOptions&&e.displayOptions.selectableGroup)for(var n=e.displayOptions.selectableGroup,i=[],a=0;a<n.length;a++)i.push(n[a].id);pu.handleHeaderClick(this.getFacetId(),i,!0)}}pu.handleHeaderClick=function(e,t,n){if(vc.currentFacetRenderer.getFacetWidget(e).isMultiSelectEnabled()){var i=t.map((t=>Ic.prototype.createInputId({parentid:e,attributeId:t}))),a=vc.currentFacetRenderer.isInActiveFacets(e,t);i.map((e=>document.getElementById(e)))?.forEach((e=>{e.checked=!a}))}vc.currentFacetRenderer.toggle(e,t,n)};var mu=pu.prototype;mu._headerTemplate="<legend class='co_facet_title'><span id='co_facetHeader{id}' class='co_facet_header'>{name}</span></legend><button id='coid_facetHeader_link_{id}' class='co_facet_header_icon_button icon25{additionalClasses}'>{iconText}</button>";mu.setHeaderTemplate=function(e){this._headerTemplate=e};mu.getHeaderTemplate=function(){return this._headerTemplate};const gu=pu;const vu=function(e,t,n){gc.call(this,e,t,n);const i=(null==n?"":n).toLowerCase()===Zn["default"].search.child.toLowerCase(),a=i?Zn["default"].search.childSearchWithinInputId:Zn["default"].search.parentSearchWithinInputId,o=i?Zn["default"].search.childSearchWithinBoxId:Zn["default"].search.parentSearchWithinBoxId;this.setTextInputId(a);this.setQualifier(o)};function yu(e){Dc.call(this,e);var t=this;this.createHtml=function(){var e=(0,ni.addAccordionTitle)(t.getDisplayName(),t.getFacetId());return e+=t.getModalWidget().createHtml()};this.createModalWidget=function(){return function(){var e=t.getData();(0,ni.isBlank)(e)||vc.currentFacetRenderer.putToActiveList(t.getFacetId(),e);var n=Xn["default"].SearchResult.isDualSearchResult()?new vu(t.getFacetId(),t.getFacet().displayOptions.hideHelp,t.getFacet().displayOptions.groupType):new gc(t.getFacetId(),t.getFacet().displayOptions.hideHelp,t.getFacet().displayOptions.groupType)
;n.setRecentQueriesEnabled(t.areRecentQueriesEnabled());n.setMultiSelectEnabled(t.isMultiSelectEnabled());n.setQuery(t.getData());n.setActivateCallback((function(e){vc.currentFacetRenderer.removeFromActiveList(t.getFacetId());vc.currentFacetRenderer.apply(!0,t.getFacetId(),e);n.setQuery(e);n.collapse();vc.currentFacetRenderer.focusOnTopApplyButton()}));n.setDeactivateCallback((function(){vc.currentFacetRenderer.apply(!1,t.getFacetId())}));vc.currentFacetRenderer.isKM()&&n.hideHelp();n.setTitle(t.getDisplayName());return n}()};this.initialize=function(e){t.getModalWidget().initialize();e()};this.areRecentQueriesEnabled=function(){var e=t.getFacetSettings();if(e&&e.recentQueriesEnabled)return!0;return!1}}yu.prototype=Object.create(Dc.prototype);yu.prototype.constructor=yu;const bu=yu;function Cu(e){kc.call(this,e);var t=this;this.getFacetHtml=function(){var e="";e+=`<ul>${function(e,n){return t.getXBoxRenderer().createHtml(e,n)}(t.getFacetId(),t.getData())}</ul>`;return e}}Cu.prototype=Object.assign({},kc.prototype,Cu.prototype);const Su=Cu;var _u=n(1370);function Du(e,t,n,i,a,o){Lc.call(this,e,t,n,i,a,o);var r=this;const s=!o||o.hideSelectedCount,l=o?o.maxSelect:void 0;var c=!1;const d=l?" (select up to "+l+")":"";var u={titleasc:D["default"].lookup("SC.Search.Facets.NavigatorWidget.SortByValueTitleA","Title: A-Z"),titledesc:D["default"].lookup("SC.Search.Facets.NavigatorWidget.SortByValueTitleZ","Title: Z-A"),countdesc:D["default"].lookup("SC.Search.Facets.NavigatorWidget.SortByValueCountMost","Count: Most"),countasc:D["default"].lookup("SC.Search.Facets.NavigatorWidget.SortByValueCountLeast","Count: Least")},h=["titledesc","titleasc","countdesc","countasc"];this.initializeCollector=function(){r.popupInitialize();r.updateNumberOfItemsSelected();var e=document.getElementById(r.getParentDivId());e?.addEventListener("popuphidden",r.popupHiddenHandler);var t=document.getElementById(r.getDialogId());(0,wc.finalizeElementForIpad)(t,!1);if(c){r.attachEventsToAvailableList();r.attachEventsToSelectedList();r._sortFacets(r.getData())}else{r.getAvailableList().append(`<div class="co_progressIndicator"><img src=${A["default"].GetUrl(A["default"].CSS,"/css/v2/images/co_loading_small.gif")} alt="Loading..."/></div>`);(function(){m||(m=new Pc["default"]);return m})().retrieveRangeFacet((function(e){r.setData(e.data);r.refreshAvailable();r.refreshSelected();r.attachEventsToAvailableList();r.attachEventsToSelectedList();r._sortFacets(r.getData());c=!0}),r.getId())}t?.addEventListener("selectedchanged",this.handleDialogSelection);t?.addEventListener("popupshown",r.popupShownHandler);document.querySelector(".co_RI_SortBy")?.addEventListener("change",(e=>{const t=e.currentTarget.selectedOptions[0];r._currentSort=t.value;r.refreshAvailable()}))};this.refreshAvailable=function(){var e=x()("#"+r.getAvailableListId());c?r._sortFacets(r.getData()):e.html(r.renderAvailable());(0,ni.iScrollRefreshElement)(e.get(0))};this.getPopupContent=function(){r.setSelected(r.getOriginalSelected().slice());const e=D["default"].lookup("SC.Search.Facets.NavigatorWidget.yourSelections","Your Selections:");var t={errorMessageDomId:"co_collectorWidgetErrorMessage",availableTitle:r.drawAvailableTitle(),searchBox:r.drawSearchBox(),sortContainer:r.drawSortBy(),availableListId:r.getAvailableListId(),requiredInputHtml:r.renderAvailable(),footerContent:r.getSelectionsFooterContent(),selectedListId:r.getSelectedListId(),selectionsLabel:e,selected:r.renderSelected(),hideSelectedCount:s,zeroItemsSelected:D["default"].lookup("SC.Search.Facets.NavigatorWidget.Hierarchy.ZeroItemsSelected","<strong>0</strong> items selected"),maxSelect:l,extraSelectCountText:d};r.popupHiddenHandler();return st().template('<div id="<%=errorMessageDomId%>" aria-live="rude" role="alert" class="co_hideState"></div>\n<div class="co_overlayBox_leftContent">\n        <%=sortContainer%>\n        <%=availableTitle%>\n        <%=searchBox%>\n    <div class="co_collectorScrollOne co_scrollWrapper">\n        <ul class="co_tree" id="<%=availableListId%>">\n            <%=requiredInputHtml%>\n        </ul>\n    </div>\n</div>\n<div class="co_overlayBox_rightContent">\n    <h4>\n        <%=selectionsLabel%>\n    </h4>\n    <div class="co_collectorScrollTwo co_scrollWrapper">\n        <ul class="co_tree" id="<%=selectedListId%>">\n            <%=selected%>\n        </ul>\n    </div>\n    <%=footerContent%>\n</div>\n<div class="co_clear"></div>\n<%if(!hideSelectedCount){%>\n    <span id="co_facet_searchable_selected">\n        <%=zeroItemsSelected%>\n        <%if (maxSelect) {%>\n            <%=extraSelectCountText%>\n        <%}%>\n    </span>\n<%}%>')(t)};this._drawOption=function(e){var t="";if(this._existsInArray(e)){t+=`<option id = "${e}" value = "${e}"`;this._currentSort==e&&(t+='selected="selected"');t+=">";t+=u[e];t+="</option>"}return t};this.drawSortBy=()=>{r._currentSort||(r._currentSort="titleasc");const e=["countdesc","countasc","titleasc","titledesc"].map(this._drawOption,this);return`\n            <div id="co_sortContainer" class="co_sortby_dropdown">\n                <span>${D["default"].lookup("SC.Search.Facets.NavigatorWidget.SortByLabel","Sort By")}: </span>\n                <select class="co_RI_SortBy">\n                    ${e.join("")}\n                </select>\n            </div>\n        `};this._existsInArray=function(e){for(var t=0;t<h.length;t++)if(h[t]===e)return!0;return!1};this._sortFacets=function(e){var t,n=document.querySelector(".co_collectorScrollOne ul"),i=n?.querySelectorAll(":scope > li");i?.forEach(((t,n)=>{t.ipMetadata=e[n]}));const a=(e,t)=>{const n=e.ipMetadata.name.toLowerCase(),i=t.ipMetadata.name.toLowerCase();if(i>n)return 1;if(i<n)return-1;return 0},o=(e,t)=>(0,_u.parseInt)(e.ipMetadata.dataOptions.count)-(0,_u.parseInt)(t.ipMetadata.dataOptions.count);switch(r._currentSort){case"titledesc":t=(e,t)=>a(e,t);break;case"titleasc":t=(e,t)=>a(t,e);break;case"countdesc":t=(e,t)=>o(t,e);break;case"countasc":t=(e,t)=>o(e,t)}x()(i).detach().sort(t);i?.forEach((e=>{n.appendChild(e)}))};this._renderAvailableLevel=function(e,t){var n="";for(var i in e){var a=e[i],o={id:a.dataOptions.id.replace('"',"&quot;"),parentId:t,text:a.name,count:a.dataOptions.count};p(a,o);o.availableItem=r.renderAvailableItem(a,o,!1);n+=(0,ni.substitute)('<li id="{id}Level"><div class="co_listItem {divSelected}">{availableItem}</div></li>',o)}return n};const f=this.getContainerClass;this.getContainerClass=function(){return f.call(this)+" co_hasSubSearch"};function p(e,t){var n="co_checkbox_unselected",i="",a="false";if(r.isSelected(e.dataOptions.id)){n="co_checkbox_selected";a="true";i="co_selected"}t.style=n;t.checked=a;t.divSelected=i}this.getSelectedListId=()=>`co_facet_${r.getHtmlId()}_selectedOptions`;var m=void 0}Du.prototype=Object.create(Lc.prototype);Du.prototype.constructor=Du;const Tu=Du;function Iu(e,t){Rc.call(this,e);var n=this;this.createModalWidget=function(){t&&null!=n.getDescription()&&(t.description=n.getDescription());var e=n.getDisplayName(),i=n.getParentDivId(),a=n.getFacetId();return new Tu(i,a,e,n.getData(),n.getSelectedAttributes(),t)}}Iu.prototype=Object.create(Rc.prototype);Iu.prototype.constructor=Iu;const xu=Iu;function ku(e){fu.call(this,e);xu.call(this,e)}ku.prototype=Object.assign({},xu.prototype,fu.prototype,ku.prototype);const wu=ku;function Eu(e){Rc.call(this,e);var t=this;const n={};i()||t.removeDivCssClass("co_popup_facet");this.handleHeaderClicked=function(){if(i())return vc.currentFacetRenderer.openFacetDialog(t.getFacetId())};this.getFacetHtml=function(){var e="",i=t.getFacetId(),s=t.getData(),l=(t.getDisplayName(),t.getDisplayNamePlural());s.length<6?e+=`<ul class="co_facet_multiple">${a(i,s)}</ul>`:s.length<21?e+=function(e,i,s,l){var c="";const d=e+"Overflow";var u=D["default"].lookup("SC.Search.Facets.MoreTitle."+e,""!=r(l)?`More ${r(l)}`:D["default"].lookup("SC.Search.Facets.Generic.More","More"));if(o(i)){var h=t.getSortedAttributes(i)
;c+='<ul class="co_facet_multiple">'+a(e,h.active)+'</ul><a href="#" class="co_multiple_xboxes_collector_link_'+e+'" id="clientanchor">'+u+'</a><div class="co_hideState" id="'+d+'"><ul class="co_facet_multiple">'+a(e,h.inactive)+"</ul></div>"}else c+='<ul class="co_facet_multiple">'+a(e,i.slice(0,5))+'</ul><a href="#" class="co_multiple_xboxes_collector_link_'+e+'" id="clientanchor">'+u+'</a><div class="co_hideState" id="'+d+'"><ul class="co_facet_multiple">'+a(e,i.slice(5))+"</ul></div>";const f=`.co_multiple_xboxes_collector_link_${e}`;document.body.removeEventListener("click",n[f]);const m=function(e){const t=e.target.closest(f);if(t){t.className="co_hideState";p["default"].RemoveClass(document.getElementById(d),"co_hideState");e.preventDefault();e.stopPropagation()}};document.body.addEventListener("click",m);n[f]=m;return c}(i,s,0,l):e+=function(e,i,s,l){var c="",d=D["default"].lookup("SC.Search.Facets.MoreTitle."+e,""!=r(l)?`More ${r(l)}`:D["default"].lookup("SC.Search.Facets.Generic.More","More"));if(o(i)){c+=`<ul class="co_facet_applied">${a(e,t.getSortedAttributes(i).active)}</ul>`}else c+=`<ul class="co_facet_applied">${a(e,i.slice(0,5))}</ul>`;const u={id:e,title:d};var h='<a id="co_facet_selectLink_{id}" href="javascript:void(0);" title="{title}">{title}</span></a>';c+=(0,ni.substitute)(h,u);const f="#co_facet_selectLink_"+u.id;document.body.removeEventListener("click",n[f]);const p=function(e){if(e.target.closest(f)){if(!1===vc.currentFacetRenderer.openFacetDialog(u.id)){e.preventDefault();e.stopPropagation()}}};document.body.addEventListener("click",p);n[f]=p;return c}(i,s,0,l);return e};this.isExpressAccordianSelectionSupported=function(){return i()};function i(){return e.data.available.length>=20}function a(e,n){return t.getXBoxRenderer().createHtml(e,n)}function o(e){var t=!1;for(var n in e)if(n>4&&1==e[n].dataOptions.active){t=!0;break}return t}function r(e){return void 0!==e&&"undefined"!=e?e:""}}Eu.prototype=Object.create(Rc.prototype);Eu.prototype.constructor=Eu;const Au=Eu;function Lu(){this.getPublicationFavorites=function(e,t){var n=new Jn["default"].getWebRequest("/Search/v3/facet/favorite/publications/get",null,null,null,5e3);return Jn["default"].Get(n,(async function(n){if(200===n.StatusCode){var i=await n.json();e(i)}else{if("function"!=typeof t){(0,Ee.publishErrorMessage)(A["default"].Search,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Unable to get publication favorites")}t(n)}}),t)}}function Nu(e,t,n,i,a,o){Lc.call(this,e,t,n,i,a,o);var r,s=this,l="co_checkbox_selected";this.getDialog=function(){r&&0!=r.length||(r=x()("#"+s.getDialogId()));return r};this.initialize=function(){s.initializeCollector();s.refreshSelected()};this.isItemSelected=function(e){var t=document.getElementById(e);return t?.classList.contains(l)};this.createSelectedItem=function(e){var t=s.createSelectedItemCollector(e);t.pubName=e.dataOptions.pubName||e.name;return t};this.getPubName=function(e){var t,n=s.getSelectedItem(e);return t=n?n.pubName:(n=s.getOption(e)).dataOptions.pubName||n.name};this.renderSelectedItemChildren=function(e){var t=s.getOption(e.id),n={id:e.id,text:e.name},i="";if(t&&t.children){for(var a="",o=0;o<t.children.length;o++){var r=t.children[o],c=r.dataOptions.id,d={id:c,text:r.name};d.childItem=s.renderSelectedItem(r,d);a+=(0,ni.substitute)('<li><div class="co_listItem">{childItem}</div></li>',d);var u=document.getElementById(c);u?.classList.contains(l)||s.toggleAvailable(c)}n.childItems=a;i=(0,ni.substitute)('<fieldset><legend class="co_accessibilityLabel">{text}</legend><ul id="{id}_children">{childItems}</ul></fieldset>',n)}return i};this.processRemoved=function(e){s.removeFromSelectedCollector(e);var t=s.getOption(e);if(!t)return;var n=s.getOption(t.parentId);if(n){var i=n.dataOptions.id;if(s.isSelected(i)){s.removeFromSelectedCollector(i);s.toggleAvailable(i);for(let t=n.children.length-1;t>=0;t--){const i=n.children[t].dataOptions.id;if(i!=e){s.addToSelected(i);s.toggleAvailable(i)}}}}else if(t.children)for(let e=0;e<t.children.length;e++){const n=t.children[e].dataOptions.id;var a=document.getElementById(n);a?.classList.contains(l)&&s.toggleAvailable(n)}};this.hasWrappingDiv=function(){return!0};this.getWrappingDivClasses=function(){return"co_popup_facet co_active"}}Nu.prototype=Object.create(Lc.prototype);Nu.prototype.constructor=Nu;const Ru=Nu;function Pu(e,t){Rc.call(this,e);const n=this,i=[],a=n.getXBoxRenderer(),o=n.getFacetId(),r=`${o}_loading`,s=`${o}_favorite_active`,l=`${o}_favorite_inactive`,c=`${o}_favorite_inactive_overflow`,u=`${o}_favorite_more`,h=`${o}_favorite_select_all`,f=`${o}_favorite_show_more`,p=`${o}_other_active`,m=`${o}_other_inactive`;let g=new Lu,v=n.getSortedAttributes(n.getData());n.removeDivCssClass("co_popup_facet");this.handleHeaderClicked=function(){};this.createModalWidget=function(){const e=n.getDisplayName(),i=new Ru(n.getParentDivId(),o,e,n.getData(),n.getSelectedAttributes(),t);i.setContinueCallback(n.continueCallback);return i};this.getFacetHtml=function(){return`<div id="${r}"></div>`};this.drawFacet=function(e){const t=n.createRenderedFacetHtml();document.getElementById(e).outerHTML=t};this.continueCallback=function(){vc.currentFacetRenderer.apply(!0,o,n.getModalWidget().getActiveIds(),!0);n.getModalWidget().closeIfReady();const e=n.getModalWidget().getSelected(),t=n.createUpdatedFacetData(n.getData(),e,!0);v=n.getSortedAttributes(t);n.drawFacet(o)};this.createUpdatedFacetData=function(e,t,i){let a;a=i?(0,ni.clone)(e):e;for(const e in a){const i=a[e];i.dataOptions.active=this.isInActiveData(t,i.dataOptions.id);"object"==typeof i.children&&i.children.length>0&&n.createUpdatedFacetData(i.children,t,!1)}return a};this.isInActiveData=function(e,t){let n=!1;for(const i in e){if(e[i].id==t){n=!0;break}}return n};this.isExpressAccordianSelectionSupported=function(){return!1};this.setFavoritesClient=function(e){g=e};this.initialize=function(e){g.getPublicationFavorites((function(t){t.forEach((e=>{i[e.pubName]=!0}));n.drawFacet(r);e()}),(function(){n.drawFacet(r)}))};this.handleBodyClick=function(e){if(e.target.closest(`#coid_publicationSelectTitle_${o}`)){if(!1===vc.currentFacetRenderer.openFacetDialog(o)){e.preventDefault();e.stopPropagation()}}if(e.target.closest(`#${h}`)){document.getElementById(f)?.click();const e=document.querySelectorAll(`#${l} input[type=checkbox], #${c} input[type=checkbox]`);e.forEach((e=>{e.checked=!0}));const t=[];e.forEach((function(e){t.push(e.id.replace(`co_facetItem_${o}`,""))}));vc.currentFacetRenderer.apply(!0,o,t,!1,!0)}};this.createRenderedFacetHtml=function(){const e=n.getDisplayName(),t=n._getFavoritePubsHtml(),i=n._getOtherPubsHtml(),a={id:o,name:e,favoritePubs:t,otherPubs:i,favoriteSelectAllId:h,isShowFavoritePubs:(0,d.IsNotNullOrEmpty)(t),isShowOtherPubs:(0,d.IsNotNullOrEmpty)(i),yourFavoritesText:D["default"].lookup("SC.Search.PracticePoint.JurisdictionsSelector.ButtonLabel.YourFavorites","Your Favorites"),selectAllText:D["default"].lookup("SC.Search.PracticePoint.JurisdictionsSelector.Label.SelectAll","Select All"),otherPubsText:D["default"].lookup("SC.Search.Facets.Publication.OtherPublications","Other Publications"),pubLinkText:D["default"].lookup(`SC.Search.Facets.SelectTitle.${o}`,`Select a ${e}`)};document.body.addEventListener("click",this.handleBodyClick);return st().template('<span id="<%=id%>">\n\t<%if (isShowFavoritePubs) {%>\n\t\t<span class="co_facet_subtitle"><%=yourFavoritesText%>\n\t\t\t<button type="button" id="<%=favoriteSelectAllId%>" class="co_linkBlue"><%=selectAllText%></button>\n\t\t</span>\n\t\t\x3c!--this intentionally includes the ul even on empty lists--\x3e\n\t\t<ul class="co_facet_applied"><%=favoritePubs%></ul>\n\t<%}%>\n\n\t<%if (isShowOtherPubs) {%>\n\t\t<span class="co_facet_subtitle"><%=otherPubsText%></span>\n\t\t\x3c!--this intentionally includes the ul even on empty lists--\x3e\n\t\t<ul class="co_facet_applied"><%=otherPubs%></ul>\n\t<%}%>\n\n\t<button type="button" id="coid_publicationSelectTitle_<%=id%>" class="co_linkBlue"><%=pubLinkText%></button>\n</span>\n')(a)};this._getFavoritePubsHtml=function(){return y((function(e){
return i[e.dataOptions.pubName||e.name]}),{activeId:s,inActiveId:l,maxShown:10,overflowDivId:u,overflowListId:c,showMoreId:f})};this._getOtherPubsHtml=function(){return y((function(e){return!i[e.dataOptions.pubName||e.name]&&(e.dataOptions.active||e.dataOptions.promoted)}),{activeId:p,inActiveId:m})};function y(e,t){let n="";const i=(e,t)=>`<ul id="${e}" class="co_facet_applied">${t}</ul>`,r=v.active.filter(e);r.length>0&&(n+=i(t.activeId,a.createHtml(o,r)));const s=v.inactive.filter(e);if(s.length<=0)return n;let l=s;if(t.maxShown&&r.length<=t.maxShown){const e=t.maxShown-r.length;l=s.slice(0,e)}n+=i(t.inActiveId,a.createHtml(o,l));if(l.length<s.length){const e=s.slice(l.length),i=a.createHtml(o,e);n+=`\n                <button type="button" id="${t.showMoreId}" class="co_linkBlue">+Show more</button>\n                <div class="co_hideState" id="${t.overflowDivId}">\n                    <ul id="${t.overflowListId}">${i}</ul>\n                </div>`;const r=`#${t.showMoreId}`,c=function(e){const n=e.target.closest(r);n&&function(e,t){e.classList.add("co_hideState");document.getElementById(t)?.classList.remove("co_hideState")}(n,t.overflowDivId)};document.body.addEventListener("click",c)}return n}}Pu.prototype=Object.create(Rc.prototype);Pu.prototype.constructor=Pu;const Ou=Pu;function Bu(e){this.STYLE_A="A";this.CUSTOM="custom";this.style=this.STYLE_A;this.fixedRangeTypeList=[];this.hasCustomField=!1;this.selectedRangeTypeId="";this.selectedRangeStart="";this.selectedRangeEnd="";this.collapseOnDone=!1;this.doneButtonText="Go";this.prefix="";var t,n,i,a=this,o=e,r=!1,s=!1,l=[],c=!1;const h={};var f="co_collapsed",p="co_expanded",m="co_dropdownArrowCollapsed",g=`co_rangeWidget_${e}`,v=`co_rangeWidget_footer_${e}`,y=`co_rangeWidget_${e}_dropdown`,b=`co_rangeWidget_${e}_dropdown_listItem`,C=`co_rangeWidget_${e}_dropdown_span`,S="co_hideState",_=`<div id="${g}" class="co_facet_sad {hideShowClass}">{contents}</div>`,T=`co_rangeWidgetFixedList_${o}`,I=`co_rangeWidgetCustomList_${o}`,x=`co_rangeWidgetCount_${o}_`,k=`<li class="co_atState"><span id="${x}{rangeTypeId}" class="co_facetCount">{count}</span>{label}{compliance}</li>`,w=`<li id="co_rangeWidgetSelectRangeListItem_{instanceId}_{rangeTypeId}"><span id="${x}{rangeTypeId}" class="co_facetCount">{count}</span><span id="co_rangeWidgetSelectRangeLink_{instanceId}_{rangeTypeId}"><a href="javascript:void(0);">{label}</a></span></li>`,E=`<div class="co_facet_sad_options"><div class="co_facet_sad_optionsRight"><ul class="co_facet_sad_optionsContent"><li id="${b}"><a id="${y}" href="javascript:void(0);" class="${m}">More Range Filtering Options</a><span id="${C}">{selectedRangeLabel}</span></li></ul></div></div><div class="co_clear"></div><div class="co_facet_sad_footerContainer"><div id="${v}" class="co_facet_sad_footer"><div class="co_facet_sad_footerRight"><ul id="${T}" class="co_facet_sad_footerOptions">{fixedList}</ul><ul id="${I}" class="co_facet_sad_footerContent">{customList}</ul></div></div></div>`,L="co_rangeWidgetCustomRangeExpando_"+o,N="co_rangeWidgetCustomRangeItem_"+o,R="co_rangeWidgetCustomRangeText_"+o,P="co_rangeWidgetCustomRangeError_"+e,O="co_rangeWidgetCustomRangeUntilText_"+o,B="co_rangeWidgetCustomRangeUntilError_"+e,M="co_rangeWidgetCustomRangeDoneButton_"+e,F="co_rangeWidgetCustomRangeCancelButton_"+e,W=`<li><label class="{labelClass}" for="${R}" >{label}</label><input id="${R}"  type="text"  value="{range}" autocorrect="off" autocapitalize="off"/><div id="${P}" class="co_hideState"></div></li>`,H=`<li><label class="{labelClass}" for="${R}" >{label}</label><span><select id="${R}">{range}</select></span><div id="${P}" class="co_hideState"></div></li>`,G=`<li><label for="${O}" >{label}</label><input id="${O}"  type="text" value="{range}" autocorrect="off" autocapitalize="off"/><div id="${B}"></div></li>`,U=`<li><label for="${O}" >{label}</label><span><select id="${O}">{range}</select></span><div id="${B}"></div></li>`,j=`<li id="${L}" class="{expandoClass}"><a href="javascript:void(0);">{label}</a><fieldset><legend class="co_accessibilityLabel">{label}</legend><ol id="${N}" class="co_facet_sad_dateSelect {hideClass}">{entryField}{toEntryField}<li class="{customRangeButtonListClass}"><input id="${M}" type="submit" value="{doneButtonText}" class="{doneButtonClass}"/><input id="${F}" type="submit" value="Cancel" class="co_button_cancel_small"/></li></ol></fieldset></li>`;this.createHtml=function(e,t){return function(e,t){(function(){ie("instanceId is required",o);ie("fixed range list cannot be null",a.fixedRangeTypeList);a.fixedRangeTypeList.length<1&&te("fixed range list cannot be empty");ie("selectedRangeTypeId must be set",a.selectedRangeTypeId);if(a.CUSTOM!=a.selectedRangeTypeId){var e=!0;for(var t in a.fixedRangeTypeList)if(a.fixedRangeTypeList[t].id==a.selectedRangeTypeId){e=!1;break}e&&te(`the range id set as selected (${a.selectedRangeTypeId}) is not in the list of options`)}})();n=e;i=t;var r;r=E;r=(0,ni.substitute)(r,{selectedRangeLabel:Z()});document.body.addEventListener("click",a.handleDropdownClick);var s=Q(),l=X();r=(0,ni.substitute)(r,{fixedList:s,customList:l});var c=f;return(0,ni.substitute)(_,{contents:r,hideShowClass:c})}(e,t)};this.refresh=function(){(function(){var e=document.getElementById(T);e&&(e.innerHTML=Q());if(a.hasCustomField){var t=document.getElementById(I);t&&(t.innerHTML=X())}})();(e=document.getElementById(C))&&(e.innerHTML=Z());var e;l.length>0&&J(l)};this.refreshCounts=function(e){J(e)};this.hasBeenExpandedBefore=function(){return c};this.setHasBeenExpandedBefore=function(e){c=e};this.handleFixedRangeTypeSelection=function(e){ee();if(a.selectedRangeTypeId!=e){a.selectedRangeTypeId=e;a.selectedRangeStart="";a.selectedRangeEnd="";for(var t=0;t<this.fixedRangeTypeList.length;t++)if(this.fixedRangeTypeList[t].id==e){this.fixedRangeTypeList[t].start?a.selectedRangeStart=this.fixedRangeTypeList[t].start:a.selectedRangeStart="";this.fixedRangeTypeList[t].end?a.selectedRangeEnd=this.fixedRangeTypeList[t].end:a.selectedRangeEnd=""}Y();q()}else Y()};this.handleCustomRangeSelection=function(){ee();if(a.selectedRangeTypeId!=a.CUSTOM){a.selectedRangeStart="";a.selectedRangeEnd="";(function(){var e=z(L),t=z(N);e?.classList.toggle(p);e?.classList.toggle(f);t?.classList.toggle(S)})();a.selectedRangeTypeId=a.CUSTOM;z(R)?.focus()}K()};this.handleGoClicked=function(e){e.stopPropagation();if(!a.validate())return!1;ee();Y();q();return!0};this.validate=function(){if(a.CUSTOM==a.selectedRangeTypeId){var e=z(R),t=e.value;t=t.replace(/,/g,"");var n=parseFloat(t);if(null==n||isNaN(n)){$(e,t,P);return!1}var i=z(O),o=i.value;o=o.replace(/,/g,"");var r=parseFloat(o);if(""!=o&&(null==r||isNaN(r))){$(i,o,B);return!1}if(""!=o&&n>r){V(D["default"].lookup("SC.Search.Facets.RangeWidget.ErrorMessage","To Range value must be greater than From Range value"),i,B);return!1}(function(){a.selectedRangeTypeId=a.CUSTOM;var e=z(R).value;e=e.replace(/,/g,"");a.selectedRangeStart=e;var t=z(O,a.selectedCustomRangeSubTypeId).value;t=t.replace(/,/g,"");a.selectedRangeEnd=""==t?null:t})()}return!0};function $(e,t,n){V((0,ni.isBlank)(t)?D["default"].lookup("SC.Search.Facets.RangeWidget.BlankRangeError.Range"+a.doneButtonTextKey,`Please enter range before clicking "${a.doneButtonText}"`):D["default"].format("SC.Search.Facets.RangeWidget.BadRangeError",{badRange:t},`'${t}' is not a valid range`),e,n)}function V(e,t,n){var i=z(n);(0,ni.showErrorMessage)(e,i,"right",t,!0)}function q(){n(o,a)}this.toggleAllRange=function(){var e=document.getElementById(g),n=document.getElementById(y);if(e&&(e.classList.contains(p)||function(){if(vc.currentFacetRenderer){var e=vc.currentFacetRenderer.aboutToShowFacet();e&&vc.currentFacetRenderer.registerModalFacet(o,a);return e}return!0}())){e.classList.toggle(f);e.classList.toggle(p);n?.classList.toggle(m);n?.classList.toggle("co_dropdownArrowExpanded");if(e?.classList.contains(p)){(function(){if(null==t){(t={}).selectedRangeTypeId=a.selectedRangeTypeId;t.selectedRangeStart=a.selectedRangeStart;t.selectedRangeEnd=a.selectedRangeEnd}})();K();ti["default"].addPageTouchedListener(a.toggleAllRange,e,null,!0);if(!r){r=!0;(0,ni.addEscapeListener)(e,a.toggleAllRange)}
i&&i(o,a)}else{s||function(){if(t){a.selectedRangeTypeId=t.selectedRangeTypeId;a.selectedRangeStart=t.selectedRangeStart;a.selectedRangeEnd=t.selectedRangeEnd}}();ti["default"].removePageTouchedListener(a.toggleAllRange)}}};function z(e){var t=(0,ni.substitute)(e);return document.getElementById(t)}function K(){if(Xn["default"].Device.isIPadEnabled())return;var e=document.getElementById(g),t=document.getElementById(v),n=(0,u.getElementHeight)(e)+(0,u.getElementHeight)(t),i=(0,ft.offset)(e).top+n-(document.documentElement.clientHeight+window.pageYOffset);i>0&&window.scrollTo(0,Math.ceil(window.pageYOffset+i))}function Y(){if(a.collapseOnDone){a.refresh();a.toggleAllRange()}}this.closeIfReady=function(){document.getElementById(g)?.classList.add(f);return!0};this.handleDropdownClick=function(e){if(e.target.closest("#"+b)){a.toggleAllRange();e.preventDefault();e.stopPropagation()}};this.handleBodyClick=function(e){e.target.closest("#"+L)&&a.handleCustomRangeSelection();if(e.target.closest("#"+M)){a.handleGoClicked(e);e.preventDefault();e.stopPropagation()}if(e.target.closest("#"+F)){a.handleCancelClicked();e.preventDefault();e.stopPropagation()}};function Q(){var e="";a.selectedRangeTypeId==a.CUSTOM&&a.style==a.STYLE_A&&(e+=(0,ni.substitute)(k,{instanceId:o,rangeTypeId:a.CUSTOM,label:Z(),attributes:'class="co_selectRange_active"',count:"",compliance:""}));for(var t in a.fixedRangeTypeList){var n=a.fixedRangeTypeList[t];const i={instanceId:o,rangeTypeId:n.id,label:n.display,count:ne(n.id),attributes:"",compliance:""};if(a.selectedRangeTypeId==n.id)e+=(0,ni.substitute)(k,i);else{e+=(0,ni.substitute)(w,i);const t=(0,ni.substitute)("#co_rangeWidgetSelectRangeListItem_{instanceId}_{rangeTypeId}",i);document.body.removeEventListener("click",h[t]);const n=function(e){e.target.closest(t)&&a.handleFixedRangeTypeSelection(i.rangeTypeId)};document.body.addEventListener("click",n);h[t]=n}}return e}function X(){var e,t,n,i,o="",r=a.CUSTOM==a.selectedRangeTypeId?`<strong>${D["default"].lookup("SC.Search.Facets.RangeWidget.From","From")}:</strong>`:D["default"].lookup("SC.Search.Facets.RangeWidget.From","From")+":",s=a.CUSTOM==a.selectedRangeTypeId?`<strong>${D["default"].lookup("SC.Search.Facets.RangeWidget.To","To")}:</strong>`:D["default"].lookup("SC.Search.Facets.RangeWidget.To","To")+":",l=a.CUSTOM==a.selectedRangeTypeId?`<strong>${D["default"].lookup("SC.Search.Facets.RangeWidget.SpecificRange","Specific Range")}</strong>`:D["default"].lookup("SC.Search.Facets.RangeWidget.SpecificRange","Specific Range");t=a.CUSTOM==a.selectedRangeTypeId?"":S;n=a.CUSTOM==a.selectedRangeTypeId?p:f;if(a.hasCustomField){e=(0,ni.substitute)(W,{range:a.selectedRangeStart,labelClass:"",label:r,rangeTypeId:a.CUSTOM});i=(0,ni.substitute)(G,{range:a.selectedRangeEnd?a.selectedRangeEnd:"",label:s,rangeTypeId:a.CUSTOM})}else{var c="",d="";for(const e in a.fromRanges){var u=a.fromRanges[e];c+=`<option value="${u}"${a.selectedRangeStart==u?"selected":""}>${u?a.prefix+We["default"].addCommas(u):a.prefix+"0"}</option>`}for(const e in a.toRanges){var h=a.toRanges[e];d+=`<option value="${h}"${a.selectedRangeEnd==h?"selected":""}>${h?a.prefix+We["default"].addCommas(h):"infinity"}</option>`}e=(0,ni.substitute)(H,{range:c,labelClass:"",label:r,rangeTypeId:a.CUSTOM});i=(0,ni.substitute)(U,{range:d,labelClass:"",label:s,rangeTypeId:a.CUSTOM})}o+=(0,ni.substitute)(j,{expandoClass:n,rangeTypeId:a.CUSTOM,entryField:e,customRangeButtonListClass:"co_dateWidgetCustomRange_fromUntil_submit",toEntryField:i,labelClass:"",label:l,hideClass:t,doneButtonText:a.doneButtonText,doneButtonClass:"co_button_submit_small co_primaryBtn"});document.body.addEventListener("click",a.handleBodyClick);return o}function J(e){l=e;e?.forEach((e=>{var t=document.getElementById(`${x}${e.id}`);t&&(t.innerHTML=ae(e.count))}))}function Z(){if((0,ni.isBlank)(a.selectedRangeTypeId))return"Choose a range";if(a.selectedRangeTypeId==a.CUSTOM){var e=a.prefix+(0,ni.formatNumberWithCommas)(a.selectedRangeStart);if(a.selectedRangeEnd==a.selectedRangeStart)return e;return e+=null!=a.selectedRangeEnd?` - ${a.prefix}${(0,ni.formatNumberWithCommas)(a.selectedRangeEnd)}`:" or greater"}for(var t in function(e){if(e)return e;return[]}(a.fixedRangeTypeList))if(a.fixedRangeTypeList[t].id==a.selectedRangeTypeId)return a.fixedRangeTypeList[t].display;te("illegal state...can't find type ID that matches")}this.initialize=function(){};function ee(){t=void 0}function te(e){(0,Ee.publishErrorMessage)(A["default"].Search,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(e)}function ne(e){var t="";a.fixedRangeTypeList.forEach((n=>{n.id==e&&(0,d.IsNotNullOrEmpty)(n.count)&&(t=ae(t=n.count))}));return t}function ie(e,t){null==t&&te(e)}function ae(e){return(0,ni.formatNumberWithCommas)(e)}this.setMultiSelectEnabled=function(e){s=e;a.collapseOnDone=e;var t=document.querySelectorAll(`#${I} input.co_primaryBtn`);if(s){var n=D["default"].lookup("SC.Search.Facets.RangeWidget.ContinueButton","Continue");t.forEach((e=>e.setAttribute("value",n)));a.doneButtonText=n;a.doneButtonTextKey="Continue"}else{l=[];var i=D["default"].lookup("SC.Search.Facets.RangeWidget.GoButton","Go");t.forEach((e=>e.setAttribute("value",i)));a.doneButtonText=i;a.doneButtonTextKey="Go"}}}function Mu(e){Dc.call(this,e);var t=this;this.getFacetHtml=function(){var e;(0,ni.isBlank)(t.getData().selectedRangeId)&&(e=n);return t.getModalWidget().createHtml(t.handleRangeSelection,e)};this.createModalWidget=function(){var n=t.getData(),i=new Bu(e.displayOptions.id),a=n.selectedRangeId,o={id:"all",display:D["default"].lookup("SC.Search.Facets.Range.All","All")};n.available.unshift(o);i.fixedRangeTypeList=n.available;for(var r in i.fixedRangeTypeList)i.fixedRangeTypeList[r].count=n.counts[i.fixedRangeTypeList[r].id];i.hasCustomField=n.isUserDefined;i.fromRanges=n.fromRanges;i.toRanges=n.toRanges;i.prefix=n.prefix;if(!(0,ni.isBlank)(a)){var s=[a];s.push(n.selectedRangeStart);s.push(n.selectedRangeEnd);vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,s,!1,e.displayOptions.selector)}i.customRangeLabel="Select a range >>";if((0,ni.isBlank)(a))i.selectedRangeTypeId="all";else{i.selectedRangeTypeId=a;i.selectedRangeStart=n.selectedRangeStart;i.selectedRangeEnd="null"==n.selectedRangeEnd?null:n.selectedRangeEnd}return i};this.handleRangeSelection=function(n,i){t.isMultiSelectEnabled()||vc.currentFacetRenderer.removeFromActiveList(n);var a=[i.selectedRangeTypeId,i.selectedRangeStart];(0,ni.isBlank)(i.selectedRangeEnd)?a.push("null"):a.push(i.selectedRangeEnd);var o={id:n,selector:e.displayOptions.selector,data:a};if("all"==i.selectedRangeTypeId){t.isMultiSelectEnabled()||(o.data=[]);vc.currentFacetRenderer.isKM()?vc.currentFacetRenderer.fireApplyKm(!1):vc.currentFacetRenderer.apply(!1,o.id,o.data,!0,!1,o.selector)}else t.activate(o,!0)};this.activate=function(e,n){if(t.isMultiSelectEnabled())vc.currentFacetRenderer.apply(n,e.id,e.data,!0,!1,e.selector);else{vc.currentFacetRenderer.putToActiveList(e.id,e.data,!1,e.selector);vc.currentFacetRenderer.fireApply(n)}};function n(t,n){if(!n.hasBeenExpandedBefore()){n.setHasBeenExpandedBefore(!0);Kc().retrieveRangeFacet((function(e){var t=[];Object.entries(e.data.counts).forEach((([e,n])=>{t.push({id:e,count:n})}));n.refreshCounts(t)}),e.displayOptions.id)}}}function Fu(e,t,n,i,a,o,r,s){Uc.call(this,e,t,n,i,a,o,r,s);var l=this,c=a,u=i;1==r&&1==s&&i.includes("Class")&&(u+=" (ex. 250 or A/61)");var h,f=[],p=!1,m=!1,g=!1,v=r,y=s,b="coid_ipTreeSearchButtonId",C=Hc.ids,S=Hc.classes,_=[];this.displayCounts=!0;l.matchedItems=[];this.initialize=function(){l.disableFilterButton();l.popupInitialize();if(!m){var e=document.getElementById(C.textList);e&&(e.innerHTML=`<div class="co_progressIndicator"><img src=${A["default"].GetUrl(A["default"].CSS,"/css/v2/images/co_loading_small.gif")} alt="Loading..."/></div>`);(function(){T||(T=new Pc["default"]);return T})().retrieveRangeFacet((function(e){l.facetList=e.data.available;_=e.data.selected;l.updateNumberOfItemsSelected(_.length);l.refreshTree();m=!0}),l.getId())}h=document.querySelectorAll("#co_treeSearch_list input[type=checkbox]:checked")
;l.updateNumberOfItemsSelected();document.getElementById("co_treeSearch_list")?.addEventListener("click",(function(e){const t=e.target.closest("input[type=checkbox]");if(e.currentTarget.contains(t)){document.querySelectorAll("#"+l.getChildrenElementId(t.id)+" input[type=checkbox]:checked").forEach((function(e){e.checked=!1}));document.querySelectorAll("#"+l.getDialogId()+" input:checked").forEach((function(e){e!=t&&ti["default"].nodeContains(e.parentNode,t)&&(e.checked=!1)}));l.updateNumberOfItemsSelected()}}));if(y){var t=`<input class='co_primaryBtn co_disabled' id='${b}' type='button' value='${D["default"].lookup("SC.Search.Facets.NavigatorWidget.SearchButtonValue","Search")}'></input>`,n=document.createElement("li");n.innerHTML=t;document.querySelector(".co_overlayBox_optionsBottom ul")?.prepend(n);l.attachSearchEvents()}};this.updateNumberOfItemsSelected=function(e){var t=document.querySelectorAll("#co_treeSearch_list input[type=checkbox]:checked");void 0===h&&(h=t);void 0===e&&(e=t.length);l.setFilterButtonState(t);const n={oneItem:`<strong>${t.length}</strong>`};var i=D["default"].format("SC.Search.Facet.NavigatorWidget.OneItemSelected",{oneItem:n.oneItem},`${n.oneItem} item selected`),a=D["default"].format("SC.Search.Facet.NavigatorWidget.MultipleItemSelected",{numberOfItemSelected:`<strong>${t.length}</strong>`},`<strong>${t.length}<strong> items selected`),o=1===t.length?i:a,r=document.getElementById("co_facet_searchable_selected");r&&(r.innerHTML=o)};this.setFilterButtonState=function(e){l.hasSelectedChanged(e)?l.enableFilterButton():l.disableFilterButton()};this.hasSelectedChanged=function(e){if(e.length!=h.length)return!0;var t=[];h.forEach((e=>{t.push(e.id)}));t.sort();var n=[];e.forEach((e=>{n.push(e.id)}));n.sort();for(var i=0;i<t.length;i++)if(t[i]!==n[i])return!0;return!1};this.refreshTree=function(){var e=x()("#co_treeSearch_list input[type=checkbox]:checked"),t=l.buildTree(l.facetList,!0,e),n=document.getElementById(C.textList);n&&(n.innerHTML=t)};this.buildLevel=function(e,t,n,i,a,o){var r,s,u="";for(var h in e){try{r=e[h].name;s=e[h]}catch(t){r=e.name;s=e}var f,m=!1;n.each((function(){if(this.id==s.dataOptions.id||this.value&&this.value==s.dataOptions.value){m=!0;return}}));u+="<li>";if(v&&l.hasChildren(s)){f=l.getFacetIsExpanded(s,n);u+=_c["default"].ToggleLink.create(s.dataOptions.id,l.getChildrenElementId(s.dataOptions.id),c,r,f)}u+=`<input type="checkbox" id="${s.dataOptions.id}"`;s.dataOptions.value&&(u+=` value="${(0,d.EncodeHtml)(s.dataOptions.value)}"`);u+=!p&&1==s.dataOptions.active||1==m?" checked":"";u+=`><label for="${s.dataOptions.id}" id="${s.dataOptions.id}Label">`;u+=`<span id="${s.dataOptions.id}Span">${r}</span>`;if(l.displayCounts){u+=` <span class="${S.itemCount}">`;u+=`(${s.dataOptions.count})`;u+="</span>"}var g=l.createName(o,r);u+=`<div id="co_ip_treeSearch_${s.dataOptions.id}" style="display: none;">${g}</div>`;if(l.hasChildren(s)){var y="";v&&!f&&(y="co_hideState");u+="</label>";u+=`<ul id="${l.getChildrenElementId(s.dataOptions.id)}" class="${y}">`;var b=l.createName(o,s.name);u+=`${l.buildLevel(s.children,!1,n,i,0,b)}</ul>`}else u+="</label>"}return u+='<div class="co_clear"></div></li>'};this.searchTree=function(e,t,n,i,a,o){var r,s;for(var c in e){try{r=e[c].name;s=e[c]}catch(t){r=e.name;s=e}var d=l.performSearchForLevel(s,r,i,a),u=!1,h=l.createName(o,s.name);if(d.includes("parentMatchCandidate"))u=!0;else if(!d.includes("matchedWord")&&a>0&&(d=l.performSearchForLevel(s,r,i,0)).includes("parentMatchCandidate")){var f=a-1;l.searchTree(s.children,!1,n,i,f,h)}if(l.hasChildren(s)){var p=a;u?++p:p=0;l.searchTree(s.children,!1,n,i,p,h)}}};this.createName=function(e,t){var n=t;e&&((n=e+"/"+t).includes(":")||(n=n.replace("/",": ")));return n};this.getSelected=function(){return f};this.filterCallback=function(){var e=document.querySelectorAll("#co_treeSearch_list input[type=checkbox]:checked"),t=[];f=[];e.forEach((e=>{var n=document.getElementById("co_ip_treeSearch_"+e.id),i={};i.name=n?.textContent??"";i.id=e.id;i.value=e.value;f.push(i);t.push(e.id)}));l.callApply(t,f);p=!0;h=e};this.setFacetClient=function(e){T=e};var T=void 0;this.attachSearchEvents=function(){var e=document.getElementById(C.searchBoxId);document.getElementById(b)?.addEventListener("click",(function(){var t=document.querySelectorAll("#co_treeSearch_list ."+S.searchTerm),n=document.querySelectorAll("#co_treeSearch_list ."+S.currentSearchTerm),i=document.querySelectorAll("#co_treeSearch_list .co_facet_collapse");n.forEach((e=>e.classList.remove(S.currentSearchTerm)));t.forEach((e=>{e.classList.remove("co_searchTerm")}));i.forEach((e=>e.click()));g=!1;l.matchedItems=[];var a=(0,d.Trim)(e.value),o=x()("#co_treeSearch_list input[type=checkbox]:checked");if(a.length>=1){l.searched=!0;l.searchTree(l.facetList,!0,o,a.replace(/\\/g,"/").split("/"),0)}else 1==l.searched&&document.getElementById(C.overlaySearch)?.classList.remove(S.activeClass);var r=document.getElementById(C.textList);if(!g&&a.length>=1){var s=document.getElementById(C.overlaySearchResults);s&&(s.innerHTML=D["default"].lookup("SC.Search.Facets.NavigatorWidget.noResults","<span>No</span> results found"));l.scrollTo(document.getElementById(C.textList),x()(r).children("li")[0])}else if(a.length<1)l.scrollTo(document.getElementById(C.textList),x()(r).children("li")[0]);else{document.getElementById(C.overlaySearchResults)?.replaceChildren();var c=x()("."+S.currentSearchTerm);l.scrollTo(r,c)}}));e?.addEventListener("keyup",(function(e){var t=document.getElementById(b);if(!t)return;if(void 0!==this.value&&this.value.length>0){t.className="co_primaryBtn co_button";13==(e.keyCode||e.which)&&t?.click()}else t.className="co_primaryBtn co_disabled"}));document.getElementById(C.searchBoxId)?.addEventListener("focus",(function(){(document.getElementById(C.searchBoxId)?.value??"")==u&&((document.getElementById(C.searchBoxId)??{}).value="")}));document.getElementById(C.previousResult)?.addEventListener("click",(function(){l.findHighlightedMatch(!0)}));document.getElementById(C.nextResult)?.addEventListener("click",(function(){l.findHighlightedMatch(!1)}))};this.performSearchForLevel=function(e,t,n,i){if(void 0!==n&&void 0!==n[i]&&t.toLowerCase().includes(n[i].toLowerCase())){document.getElementById(C.overlaySearch)?.classList.add(S.activeClass);for(var a=new RegExp("("+n[i]+")","gi"),o=t.split(a),r=o.length,s=0;s<r;s++){var l=o[s],c=document.getElementById(`${e.dataOptions.id}Span`);if(l.toLowerCase().match(n[i].toLowerCase())){if(0==l.length||0==s||i!=n.length-1)return"parentMatchCandidate";this.matchedItems.includes(c?.id)||this.matchedItems.push(c?.id);c?.classList.add("co_searchTerm");(0,P.parents)(c,"li").forEach((e=>{const t=[...e.children].find((e=>"A"===e.nodeName));t?.classList.contains("co_facet_expand")&&t.click()}));if(0==g){c?.classList.add(S.currentSearchTerm);g=!0}}}}return"itemNotFound"};this.findHighlightedMatch=function(e){var t=this.matchedItems.length,n=document.querySelector(".co_currentSearchTerm"),i=this.matchedItems.indexOf(n?.id);S.currentSearchTerm&&n?.classList.remove(S.currentSearchTerm);e?--i<0&&(i=t-1):++i>=t&&(i=0);var a=document.getElementById(this.matchedItems[i]);a?.classList.add(S.currentSearchTerm);this.scrollTo(document.getElementById(C.textList),a);return!1}}function Wu(e,t){kc.call(this,e);var n=this;t||(t={});var i=_c["default"].getIndefiniteArticle(n.getDisplayName())+" "+n.getDisplayName(),a=D["default"].lookup("SC.Search.Facets.NavigatorWidget.EnterSearchLabel."+n.getFacetId(),`Enter ${i}`),o=!!t.expandable&&t.expandable,r=!!t.searchable&&t.searchable,s=n.getDisplayName();const l={};this.createModalWidget=function(){return new Fu(n.getParentDivId(),n.getFacetId(),s,a,n.getDisplayName(),n.getData(),o,r)};this.createItemList=function(){var e=n.getSortedAttributes(n.getData());return function(e,t,n){null==n&&(n=!0);return function(e,t,n){var i,a="";for(var o in t){var r="";r+='<li id="{itemId}"';"INCLUDE_SUBSEARCH"===(i=t[o]).dataOptions.id&&(r+=' style="display:none"');r+=">";r+='<input id="{inputId}" type="checkbox" {disabled} {checked} />';r+="{countHtml}";r+="{labelHtml}";r+="</li>";const s={parentid:e,attributeId:i.dataOptions.id,
labelClass:i.dataOptions.labelClass,name:i.dataOptions.value,applyToFront:!1,disabled:""};s.itemId=u(s);s.inputId=c(s);s.countHtml=n?h(i):"";s.labelHtml=f(s);if(1==i.dataOptions.active){s.isAddition="false";s.checked="checked";vc.currentFacetRenderer.putToActiveList(e,s.attributeId)}else{s.isAddition="true";s.checked=""}a+=(0,ni.substitute)(r,s);const d=`#${s.inputId}`;document.body.removeEventListener("click",l[d]);const p=function(e){e.target.closest(d)&&vc.currentFacetRenderer.toggle(s.parentid,s.attributeId,s.applyToFront)};document.body.addEventListener("click",p);l[d]=p}return a}(e,t,n)}(n.getFacetId(),e.active)};function c(e){return"co_facetItem_"+e.parentid+e.attributeId}function u(e){return"co_facet"+e.attributeId}function h(e){var t="co_facetCount",n="";if(null!=e.dataOptions.count){"0"==e.dataOptions.count&&(t+=" co_disabled");var i=(0,ni.formatNumberWithCommas)(e.dataOptions.count);n=(0,ni.substitute)('<span class="{clazz}">{count}</span>',{count:i,clazz:t})}return n}function f(e){var t,n=e.name;if(e.name){var i=e.name.length>20?(0,d.Trim)(e.name.substring(0,20))+"...":e.name;(t=document.createElement("span")).className="co_docHeaderTitleLine";t.textContent=i;t.title=n}return t.outerHTML}}Wu.prototype=Object.create(kc.prototype);Wu.prototype.constructor=Wu;const Hu=Wu;function Gu(e){Rc.call(this,e);var t=this;const n={};t.removeDivCssClass("co_popup_facet");this.handleHeaderClicked=function(){0};this.getFacetHtml=function(){var e="",a=t.getFacetId(),o=t.getData(),r=t.getDisplayName(),s=t.getDisplayNamePlural()?t.getDisplayNamePlural():r;o.length>5?e+=function(e,t,a,o){var r=!1,s="",l=e+"Overflow";for(var c in t)if(c>4&&1==t[c].dataOptions.active){r=!0;break}if(r)s+=`<ul>${i(e,t)}</ul>`;else{s+="<ul>"+i(e,t.slice(0,5))+'</ul><a href="#" class="co_select_list_link_'+e+'" id="clientanchor">'+function(e){return void 0!==e&&"undefined"!=e?e:""}(o)+'</a><div class="co_hideState" id="'+l+'"><ul>'+i(e,t.slice(5))+"</ul></div>";var d=`.co_select_list_link_${e}`;document.body.removeEventListener("click",n[d]);const a=function(e){const t=e.target.closest(d);if(t){t.className="co_hideState";p["default"].RemoveClass(document.getElementById(l),"co_hideState");e.preventDefault();e.stopPropagation()}};document.body.addEventListener("click",a);n[d]=a}return s}(a,o,0,s):e+=`<ul>${i(a,o)}</ul>`;return e};this.isExpressAccordianSelectionSupported=function(){return!1};function i(e,n){return t.getXBoxRenderer().createHtml(e,n)}}Gu.prototype=Object.create(Rc.prototype);Gu.prototype.constructor=Gu;const Uu=Gu;var ju=n(5629);function $u(e,t){var n=this;Dc.call(this,e);this.dateData=null;this.dateRangesTemplate='\x3c!--\n @file PredefinedDateRanges template\n--\x3e\n<div class="co_dropDownMenu js_dropDownMenu th_flat">\n\t<button type="button" class="co_dropDownButton" aria-haspopup="true" aria-expanded="false">\n\t\t<% \t if(!model.currentlySelected) {\n\t\t\t\tmodel.currentlySelected = model.orderedList[0];\n\t\t}\n\t\t%>\n\t\t<%- Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.\' + model.currentlySelected, model.currentlySelected) %>\n\t\t<span class="th_flat_icon icon_down_arrow"></span>\n\t\t<span class="co_accessibilityLabel"><%- Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.label\', \'Select Date\') %></span>\n\t</button>\n\t<div class="co_dropDownMenuContent" aria-hidden="true" aria-label="submenu">\n\t\t<ul class="co_dropDownMenuList">\n\t\t\t<% for(var i = 0; i < model.orderedList.length; i++) { %>\n\t\t\t<li>\n\t\t\t\t<a class="co_facet_predefinedListDateRanges_dateRange" href="javascript:void(0);" data-content="<%- model.orderedList[i] %>"\n\t\t\t\t\ttitle="<%- Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.\' + model.orderedList[i], model.orderedList[i]) %>">\n\t\t\t\t\t<%- Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.\' + model.orderedList[i], model.orderedList[i]) %>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<% } %>\n\n\t\t</ul>\n\t</div>\n</div>\n';this.currentlySelected=null;this.init=function(){n.dateData=e.data.counts;n.currentlySelected=e.data.selectedRangeId||"";t.counts&&(this.dateRangesTemplate='\x3c!--\n @file PredefinedDateRangesWithCounts template\n--\x3e\n<div class="co_dropDownMenu js_dropDownMenu th_flat">\n\t<% if(!model.currentlySelected) {\n\t\t\tmodel.currentlySelected = "all";\n\t\t}\n\t\tvar currentFriendlyName =  Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.\' + model.currentlySelected, model.currentlySelected);\n\t%>\n\t<button type="button" class="co_dropDownButton" aria-haspopup="true" aria-expanded="false">\n\t\t<%- currentFriendlyName %>\n\t\t<span class="th_flat_icon icon_down_arrow"></span>\n\t\t<span class="co_accessibilityLabel"><%- Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.label\', \'Select Date\') %></span>\n\t</button>\n\t<div class="co_dropDownMenuContent" aria-hidden="true" aria-label="submenu">\n\t\t<ul class="co_dropDownMenuList">\n\t\t\t<li>\n\t\t\t\t<%\n\t\t\t\t\tvar all =  Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.all\', \'All\');\n\t\t\t\t%>\n\t\t\t\t<a class="co_facet_predefinedListDateRanges_dateRange" href="javascript:void(0);" data-content=""\n\t\t\t\t   title="<%- all %>">\n\t\t\t\t\t<span class=\'co_facet_predefinedListDateRanges_name\'><%- all %></span>\n\t\t\t\t\t\x3c!-- DISABLED UNIT NOVUS COUNTS ARE FIXED <span class=\'co_facet_predefinedListDateRanges_counts\'><%- model.counts[""+model.orderedList[i]] %></span> --\x3e\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<% for(var i = 0; i < model.orderedList.length; i++) {\n\t\t\t\tvar friendlyName = Localizer.lookup(\'SC.Search.Facets.PredefinedDateRanges.\' + model.orderedList[i], model.orderedList[i]) ;\n\t\t\t%>\n\t\t\t<li>\n\t\t\t\t<a class="co_facet_predefinedListDateRanges_dateRange" href="javascript:void(0);" data-content="<%- model.orderedList[i] %>"\n\t\t\t\t   title="<%- friendlyName %>">\n\t\t\t\t\t<span class=\'co_facet_predefinedListDateRanges_name\'><%- friendlyName %></span>\n\t\t\t\t\t\x3c!-- DISABLED UNIT NOVUS COUNTS ARE FIXED <span class=\'co_facet_predefinedListDateRanges_counts\'><%- model.counts[""+model.orderedList[i]] %></span> --\x3e\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t<% } %>\n\t\t</ul>\n\t</div>\n</div>\n')};this.dateOptionComparison=function(e,t){var n=/\d+/;return n.exec(e)-n.exec(t)};this.reorderDateData=function(e){var t=[],i=[],a=[];for(const n in e)n.indexOf("mo")>-1?t.push(n):n.indexOf("yr")>-1?i.push(n):a.push(n);t.sort(n.dateOptionComparison);i.sort(n.dateOptionComparison);a.sort();return a.concat(t.concat(i))};this.renderDateRanges=function(){var e=x()(".co_facet_predefinedDateRanges"),t=st().template(this.dateRangesTemplate),i=n.reorderDateData(n.dateData);e.html(t({Localizer:D["default"],model:{counts:n.dateData,orderedList:i,currentlySelected:n.currentlySelected}}));(0,ju["default"])({jsTriggerSelector:".js_dropDownMenu",menuInitiatorSelector:".co_dropDownButton",menuContentItemSelector:".co_dropDownMenuContent a",expandedClass:"expanded",dropDownMenuContent:".co_dropDownMenuContent",clearPreviousListeners:!0});e.find(".co_dropDownMenuList .co_facet_predefinedListDateRanges_dateRange").on("click",n.dateRangeChangeFunction)};this.dateRangeChangeFunction=function(){var t=ge.ElementStorage.get(this,"content"),i="dateRanges";if(!t){t=void 0;i=void 0}n.updateDropDownValue(this.title);if(n.isMultiSelectEnabled())if(void 0===t){vc.currentFacetRenderer.resetFacet(e.displayOptions.id);vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,t,!1,i);vc.currentFacetRenderer.enableApplyButton(!0)}else vc.currentFacetRenderer.apply(!0,e.displayOptions.id,t,!0,!1,i);else{vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,t,!1,i);vc.currentFacetRenderer.fireApply(!1)}};this.updateDropDownValue=function(e){document.querySelector(".co_facet_predefinedDateRanges button.co_dropDownButton").childNodes[0].textContent=e;document.dispatchEvent(new Event("mouseup"))};this.getFacetHtml=function(){return"<div class='co_facet_predefinedDateRanges'></div>"};this.initialize=function(e){n.renderDateRanges();e()};n.init()}var Vu=n(9671);function qu(e){var t=this;Dc.call(this,e);this.calendar=null;this.containerId="calendarFacet"
;this.serverDateFormat="MM-DD-YYYY";this.facetDateFormat="YYYYMMDD";this.date=new Date;this.renderCalendarRangeSelector=function(){var n=st().template('\x3c!--\n @file Calendar template\n--\x3e\n<h4 class="co_facet_header" id="co_facetHeaderkeyDateCalendarRange"><%- model.rangeLabel %></h4>\n<select id="calendarFacetRange" aria-label="<%- model.rangeLabel %>">\n\t<% _.forEach(model.ranges, function(range) { %>\n\t\t<option value="<%- range.value %>"><%- range.label %></option>\n\t<% }) %>\n</select>\n')({model:{rangeLabel:D["default"].lookup("SC.Search.Facets.Calendar.RangeLabel","Date range"),ranges:t.createCalendarRanges()}}),i=document.getElementById("calendarFacetRangeContainer");i&&(i.innerHTML=n);if(e&&e.data.selectedBeginDate){const n=document.getElementById("calendarFacetRange");n&&(n.value=`${t.calculateDateRange(e.data.selectedBeginDate,e.data.selectedEndDate)}`);t.renderHeaderDateText(e.data.selectedBeginDate,e.data.selectedEndDate)}document.getElementById("calendarFacetRange")?.addEventListener("change",(function(){t.sendDateRangeEvent();t.updateResults(t.date.getDate())}))};this.createCalendarRanges=function(){const e=[{value:1,label:D["default"].lookup("SC.Search.Facets.Calendar.oneMonthLabel","1 month")},{value:3,label:D["default"].lookup("SC.Search.Facets.Calendar.threeMonthLabel","3 months")},{value:6,label:D["default"].lookup("SC.Search.Facets.Calendar.sixMonthLabel","6 months")}];if(o["default"].isIacOn("IAC-UK-CALENDAR-UPDATE")){e.push({value:12,label:D["default"].lookup("SC.Search.Facets.Calendar.twelveMonthLabel","12 months")});e.push({value:-1,label:D["default"].lookup("SC.Search.Facets.Calendar.allLabel","All")})}return e};this.serverDateStringToDate=function(e){return ed()(e,t.serverDateFormat).toDate()};this.renderHeaderDateText=function(e,n){const i=document.querySelector(".co_search_result_heading_content");if(i){i.classList.add("co_keyDateResultHeader");var a;if("0"===n){const n=D["default"].renderDate(t.serverDateStringToDate(e),"SC.Config.Date.Search.Calendar.FullDateFormat","MMMM d, yyyy");a=D["default"].format("SC.Search.Facets.Calendar.FromDateHeader",{date:n},`From ${n}`)}else{const i=D["default"].renderDate(t.serverDateStringToDate(e),"SC.Config.Date.Search.Calendar.DateWithoutYearFormat","d MMMM"),o=D["default"].renderDate(t.serverDateStringToDate(n),"SC.Config.Date.Search.Calendar.FullDateFormat","MMMM d, yyyy");a=D["default"].format("SC.Search.Facets.Calendar.RangeDateHeader",{startDate:i,endDate:o},`${i} - ${o}`)}var o=i.querySelector(".calendarDateTitle");o?o.textContent=a:i.insertAdjacentHTML("beforeend",`<h2 class='calendarDateTitle'>${a}</h2>`)}};this.calculateDateRange=function(e,t){if("0"===t)return-1;return ed()(t,this.serverDateFormat).add(1,"d").diff(ed()(e,this.serverDateFormat),"months")};this.getFacetHtml=function(){return`<div id='${t.containerId}'></div><div id='calendarFacetRangeContainer'></div>`};this.initCalendar=function(){t.calendar=new Vu.A;t.calendar.Initialize(null,t.containerId,null,!!e);e&&e.data.selectedBeginDate&&(t.date=t.serverDateStringToDate(e.data.selectedBeginDate));t.calendar.onMonthChange=function(){t.updateResults(1)}};this.dateToDateString=function(e){if(!e)return"0";return ed()(e).format(this.serverDateFormat)};this.extractKeyDatesFromFacet=function(){var n=[],i=e.data.counts;for(var a in i)if(i.hasOwnProperty(a)){var o=ed()(a,t.facetDateFormat).toDate();t.date.getYear()===o.getYear()&&t.date.getMonth()===o.getMonth()&&n.push(`${o.getDate()}`)}return n};this.refreshResultsForDates=function(e,n){var i=`custom,${t.dateToDateString(e)},${t.dateToDateString(n)}`;vc.currentFacetRenderer.putToActiveList(t.getFacetId(),i,!0,"calendar");vc.currentFacetRenderer.fireApply(!1)};this.enableClickableDates=function(){var e=x()(`#${t.containerId}`);e.find("td").each((function(){var e=x()(this),t=e.html().trim();t&&0===e.find("a").length&&e.html(`<a href='javascript:void(0)' class='nonEventDay'>${t}</a>`)}));e.find(".co_calendar_gridContainer table").on("click","a",(function(){var e=this.textContent;t.sendDateClickEvent(e);t.updateResults(e)}))};this.extractStartAndEndDates=function(e,t,n){var i,a=new Date(e.currentDate);t&&a.setDate(t);if(-1!=n){i=ed()(a).add(n,"months");ed()(a).date()<=i.date()&&i.subtract(1,"days");i=i.toDate()}return{start:a,end:i}};this.updateResults=function(e){var n=parseInt(document.getElementById("calendarFacetRange")?.value??""),i=t.extractStartAndEndDates(t.calendar,e,n);t.refreshResultsForDates(i.start,i.end)};this.sendDateClickEvent=function(){};this.sendDateRangeEvent=function(){};this.initialize=function(e){t.calendar.setCalendarMonthEvents(t.extractKeyDatesFromFacet());t.calendar.setInitialDate(new Date);t.calendar.draw(t.date);t.enableClickableDates();t.renderCalendarRangeSelector();e()};t.initCalendar()}function zu(){this.lpaKeywordFacets=[]}zu.prototype.build=function(e,t,n){var i=e.displayOptions.selector,a=e.displayOptions.id,r=null,s=o["default"].isIacOn("IAC-A11Y-DATE-WIDGET");switch(i){case"keynumber":r=new Wc(e);break;case"lpaKeyword":this.lpaKeywordFacets[a]=e;break;case"hierarchicalCheckBox":r=new $c(_c["default"].collectorToLegacyFacetBridge(e),{expandable:!0});break;case"treeSearch":r=new $c(_c["default"].collectorToLegacyFacetBridge(e),{searchable:!0});break;case"lpa":r=new Jc(e,this.lpaKeywordFacets[a+"_keyword"]);break;case"searchWithin":r=new bu(e);break;case"date":r=_c["default"].isKM()?new cd(e):s?new Kd(e):new sd(e);break;case"year":r=new Zd(e);break;case"hierarchy":r=new iu(e);break;case"popupEntry":r=new ru(e);break;case"multipleXBoxes":r=new fu(_c["default"].legacyToCollectorFacetBridge(e));break;case"multipleGroupsXBoxes":r=new gu(_c["default"].legacyToCollectorFacetBridge(e));break;case"ipMultipleXBoxes":r=new wu(_c["default"].legacyToCollectorFacetBridge(e));break;case"multipleXBoxesCollector":r=new Au(e);break;case"publication":r=new Ou(e);break;case"collector":r=new Rc(e);break;case"allXBoxes":r=new Su(e);break;case"range":r=new Mu(e);break;case"ipHierarchicalTreeSearch":r=new Hu(_c["default"].collectorToLegacyFacetBridge(e),{searchable:!0,expandable:!0});break;case"selectList":r=new Uu(_c["default"].legacyToCollectorFacetBridge(e));break;case"calendar":r=new qu(e);break;case"dateRanges":r=new $u(e,{counts:"researchDateSummary"===a});break;default:r=zu.getFactoryFacetWidget(e)}if(r){r.setFacetSettings(t[i]);r.setMultiSelectEnabled(n)}return r};zu.getFactoryFacetWidget=function(e){const t=e.displayOptions.selector,n=zu.List.filter((e=>e&&e.displaySelector===t))[0];if(n){const t=n.collectorToLegacyFacetBridge?_c["default"].collectorToLegacyFacetBridge(e):e;return new n.factory(t)}};zu.List=[];const Ku=zu;function Yu(e,t){Sc.call(this,e,t);this.instanceId=e;this.whatsmarketDateRangeFacetIds=["wmDateRange","wmDealDateRange","wmUKDateRangeFacet"];this.widgetDateFormat=D["default"].lookup("SC.Config.Date.DateWidget.EmbeddedDateFormat","MM/dd/yyyy");this.doneButtonText=D["default"].lookup("SC.Search.AdvanceSearch.DoneButtonText","OK");this.doneButtonTextKey="OK";const n={customRangeSubTypeId:this.FROM_UNTIL};this.selectors={applyFilterSelectors:"#co_multifacet_selector_1_applyFacetFilter,#co_multifacet_selector_2_applyFacetFilter",doneButtonClass:"co_button_submit_small co_primaryBtn",disabledClass:"co_disabled",doneButtonSelector:`#${(0,ni.substitute)(this._CUSTOM_RANGE_DONE_BUTTON_ID,n)}`,fromDateFieldId:(0,ni.substitute)(this._CUSTOM_RANGE_TEXT_ID,n),toDateFieldId:(0,ni.substitute)(this._CUSTOM_RANGE_UNTIL_TEXT_ID,n),customRangeButtonListClass:"co_dateWidgetCustomRange_fromUntil_submit",footerDivId:`co_dateWidget_footer_${this.instanceId}`,customListId:`co_dateWidgetCustomList_${this.instanceId}`};this.createHtml=function(e){this._completionCallback=e;const t=this.createCustomListHtml(),n={footerDivId:this.selectors.footerDivId,customListId:this.selectors.customListId,customList:t}
;return st().template('<div class="plc_date_facet">\n    <div class="co_facet_sad_footerContainer">\n        <div id="<%- footerDivId %>">\n            <div class="co_facet_sad_footerRight">\n                <ul id="<%- customListId %>" class="co_facet_sad_footerContent plcDateRanges"><%= customList %></ul>\n            </div>\n        </div>\n    </div>\n</div>')(n)};this.createCustomListHtml=function(){const e=D["default"].lookup("SC.Search.DateWidget.FromLabel","From:"),t=D["default"].lookup("SC.Search.DateWidget.UntilLabel","Until:");let n=this.FROM_UNTIL==this.selectedCustomRangeSubTypeId?"<strong>"+this.getDateRangeLabel()+"</strong>":this.getDateRangeLabel();this.whatsmarketDateRangeFacetIds.includes(this.instanceId)&&(n="");const i=this._CUSTOM_RANGE_LIST_ENTRY_FIELD_HTML(this.getCustomFieldSubstituteObject(this.selectedCustomRangeDate,"",e,this.FROM_UNTIL)),a=this._CUSTOM_RANGE_LIST_ENTRY_UNTIL_FIELD_HTML(this.getCustomFieldSubstituteObject(this.selectedCustomRangeDateUntil,"",t,this.FROM_UNTIL)),o=this.getSubstituteData("",i,this.selectors.customRangeButtonListClass,a,"",n,undefined,this.selectors.doneButtonClass,this.FROM_UNTIL);o.hideButton=this._multiSelectEnabled?this._HIDE_CLASS:"";const r=st().template('<li>\n    <h5><%= label %></h5>\n    <fieldset>\n        <legend class="co_accessibilityLabel"><%= label %></legend>\n        <ol id="<%- customRangeEntryFieldListId %>">\n            <%= entryField %>\n            <%= untilEntryField %>\n            <li class="<%- customRangeButtonListClass %>">\n                <input id="<%- customRangeDoneBtnId %>" type="submit" value="<%- doneButtonText %>" class="<%- doneButtonClass %> <%- hideButton %> co_disabled" />\n            </li>\n        </ol>\n    </fieldset>\n</li>')(o);this.setCustomRangeListClickHandlers();return r};this.handleGoClicked=function(e,t,n){e.stopPropagation();const i=this.validate(t)&&!n;if(i){this.resetInitialProperties();this.collapseOnDoneIfApplicable();this.fireCompletedCallback(!0)}return i};this.setMultiSelectEnabled=function(e){this._multiSelectEnabled=e;const t=document.querySelectorAll(`#${this.selectors.customListId} input.co_primaryBtn`);this._fixedRangeCounts=[];if(this._multiSelectEnabled){t.forEach((e=>e.classList.add(this._HIDE_CLASS)));this.doneButtonText=D["default"].lookup("SC.Search.Facets.NavigatorWidget.ApplyFiltersButton","Apply Filters");this.doneButtonTextKey="ApplyFilters"}else{const e=D["default"].lookup("SC.Search.AdvanceSearch.DoneButtonText","OK");t.forEach((t=>t.setAttribute("value",e)));this.doneButtonText=e;this.doneButtonTextKey="OK"}};this.handleBodyClick=e=>{if(e.target.closest(this.selectors.doneButtonSelector)){const t=document.querySelector(this.selectors.doneButtonSelector)?.classList.contains(this.selectors.disabledClass);this.handleGoClicked(e,this.FROM_UNTIL,t);e.preventDefault();e.stopPropagation()}};this.handleBodyFocusIn=e=>{const t=e.target.closest(`#${this.selectors.fromDateFieldId}`),n=e.target.closest(`#${this.selectors.toDateFieldId}`);(t||n)&&this.updateCustomRangeUserInterface()};this.handleBodyInput=e=>{const t=e.target.closest(`#${this.selectors.fromDateFieldId}`),n=e.target.closest(`#${this.selectors.toDateFieldId}`);if(t||n){if(this._multiSelectEnabled)this.validate(this.FROM_UNTIL,!1)?this.fireCompletedCallback(!0):this.disableApplyFiltersButton();else{const e=!this.validate(this.FROM_UNTIL,!1);document.querySelector(this.selectors.doneButtonSelector)?.classList.toggle(this.selectors.disabledClass,e)}e.preventDefault();e.stopPropagation()}};this.setCustomRangeListClickHandlers=function(){document.body.addEventListener("click",this.handleBodyClick);document.body.addEventListener("focusin",this.handleBodyFocusIn);document.body.addEventListener("input",this.handleBodyInput);document.body.addEventListener("click",this.handleFilterApply)};this.handleFilterApply=e=>{if(!e.target.closest(this.selectors.applyFilterSelectors))return;this.validate(this.FROM_UNTIL);e.preventDefault();e.stopPropagation()};this.validateInputs=function(e,t,n=!0){const i=D["default"].lookup("SC.Config.Date.DateWidget.MomentDisplayDateFormat","MM/DD/YYYY"),a=ed()(e.formatedDateValue,i,!0),o=e.jqueryElement;if(!a.isValid()&&""!==o.value){n&&this.dateErrorMessage(o,t);return!1}{const e=a.year();if(e<1e3||e>2999){n&&this.dateErrorMessage(o,t);return!1}}return!0};this.dateErrorMessage=function(e,t){this.displayBadDateValidationMessage(e,e.value,this.FROM_UNTIL,t)};this.validateEmptyInputValues=function(e,t,n){if(e.hasEmptyValue&&t.hasEmptyValue){if(this._multiSelectEnabled){this.commitCustomValues();return!0}n&&this.dateErrorMessage(t.jqueryElement,this._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID);return!1}if(e.hasEmptyValue){n&&this.dateErrorMessage(e.jqueryElement,this._CUSTOM_RANGE_ERROR_BOX_ID);return!1}if(t.hasEmptyValue){n&&this.dateErrorMessage(t.jqueryElement,this._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID);return!1}};this.getDataObjFromInput=function(e){const t=this.getCustomRangeElement(e,this.selectedCustomRangeSubTypeId),n=t.value,i=this.convertStringToDate(n),a=i&&i.toFormattedString(this.getDateFormat());return{jqueryElement:t,hasEmptyValue:!("string"==typeof t.value&&t.value.length),dateValue:i,formatedDateValue:a}};this.validate=function(e,t=!0){this.selectedCustomRangeSubTypeId=e;const n=this.getDataObjFromInput(this._CUSTOM_RANGE_TEXT_ID),i=this.getDataObjFromInput(this._CUSTOM_RANGE_UNTIL_TEXT_ID),a=this.validateEmptyInputValues(n,i,t);if(void 0!==a)return a;if(this.selectedCustomRangeSubTypeId===this.FROM_UNTIL){if(!this.validateInputs(n,this._CUSTOM_RANGE_ERROR_BOX_ID,t)||!this.validateInputs(i,this._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID,t))return!1;if(n.dateValue&&i.dateValue&&n.dateValue.compareTo(i.dateValue)>0){t&&this.showErrorMessage(D["default"].lookup("SC.Search.DateWidget.BadUntilDate","To date must be greater than From date"),i.jqueryElement,this._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID);const e=document.getElementById(this.selectors.fromDateFieldId);e&&e.replaceWith(e.cloneNode(!0));const n=document.getElementById(this.selectors.toDateFieldId);n&&n.replaceWith(n.cloneNode(!0));return!1}}this.commitCustomValues();return!0};this.getCustomFieldSubstituteObject=function(e,t,n,i){return{customRangeTextId:this.selectors.fromDateFieldId,customRangeErrorBoxId:(0,ni.substitute)(this._CUSTOM_RANGE_ERROR_BOX_ID,{customRangeSubTypeId:i}),customRangeUntilTextId:this.selectors.toDateFieldId,customRangeUntilErrorBoxId:(0,ni.substitute)(this._CUSTOM_RANGE_UNTIL_ERROR_BOX_ID,{customRangeSubTypeId:i}),date:this.formatDate(e),labelClass:t,label:n,customRangeSubTypeId:i,placeholderText:D["default"].lookup("SC.Search.DateWidget.DateFieldPlaceHolderText","mm/dd/yyyy")}};this.formatDate=function(e,t=""){const n=this.convertStringToDate(e),i=this.getDateFormat();return null!=n?n.toFormattedString(i):t};this.disableApplyFiltersButton=function(){const e=document.querySelectorAll(this.selectors.applyFilterSelectors),t=D["default"].lookup("SC.Search.Facets.NavigatorWidget.HoverText.ApplyFiltersDisabled","Apply Filters Disabled");[...e].some((e=>e.classList.contains(this.selectors.disabledClass)))||e.forEach((e=>{e.classList.toggle(this.selectors.disabledClass);e.setAttribute("title",t);e.querySelectorAll("span").forEach((e=>{e.textContent="Disabled"}))}))};this.updateCustomRangeUserInterface=function(){}}Yu.prototype=Object.create(Sc.prototype);Yu.prototype.constructor=Yu;const Qu=Yu;function Xu(e){sd.call(this,e);var t=this;this.restrictOptions=function(e){e.shouldDisplayCustomRangeOption=!0};this.createModalWidget=function(){var n=t.getData(),i=new Qu(e.displayOptions.id,e.name),a=n.selectedRangeId,o=i.fixedRangeTypeList;this.restrictOptions(i,Xn["default"].SearchResult.getAdvancedQueryDisplayValues());i.fixedRangeTypeList=t.getDateRanges();for(const e in i.fixedRangeTypeList)i.fixedRangeTypeList[e].count=n.counts[i.fixedRangeTypeList[e].id];if(!(0,ni.isBlank)(a)){var r=[a];if(a==i.CUSTOM){r.push(n.selectedBeginDate);r.push(n.selectedEndDate)}vc.currentFacetRenderer.putToActiveList(e.displayOptions.id,r,!1,e.displayOptions.selector)}i.customRangeLabel=D["default"].lookup("SC.Search.DateRangesFromTo.CustomRangeLabelText","Select a date or range >>")
;i.selectedRangeTypeId=(0,ni.isBlank)(a)?D["default"].lookup("SC.Search.DateRangesFromTo.CustomRangeTypeId","all"):a;if(a==i.CUSTOM)if(n.selectedBeginDate&&n.selectedEndDate){i.selectedCustomRangeSubTypeId=i.FROM_UNTIL;i.selectedCustomRangeDate=t.getDateStringFormattedForDisplay(n.selectedBeginDate,!1,i.getDateFormat());i.selectedCustomRangeDateUntil=t.getDateStringFormattedForDisplay(n.selectedEndDate,!1,i.getDateFormat())}else{i.selectedCustomRangeSubTypeId=0==n.selectedBeginDate?i.BEFORE:i.AFTER;i.selectedCustomRangeDate=i.selectedCustomRangeSubTypeId==i.BEFORE?t.getDateStringFormattedForDisplay(n.selectedEndDate,1,i.getDateFormat()):t.getDateStringFormattedForDisplay(n.selectedBeginDate,-1,i.getDateFormat())}i.setMultiSelectEnabled(t.isMultiSelectEnabled());o=i.fixedRangeTypeList;for(let e=0;e<o.length;e++)"all"===o[e].id&&3===e&&o.unshift(o.pop());(new Pc["default"]).retrieveDateFacet((function(e){var n=[];Object.entries(e.data.counts).forEach((([e,t])=>{n.push({id:e,count:t})}));t.getModalWidget().refreshCounts(n)}),e.displayOptions.id);return i};this.handleDateSelection=function(e,n,i){const a="boolean"!=typeof i||i,o=t.isMultiSelectEnabled();o||vc.currentFacetRenderer.removeFromActiveList(e);var r={id:e,selector:t.getSelector(),data:[n.selectedRangeTypeId]};if("all"==n.selectedRangeTypeId){o||(r.data=[]);vc.currentFacetRenderer.apply(!1,r.id,r.data,!0,!1,r.selector)}else{let e=!0;if(n.selectedRangeTypeId==n.CUSTOM)if(n.selectedCustomRangeDate&&n.selectedCustomRangeDateUntil){r.data.push(n.selectedCustomRangeDate);r.data.push(n.selectedCustomRangeDateUntil)}else if(n.selectedCustomRangeDate&&!n.selectedCustomRangeDateUntil){r.data.push(n.selectedCustomRangeDate);r.data.push(t.getInfinity())}else if(!n.selectedCustomRangeDate&&n.selectedCustomRangeDateUntil){r.data.push(t.getInfinity());r.data.push(n.selectedCustomRangeDateUntil)}else null==n.selectedCustomRangeDate&&null==n.selectedCustomRangeDateUntil&&(e=!1);if(e)t.activate(r,a);else if(o){r.data=null;t.activate(r,a)}}}}Xu.prototype=Object.create(sd.prototype);Xu.prototype.constructor=Xu;const Ju=Xu;Ku.DateRangesFromTo={displaySelector:"dateRangesFromTo",factory:Ju};Ku.List.push(Ku.DateRangesFromTo);const Zu=Ku;const eh=function(e,t,n,i,a,r){Ec.call(this,e,t,n);const s="co_facetSelected",l="TRDFirstSearchMatchedWord";var c,h=this,f=new Pc["default"];this._expandAction=D["default"].lookup("SC.Search.Facets.TRDiscover.action.expand","Expand");this._collapseAction=D["default"].lookup("SC.Search.Facets.TRDiscover.action.collapse","Collapse");this._expandCssClass="co_facet_expand";this._collapseCssClass="co_facet_collapse";this._hideStateCssClass="co_hideState";this._dataRetrievalInProgress=!1;this.setData=function(e){c=e};this.showDisplayCount=()=>!1;this.getData=function(){return c};h.setData(i);if(!r){this._dataRetrievalInProgress=!0;f.retrieveLpaFacetAttributes(h.getId(),"",(e=>{this.setData(e.data.available);this._dataRetrievalInProgress=!1;this.publishDataRetrievedEvent(t,e)}))}var p,g,v=a||[],b=v.slice(),C="co_facet_searchBoxInput",S="co_facet_searchBox",_="co_facet_clearSearch",T=null,I=D["default"].lookup("SC.Search.Facets.NavigatorWidget.MinCharacters","Please enter at least 2 characters to search"),k=D["default"].lookup("SC.Search.Facets.TRDiscover.Searchwithin.NoResultsFound","No results found."),w=`<li class="co_facet_searchEmpty"><div class="icon"></div>${k}</li>`,E=D["default"].lookup("SC.Search.Facets.TRDiscover.Searchwithin.ClearSearch","Clear search");this.getNoItemsText=()=>k;this.getSearchDefaultText=function(){const e=this.getTitle(),t=this.getId(),n=`Enter ${_c["default"].getIndefiniteArticle(e)} ${e}`;return D["default"].lookup(`SC.Search.Facets.NavigatorWidget.EnterSearchLabel.${t}`,n)};this.setDefaultFocus=function(){document.getElementById(C)?.focus()};this.getSelectedItemClass=function(){return s};this.getContainerClass=function(){return"co_facet_collector co_wide"};this.getSelectedList=function(){return g=g||x()("#"+h.getSelectedListId())};this.getAvailableList=function(){return p=p||x()("#"+h.getAvailableListId())};this.getAvailableListId=function(){return"co_facet_"+h.getHtmlId()+"_availableOptions"};this.getSelectedListId=function(){return"co_facet_"+h.getHtmlId()+"_selectedOptions"};this.finalizeInitialization=function(){h.refreshAvailable();h.initializeHierarchySelect();h.setFilterButtonState()};this.initialize=function(){h.setTreeLevels({children:h.getData()},"");h.finalizeInitialization()};this.popupHiddenHandler=function(){p=null;g=null};this.popupShownHandler=function(){h.setFilterButtonState();h.attachSearchEvents()};this.handleDialogSelection=function(){h.refreshSelected();h.setFilterButtonState()};this.initializeHierarchySelect=function(){h.popupInitialize();var e=document.getElementById(h.getParentDivId());e?.addEventListener("popuphidden",h.popupHiddenHandler);var t=document.getElementById(h.getDialogId());(0,wc.finalizeElementForIpad)(t,!0);document.getElementById(`co_facet_${h.getHtmlId()}_popup`)?.classList.add("co_facetPopup");h.attachEventsToAvailableList();h.attachEventsToSelectedList();document.getElementById(_)?.addEventListener("click",N);document.getElementById(C)?.addEventListener("input",(()=>(0,ni.manageClearSearchIconVisibility)(_)));t?.addEventListener("selectedchanged",this.handleDialogSelection);t?.addEventListener("popupshown",h.popupShownHandler)};this.getQuery=function(){if(!document.getElementById(S)?.classList.contains("co_active"))return null;return(0,ni.cleanInputText)(document.getElementById("co_facet_searchBoxInput")?.value??"")};this.attachSearchEvents=function(){T=null;const e=()=>{const e=h.getQuery(),t=!(0,d.IsNullOrEmpty)(e)&&e.length>=2;t&&e.toLowerCase()!=T?h.performSearch(e):!t&&T&&T.length>=2?L():h.scrollToTop();e.length<2&&!(0,d.IsNullOrEmpty)(e)?h._setSearchWithinMsgText(I):h._setSearchWithinMsgText("")};document.getElementById(C)?.addEventListener("keyup",e);document.getElementById("searchTopicsButton")?.addEventListener("click",e)};this._setResultsText=function(e){h.getAvailableList().html(e)};this._setSearchWithinMsgText=function(e){var t=C+"Msg";const n=document.getElementById(t);n&&(n.textContent=e)};this._matchFound=function(e,t){return e.name.toLowerCase().indexOf(t)>-1||e.children&&e.children.length>0};function A(e,t){t.children&&t.children.forEach((function(t){A(e,t)}));if(t.children&&t.children.length>0){t.children=t.children.filter((function(t){return h._matchFound(t,e)}));0===t.children.length&&delete t.children}}this.getMatchedItemSelector=function(){return"#"+h.getAvailableListId()+" label"};this.performSearch=function(e){var t=e.toLowerCase();T=t;var n=[];c.forEach((function(e){var i=(0,Xe.cloneDeep)(e??{});A(t,i);h._matchFound(i,t)&&n.push(i)}));if(0===n.length){h.scrollToTop();h._setResultsText(w);return}h._renderAllAvailableLevel(n);h._applyHighlighting(t);P(document.getElementById(l))};this._applyHighlighting=function(e){var t=h.getMatchedItemSelector();document.querySelectorAll(t).forEach((function(t){var n=t.textContent||"",i=n.toLowerCase(),a=i.indexOf(e);if(-1!=a){for(var o=0,r="",s=`id="${l}" `;-1!=a;){r+=n.substring(o,a);r+=`<span ${s}class="co_searchTerm">`;r+=n.substring(a,a+e.length);r+="</span>";o=a+e.length;a=i.indexOf(e,a+1);s&&(s=null)}r+=n.substring(o);t.innerHTML=r}}))};this.attachEventsToAvailableList=function(){h.getAvailableList().off("click","label",h.handleAvailableListLabelClick);h.getAvailableList().on("click","label",h.handleAvailableListLabelClick);h.getAvailableList().off("keypress","label",h.handleAvailableListLabelKeypress);h.getAvailableList().on("keypress","label",h.handleAvailableListLabelKeypress);h.getAvailableList().off("click","a[childListId]",h.handleLinkClickEvent);h.getAvailableList().on("click","a[childListId]",h.handleLinkClickEvent);h.getAvailableList().off("click","button[childListId]",h.handleLinkClickEvent);h.getAvailableList().on("click","button[childListId]",h.handleLinkClickEvent)};this.handleAvailableListLabelClick=function(){if(this.classList.contains("co_disabled")||this.classList.contains("co_selectionDisabled"))return;h.choosingAvailableListItem(x()(this));this.classList.toggle(s)};this.handleAvailableListLabelKeypress=function(e){
32==e.charCode&&h.choosingAvailableListItem(x()(this))};this.performToggle=function(e,t){if(e.classList.contains(h._expandCssClass)){e.classList.remove(h._expandCssClass);e.classList.add(h._collapseCssClass);e.setAttribute("aria-expanded","true")}else{e.classList.remove(h._collapseCssClass);e.classList.add(h._expandCssClass);e.setAttribute("aria-expanded","false")}t?.classList.toggle(h._hideStateCssClass)};function L(){h._renderAllAvailableLevel(c,!1);h._setSearchWithinMsgText("");T=null}function N(){L();x()("#"+C).val("");document.getElementById(_)?.classList.add("co_hideState");h.setDefaultFocus()}this.isParentSelected=function(e){const t=st().map(h.getItemHierarchy({children:h.getData(),root:!0},e.dataOptions.id),(e=>e.dataOptions.id));return t.some((e=>h.isItemSelected(e)))};this.handleLinkClickEvent=function(t){var n=t.target,i=n.getAttribute("childListId"),a=document.getElementById(i);if(a&&"true"!==a.getAttribute("rendered")){var o=n.id.replace(e,"").replace("Link",""),r=h.getItemById(o);a.innerHTML=h.buildLevel(r.children,!1,h.isParentSelected(r));a.setAttribute("rendered","true")}if(Xn["default"].Device.isIPadEnabled()){(0,lt.slideToggle)(a,300,(function(){h.performToggle(n,a);_c["default"].refreshFacetDomElement()}))}else h.performToggle(n,a);return!1};this.getItemById=function(e){return st().last(h.getItemHierarchy({children:h.getData()},e))};this.attachEventsToSelectedList=function(){h.getSelectedList().on("click",".co_keyNumberHierarchyIcon",(function(e){const t=ge.ElementStorage.get(this,"itemId"),n=document.getElementById(`${t}_hoverHint`),i=document.querySelector(".co_keyNumberHierarchyHoverContainers");if((0,ea.isVisible)(i)&&(0,ea.isVisible)(n))(0,lt.hideElements)(n);else if((0,ea.isVisible)(i)&&!(0,ea.isVisible)(n)){(0,lt.hideElements)(i);h.showItemHint(n)}else h.showItemHint(n);e.stopPropagation();document.body.addEventListener("click",(function(){(0,lt.hideElements)(n)}),{once:!0})}));h.getSelectedList().on("click",'a[linkType="item"], button[linkType="item"]',(function(){R(x()(this))}));h.getSelectedList().on("keypress",'a[linkType="item"], button[linkType="item"]',(function(e){32==e.charCode&&R(x()(this))}))};this.showItemHint=function(e){if(!e)return;(0,lt.showElements)(e);const t=this.getSelectedList(),n=e[0]?.getBoundingClientRect().bottom;if(n<t[0].getBoundingClientRect().bottom)return;const i=(0,u.getOuterHeight)(e)>t.height(),a=i?e.parentNode:e;a?.scrollIntoView(i)};this.choosingAvailableListItem=function(e){var t=e.attr("attributeid"),n=e.text();h.isItemSelected(t)?h.removeFromSelected(t):h.addToSelected(t,n);Xn["default"].Device.isIPadEnabled()||document.getElementById(t)?.focus()};function R(e){var t=e.attr("id").replace("_selected","");h.removeFromSelected(t);Xn["default"].Device.isIPadEnabled()||document.getElementById(t)?.focus();h.getDisplayItem(t)?.classList.toggle(s)}this.getPopupContent=function(){v=b.slice();var e="";e+="{searchBox}";e+='<div class="co_overlayBox_leftContent">';e+="{availableTitle}";e+='<div class="co_collectorScrollOne co_scrollWrapper"><ul class="co_tree" id="{availableListId}">{requiredInputHtml}</ul></div>';e+="</div>";e+='<div class="co_overlayBox_rightContent">';e+=`<h4>${o["default"].IsIndigoDisplayEnabled?D["default"].lookup("SC.Search.Indigo.Facets.NavigatorWidget.YourSelections","Selections"):D["default"].lookup("SC.Search.Facets.NavigatorWidget.yourSelections","Your Selections:")}</h4><div class="co_collectorScrollTwo co_scrollWrapper"><ul class="co_tree" id="{selectedListId}">{selected}</ul></div>`;e+="</div>";e+='<div class="co_clear"></div>';var t=h.getTitle(),n={availableTitle:h.drawAvailableTitle(t),searchBox:h.drawSearchBox(),availableListId:h.getAvailableListId(),requiredInputHtml:h.renderAvailable(),selectedListId:h.getSelectedListId(),selected:h.renderSelected()};p=null;g=null;return(0,ni.substitute)(e,n)};this.drawAvailableTitle=function(e){return`<h4>${e}</h4>`};this.drawSearchBox=function(){const e=D["default"].lookup("SC.Search.Indigo.Facets.Collector.searchBoxLabelText","Narrow:");return`\n            <div id="${S}" class="co_active">\n                <label for="${C}">${e}</label>\n                <input id="${C}" type="text" placeholder="${h.getSearchDefaultText()}" autocorrect="off" autocapitalize="off"/>\n                <a href="javascript:void(0)" id="${_}" class="co_facet_searchClear co_hideState">${E}</a>\n            </div>\n            <label id="${C}Msg" class="co_facet_searchError"></label>`};this.getOriginalSelected=function(){return b};this.setOriginalSelected=function(e){b=e};this.updateSelectedIds=function(e){b=e?st().map(e.data,(e=>h.getSelectedItem(e)||h.createSelectedItem(h.getItemById(e)))):[];return b};this.scrollToTop=function(){var e=h.getAvailableList().find("a:first");e.length>0&&P(e.get(0))};function P(e){(e=x()(e).get(0))&&(0,m.ScrollTo)(h.getAvailableList().get(0),e,{offset:-100})}this.filterCallback=function(){vc.currentFacetRenderer.apply(!0,h.getId(),h.getActiveIds(),!0)};this.getAttributeDisplayName=function(e){return e.name};this.getSelected=function(){return v};this.setSelected=function(e){v=e};this.getActiveIds=function(){return st().pluck(v,"id")};this.refreshAvailable=function(){const e=h.getAvailableList();e.html(h.renderAvailable());(0,ni.iScrollRefreshElement)(e.get(0))};this.refreshSelected=function(){const e=h.getSelectedList();e.html(h.renderSelected());e.attr("style","");(0,ni.iScrollRefreshElement)(e.get(0))};this.setFilterButtonState=function(){st().isEqual(st().sortBy(st().pluck(b,"id")),st().sortBy(st().pluck(v,"id")))?h.disableFilterButton():h.enableFilterButton()};this.isItemSelected=function(e){return void 0!==h.getSelectedItem(e)};this.getSelectedItem=function(e){return st().find(v,(t=>t.id===e))};this.createSelectedItem=function(e){return{id:e.dataOptions.id,name:e.name}};this.removeSelectedItem=function(e){v=st().reject(v,(t=>e===t.id))};this.addToSelected=function(e,t){var n={dataOptions:{id:e},name:t},i=h.createSelectedItem(n);if(!h.isItemSelected(e)){h.onBeforeItemAdded(e);v.unshift(i);h.notifySelectedChanged(e)}};this.removeFromSelected=function(e){if(h.isItemSelected(e)){h.onBeforeItemRemoved(e);h.removeSelectedItem(e);h.notifySelectedChanged(e)}};this.notifySelectedChanged=function(){document.getElementById(h.getSelectedListId())?.dispatchEvent(new CustomEvent("selectedchanged",{bubbles:!0}))};this.getFilteredSelected=function(){return v};this.renderSelected=function(){var e="";st().each(h.getFilteredSelected(),(function(t){const n={itemId:t.id,ancestors:st().map(h.getItemHierarchy({children:h.getData(),root:!0},t.id),(e=>h.getAttributeDisplayName(h.createSelectedItem(e))))},i=h.renderSelectedItem(t),a=n.ancestors.length>1,o=a?h.renderHoverHint(n):"",r=D["default"].lookup("SC.Search.Facets.TRDiscover.HierarchySelect.IconTitle","View hierarchy");var s=`<li>\n                    <div class="co_listItem">\n                    ${i}\n                    <button\n                        data-item-id="${t.id}" \n                        title="${r}" \n                        aria-label="${r}" \n                        class=${a?"co_keyNumberHierarchyIcon":"co_keyNumberHierarchyIconHidden"} >\n                    </button>\n                    ${o}\n                    </div>\n                </li>`;e+=s}));return e};this.getItemHierarchy=function(e,t){if(e.dataOptions&&e.dataOptions.id==t)return[e];for(var n=0;e.children&&n<e.children.length;n++){var i=h.getItemHierarchy(e.children[n],t);if(i.length>0){e.root||i.unshift(e);return i}}return[]};this.renderHoverHint=function(e){
return st().template('<div id="<%= itemId %>_hoverHint" class="co_keyNumberHierarchyHoverContainers co_infoBox bottom" role="status" tabIndex="-1" style="display: none;">\n\t<div class="co_infoBox_message">\n\t\t<div class="co_keyNumberHierarchy">\n\t\t\t<ul class="co_customDigest co_customDigestSecondary">\n\t\t\t<%  for (var i = 0, ancestorsLen = ancestors.length; i < ancestorsLen; i++) { \n\t\t\t\t%>\n\t\t\t\t<li <%= (i === ancestorsLen - 1) ? \'class="co_customDigestLast"\' : \'\' %>>\n\t\t\t\t\t<div class="co_customDigestOuter">\n\t\t\t\t\t\t<div class="co_customDigestInner">\n\t\t\t\t\t\t\t<span id="cobalt_result_search_hierarchy">\n\t\t\t\t\t\t\t\t<%= (i === ancestorsLen - 1) ? \'<strong>\' : \'\' %>\n\t\t\t\t\t\t\t\t\t<%= ancestors[i] %>\n\t\t\t\t\t\t\t\t<%= (i === ancestorsLen - 1) ? \'</strong>\' : \'\' %>\n\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<ul>\n\t\t\t<%  }\n\t\t\tfor (var i = 0; i < ancestorsLen; i++) {  %>\n\t\t\t\t\t</ul>\n\t\t\t\t</li>\n\t\t\t<%  }  %>\n\t\t\t</ul>\n\t\t</div>   \n\t</div>\n</div>\n')(e)};this.renderSelectedItem=function(e){return`<button id="${e.id}_selected" linkType="item" class="co_listItem_remove">${e.name}</button>`};this.createItemModel=function(t,i){const a=t.children&&t.children.length,o=t.isExpanded||i.expandAll;let r=i.isItemSelected?"co_facetSelected":"";i.isParentSelected&&(r+=" co_selectionDisabled");const{id:s,count:l}=t.dataOptions;return{attributeId:s,displayCount:h.showDisplayCount(),displayName:t.name,count:l,uniqueId:e+s,facetDisplayName:n,actionId:o?"collapse":"expand",actionName:o?h._collapseAction:h._expandAction,hasChildren:a,isExpanded:o,childrenRendered:a&&o,className:r,levelId:i.levelId}};this.buildLevel=function(e,t,n){var i,a="",o=null;for(var r in e){i=e[r];const c=h.isItemSelected(i.dataOptions.id),d={expandAll:t,levelId:i.levelId,isItemSelected:c,isParentSelected:n};var s=h.createItemModel(i,d);s.expandLink=s.hasChildren?st().template('\x3c!--\n @file Hierarchy expand link template\n--\x3e\n\n<button id="<%=uniqueId%>Link" aria-expanded="false" href="javascript:void(0);" childlistid="facet_expandable_<%=uniqueId%>" class="co_facet_<%=actionId%>"><%=actionName%> <%=facetDisplayName%> - <%=displayName%></button>\n')(s):"";var l="";if(s.hasChildren){s.renderedChildren=s.childrenRendered?h.buildLevel(i.children,t,c||n):"";s.childListClass=s.isExpanded?"":h._hideStateCssClass;l+=st().template(eu)(s)}s.children=l;a+=o=st().template('<li>\n\t<%=expandLink%>\n\t<input type="checkbox" attributeid="<%=attributeId%>" id="facet_hierarchy_<%=uniqueId%>">\n\t<label class="<%=className%>" for="facet_hierarchy_<%=uniqueId%>" attributeid="<%=attributeId%>" levelid="<%=levelId%>" tabindex="0">\n\t\t<%=displayName%>\n\t\t<% if(displayCount) { %>\n\t\t\t<span>(<%=count%>)</span>\n\t\t<% } %>\n\t</label>\n\t<%=children%>\n</li>\n')(s)}return a};this._renderAvailableLevel=function(e,t){return`<ul class="co_facet_tree" >${h.buildLevel(e,t)}</ul>`};this._renderAllAvailableLevel=function(e,t=!0){const n=h._renderAvailableLevel(e,t);h.getAvailableList().html(n)};this.getDisplayItem=function(t){return document.querySelector(`label[for="facet_hierarchy_${e+t}"]`)};const O=e=>{const t=h.getDisplayItem(e),n=t?.getAttribute("levelId");return[...document.querySelectorAll(`label[levelId^="${n}"]`)].filter((e=>e!==t))};this.onBeforeItemAdded=function(e){const t=h.getItemById(e);h.processTree(t,(function(e){const t=e.dataOptions.id;if(h.isItemSelected(t)){h.removeFromSelected(t);h.getDisplayItem(t)?.classList.remove(h.getSelectedItemClass())}}));O(e).forEach((e=>e.classList.add("co_selectionDisabled")))};this.onBeforeItemRemoved=function(e){O(e).forEach((e=>e.classList.remove("co_selectionDisabled")))};this.drawProgressSpinner=function(){var e=h.getAvailableList();e.html("");var t=document.createElement("div");t.id="co_search_hierarchy_progress";e.append(t);var n=new ee["default"](t,"small");n.Draw();return n};this.subscribeToDataRetrievedEvent=function(e,t){y["default"].SubscribeOnce("Cobalt.Search.Facet."+e+".DataRetrieved",t)};this.publishDataRetrievedEvent=function(e,t){const n={facetId:e,data:t};y["default"].Publish("Cobalt.Search.Facet."+e+".DataRetrieved",n)};this.renderAvailable=function(){if(!h._dataRetrievalInProgress)return h.renderData();h.drawProgressSpinner();h.subscribeToDataRetrievedEvent(h.getId(),h.initialize)};this.renderData=function(){var e=this.getData();if(e&&e.length)return this._renderAvailableLevel(e);return`<li id="co_facet_noResult">${this.getNoItemsText()}</li>`};this.processTree=function(e,t){st().each(e.children,(e=>h.processTree(e,t)));return t(e)};this.setTreeLevels=function(e,t){e.levelId=t;let n=[];st().each(e.children,((e,i)=>{h.setTreeLevels(e,t+"L"+i+"_");e.name||n.push(i)}));n=n.reverse();st().each(n,(t=>e.children.splice(t,1)))}};const th=function(e){kc.call(this,e);var t=this;this._updatedFacetData=null;this.getData=function(){const e=t.getFacet().data.available;if(!Array.isArray(e)){(0,Ee.publishErrorMessage)(A["default"].Search,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Hierarchy facet data structure requires available array")}return e};this.getSelectedAttributes=function(){const e=t.getFacet().data.selected;return Array.isArray(e)?e:[]};this.getSortedAttributes=function(){return{inactive:[],active:st().map(t.getSelectedAttributes(),(e=>({name:t.getModalWidget().getAttributeDisplayName(e),dataOptions:{id:e.id,count:e.count,path:e.path,active:!0}})))}};this.isRenderedAllAttributes=function(){return!!t.getFacet().displayOptions.renderedAllAttributes};this.updateFacetData=function(e){t._updatedFacetData=e};var n=this.getFacet;this.getFacet=function(){let e=n.call(t);t._updatedFacetData&&(e=t._updatedFacetData);return e}};const nh=function(e,t,n,i,a,o){th.call(this,e,t,n,i,a,o);this.getDialogTitleClass=()=>"";this.getHtmlId=()=>"topic1";this.getNoItemsText=()=>D["default"].lookup("SC.Search.Facets.TRDiscover.TopicWidget.NoTopicFound","No topic found in these documents");const r=this.createItemModel;this.createItemModel=function(e,t){const n=r(e,t);e.dataOptions.count||(n.className+=" co_disabled");return n}};const ih=function(e){eh.call(this,e);var t=this;this.createModalWidget=function(){return new nh(t.getParentDivId(),t.getFacetId(),t.getDisplayName(),t.getData(),t.getSelectedAttributes(),t.isRenderedAllAttributes())}};const ah=function(e,t,n,i,a,o){eh.call(this,e,t,n,i,a,o);var r=this;this.showDisplayCount=()=>!0;this.getHtmlId=()=>"trd_keynumber";this.getDialogTitleClass=()=>"co_keyIcon";this.getNoItemsText=()=>D["default"].lookup("SC.Search.Facets.TRDiscover.KeyNumberWidget.NoKeyNumberFound","No keynumber found in these documents");this.updateSelectedIds=function(e){const t=e?st().map(e.data,(e=>r.getSelectedItem(e)||r.createSelectedItem({dataOptions:{id:e}}))):[];r.setOriginalSelected(t);return t};this.renderSelectedItem=function(e){return`<button id="${e.id}_selected" linkType="item" class="co_listItem_remove">\n\t\t\t\t\t${r.renderDisplayAttribute(e)}\n\t\t\t\t</button>`};this.renderDisplayAttribute=function(e){return`<b>${e.keyNumber}</b> <span>${e.name}<span>`};this._matchFound=function(e,t){return(e.keyNumber+" "+e.name).toLowerCase().indexOf(t)>-1||e.children&&e.children.length>0};this._applyHighlighting=function(e){var t=r.getMatchedItemSelector(),n=!0;document.querySelectorAll(t).forEach((function(t){var i=t.textContent||"",a=(i=i.trim()).toLowerCase(),o=x()(t).find("b").first().text(),r=-1;o&&0==a.indexOf(o.toLowerCase())&&(r=o.length);var s=a.indexOf(e);if(-1!=s){for(var l=0,c=document.createElement("span");-1!=s||l<r;)if(l<r&&(l<s||-1==s)){var d=-1==s||s>r?r:s,u=document.createElement("b");u.textContent=i.substring(l,d);c.append(u);l=d}else if(l>=r&&l<s){c.append(i.substring(l,s));l=s}else{var h=document.createElement("span");h.textContent=i.substring(s,s+e.length);n&&(h.id="TRDFirstSearchMatchedWord");h.className="co_searchTerm";c.append(h);l=s+e.length;s=a.indexOf(e,s+1);n=!1}c.append(i.substring(l));t.innerHTML=c.innerHTML}}))};this.getAttributeDisplayName=function(e){const t=r.getItemById(e.id)||e;return r.renderDisplayAttribute(t)}
;this.createSelectedItem=function(e){const t=r.getItemById(e.dataOptions.id);return{id:t.dataOptions.id,name:t.name,keyNumber:t.keyNumber}};const s=r.createItemModel;this.createItemModel=function(e,t){const n=s(e,t);n.displayName=r.renderDisplayAttribute(e);return n}};const oh=function(e){th.call(this,e);var t=this;this.createModalWidget=function(){return new ah(t.getParentDivId(),t.getFacetId(),t.getDisplayName(),t.getData(),t.getSelectedAttributes(),t.isRenderedAllAttributes())};const n=this.createItemList;this.createItemList=()=>n.call(t,!!this._updatedFacetData)};Zu.WlnTopic={displaySelector:"hierarchyselect",factory:ih};Zu.WlnDate={displaySelector:"dateSelect",factory:sd};Zu.WlnKeyNumber={displaySelector:"keynumber2",factory:oh};Zu.List.push(Zu.WlnTopic,Zu.WlnDate,Zu.WlnKeyNumber);const rh=Zu;var sh=n(997);function lh(e,t,i){var a=this;(0,vc.setFacetRenderer)(this);var r,s,l=[],c=[],d=[],u=[],h=[],f=[],p={},g=e;i&&(s=i.undoDomElement);var v,C,S,_=t,T=!1,I=!1,k="co_hideState",w="Cobalt.Search.Facet.Modal.Closed",E="Cobalt.Search.Facet.Modal.Open",A="co_multifacet",L=A+"_selector",N=A+"_apply",R=A+"_cancel",P=A+"_select_multiple",O="co_defaultBtn",B="co_disabled";const M=D["default"].lookup("SC.Search.Facets.NavigatorWidget.HoverText.ApplyFiltersDisabled","Apply Filters Disabled"),F=D["default"].lookup("SC.Search.Facets.NavigatorWidget.HoverText.ApplyFilters","Apply Filters"),W=D["default"].lookup("SC.Search.Facets.NavigatorWidget.HoverText.EnableMultipleFiltersMode","Enable Multiple Filters Mode"),H=D["default"].lookup("SC.Search.Facets.NavigatorWidget.HoverText.CancelMultipleFiltersMode","Cancel Multiple Filters Mode");var G=D["default"].lookup("SC.Search.Facets.NavigatorWidget.ApplyFiltersButton","Apply Filters"),U=D["default"].lookup("SC.Search.Facets.Generic.Cancel","Cancel"),j=D["default"].lookup("SC.Search.Facets.NavigatorWidget.SelectMultipleFacetFiltersButton","Select Multiple Filters");this.isKM=_c["default"].isKM;var $=i&&i.multiFacetCapable&&!ee()&&!_c["default"].isKM(),V=$&&rr["default"].getMultiFacetsEnabled();const q=new rh,z=new Map,K=new Map;this.getUndoButtonText=function(){return o["default"].IsIndigoDisplayEnabled?D["default"].lookup("SC.Search.Indigo.Facets.NavigatorWidget.UndoFiltersButton","Clear"):D["default"].lookup("SC.Search.Facets.NavigatorWidget.UndoFiltersButton","Undo Filters")};this.getDomElement=function(){return g};this.setDomElement=function(e){g=e};this.getUndoDomElement=function(){return s};this.setUndoDomElement=function(e){s=e};this.setKeepFacet=function(e){T=e};this.getKeepFacet=function(){return T};this.setFacets=function(e){(function(e){if(e)for(var t in e)e[t].displayOptions.focus&&(v=e[t].displayOptions.id)})(l=e)};this.getFacets=function(){return l};this.setFacetWidgets=function(e){f=e};this.getFacetWidgets=function(){return f};this.setFacetSettings=function(e){p=e};this.getFacetSettings=function(){return p};this.setAppliedFacets=function(e){h=e};this.getAppliedFacets=function(){return h};this.getActive=function(){return c};this.setActive=function(e){c=e};this.getOriginalActive=function(){return u};this.setOriginalActive=function(e){u=e};this.isMultiFacetsEnabled=function(){return V};this.setMultiFacetsEnabled=function(e){V=e};this.isMultiFacetsCapable=function(){return $};this.getFacetFactory=function(){return q};this.getMultiFacetSelector=function(e){return`${L}_${e}`};this.getCallback=function(){return _};this.setHasDisabledFacets=function(e){I=e};this.setJurisdictionFacetId=function(e){C=e};this.supplant=function(e,t){return(0,ni.substitute)(e,t)};this.removeFromActiveList=function(e,t,n){v=e;var i=c;for(var a in i)if(i[a].id==e){if(1==i[a].data.length||null==t||null==t||""==t||1==n){i.splice(a,1);return!0}for(var o in i[a].data)if(i[a].data[o]==t){i[a].data.splice(o,1);return!0}}return!1};this.putToActiveList=function(e,t,n,i){v=e;_c["default"].updateActiveList(e,t,n,i,c)};this.isInActiveFacets=function(e,t){for(var n in c)if(c[n].id==e)if(c[n].data.length>0){if(t.constructor===Array)return Z(c[n].data,t);for(var i in c[n].data)if(c[n].data[i]==t)return!0}else if(c[n].data[0]==t)return!0;return!1};this.getActiveForFacet=function(e){var t=[];for(var n in c)c[n].id==e&&t.push(c[n]);return t[0]};this.toggle=function(e,t,n){a.isInActiveFacets(e,t)?a.apply(!1,e,t,!1,n):a.apply(!0,e,t,!1,n)};this.apply=function(e,t,n,i,o,r){e?function(e,t,n,i,o){n&&a.resetFacet(e);if(t){if(t instanceof Array)for(var r in t)a.putToActiveList(e,t[r],i,o);else a.putToActiveList(e,t,i,o);Q(e,t,v)}else Q(e,t)}(t,n,i,o,r):function(e,t){if(t instanceof Array)for(var n in t)a.removeFromActiveList(e,t[n]);else a.removeFromActiveList(e,t);X(e,t,v)}(t,n);V&&a.handleApplyButtonState()};this.handleApplyButtonState=()=>{const e=this.getActive(),t=this.getOriginalActive(),n=e.map((e=>e.id)).sort(),i=t.map((e=>e.id)).sort();if(!st().isEqual(n,i))return this.setApplyButtonState(!0);const a=n.some((n=>{const i=st().find(e,(e=>e.id===n)),a=st().find(t,(e=>e.id===n));let o=i.data,r=a.data;if(!_c["default"].isRangeFacet(i.selector)){o=st().sortBy(o,(e=>e));r=st().sortBy(r,(e=>e))}return!st().isEqual(o,r)}));this.setApplyButtonState(a)};this.setApplyButtonState=function(e){const t=a.getMultiFacetSelector(1),n=a.getMultiFacetSelector(2),i=`#${t} button.${N}`,o=`#${n} button.${N}`,r=document.querySelectorAll(`${i}, ${o}`);for(const t of r)Y(t,e)};function Y(e,t){if(t&&e.classList.contains(B)||!t&&!e.classList.contains(B)){e.classList.toggle(B);e.disabled=!t;const n=t?F:M,i=K.get(e.id);i?.tooltip?.setTooltipText(n)}}this.enableApplyButton=function(e){a.setApplyButtonState(e)};function Q(e,t,n){_.apply?J(!0,e,t):_.onSelect(c,n)}function X(e,t,n){_.apply?J(!1,e,t):_.offSelect(c,n)}function J(e,t,n){if(V&&null!=t&&("_keyword"==t.match("_keyword$")||a.getFacetWidget(t).isMultiSelectEnabled()))return;_c["default"].isKM()?_.applyKM(e,c,t,n,v):_.apply(e,c,v)}function Z(e,t){if(!e||!t)return!1;if(t.length>e.length)return!1;for(var n=0;n<t.length;n++){for(var i=t[n],a=!1,o=0;o<e.length;o++)if(e[o]==i){a=!0;break}if(!a)return!1}return!0}this.activateKN=function(e,t){r.activate(e,t)};this.deactivateKN=function(e,t){r.deactivate(e,t)};this.navigateKeyNumber=function(e,t){r.navigate(e,t)};this.putToKMActiveList=function(e,t,n){v=e;var i=c,a=!1;for(var o in i)if(i[o].id==e){var r=!1;for(var s in i[o].data)i[o].data[s]==t&&(r=!0);if(!r){i[o].data.push(t);i[o].selector=n}a=!0}0==a&&i.push({id:e,selector:n,data:[t]})};this.openFacetDialog=function(e){vc.currentFacetRenderer.showDialog(e);vc.currentFacetRenderer.publishOpenFacetEvent(e);return!1};this.publishOpenFacetEvent=function(e){var t=new b["default"]("Data",{},"defaultMessageName","serviceVersion"),n=e.replace(/\s+/g,"");y["default"].Publish("Cobalt.Search.Facet."+n+".Open",t)};this.fireApply=function(e){var t;(t=e?Q:X)(void 0,void 0,v)};this.fireApplyKm=function(e,t){var n;(n=e?Q:X)(v,t,v)};this.registerKeyNumberFacet=function(e){r=e};this.registerModalFacet=function(e,t){if("function"!=typeof t.closeIfReady)throw new Error(`Modal facet '${e}' must implement closeIfReady() method`);d[e]=t};this.aboutToShowFacet=function(){if(ee())return!0;for(var e in d)if(!d[e].closeIfReady())return!1;return!0};function ee(){return Xn["default"].Device.isIPadEnabled()}function te(e){var t;if(ee()){var n="coid_search_lightboxOverlay",i=document.getElementById(n);if(!i){(i=document.createElement("div")).id=n;i.className="co_lightboxOverlay";i.style.zIndex="1500px";document.body.append(i)}t=i}else t=document.getElementById(`facet_div_${e}`);return t}this.triggerModalClosed=function(){document.dispatchEvent(new CustomEvent(w))};if(ee()){document.addEventListener(w,(function(){te().addClass(k)}));document.addEventListener(E,(function(){var e=te();e.removeClass(k);(0,wc.finalizeElementForIpad)(e)}))}this.showDialog=function(e){var t=a.aboutToShowFacet();if(t){if(V){var n=a.getActiveForFacet(e);d[e].updateSelectedIds(n)}d[e].setVisible(te(e));document.dispatchEvent(new CustomEvent(E))}return t};this.resetFacet=function(e){a.removeFromActiveList(e,void 0,!0)};this.removeAllFacets=function(){_.removeAll()};this.applyFacets=function(e){var t=[];for(const e in c)t.push(c[e]);for(const e in u){var n=!1
;for(var i in c)u[e].id==c[i].id&&(n=!0);n||t.push({id:u[e].id,data:[]})}_.apply(!0,t,e)};this.toggleMultiFacetMode=function(){rr["default"].setMultiFacetsEnabled(!V);a.setMultiFacetsEnabled(!V);var e=x()("#"+L+"_1, #"+L+"_2");e.find("button."+P).toggleClass(k);e.find("button."+R).toggleClass(k);e.find("button."+N).toggleClass(k);for(var t in f)f[t].setMultiSelectEnabled(V)};this.isFirstApplyButtonDisabled=function(){return x()(`#${L}_1`).find(`button.${N}`).hasClass(B)};this.applyMultipleFacets=function(e){if(a.isFirstApplyButtonDisabled())return;a.applyFacets(e)};this.cancelMultiFacetMode=function(){c=a.copyFacetArray(u);a.toggleMultiFacetMode();a.draw()};this.copyFacetArray=function(e){var t=[];for(var n in e){t[n]=Object.assign({},e[n]);t[n].data=e[n].data.slice()}return t};this.getFacetWidget=function(e){for(var t in f){var n=f[t];if(n.getFacetId()==e)return n}throw new Error(`Invalid facet widget id: ${e}; facet not registered.`)};this.initializeAccordionLinks=function(){};this.drawMultiFacetLinks=function(e){const t=L,n=a.getMultiFacetSelector(e),i={co_hideState:!V},o=Ot()(N,O,i,B),r=Ot()(R,O,i),s=Ot()(P,O,{co_hideState:V}),l=a.getExtraMultiFacetLinksHtml(),c=`${n}_applyFacetFilter`,d=`${n}_cancelFacetFilter`,u=`${n}_selectMultiFacetFilter`,h=`\n            <div class="${t}" id="${n}">\n                ${l}\n                <button type="button" id="${c}" class="${o}" disabled>\n                    ${G}\n                </button>\n                <button type="button" id="${d}" class="${r}" aria-label="${H}">\n                    ${U}\n                </button>\n                <button type="button" id="${u}" class="${s}" aria-label="${W}">\n                    ${j}\n                </button>\n            </div>`,f=`#${c}`,p=`#${d}`,m=`#${u}`;document.body.removeEventListener("click",z.get(n));const g=function(e){e.target.closest(f)&&vc.currentFacetRenderer.applyMultipleFacets();if(e.target.closest(p)){vc.currentFacetRenderer.cancelMultiFacetMode();ne(n)}if(e.target.closest(m)){vc.currentFacetRenderer.toggleMultiFacetMode();ne(n)}};document.body.addEventListener("click",g);z.set(n,g);(function(e){for(const t of e){const e=K.get(t.id);e?.tooltip?.remove();const n={...t,tooltip:null};K.set(t.id,n)}})([{id:c,label:M},{id:d,label:H},{id:u,label:W}]);return h};function ne(e){const t=document.getElementById(e),n=t?.querySelector("button:not(.co_hideState):not([disabled])");n?.focus()}this.getExtraMultiFacetLinksHtml=function(){return""};this.focusOnTopApplyButton=function(){S||(S=x()(`#${L}_1 > button.${N}`));S.focus()};this.draw=function(){if(void 0!==l&&null!=g){a.drawFacets(g);sh.A.isIPFacetWidgetAvailable()&&this.drawIPFacetViz(Xn["default"].SearchResult._contentType);for(var e in f){var t=f[e];"function"==typeof t.initialize&&t.initialize((()=>{}))}(function(){g?.classList.remove(k);(0,wc.finalizeElementForIpad)(g,!1);a.initializeAccordionLinks(h);if(ee()&&null!=h&&h.length>0){(function(e){const t=Xn["default"].DOM.getAvailableFacetsDomElement(),n=document.getElementById("co_narrowResultsBy")?.querySelector(`h3[facetid=${e}]`);n&&t&&(0,m.ScrollTo)(t,n)})(h[0])}y["default"].Publish("Cobalt.Search.Facets.Rendered",{})})()}else{if(null==g)throw new Error("Available Facets Dom element is null");if(void 0===l)throw new Error("No Facets Defined.")}u=a.copyFacetArray(c);a.setUndoFilterButtonInnerHTML()};this.drawIPFacetViz=async function(e){var t=document.getElementById("co_narrowResultsBox"),i=(0,Xe.cloneDeep)(l??{});new(0,(await n.e(4).then(n.bind(n,4806))).default)(t,i,e).draw()};this.drawFacets=function(e){var t="";T||(f=[]);e.classList.add(k);var n=!1;for(var i in l){var o=l[i],r=q.build(o,p,V);if(r){if(!n&&l.length>0&&$&&r.isMultiSelectAllowed()){t+=a.drawMultiFacetLinks(1);n=!0}f.push(r);t+=r.createHtml();r.registerModal()}}l.length>2&&$&&(t+=a.drawMultiFacetLinks(2));e.innerHTML=t;(function(e){for(const[t,n]of K){const i=e.querySelector(`#${t}`),a=new ht["default"](i,n.label);n.tooltip=a;a.render()}})(e)};this.handleUndoFilterClickEvent=()=>{I?function(){const e=l.filter((e=>"Jurisdiction"===e.name)),t=e?.length&&e[0]?.data?e[0].data.available:[],n=t.filter((e=>e.dataOptions.disabled)).map((e=>e.dataOptions.id)),i=n?.length?C:v,a=[];for(const e in c)c[e].id!==C?a.push({id:c[e].id,data:[]}):a.push({id:i,data:n});_.apply(!0,a,void 0)}():this.removeAllFacets()};this.isUndoFilterButtonActive=()=>c&&c.length>0||this.hasAppliedFacets();this.setUndoFilterButtonInnerHTML=function(){const e=Xn["default"].SearchResult.isUpdatedFiltersPanelEnabled()&&this.isMultiFacetsCapable();if(this.isUndoFilterButtonActive()&&!e){s.innerHTML='<a class="co_btnGray co_btnBack" href="javascript:void(0);" role="button"><i></i>'+a.getUndoButtonText()+"</a>\n";x()(s).find("a.co_btnBack").on("click",a.handleUndoFilterClickEvent)}};this.hasAppliedFacets=()=>h&&h.length>0}var ch=n(5681),dh=n(4211),uh=n(151);const hh={GetFavoriteFilteredViews:function(e){const t={url:`/Foldering/v1/${te["default"].GetUserNameEncoded()}/categoryPage/favoritesWithAppliedFacets?uniqueNamePrefix=${encodeURIComponent(e.data)}`,success:e.success,error:e.error};(0,Le.GetRequest)(t)},CreateFilteredViewUniqueName:function(e){const t={url:`/Foldering/v1/${te["default"].GetUserNameEncoded()}/categoryPage/createUniqueName`,data:e.data,success:e.success,error:e.error,contentType:"application/x-www-form-urlencoded; charset=utf-8"};(0,Le.PostRequest)(t)}};function fh(){const e="co_filteredView",t="co_hideState",n="co_disabled",i="co_filteredView_applyFavorites",a="co_filteredView_favoritesList";let o=[],r=[];const s=new uh["default"],l=this;this.setFilteredViews=function(e){o=e};this.setOriginalActiveFacets=function(e){r=e};this.draw=function(){return st().template('<div id="<%= containerId %>">\n\t<a id="<%= applyFavoritesButtonId %>" class="co_defaultBtn <%= options.length ? \'\' : disabledStateCssClass %>" href="javascript:void(0);" title="<%- applyFavoritesLabel %>">\n\t\t<span><%- applyFavoritesLabel %></span>\n\t\t<span class="icon25 icon_down_blue_arrow"></span>\n\t</a>\n\t<div>\n\t\t<ul class="co_favoriteFilteredViewContainer co_dropDownMenuList <%= hideStateCssClass %>" id="<%= dropdownId %>">\n\t\t\t<% _.each(options, function(option) { %>\n\t\t\t\t<li><a href="javascript:void(0);" value="<%= option.value %>" title="<%= option.title %>"><%= option.label %></a></li>\n\t\t\t<% }); %>\n\t\t</ul>\n\t</div>\n</div>')({options:st().map(o,(e=>function(e){let t=e.displayName;t.includes("|")&&(t=t.split("|")[1].trim());return{label:(0,Ae.TruncateName)(t,150),value:e.categoryPageId,title:t}}(e))),dropdownId:a,applyFavoritesLabel:D["default"].lookup("SC.Foldering.CategoryPage.FilteredView.ApplyFavorites.Title","Apply Favorites"),applyFavoritesButtonId:i,hideStateCssClass:t,disabledStateCssClass:n,containerId:e})};this.finalize=function(){this.bindEventListeners();y["default"].Subscribe("Cobalt.Foldering.Favorites.Updated",((e,t)=>{t&&t.uniqueName&&l.updateFavoritesList(t.uniqueName)}))};this.bindEventListeners=function(){document.getElementById(i)?.addEventListener("click",(function(){this.classList.contains(n)||c()}));document.querySelectorAll(`#${a} a`).forEach((e=>e.addEventListener("click",(function(){const e=this.getAttribute("value");l.updateSearchResults(e)}))));new dh["default"]("#"+a,"a",{wrapper:"#"+a,blurCallback:c})};this.updateFavoritesList=function(t){const n={data:t,success:t=>{t&&t.favorites&&l.setFilteredViews(t.favorites);const n=document.getElementById(e);n&&(n.outerHTML=l.draw());l.bindEventListeners()},error:()=>{const e=D["default"].lookup("SC.Foldering.CategoryPage.FilteredView.GetFavorites.Error","Unable to get favorite filters.");(0,Ee.publishErrorMessage)(A["default"].Foldering,e);throw new Error("Unable to get favorite filters.")}};hh.GetFavoriteFilteredViews(n)};function c(){document.getElementById(a)?.classList.contains(t)?l.show():l.hide()}this.hide=function(){ti["default"].removePageTouchedListener(l.hide);document.getElementById(a)?.classList.add(t)};this.show=function(){document.getElementById(a)?.classList.remove(t);document.querySelector(`#${a} li:first-child > a`)?.focus()
;ti["default"].addPageTouchedListener(this.hide,[document.getElementById(a),document.getElementById(i)],null,!0)};this.updateSearchResults=function(e){const t=st().find(o,(t=>t.categoryPageId===e)),n=JSON.parse(t.appliedFacets);this.mergeAppliedFacets(n);s.applyFilteredView(n)};this.mergeAppliedFacets=function(e){for(let t=0;t<r.length;t++)st().any(e,(e=>e.id===r[t].id))||e.push({id:r[t].id,attributes:[]})}}function ph(){lh.apply(this,arguments);var e=this.setFacets,t=this.drawMultiFacetLinks,n=this.drawFacets,i=null;if(ch["default"].isPLGlobalAndPracticeArea()){this.setHasDisabledFacets(!0);this.setJurisdictionFacetId("knowHowPlGlobalJurisdictionSummary")}this.setFacets=function(t){t=this.filterFacets(t);e.call(this,t)};this.filterFacets=e=>Lt["default"].isPracticalLawUSCompartment()?this.overrideFacetDisplayName(e):e;this.setFilteredViews=function(e){i=e};this.getFilteredViews=function(){return i};this.drawMultiFacetLinks=function(e){if(ir["default"].suppressMultiFacet(Xn["default"].SearchResult.getContentType()))return"";return t.call(this,e)};this.overrideFacetDisplayName=function(e){if(o("Home/PracticalLaw/WhatsMarket/AssetBackedSecuritiesIndentures")||function(e){return r(e,D["default"].lookup("SC.Search.Facets.DealType","Deal Type"),"Asset-Backed Securities Indentures")}(e))return a(e,D["default"].lookup("SC.Search.Facets.TypeOfAgreement","Agreement Type"),D["default"].lookup("SC.Search.Facets.TypeOfAgreement.ABSIndentures","Type of Agreement"));if(o("Home/PracticalLaw/WhatsMarket/Leases")||function(e){return r(e,D["default"].lookup("SC.Search.Facets.DealType","Deal Type"),"Leases")}(e))return a(e,D["default"].lookup("SC.Search.Facets.GoverningLaw","Governing Law"),D["default"].lookup("SC.Search.Facets.Leases.GoverningLaw","Location"));return e};function a(e,t,n){for(var i in e)e[i].name===t&&(e[i].name=n);return e}this.drawFacets=function(e){n.call(this,e);this.drawFilteredViewsWidget()};this.getAppliedFacetsDisplayValue=function(){const e=st().map(this.getFacetWidgets(),(e=>e.getDisplayValue()));return st().filter(e,(e=>e&&e.length>0)).join(", ")};this.drawFilteredViewsWidget=function(){if(i){y["default"].Publish("Cobalt.Search.Results.FacetRenderer.FacetsDrawn",{facetsDisplayValue:this.getAppliedFacetsDisplayValue(),appliedFacets:this.getCallback().buildFacetsJson(this.getActive()),filteredViews:i});const e=new fh;e.setFilteredViews(i);e.setOriginalActiveFacets(this.getActive());const t=e.draw(),n=document.createElement("template");n.innerHTML=t;document.getElementById(this.getMultiFacetSelector(1))?.after(n.content);e.finalize()}};function o(e){return Xn["default"].Browse.getCategoryPageUrl()===e}function r(e,t,n){for(var i=0;i<e.length;i++)if(e[i].name===t){var a=e[i].data;if(a&&a.selected&&(0,ni.hasElements)(a.selected.filter((function(e){return e.name===n}))))return!0}return!1}}Object.assign(ph,lh);const mh=ph;function gh(){var e=We["default"].createElement,t=this;this.DEPTH_OF_TREAMENT_FACET_NAME="profile_depthoftreatment";this.CREATED_DATE_FACET_NAME="pf_createddatetime";this.MODIFIED_DATE_FACET_NAME="pf_modifieddatetime";this.JURISDICTION_FACET_NAME="xmlf_jurisdiction";this.LOCATE_FACET_NAME="profile_locate";this.SIX_MONTHS="{6_MONTHS}";this.TWELVE_MONTHS="{12_MONTHS}";this.THREE_YEARS="{3_YEARS}";this.CUSTOM="Custom";this.appliedDepthFacets=[];this.data=null;this.parentDiv=null;this.appliedFacetCount=0;this.noFacetInfo=null;this.searchWithinFacet=null;this.dateWidget=null;this.depthWidget=null;this.facetsList=[];this.searchWithinWidget=null;this.KMFacetsList=[];this.notAssignedPlaceHolder="notassignedplaceholder";this.facetsActiveOnLoad=[];this.searchDateWidget=null;this.setData=function(e){t.data=e};this.setParentDiv=function(e){t.parentDiv=e};this.setNoFacetInfo=function(e){this.noFacetInfo=e};this.createAccordionFacetWrapperElement=function(e,t){var n=document.createElement("h3");n.className="co_facetCollapsed";n.setAttribute("facetId",e);var i=document.createElement("a");i.href="#";i.innerHTML=t;n.appendChild(i);return n};this.draw=function(){var c=e("div",{id:"co_relatedinfo_facets"}),d=e("div",{class:"co_genericBox"});c.appendChild(d);var u=e("div",{class:"co_genericBoxContent"});u.id="coid_relatedInfo_facets_list_KMCitingReferences";u.appendChild(n());d.appendChild(u);t.parentDiv.appendChild(c);if(t.noFacetInfo){const e=document.createElement("a");e.className="co_btnGray co_btnBack";e.id="co_relatedInfo_km_remove_all_facets_link";e.href="javascript:void(0);";e.innerHTML="<i></i>Undo Filters";const n=document.createElement("div");n.className="co_undoAll";n.id="co_undoAllSelections";n.append(e);u.appendChild(n);t.wireEvents()}else try{for(var h=0;h<t.data.facetData.length;h++){for(var f=t.data.facetData[h],p=0;p<f.Values.length;p++)if(f.Values[p].IsApplied){var m=!0;break}if(m)break}if(m){const e=document.createElement("a");e.className="co_btnGray co_btnBack";e.id="co_relatedInfo_km_remove_all_facets_link";e.href="javascript:void(0);";e.innerHTML="<i></i>Undo Filters";const t=document.createElement("div");t.className="co_undoAll";t.id="co_undoAllSelections";t.append(e);u.appendChild(t)}for(var g=0;g<t.data.facetData.length;g++){var v=t.data.facetData[g];if(0==v.Values.length)continue;v.Key==t.DEPTH_OF_TREAMENT_FACET_NAME?this.depthWidget=r(v):v.Key==t.CREATED_DATE_FACET_NAME||v.Key==t.MODIFIED_DATE_FACET_NAME?this.dateWidget=s(v):v.Key==t.LOCATE_FACET_NAME?this.searchWithinFacet=i(v):(v.Key,t.JURISDICTION_FACET_NAME,l(v))}if(null!=this.searchWithinFacet){if(o["default"].EnableIpad){const e=this.createAccordionFacetWrapperElement("co_searchWithinWidget","Search within results");u.appendChild(e)}u.appendChild(this.searchWithinFacet)}if(null!=this.depthWidget){if(o["default"].EnableIpad){const e=this.createAccordionFacetWrapperElement("co_depthOfTreatmentWidget","Depth Of Treatment");u.appendChild(e)}u.appendChild(this.depthWidget)}if(null!=this.dateWidget){if(o["default"].EnableIpad){const e=this.createAccordionFacetWrapperElement("co_dateWidget","Date");u.appendChild(e)}u.appendChild(this.dateWidget)}a(u);t.wireEvents();t.wireFacet();null!=t.searchDateWidget&&t.searchDateWidget.initialize()}catch(e){(0,et["default"])(e)}};var n=function(){var t=e("h3",{class:"co_genericBoxHeader"});if(!o["default"].EnableIpad){var n=e("span",{}),i=e("strong",{},"NARROW");n.appendChild(i);t.appendChild(n)}return t},i=function(n){var i=n.Values,a=e("div",{class:"co_divider"}),o=e("div",{class:"co_facet_group"});o.appendChild(e("strong",{},"Search within results"));a.appendChild(o);for(var r,s=!1,l=0;l<i.length;l++){r=i[l].Value;s=i[l].IsApplied}var c=new gc;c.hideHelp();t.searchWithinWidget=c;s&&!We["default"].isBlank(r)&&c.setQuery(r);c.setActivateCallback((function(e){var n=t.LOCATE_FACET_NAME;t.data.client.updateFacets(n,e,"0",(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1,transitionType:"ListViewType"})}))}));c.setDeactivateCallback((function(){var e=t.LOCATE_FACET_NAME;t.data.client.updateFacets(e,"","1",(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1,transitionType:"ListViewType"})}))}));a.innerHTML=c.createHtml();return a},a=function(e){var n=new c,i=document.createElement("div");i.className="co_undoAll";var a=document.createElement("div");a.id="co_narrowRelatedResultsBy";e.appendChild(a);var o=new mh(a,n,{undoDomElement:i,multiFacetCapable:!1});o.drawMultiFacetLinks=function(){return""};o.setFacets(t.KMFacetsList);o.draw()};this._convertToSearchID=function(e){var t=escape(e);return(t=(t=(t=(t=(t=(t=(t=t.replace(/\+/gi,"%2B")).replace(/-/gi,"%2D")).replace(/\*/gi,"%2A")).replace(/\//gi,"%2F")).replace(/\./gi,"%2E")).replace(/_/gi,"%5F")).replace(/@/gi,"%40")).replace(/%/gi,"_")};this._convertFromSearchID=function(e){var t=e.replace(/_/gi,"%");return unescape(t)};var r=function(n){var i=n.Values,a=e("div",{class:"co_divider"}),o=e("div",{class:"co_facet_group"})
;o.appendChild(e("strong",{},"Depth Of Treatment"));a.appendChild(o);for(var r=e("ul",{class:"co_facet_treatmentTree"}),s=e("li"),l=e("li"),c=e("li"),d=e("li"),u=!1,h=!1,f=!1,p=!1,m=0;m<i.length;m++){var g=i[m],v=e("span",{class:"co_facetCount"},g.Count),y=e("a",{name:"co_realtedInfo_checkbox_anchor",facetValue:g.Value,facetKey:n.Key,checkedValue:g.IsApplied});y.id="coid_relatedinfo_DepthOfTreatment"+g.Value+"_link";if(g.IsApplied){y.className="co_checkbox_selected";t.appliedDepthFacets.push(g.Value)}else y.className="co_checkbox_unselected";var b=e("div",{class:"co_relatedInfo_dotBar_"+g.Value},"Depth of Treatment Facet value "+g.Value);y.appendChild(b);if(1==g.Value){s.appendChild(v);s.appendChild(y);p=!0}else if(2==g.Value){l.appendChild(v);l.appendChild(y);f=!0}else if(3==g.Value){c.appendChild(v);c.appendChild(y);h=!0}else if(4==g.Value){d.appendChild(v);d.appendChild(y);u=!0}}u&&r.appendChild(d);h&&r.appendChild(c);f&&r.appendChild(l);p&&r.appendChild(s);a.appendChild(r);return a},s=function(n){var i=n.Values,a=n.Key,o=e("div",{class:"co_divider"}),r=e("div",{class:"co_facet_group"});r.appendChild(e("strong",{},"pf_createddatetime"==a?"Created Date":"Modified Date"));o.appendChild(r);for(var s=[],l=0,c=0,d=0,u=!1,h=!1,f=!1,p=!1,m=0;m<i.length;m++){var g=i[m];if(g.Value==t.SIX_MONTHS){l=g.Count;u=g.IsApplied}else if(g.Value==t.TWELVE_MONTHS){c=g.Count;h=g.IsApplied}else if(g.Value==t.THREE_YEARS){d=g.Count;f=g.IsApplied}else g.DisplayValue==t.CUSTOM&&(p=g.IsApplied)}l>0&&s.push({id:"co_relatedInfo_km_date_facet_6_months_"+a,label:"Last 6 months",count:We["default"].addCommas(l)});c>0&&s.push({id:"co_relatedInfo_km_date_facet_12_months_"+a,label:"Last 12 months",count:We["default"].addCommas(c)});d>0&&s.push({id:"co_relatedInfo_km_date_facet_3_years_"+a,label:"Last 3 years",count:We["default"].addCommas(d)});s.push({id:"co_relatedInfo_km_date_facet_all_"+a,label:"All"});var v=new Sc("co_relatedInfo_km_date_facet_"+a,a);t.searchDateWidget=v;v.fixedRangeTypeList=s;if(u)v.selectedRangeTypeId="co_relatedInfo_km_date_facet_6_months_"+a;else if(h)v.selectedRangeTypeId="co_relatedInfo_km_date_facet_12_months_"+a;else if(f)v.selectedRangeTypeId="co_relatedInfo_km_date_facet_3_years_"+a;else if(p){v.selectedRangeTypeId=v.CUSTOM;if(g.Value.indexOf("1700")>-1){v.selectedCustomRangeSubTypeId=v.BEFORE;v.selectedCustomRangeDate=g.Value.split("|")[1]}else if(g.Value.indexOf("|")==g.Value.length-1){v.selectedCustomRangeSubTypeId=v.AFTER;v.selectedCustomRangeDate=g.Value.split("|")[0]}else if(-1==g.Value.indexOf("|")){v.selectedCustomRangeSubTypeId=v.ON;v.selectedCustomRangeDate=g.Value}else{v.selectedCustomRangeSubTypeId=v.FROM_UNTIL;var b=g.Value.split("|"),C=b[0],S=b[1];S=(S=S.replace("-","/")).replace("-","/");v.selectedCustomRangeDate=C;v.selectedCustomRangeDateUntil=S}}else v.selectedRangeTypeId="co_relatedInfo_km_date_facet_all_"+a;o.innerHTML=o.innerHTML+v.createHtml((function(e,n){var i=null,o="0";if(n.selectedRangeTypeId==n.CUSTOM){if(n.selectedCustomRangeSubTypeId==n.FROM_UNTIL)i=n.selectedCustomRangeDate+"|"+n.selectedCustomRangeDateUntil;else if(n.selectedCustomRangeSubTypeId==n.ON)i=n.selectedCustomRangeDate;else if(n.selectedCustomRangeSubTypeId==n.BEFORE)i="1/1/1700|"+n.selectedCustomRangeDate;else{if(n.selectedCustomRangeSubTypeId!=n.AFTER)throw new Error("invalid custom date range subtype '"+n.selectedCustomRangeSubTypeId+"'");i=n.selectedCustomRangeDate+"|"}i=(i=i.replace("-","/")).replace("-","/")}else if(n.selectedRangeTypeId=="co_relatedInfo_km_date_facet_6_months_"+a)i=t.SIX_MONTHS;else if(n.selectedRangeTypeId=="co_relatedInfo_km_date_facet_12_months_"+a)i=t.TWELVE_MONTHS;else if(n.selectedRangeTypeId=="co_relatedInfo_km_date_facet_3_years_"+a)i=t.THREE_YEARS;else if(n.selectedRangeTypeId=="co_relatedInfo_km_date_facet_all_"+a)if(u){i=t.SIX_MONTHS;o="1"}else if(h){i=t.TWELVE_MONTHS;o="1"}else if(f){i=t.THREE_YEARS;o="1"}else if(p){i="custom";o="1"}t.data.client.updateFacets(a,i,o,(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1,transitionType:"ListViewType"})}))}));return o},l=function(e){for(var n=[],i=[],a=[],o=0;void 0!==e.Values[o];o++){const c=e.Values[o];var r=""==c.Value?t.notAssignedPlaceHolder:c.Value;r=t._convertToSearchID(r);var s={};s.name=c.DisplayValue;s.id=r;s.dataOptions={kmValue:c.Value,count:c.Count+"",id:r};if(c.IsApplied){s.dataOptions.active=!0;n.push(s);var l={kmValue:c.Value,searchValue:r};a.push(l)}i.push(s)}a.length>0&&(t.facetsActiveOnLoad[e.Key]=a);var c={selected:n,available:i},d=t._convertToSearchID(e.Key);const u={key:e.Key,name:e.Name,data:c,displayOptions:{id:d,plural:e.Name,selector:"multipleXBoxes"}};t.KMFacetsList.push(u)},c=function(){this.apply=function(e,n,i){var a=t._convertFromSearchID(i),o=t.facetsActiveOnLoad[a];if(e)if(0==n.length){if(null!=o&&null!=o)for(let e=0;e<o.length;e++)t.data.client.updateFacets(a,o[e].kmValue,"1",(function(){}))}else{var r=[];for(let e=0;e<n.length;e++){var s=n[e];s.id==i&&(r=s.data)}const e=this.buildFacetsToRemoveList(r,o);r=this.removeAlreadyAppliedFacets(r,o);for(let e=0;e<r.length;e++){let n=r[e];n=t._convertFromSearchID(n);n=t.notAssignedPlaceHolder==n?"":n;t.data.client.updateFacets(a,n,"0",(function(){}))}for(let n=0;n<e.length;n++){let i=e[n];i=t._convertFromSearchID(i);i=t.notAssignedPlaceHolder==i?"":i;t.data.client.updateFacets(a,i,"1",(function(){}))}}else{const e=[];if(null!=o&&null!=o)for(let t=0;t<o.length;t++){var l=o[t];0!=n.length&&this.arrayContains(l.searchValue,n[0].data)||e.push(l.kmValue)}for(let n=0;n<e.length;n++){var c=e[n];t.data.client.updateFacets(a,c,"1",(function(){}))}}y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1})};this.buildFacetsToRemoveList=function(e,t){var n=[];if(null!=t&&null!=t){for(var i=[],a=0;a<t.length;a++)i.push(t[a].searchValue);for(var o=0;o<i.length;o++){var r=i[o];this.arrayContains(r,e)||n.push(r)}}return n};this.removeAlreadyAppliedFacets=function(e,t){var n=[];if(null==t||null==t)return e;for(var i=[],a=0;a<t.length;a++)i.push(t[a].searchValue);for(var o=0;o<e.length;o++){var r=e[o];this.arrayContains(r,i)||n.push(r)}return n};this.arrayContains=function(e,t){for(var n=!1,i=0;i<t.length;i++){if(e==t[i]){n=!0;break}}return n};this.removeAll=function(){return""}};this.wireEvents=function(){null!=t.searchWithinWidget&&t.searchWithinWidget.initialize();document.querySelectorAll("a[name^=co_realtedInfo_checkbox_anchor]").forEach((e=>e.addEventListener("click",(function(){var e=this.getAttribute("checkedValue"),n="1";"false"!=e&&e||(n="0");var i=this.getAttribute("facetValue"),a=this.getAttribute("facetKey");t.data.client.updateDepthFacet(a,i,n,t.appliedDepthFacets,(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1})}))}))));document.querySelectorAll(".co_relatedInfo_km_checkbox_facet").forEach((e=>e.addEventListener("click",(function(){var e=this.checked?"0":"1",n=this.getAttribute("facetValue"),i=this.getAttribute("facetKey");t.data.client.updateFacets(i,n,e,(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1})}))}))));document.getElementById("co_relatedInfo_km_locate_button")?.addEventListener("click",(function(){var e=document.getElementById("co_relatedInfo_km_facet_locate")?.value??"",n=t.LOCATE_FACET_NAME;t.data.client.updateFacets(n,e,"0",(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1,
transitionType:"ListViewType"})}))}));document.getElementById("co_realatedInfo_km_locate_facet_remove")?.addEventListener("click",(function(){var e=t.LOCATE_FACET_NAME;t.data.client.updateFacets(e,"","1",(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1,transitionType:"ListViewType"})}))}));document.getElementById("co_relatedInfo_km_remove_all_facets_link")?.addEventListener("click",(function(){t.data.client.resetAllFacets((function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1,transitionType:"ListViewType"})}))}))};this.wireFacet=function(e,t,n){"function"!=typeof n&&(n=function(){return!1});document.querySelectorAll(".co_facetCollapsed").forEach((e=>e.addEventListener("click",(function(e){var t=this;const n=(0,P.next)(this);(0,lt.slideToggle)(n,300,(function(){t.classList.toggle("co_facetExpanded");t.classList.toggle("co_facetCollapsed");We["default"].iScrollRefresh()}));e.preventDefault();e.stopPropagation()}))));document.querySelectorAll(".co_facetCollapsed").forEach((function(e){const t=(0,P.next)(e);if(t&&!n(t))(0,lt.hideElements)(t);else if(t){e.classList.toggle("co_facetExpanded");e.classList.toggle("co_facetCollapsed")}}));We["default"].iScrollRefresh()}}function vh(){var e=We["default"].createElement,t=this;this.data=null;this.parentDiv=null;this.hasPrevious=!1;this.hasNext=!1;this.setData=function(e){t.data=e};this.setParentDiv=function(e){t.parentDiv=e};this.draw=function(){t.parentDiv.appendChild(n());t.wireEvents()};var n=function(){var n,i=e("div");i.className="co_navFooter";i.id="coid_navFooterDiv";var a=e("div"),r=e("ul");r.className="co_navFooter_pagination";r.id="coid_navFooter_pagination";if(t.data.indexToPageMap.length>2){if(t.data.startIndex>1){var s=e("li");s.appendChild(function(){var t=e("a",{id:"co_relatedinfo_km_pagination_first_Button",class:"co_first",href:"#"}),n=e("img");n.alt="First Page";n.src=A["default"].GetUrl(A["default"].Images,"/images/v1/co_documentFooterArrowFirst.png");t.appendChild(n);return t}());r.appendChild(s);var l=e("li");l.appendChild(function(){var t=e("a",{id:"co_relatedinfo_km_pagination_back_Button",class:"co_prev"}),n=e("img");n.alt="Previous Page";n.src=A["default"].GetUrl(A["default"].Images,"/images/v1/co_documentFooterArrowPrevious.png");t.appendChild(n);return t}());r.appendChild(l);t.hasPrevious=!0}for(var c=1;c<t.data.indexToPageMap.length;c++)t.data.indexToPageMap[c]==t.data.startIndex&&(n=c);if(t.data.indexToPageMap.length>10&&n>6)for(var d=n-6;d<t.data.indexToPageMap.length&&d<n+3;d++){const i=e("li");let a;if(d==n){a=e("strong");a.innerHTML=d}else{a=e("a",{index:t.data.indexToPageMap[d],class:"co_relatedInfo_km_page_link"});a.innerHTML=d}i.appendChild(a);r.appendChild(i)}else for(var u=1;u<t.data.indexToPageMap.length&&u<10;u++){const i=e("li");let a;if(u==n){a=e("strong");a.innerHTML=u}else{a=e("a",{index:t.data.indexToPageMap[u],class:"co_relatedInfo_km_page_link"});a.innerHTML=u}i.appendChild(a);r.appendChild(i)}if(n!=t.data.indexToPageMap.length-1){var h=e("li"),f=function(){var t=e("a",{id:"co_relatedinfo_km_pagination_next_Button",class:"co_next",href:"#"}),n=e("img");n.alt="Next Page";n.src=A["default"].GetUrl(A["default"].Images,"/images/v1/co_documentFooterArrowNext.png");t.appendChild(n);return t}();h.appendChild(f);r.appendChild(h);var p=e("li");p.appendChild(function(){var t=e("a",{id:"co_relatedinfo_km_pagination_last_Button",class:"co_last",href:"#"}),n=e("img");n.alt="Last Page";n.src=A["default"].GetUrl(A["default"].Images,"/images/v1/co_documentFooterArrowLast.png");t.appendChild(n);return t}());r.appendChild(p);t.hasNext=!0}}a.appendChild(r);if(!o["default"].EnableIpad){const e=t.data.docsPerPage;a.insertAdjacentHTML("beforeend",function(e){const t=D["default"].lookup("SC.RelatedInfo.Pagination.ItemsPerPage","items/page: ");return Je().template('<div id="coid_navFooter_itemCountDiv" class="co_navFooter_itemCount">\n  <label for="co_RI_ResultsPerPage"><%= itemsPerPageLabel %></label>\n  <select id="co_RI_ResultsPerPage" class="co_RI_ResultsPerPage_CRSW">\n      <% _.forEach(options, function(option) { %>\n\t\t\t<option value="<%= option %>" <% \n\t\t\t   if (size == option) {\n\t\t\t     %>selected<%\n\t\t\t   } %>\n\t\t\t ><%= option %></option> \n\t  <% }); %>\n  </select>\n</div>\t\n')({options:[20,50,100],size:e,itemsPerPageLabel:t})}(e))}i.appendChild(a);return i};this.wireEvents=function(){document.querySelectorAll(".co_relatedInfo_km_page_link").forEach((e=>e.addEventListener("click",(function(){var e=parseInt(this.getAttribute("index"));t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}))));if(t.hasPrevious){document.getElementById("co_relatedinfo_km_pagination_back_Button")?.addEventListener("click",(function(){for(var e=null,n=0;n<t.data.indexToPageMap.length;n++)t.data.indexToPageMap[n]==t.data.startIndex&&(e=parseInt(t.data.indexToPageMap[n-1]));t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}));document.getElementById("co_relatedinfo_km_pagination_first_Button")?.addEventListener("click",(function(){var e=parseInt(t.data.indexToPageMap[1]);t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}))}if(t.hasNext){document.getElementById("co_relatedinfo_km_pagination_next_Button")?.addEventListener("click",(function(){for(var e=null,n=0;n<t.data.indexToPageMap.length;n++)t.data.indexToPageMap[n]==t.data.startIndex&&(e=parseInt(t.data.indexToPageMap[n+1]));t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}));document.getElementById("co_relatedinfo_km_pagination_last_Button")?.addEventListener("click",(function(){var e=parseInt(t.data.indexToPageMap[t.data.indexToPageMap.length-1]);t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}))}o["default"].EnableIpad||document.getElementById("co_RI_ResultsPerPage")?.addEventListener("change",(function(e){g["default"].Set("Global","ResultsPerPage",e.target.value,(function(){}));t.data.client.retrieveSearchResults(1,parseInt(e.target.value),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:1})}))}))}}function yh(){this.isKMList=!1;var e=this;this.setControlsList=function(e){this.controlsList=e};this.setPlaceHolderElement=function(e){this.placeHolderElement=e};this.draw=function(e){null!=e&&null!=e&&(this.isKMList=e);var t=document.createElement("li");t.id="co_docToolbarSaveToWidget";var n=document.createElement("div");n.id="co_saveTo"
;t.appendChild(n);this.createSaveToWidget(n);void 0!==this.controlsList&&null!==this.controlsList?this.controlsList.appendChild(t):void 0!==this.placeHolderElement&&null!==this.placeHolderElement&&this.placeHolderElement.replaceWith(t)};this.createSaveToWidget=function(e){var t=new mt["default"];if(void 0!==t){t.SetContentCallback(this.getSelectedItems);t.SetDomElement(e);t.Draw()}};this.getSelectedItems=function(){if(e.isKMList&&void 0!==nc.singletonInstance)return nc.singletonInstance.getSelectedDragItems();if(void 0!==Zl.Instance.checkBoxWidget)return Zl.Instance.checkBoxWidget.getSelectedItems();throw new Error("No instance of Checkbox widget was found.")}}function bh(){var e=We["default"].createElement,t=this;this.data=null;this.parentDiv=null;this.hasPrevious=!1;this.hasNext=!1;this.setData=function(e){this.data=e};this.setParentDiv=function(e){this.parentDiv=e};this.draw=function(){this.parentDiv.appendChild(n());this.parentDiv.appendChild(i());t.wireEvents()};var n=function(){var n=e("ul",{id:"co_docToolbarMenuLeft"}),i=e("li",{id:"co_categoryLabelContainer",class:"co_categoryLabelWidget"}),a=We["default"].addCommas(t.data.totalDocCount),o=e("h3",{},"West km Citing References ("+a+")");i.appendChild(o);n.appendChild(i);i=e("li",{id:"co_paginationListItem_id",class:"co_paginationListItem_class"});if(t.data.startIndex>1){i.appendChild(function(){var t=A["default"].GetHost(A["default"].Images),n=e("a",{id:"co_relatedinfo_km_toolbar_back_Button"}),i=e("img",{alt:"Previous Page",src:"http://"+t+"/images/v1/co_documentFooterArrowPrevious.png"});n.appendChild(i);return n}());t.hasPrevious=!0}var r=e("h3",{},We["default"].addCommas(t.data.startIndex)+"-"+We["default"].addCommas(t.data.lastIndex)+" of "+We["default"].addCommas(t.data.totalDocCount));i.appendChild(r);if(t.data.lastIndex<t.data.totalDocCount){i.appendChild(function(){var t=A["default"].GetHost(A["default"].Images),n=e("a",{id:"co_relatedinfo_km_toolbar_next_Button",href:"#"}),i=e("img",{alt:"Next Page",src:"http://"+t+"/images/v1/co_documentFooterArrowNext.png"});n.appendChild(i);return n}());t.hasNext=!0}n.appendChild(i);i=e("li");for(var s=e("select",{id:"co_realtedInfo_km_sort_options",class:"co_realtedInfo_km_sort_options"}),l=t.data.sortByOptions,c=0;c<l.length;c++){var d=e("option",{value:l[c].Key},l[c].Name);l[c].Applied&&d.setAttribute("selected","selected");s.appendChild(d)}i.appendChild(s);n.appendChild(i);return n},i=function(){var t=e("ul",{id:"co_docToolbarMenuRight"}),n=new yh;n.setControlsList(t);n.draw(!0);return t};this.wireEvents=function(){document.querySelector(".co_realtedInfo_km_sort_options")?.addEventListener("change",(function(e){t.data.client.sort(e.target.value,1,(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:t.data.startIndex,transitionType:"ListViewType"})}))}));t.hasPrevious&&document.getElementById("co_relatedinfo_km_toolbar_back_Button")?.addEventListener("click",(function(){for(var e=null,n=0;n<t.data.indexToPageMap.length;n++)t.data.indexToPageMap[n]==t.data.startIndex&&(e=parseInt(t.data.indexToPageMap[n-1]));t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}));t.hasNext&&document.getElementById("co_relatedinfo_km_toolbar_next_Button")?.addEventListener("click",(function(){for(var e=null,n=0;n<t.data.indexToPageMap.length;n++)t.data.indexToPageMap[n]==t.data.startIndex&&(e=parseInt(t.data.indexToPageMap[n+1]));t.data.client.retrieveSearchResults(e,e+parseInt(t.data.docsPerPage),(function(){y["default"].Publish("Cobalt.RelatedInfo.KM.FirmCitingReferences",{rank:t.data.context.rank,docSource:t.data.context.docSource,transitionType:"ListViewType",count:t.data.context.count,searchTranId:t.data.context.searchTranId,startIndex:e})}))}))}}function Ch(){this.documentGuid=null;this.originalContext=null;this.clientId=null}Ch.prototype={setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setOriginalContext:function(e){this.originalContext=e},getOriginalContext:function(){return this.originalContext},setClientId:function(e){this.clientId=e},getClientId:function(){return this.clientId},equals:function(e){var t=!1;We["default"].isNotNullOrUndefined(e)&&(e instanceof Ch||this.documentGuid!==e.getDocumentGuid()||this.originalContext!==e.getOriginalContext()||this.clientId!==e.getClientId())||(t=!0);return t}};var Sh=n(8799);function _h(){var e=this;this.CONSTANT_20=20;this.CONSTANT_50=50;this.CONSTANT_100=100;this.parentDiv=null;this.transformedKMCiteData=null;this.docsPerPage=null;this.client=null;this.facetData=null;this.facetIsApplied=!1;this.kmContext=null;this.setKMContext=function(t){e.kmContext=t};this.init=function(){e.client=new Ql(e.kmContext);var i=function(i){var a={count:i.Count,statusCode:i.StatusCode,searchTranId:i.searchTranId};new We["default"].EventWrapper("Cobalt.RelatedInfo.KM.ContentLoaded",a).publish();if(e.kmContext.isVisible()){var o=e.kmContext.getStartIndex();null==o&&(o=1);var c=(o=parseInt(o))+l()-1;e.client.retrieveSearchResults(o,c,(function(i){e.client.retrieveFacets((function(a){e.facetData=a;for(var o=0;o<e.facetData.length;o++)for(var l=e.facetData[o],c=0;c<l.Values.length;c++){var d=l.Values[c];d.DisplayValue=t(d.DisplayValue);d.IsApplied&&(e.facetIsApplied=!0)}if(0==i.Results.length){e.transformedKMCiteData={};e.transformedKMCiteData.facetData=e.facetData;e.transformedKMCiteData.client=e.client;e.transformedKMCiteData.context=e.kmContext;e.transformedKMCiteData.parsedDataArray={};r()}else{e.transformedKMCiteData=s(i);n()}}))}))}};null==e.kmContext.getSearchTranId()?e.client.retrieveSearchStatus(i,!1):e.client.retrieveSearchStatus((function(t){if(-1==t.StatusCode){e.kmContext.setSearchTranId(null);e.client.retrieveSearchStatus(i,!1)}else i(t)}),!0)};var t=function(e){var t=e;null!=t&&null!=t&&(t=t.replace(":",": "));return t},n=function(){var t=new bh;t.setParentDiv(e.kmContext.toolbarWidgetDiv);t.setData(e.transformedKMCiteData);t.draw();var n=new nc;n.setParentDiv(e.kmContext.contentWidgetDiv);n.setData(e.transformedKMCiteData);n.draw();var a=new gh;a.setParentDiv(e.kmContext.facetWidgetDiv);a.setData(e.transformedKMCiteData);a.draw();var o=new vh;o.setParentDiv(e.kmContext.paginationWidgetDiv);o.setData(e.transformedKMCiteData);o.draw();i()},i=async function(){var t={guid:e.kmContext.getDocumentGuid()},n={documentMetaData:{DocGuid:e.kmContext.getDocumentGuid()},relatedInfoType:"KMCitingReferences",km:!0,historyType:"KeyCite",itemAddedToHistoryAsynchronously:!0},i=new b["default"](t,n,"Cobalt.RelatedInfo.Document","1");y["default"].Publish("Cobalt.RelatedInfo.Render.Complete",i);var o=new Ch,r=te["default"].GetClientMatter();We["default"].isNotNullOrUndefined(r)&&o.setClientId(r.ClientId);o.setDocumentGuid(e.kmContext.getDocumentGuid());o.setOriginalContext(a["default"].GetResearchOrganizerOriginalContext());await Sh.Q.submitWebRequest(o)},r=function(){var t=new gh;t.setParentDiv(e.kmContext.facetWidgetDiv);t.setData(e.transformedKMCiteData);t.setNoFacetInfo(!e.facetIsApplied);t.draw();var n=new nc;n.setParentDiv(e.kmContext.contentWidgetDiv);n.setData(e.transformedKMCiteData);n.setNoFacetInfo(!e.facetIsApplied);n.draw()},s=function(t){var n=[],i=[],o=null,r=null,s=null,c=null,d=null,u=null,h=t.Results,f=null;f=e.facetIsApplied?t.FilteredCount:t.Count;for(var p in h){s=h[p];0==p&&(c=s.Index);var m={guid:s.DocumentContext.Id,viewType:"FullText",transitionType:"KMDocument",contextData:a["default"].PageContextData,kmSearchId:t.Id,listSource:"RelatedInfo"},g=a["default"].Absolute(a["default"].Page.KMDocument(m)),v=s.ProfileId,y=`<a href='${g}'id='co_relatedInfo_km_link${p}' title='${s.Title}' subcontenttype='km' docguid='${v}' class='co_realatedInfo_km_document ui-draggable'><div> <h3>${s.Title}</h3> </div> </a>`,b=s.FieldData.Fields
;y=`${y}<span id ='co_relatedInfo_km_citations' class='co_detailLevel_3'>`;for(var C in b){var S=b[C];if(We["default"].isNotNullOrUndefined(S.Values)&&S.Values.length>0&&0!=S.Values[0].length)if("profile_depthoftreatment"!=S.Key)y=C>1?`${y}  |  <strong class="co_relatedInfo_km_field_title">${S.DisplayName}</strong>: ${S.Values[0]}`:`${y}<strong class="co_relatedInfo_km_field_title">${S.DisplayName}: </strong> ${S.Values[0]}`;else if(parseInt(S.Values[0])){o=S.Values[0];r=S.Values[1]}else{o=S.Values[1];r=S.Values[0]}}var _={treatment:r,depthCode:o,titleAndCitation:y+="</span>",profileId:v,title:s.Title};n.push(_)}d=null!=s?s.Index:0;u=t.SortFields;var D=null;D=f/l();f%l()>0&&D++;D=Math.floor(D);for(var T=1;T<D+1;T++){var I=1+(T-1)*l();i[T]=I}return{client:e.client,context:e.kmContext,results:t,docsPerPage:l(),startIndex:c,lastIndex:d,totalDocCount:f,parsedDataArray:n,indexToPageMap:i,sortByOptions:u,facetData:e.facetData}},l=function(){if(null==e.docsPerPage){var t=g["default"].Get("Global","ResultsPerPage");(o["default"].EnableIpad||o["default"].EnableIphone||null!=t&&t!=e.CONSTANT_20&&t!=e.CONSTANT_50&&t!=e.CONSTANT_100)&&(t=e.CONSTANT_20);e.docsPerPage=t}return parseInt(e.docsPerPage)}}function Dh(){Dl.call(this)}Dh.prototype=new Dl;Dh.prototype.constructor=Dh;Dh.prototype.getTabNavNoCountObject=function(){var e={"StatuteHistory.Graphical":!0};return e};Dh.prototype.draw=function(e){this.getRelatedProfilesCallback(e)};Dh.prototype.getRelatedProfilesCallback=function(e){var t=e.RelatedProfiles.Profiles,n=document.createElement("ul");this.parentElement.appendChild(n);for(var i=0;i<t.length;i++)this.getListItemForRelatedProfile(n,t[i].ProfileType,t[i].ProfileName,t[i].url,t[i].isCurrentDoc)};Dh.prototype.getListItemForRelatedProfile=function(e,t,n,i,a){var o=document.createElement("li");o.id="coid_relatedProfiles_ListPreviewItem_"+t;if(a){const e=document.createElement("div");o.appendChild(e);e.id="coid_relatedInfo_ListPreviewItem_"+t;e.innerHTML=n}else{const e=document.createElement("a");o.appendChild(e);e.id="coid_relatedProfiles_subCategory_link"+t;e.href=i;e.className="co_relatedInfo_primaryLink";e.innerHTML=n}e.appendChild(o)};const Th=Dh;const Ih=function e(){e.singletonInstance=this;this.docSource=null;this.rank=null;this.documentCollection=null;this.preViewData=null;this.previewItemCache={};this.setDocSource=function(e){this.docSource=e};this.setRank=function(e){this.rank=e};this.setDocumentCollection=function(e){this.documentCollection=e};this.addTabPreview=function(t,n,i,a,o,r,s,l,c){var d=e.singletonInstance;if("StatuteHistory"===a||"ContextAnalysis"===a||"riContextAnalysis"===a||"StatuteCitingReferences"===a||"Profiler"===a||"wlncCitingReferences"===a||"kcCitingReferences"===a||"riMedicalReferences"===a||"wlnIPToolsOverview"===a||"wlncLaRefCitingReferences"===a){var u={};u.tabAnchorElement=s;u.anchorElement=t;u.contentElement=n;u.documentGuid=i;u.category=a;u.selectedCategory=o;u.hasBeenPopulated=!1;u.originationContext=r;u.showing=!1;u.timeoutId=null;u.entityId=l;u.entityType=c;d.previewItemCache[a]=u;if("StatuteCitingReferences"===a){var h=document.getElementById("co_"+a+"NavAnchor");if(null!=h){h.style.display="none";d.drawInContentElement(u,u.contentElement,u.documentGuid,u.category,u.selectedCategory,u.originationContext,d.docSource,d.rank,d.documentCollection,d.preViewData,u.entityId,u.entityType);u.hasBeenPopulated=!0}}else d.enableDropdown(a)}};this.enableDropdown=function(t){var n=e.singletonInstance,i=n.previewItemCache[t];const a=e=>{if("Enter"!==e.code&&"Space"!==e.code)return;e.preventDefault();i.showing?n.hideAfterDelay(i.category):n.showAfterDelay(i.category);e.stopPropagation()};var o=function(){n.hideAfterDelay(i.category)},r=function(){n.showAfterDelay(i.category)};i.tabAnchorElement?.addEventListener("keyup",a);i.tabAnchorElement?.addEventListener("keypress",a);i.tabAnchorElement?.addEventListener("keydown",a);i.tabAnchorElement?.addEventListener("focusout",o);i.tabAnchorElement?.addEventListener("mouseenter",r);i.tabAnchorElement?.addEventListener("mouseleave",o);i.anchorElement?.addEventListener("focusin",r);i.anchorElement?.addEventListener("focusout",o);i.anchorElement?.addEventListener("mouseenter",r);i.anchorElement?.addEventListener("mouseleave",o);i.contentElement?.addEventListener("focusin",r);i.contentElement?.addEventListener("focusout",o);i.contentElement?.addEventListener("mouseenter",r);i.contentElement?.addEventListener("mouseleave",o)};this.hideAfterDelay=function(t){var n=e.singletonInstance.previewItemCache[t];if(null!==n.timeoutId){clearTimeout(n.timeoutId);n.timeoutId=null}n.timeoutId=setTimeout((function(){if(n.showing){n.showing=!1;n.anchorElement.className="co_dropdownArrowCollapsed";n.contentElement.style.display="none"}}),250)};this.showAfterDelay=function(t){var n=e.singletonInstance,i=n.previewItemCache[t];if(null!==i.timeoutId){clearTimeout(i.timeoutId);i.timeoutId=null}i.timeoutId=setTimeout((function(){if(!i.hasBeenPopulated){n.drawInContentElement(i,i.contentElement,i.documentGuid,i.category,i.selectedCategory,i.originationContext,n.docSource,n.rank,n.documentCollection,n.preViewData,i.entityId,i.entityType);i.hasBeenPopulated=!0}if(!i.showing){i.showing=!0;i.anchorElement.className="co_dropdownArrowCollapsed";i.contentElement.className="co_dropdownBoxExpanded";i.contentElement.style.display="block"}}),250)};this.drawInContentElement=function(e,t,n,i,a,o,r,s,l,c,d,u){var h=null;"StatuteHistory"===i?h=new Il:"ContextAnalysis"===i?h=new kl:"riContextAnalysis"===i?h=new El:"StatuteCitingReferences"===i?h=new Ll:"Profiler"===i?h=new Th:"wlncCitingReferences"===i||"wlncLaRefCitingReferences"===i?h=new Rl:"kcCitingReferences"===i?h=new Ml:"riMedicalReferences"===i?h=new Wl:"wlnIPToolsOverview"===i&&(h=new Gl);if(null!=h){var f=document.createElement("div");f.className="co_dropdownBoxExpanded_inner";t.appendChild(f);h.setParentElement(f);h.setDocumentGuid(n);h.setCategory(i);h.setSelectedCategory(a);h.setOriginationContext(o);h.setDocSource(r);h.setRank(s);h.setDocumentCollection(l);h.setContentElement(t);h.setPreviewItem(e);h.setEntityId(d);h.setEntityType(u);"Profiler"!==i?h.draw():h.draw(c)}};y["default"].Subscribe("Cobalt.RelatedInfo.Widget.Preview.AbstractListPreviewWidget.showDropdown",((e,t)=>{this.enableDropdown(t.Data.category)}))};var xh=n(7270);function kh(){this.documentGuid=null;this.jurisdiction=null;this.topicCount=null;this.docCount=null;this.light=null;this.planIcons=null;this.warningFlag=null;this.globalJurisdiction=null;this.docSource=null;this.rank=null;this.documentCollection=null}kh.prototype={getGlobalJurisdiction:function(){return this.globalJurisdiction},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setWarningFlag:function(e){this.warningFlag=e},getWarningFlag:function(){return this.warningFlag},setPlanIcons:function(e){this.planIcons=e},getPlanIcons:function(){return this.planIcons},setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setDocumentCollection:function(e){this.documentCollection=e},getDocumentCollection:function(){return this.documentCollection},setJurisdiction:function(e){this.jurisdiction=e},getJurisdiction:function(){return this.jurisdiction},setTopicCount:function(e){this.topicCount=e},getTopicCount:function(){return this.topicCount},setDocCount:function(e){this.docCount=e},getDocCount:function(){return this.docCount},setRank:function(e){this.rank=e},getRank:function(){return this.rank},setLight:function(e){this.light=e},isLight:function(){return this.light},equals:function(e){if(!(We["default"].isNotNullOrUndefined(e)&&e instanceof kh))return!1;return this.documentGuid===e.getDocumentGuid()&&this.topicCount===e.getTopicCount()&&this.docCount===e.getDocCount()&&this.rank===e.getRank()&&this.light===e.isLight()&&this.docSource===e.getDocSource()&&this.documentCollection===e.getDocumentCollection()}};function wh(){this.documentGuid=null;this.docSource=null;this.rank=null;this.contextData=null;this.documentCollection=null}wh.prototype={equals:function(e){var t=!1
;We["default"].isNotNullOrUndefined(e)&&e instanceof wh&&this.documentGuid===e.documentGuid&&this.docSource===e.docSource&&this.rank===e.rank&&this.contextData===e.contextData&&this.documentCollection===e.documentCollection&&(t=!0);return t}};var Eh=n(5930);function Ah(){var e=this;this.createEl=We["default"].createElement;this.parentDiv=null;this.docGuid=null;this.docSource=null;this.bigFormsContainer=null;this.documentCollection=null;this.topTopicsComplete=!1;this.data=null;this.drawComplete=!1;y["default"].Subscribe("Cobalt.RelatedInfo.TopTopics.Complete",(function(){e.topTopicsComplete=!0;null==e.data||e.drawComplete||e.drawBigForms()}));this.setParentDiv=function(e){this.parentDiv=e};this.setDocGuid=function(e){this.docGuid=e};this.setDocSource=function(e){this.docSource=e};this.setDocumentCollection=function(e){this.documentCollection=e};this.draw=function(){var t=new wh;t.documentGuid=e.docGuid;t.docSource=e.docSource;t.rank=e.rank;t.contextData=a["default"].PageContextData;t.documentCollection=e.documentCollection;Eh.f.requestData(t,e.drawCallback)};this.drawCallback=function(t){e.data=t;e.topTopicsComplete&&!e.drawComplete&&e.drawBigForms()};this.drawBigForms=function(){var t=this.createEl("div");t.className="co_genericBox co_relatedinfo_topic_container";t.id="co_relatedinfo_formfamilies_container";this.bigFormsContainer=t;this.parentDiv.appendChild(t);if(We["default"].isNotNullOrUndefined(e.data.contentResult)){var n=e.data.contentResult.formFamilies,i=e.createEl("ul"),a=e.createEl("div");a.className="co_genericBoxContent";if(We["default"].isNotNullOrUndefined(n)&&n.length>0){var o=document.createElement("h3");e.bigFormsContainer.appendChild(o);o.className="co_genericBoxHeader";var r=document.createElement("span");r.innerHTML="<strong>Form</strong> Families";o.appendChild(r);a.appendChild(i);e.bigFormsContainer.appendChild(a);for(var s=0;s<n.length;s++){var l=n[s],c=e.createEl("li",{},l.topic+" - "+l.jurisdiction);c.className="co_relatedInfo_topic_item";i.appendChild(c);var d=l.formPhases,u=e.createEl("ul");u.className="co_relatedInfo_topic_itemList";c.appendChild(u);if(We["default"].isNotNullOrUndefined(d))for(var h=0;h<d.length;h++){var f=d[h],p=e.createEl("li",{},f.phaseText);p.className="co_relatedInfo_topic_item";u.appendChild(p);var m=f.formTitles,g=e.createEl("ul");g.className="co_relatedInfo_topic_itemList";p.appendChild(g);if(We["default"].isNotNullOrUndefined(m))for(var v=0;v<m.length;v++){var y=m[v],b=e.createEl("li");b.className="co_relatedInfo_topic_item";var C=e.createEl("div");C.className="co_relatedInfo_topics_document_title";b.appendChild(C);var S=e.createEl("a",{},y.titleText);S.className="co_relatedInfo_topics_document_title";S.href=y.titleLink;C.appendChild(S);g.appendChild(b)}}}a.appendChild(i);var _=document.createElement("div");_.className="co_genericBoxFooter";e.bigFormsContainer.appendChild(_);_.appendChild(document.createElement("span"))}}this.drawComplete=!0};this.renderErrorMessage=function(t){var n=document.getElementById(e.parentDiv),i=new B["default"](n);i.SetListItemIdPrefix("coid_relatedInfo_errors_topTopics");i.Draw();i.SetMessage(D["default"].lookup("SC.RelatedInfo.GetTopTopicsMessage","Related Concepts are not available at this time."));i.SetHiddenMessage(t.ErrorMessage+" ("+t.ErrorType+")")}}function Lh(e){this.draw=function(){var t=document.createElement("ul"),n=document.createElement("li"),i=document.createElement("li");t.appendChild(n);t.appendChild(i);n.className="co_relatedInfo_topic_item";var o=document.createElement("a");o.innerHTML=D["default"].lookup("SC.RelatedInfo.CaseEvaluatorWidget.Link","Case Evaluator");o.href=a["default"].Relative(a["default"].Page.CaseEvaluator({transitionType:a["default"].DefaultTransitionType,contextData:a["default"].PageContextData}));n.appendChild(o);var r=document.createElement("ul");r.className="co_relatedInfo_topic_itemList";var s=document.createElement("li");r.appendChild(s);s.className="co_relatedInfo_topic_item";s.appendChild(document.createTextNode(D["default"].lookup("SC.RelatedInfo.CaseEvaluatorWidget.Description","Generates a report that compares the outcomes of comparable cases")));i.appendChild(r);e.replaceChildren(t)}}function Nh(){Nh.singletonInstance=this;var e=this;this.widgetName="ProfilerTools";this.parentDiv=null;this.docGuid=null;this.docSource=null;this.rank=null;this.docSource=null;this.documentCollection=null;this.progressIndicator=null;this.topicContainer=null;this.expertName=null;this.setExpertName=function(e){this.expertName=e};this.setDocSource=function(e){this.docSource=e};this.setDocSource=function(e){this.docSource=e};this.setRank=function(e){this.rank=e};this.setParentDiv=function(e){this.parentDiv=e};this.setDocGuid=function(e){this.docGuid=e};this.setDocumentCollection=function(e){this.documentCollection=e};this.draw=function(){if("w_profiler_wldpr"!=this.documentCollection){y["default"].Publish("Cobalt.Document.RelatedWidget.Loaded",{widgetName:this.widgetName});return}var t=document.createElement("div");t.className="co_genericBox co_relatedinfo_topic_container";t.id="co_relatedinfo_topic_container";this.topicDiv=t;this.progressIndicator=new ee["default"](this.topicDiv,"small");this.progressIndicator.Draw();e.topicDiv.innerHTML=" ";e.parentDiv.appendChild(e.topicDiv);var n=document.createElement("h3");e.topicDiv.appendChild(n);n.className="co_genericBoxHeader";var i=document.createElement("span");i.innerHTML=D["default"].lookup("SC.RelatedInfo.ProfilerTools.Header","<strong>Related</strong> Tools");n.appendChild(i);var a=document.createElement("div");a.className="co_genericBoxContent";e.topicDiv.appendChild(a);var o=document.createElement("a");o.id="co_relatedInfo_professionals_findlaw_link";o.href="#";o.innerHTML=D["default"].lookup("SC.RelatedInfo.ProfilerTools.SighOnToFindLaw","Sign on to FindLaw to Update Your Profile");a.appendChild(o);o.addEventListener("click",(function(){(0,Be.website_LinkoutAndShowTimeoutLightboxExternal)("http://profileupdate.findlaw.com/pu","Sign on to Findlaw")}));var r=document.createElement("div");r.className="co_genericBoxFooter";e.topicDiv.appendChild(r);r.appendChild(document.createElement("span"))}}var Rh={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},Ph={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},Oh="[aeiouy]",Bh="[^aeiou][^aeiouy]*",Mh=Oh+"[aeiou]*",Fh="^("+Bh+")?"+Mh+Bh,Wh="^("+Bh+")?"+Mh+Bh+"("+Mh+")?$",Hh="^("+Bh+")?"+Mh+Bh+Mh+Bh,Gh="^("+Bh+")?"+Oh;const Uh=function(e){var t,n,i,a,o,r,s;if(e.length<3)return e;"y"==(i=e.substr(0,1))&&(e=i.toUpperCase()+e.substr(1));o=/^(.+?)([^s])s$/;(a=/^(.+?)(ss|i)es$/).test(e)?e=e.replace(a,"$1$2"):o.test(e)&&(e=e.replace(o,"$1$2"));o=/^(.+?)(ed|ing)$/;if((a=/^(.+?)eed$/).test(e)){const t=a.exec(e);if((a=new RegExp(Fh)).test(t[1])){a=/.$/;e=e.replace(a,"")}}else if(o.test(e)){t=o.exec(e)[1];if((o=new RegExp(Gh)).test(t)){e=t;o=/(at|bl|iz)$/;r=new RegExp("([^aeiouylsz])\\1$");s=new RegExp("^"+Bh+Oh+"[^aeiouwxy]$");if(o.test(e))e+="e";else if(r.test(e)){a=/.$/;e=e.replace(a,"")}else s.test(e)&&(e+="e")}}if((a=/^(.+?)y$/).test(e)){t=a.exec(e)[1];(a=new RegExp(Gh)).test(t)&&(e=t+"i")}if((a=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/).test(e)){const i=a.exec(e);t=i[1];n=i[2];(a=new RegExp(Fh)).test(t)&&(e=t+Rh[n])}if((a=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/).test(e)){const i=a.exec(e);t=i[1];n=i[2];(a=new RegExp(Fh)).test(t)&&(e=t+Ph[n])}o=/^(.+?)(s|t)(ion)$/;if((a=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/).test(e)){t=a.exec(e)[1];(a=new RegExp(Hh)).test(t)&&(e=t)}else if(o.test(e)){const n=o.exec(e);t=n[1]+n[2];(o=new RegExp(Hh)).test(t)&&(e=t)}if((a=/^(.+?)e$/).test(e)){t=a.exec(e)[1];a=new RegExp(Hh);o=new RegExp(Wh);r=new RegExp("^"+Bh+Oh+"[^aeiouwxy]$");(a.test(t)||o.test(t)&&!r.test(t))&&(e=t)}a=/ll$/;o=new RegExp(Hh);if(a.test(e)&&o.test(e)){a=/.$/;e=e.replace(a,"")}
"y"==i&&(e=i.toLowerCase()+e.substr(1));return e};var jh={};function $h(){var e=this;this.returnToDocLink=null;this.parentDiv=null;this.setParentDiv=function(e){this.parentDiv=e};this.setReturnToDocLink=function(e){this.returnToDocLink=e};this.draw=function(){if(!e.parentDiv)throw new Error("Could Not Draw ReturnToDoc: parentElement was null or undefined");e.AddReturnToDocWidget(e.parentDiv)};this.AttachWidgetToParentDiv=function(e,t,n,i){const a=document.getElementById(e),o=document.createElement("li");o.id="co_docToolbarBackToResults";const r=document.createElement("div");r.id=n;r.appendChild(i);o.appendChild(r);a.appendChild(o)};this.AddReturnToDocWidget=function(t){const n="Previous Document",i=decodeURIComponent(e.returnToDocLink),a=D["default"].format("SC.Document.Widget.BackToResults.ReturnToButtonText",{Title:n},`Return to ${n}`),o=document.createElement("a");o.className="co_tbButton";o.href=i;const s=document.createElement("span");s.className="icon25 icon_back_arrow btnOffset";o.appendChild(s);o.append(a);e.AttachWidgetToParentDiv(t,"div",r["default"].ids.breadcrumb,o)}}function Vh(){var e=this;this.originalDocLink=null;this.parentDocGuid=null;this.parentDiv=null;this.recommendedDocs=null;this.transitionType=null;this.highlightTerms=null;this.setParentDiv=function(e){this.parentDiv=e};this.setRecommendedDocs=function(e){this.recommendedDocs=e};this.setParentDocGuid=function(e){this.parentDocGuid=e};this.initializeView=function(){this.draw()};this.draw=function(){var o="",r="",s=!1,l=[],c=a["default"].Parse(window.location.href);We["default"].docLevelRecommendationFeatureEnabled()?e.transitionType="DocLevelRelatedDocItem":e.transitionType="RecommendedDocumentItem";var u=c.QueryString;e.highlightTerms=function(e){if(null!=e.navigationPath){var t=v["default"].getEmbeddedDocNavInfoFromDom(e.listSource,e.navigationPath,e.list,e.rank);if(null!=t)return t.HighlightTerms}return null}(u);var h=u.transitionType,f=u.navigationPath,p=u.contextData;e.originalDocLink=a["default"].Relative(a["default"].Page.Document({guid:e.parentDocGuid,viewType:"FullText",contextData:p,transitionType:e.transitionType,listSource:u.listSource,list:u.list,rank:u.rank,listPageSource:u.listPageSource,navigationPath:f}));if(h&&f&&h===e.transitionType&&p.indexOf("sc.Recommended")>0){var m=new $h;m.setParentDiv("co_docToolbarMenuLeft");m.setReturnToDocLink(f);m.draw()}for(var g in e.recommendedDocs)l.push(g);for(var y=0;y<l.length;y++){var b=e.recommendedDocs[l[y]];if("object"!=typeof b)continue;var C=t(l[y]);if(!e.isDisplayableContentTypeList(C))continue;if(We["default"].isNotNullOrUndefined(b)&&b.length>0){var S=0;o+="<li>";o+="<section>";o+="<h3>"+C+"</h3>";o+='<ol class="co_searchResult_list">';for(var _=0;_<b.length&&S<3;_++)if(e.isDisplayableContentTypeItem(b[_])){o+=`<li>\n                               ${n(b[_],_+1)}\n                             </li>`;S++}if(""===(r=i(C,b))){o+="</ol>";o+="</section>";o+="</li>"}}if(""!==r){s=!0;o+=r;o+=`<li class="co_relatedDocs_seeMore">\n                                 <a href="javascript:void(0)" data-contenttype="${C}">\n                                   ${D["default"].format("SC.RelatedInfo.RelatedDocuments.SeeMore",{contentType:C},`See More ${C}`)}\n                                 </a>\n                               </li>`;o+="</ol>";o+="</section>";o+="</li>";r=""}}if((0,d.IsNotNullOrEmpty)(o)){var T=`<div class="co_genericBox">\n                          <ol class="co_searchResult_list co_genericBoxContent" role="none">\n                            ${o}\n                          </ol>\n                          <div class="co_genericBoxFooter">\n                            <span></span>\n                          </div>\n                        </div>`;e.parentDiv&&(e.parentDiv.innerHTML=T)}s&&document.querySelectorAll("li.co_relatedDocs_seeMore a").forEach((e=>e.addEventListener("click",(function(e){var t=ge.ElementStorage.get(this,"contenttype"),n=t.split(" ").join("_");if(this.innerHTML==D["default"].format("SC.RelatedInfo.RelatedDocuments.SeeMore",{contentType:t},`See More ${t}`)){document.querySelectorAll(`li#co_relatedDocs_${n}.co_relatedDocs_expandable`).forEach((e=>e.style.display="list-item"));this.innerHTML=D["default"].format("SC.RelatedInfo.RelatedDocuments.SeeLess",{contentType:t},`See Less ${t}`)}else{document.querySelectorAll(`li#co_relatedDocs_${n}.co_relatedDocs_expandable`).forEach((e=>e.style.display="none"));this.innerHTML=D["default"].format("SC.RelatedInfo.RelatedDocuments.SeeMore",{contentType:t},`See More ${t}`);this.focus()}e.preventDefault();e.stopPropagation()}))))};this.isDisplayableContentTypeList=function(){return!0};this.isDisplayableContentTypeItem=function(){return!0};function t(e){if("analyticalRecommendedItems"===e)return ir["default"].getDisplayName("ANALYTICAL");if("briefRecommendedItems"===e)return ir["default"].getDisplayName("BRIEF");if("pmmRecommendedItems"===e)return ir["default"].getDisplayName("PMM");return null}function n(t,n){var i=a["default"].Relative(a["default"].Page.Document({guid:t.docGuid,viewType:"FullText",transitionType:e.transitionType,originationContext:e.recommendedDocs.reRankerUsed,contextData:"(sc.Recommended)",navigationPath:encodeURIComponent(e.originalDocLink)})),r=null!=t.docTitle&&t.docTitle.length>0?t.docTitle:t.shortTitle,s="";!1===t.inPlan&&(s=`<span class="co_outOfPlanLabel">${D["default"].lookup("SC.Website.Widgets.Badge.OutOfPlanLabel.Text","Out of Plan")}</span>`);var l=`${s}\n                             <a id="cobalt_result_title${n}"\n                               class="draggable_document_link"\n                               href="${i}"\n                               docguid="${t.docGuid}"\n                               subcontenttype="analytical">\n                               ${o(r)}\n                             </a>\n                             `;"Secondary Sources"===t.contentType?l+=`<div class="co_searchResults_citation">\n                              <span>${o(t.cite)}</span>\n                            </div>`:l+=`<div class="co_searchResults_citation">\n                              <span>${o(t.cite)}</span><br />\n                              <span>${o(t.shortTitle)}</span><br />\n                              <span>${o(t.courtAbbrev)}</span><br />\n                              <span>${o(t.dateFile)}</span>\n                            </div>`;return l+=`<div id="co_snippet_${n}" class="co_snippet">\n            ${o(function(e){if(e.length<=200)return"..."+e;return"..."+e.substring(0,201)+"..."}(t.docSummary))}\n          </div>`}function i(t,i){for(var a="",o="",r=0,s=0;s<i.length;s++)e.isDisplayableContentTypeItem(i[s])&&++r>3&&(o+=`<li>\n                                        ${n(i[s],s+1)}\n                                      </li>`);if(""!==o){a+=`<li id="co_relatedDocs_${t.split(" ").join("_")}"\n                              class="co_relatedDocs_item co_relatedDocs_expandable" style="display: none;">\n                              <ol class="co_searchResult_list">\n                                ${o}\n                              </ol>\n                            </li>`}return a}function o(t){if(null==t)return null;return function(e,t,n,i){var a,o=Uh,r=[];if(null==e||!(e instanceof Array)||0===e.length)return t;if(null==t||"string"!=typeof t)return null;for(let t=0;t<e.length;t++){var s=e[t].replace(/[^\w]/g,"").toLowerCase(),l=o(s);r.push(l);jh[s]=l}null!=n&&"string"==typeof n&&0!==n.length||(n="span");a=null!=i&&i instanceof Array&&0!==i.length?"<"+n+' class="'+i.join(" ")+'">':"<"+n+">";for(var c="</"+n+">",u=t.split("\n"),h="",f=0;f<u.length;f++){var p=u[f].split(" ");for(let e=0;e<p.length;e++){var m=(0,d.DecodeHtml)(p[e]),g=m.replace(/[^\w]/g,"").toLowerCase();null==jh[g]&&(jh[g]=o(g));for(var v=!1,y=0;y<r.length;y++)if(jh[g]===r[y]){v=!0;break}if(v){var b=m.match(/^[^\w]+/);if(null!=b){h+=b[0];m=m.substring(b[0].length,m.length)}h+=a;var C=m.match(/[^\w]+$/),S=c;if(null!=C){S+=C[0];m=m.substring(0,m.length-C[0].length)}h+=m+S}else h+=m;e!=p.length-1&&(h+=" ")}f!=u.length-1&&(h+="\n")}return h}(e.highlightTerms,(0,d.EncodeHtml)(t),"span",["co_searchTerm"])}}function qh(){
this.documentGuid=null;this.contextData=null;this.documentCollection=null;this.sortOrder=null;this.sortType=null;this.searchQuery=null;this.facetGuid=null;this.subFacetGuid=null;this.docSource=null;this.rank=null}qh.prototype={setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setDocumentCollection:function(e){this.documentCollection=e},getDocumentCollection:function(){return this.documentCollection},setContextData:function(e){this.contextData=e},getContextData:function(){return this.contextData},setSortOrder:function(e){this.sortOrder=e},getSortOrder:function(){return this.sortOrder},setSortType:function(e){this.sortType=e},getSortType:function(){return(0,d.IsNotNullOrEmpty)(this.sortType)?this.sortType:"alphabetical"},setSearchQuery:function(e){this.searchQuery=e},getSearchQuery:function(){return this.searchQuery},setFacetGuid:function(e){this.facetGuid=e},getFacetGuid:function(){return this.facetGuid},setSubFacetGuid:function(e){this.subFacetGuid=e},getSubFacetGuid:function(){return this.subFacetGuid},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setRank:function(e){this.rank=e},getRank:function(){return this.rank},equals:function(e){var t=!1;We["default"].isNotNullOrUndefined(e)&&this.documentGuid===e.documentGuid&&this.contextData===e.contextData&&this.documentCollection===e.documentCollection&&this.sortOrder===e.sortOrder&&this.sortType===e.sortType&&this.searchQuery===e.searchQuery&&this.facetGuid===e.facetGuid&&this.subFacetGuid===e.subFacetGuid&&this.docSource===e.docSource&&this.rank===e.rank&&(t=!0);return t}};var zh=n(4938);function Kh(){var e=this;this.parentDiv=null;this.docGuid=null;this.docSource=null;this.docMetaData=null;this.nodData=null;this.nodDiv=null;this.documentCollection=null;this.rank=null;this.setDocMetaData=function(e){this.docMetaData=e};this.setDocSource=function(e){this.docSource=e};this.setParentDiv=function(e){this.parentDiv=e};this.setDocGuid=function(e){this.docGuid=e};this.setDocumentCollection=function(e){this.documentCollection=e};this.setRank=function(e){this.rank=e};this.draw=function(){var t=document.createElement("div");t.className="co_genericBox co_relatedinfo_rrnod_container";t.id="co_relatedinfo_rrnod_container";this.nodDiv=t;this.parentDiv.appendChild(t);this.progressIndicator=new ee["default"](t,"small");this.progressIndicator.Draw();var n=new qh;n.setDocumentGuid(this.docGuid);n.setContextData(a["default"].PageContextData);n.setDocumentCollection(this.documentCollection);n.setDocSource(this.docSource);n.setRank(this.rank);zh.F.requestData(n,e.drawCallback)};this.drawCallback=function(t){if(null!=t&&void 0!==t.contentResponse&&null!==t.contentResponse){if(0!=t.ErrorType){e.renderErrorMessage(t);return}e.nodData=t;e.drawCallback2(null)}else e.nodDiv.innerHTML=" "};this.drawCallback2=function(){e.nodDiv.innerHTML=" ";var t=e.nodData.contentResponse.notesOfDecisionsBlocks;if(void 0!==t&&e.nodData.contentResponse.documentCount>0){for(var n=!1,i=0;void 0!==t[i];i++)if(void 0!==t[i].navigationItems&&null!==t[i].navigationItems&&t[i].navigationItems.length>0){n=!0;break}if(n){var a=document.createElement("h3");e.nodDiv.appendChild(a);a.className="co_genericBoxHeader";var o=document.createElement("span");o.innerHTML=`<strong>Notes of Decisions</strong> (${e.nodData.contentResponse.documentCount})`;a.appendChild(o);var r=document.createElement("div");r.className="co_genericBoxContent";e.nodDiv.appendChild(r);1!==t.length||1!==t[0].navigationItems.length||void 0!==t[0].navigationItems[0].title&&""!==t[0].navigationItems[0].title?e.drawNODTopLevels(t,r):e.drawNODHierarchy(t[0].navigationItems[0].subItems,r);var s=document.createElement("div");s.className="co_genericBoxFooter";s.appendChild(document.createElement("span"));e.nodDiv.appendChild(s)}}};this.drawNODTopLevels=function(e,t){var n=document.createElement("ul");n.className="co_relatedInfo_rrnod_list";t.appendChild(n);for(var i=0;void 0!==e[i];i++)for(var a=e[i],o=0;void 0!==a.navigationItems[o];o++){var r=a.navigationItems[o],s=document.createElement("li");n.appendChild(s);s.className="co_relatedInfo_rrnod_item";s.id="ci_relatedInfo_rrnod_item_"+r.itemId;var l=document.createElement("a");l.id="co_relatedInfo_rrnod_link_"+r.itemId;l.className="co_relatedInfo_rrnod_link";l.href=r.linkPersistentUrl;l.appendChild(document.createTextNode(r.title));s.appendChild(l)}};this.drawNODHierarchy=function(e,t){var n=null,i=document.createElement("ul");i.className="co_relatedInfo_rrnod_list";t.appendChild(i);for(var a=0;void 0!==e[a];a++){var o=e[a],r=i;if("1"==o.indentLevel)n=null;else if("3"==o.indentLevel)continue;var s=document.createElement("li");s.className="co_relatedInfo_rrnod_item";s.id="co_relatedInfo_rrnod_item_"+o.itemId;r.appendChild(s);var l=document.createElement("a");l.id="co_relatedInfo_rrnod_link_"+o.itemId;l.className="co_relatedInfo_rrnod_link";l.href=o.linkPersistentUrl;l.appendChild(document.createTextNode(o.title));s.appendChild(l);null==n&&(n=s)}}}function Yh(){var e=this;this.parentDiv=null;this.docRecommendDiv=null;this.docGuid=null;this.docSource=null;this.rank=null;this.docSource=null;this.docMetaData=null;this.documentCollection=null;this.progressIndicator=null;this.topicContainer=null;this.setDocMetaData=function(e){this.docMetaData=e};this.setDocSource=function(e){this.docSource=e};this.setDocSource=function(e){this.docSource=e};this.setRank=function(e){this.rank=e};this.setDocRecommendDiv=function(e){this.docRecommendDiv=e};this.setParentDiv=function(e){this.parentDiv=e};this.setDocGuid=function(e){this.docGuid=e};this.setDocumentCollection=function(e){this.documentCollection=e};this.draw=function(){this.parentDiv.innerHTML=" ";try{if("Statutes"==e.docMetaData.ContentType)e.drawStatuteRightRailWidget();else if("w_profiler_wldpr"!=e.docMetaData.Collection||Lt["default"].isWestlawNext()){if("NewsAlert"==this.docMetaData.SubContentType)return;e.drawTopTopics()}else{var t=new Nh;t.setParentDiv(e.parentDiv);t.setDocGuid(e.docGuid);t.setDocSource(e.docSource);t.setExpertName(e.docMetaData.TitleText);t.setDocumentCollection(e.docMetaData.Collection);t.draw()}var n=new Ah;n.setDocGuid(e.docGuid);n.setParentDiv(e.parentDiv);n.setDocSource(e.docSource);n.setDocumentCollection(e.documentCollection);n.draw()}catch(t){e.renderErrorMessage({ErrorType:-5,ErrorMessage:typeof message+": "+t.message})}};this.drawStatuteRightRailWidget=function(){var t=new Kh;t.setParentDiv(e.parentDiv);t.setDocGuid(e.docGuid);t.setDocSource(e.docSource);t.setDocMetaData(e.docMetaData);t.setDocumentCollection(e.documentCollection);t.setRank(e.rank);t.draw()};this.drawTopTopics=function(){var t=new kh;t.setTopicCount(10);t.setDocCount(0);t.setLight(!0);t.setDocSource(e.docSource);t.setRank(e.rank);t.setDocumentCollection(e.documentCollection);if(!We["default"].isNotNullOrUndefined(e.docGuid)){(0,Ee.publishErrorMessage)(A["default"].RelatedInfo,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("docGuid required")}e.topicOrigin="DocWidgetTopicLink";e.allTopicsOrigin="DocWidgetAllTopicsLink";t.setDocumentGuid(e.docGuid);var n=document.createElement("div");n.className="co_genericBox co_relatedinfo_topic_container";n.id="co_relatedinfo_topic_container";this.topicDiv=n;this.progressIndicator=new ee["default"](this.topicDiv,"small");this.progressIndicator.Draw();xh.V.requestData(t,e.drawTopTopicsCallback)};this.drawTopTopicsCallback=function(t){if(0!=t.ErrorType){e.renderErrorMessage(t);return}e.topicDiv.innerHTML=" ";e.drawRecommendedDocs(t.docRecommendation);e.drawTopicsList(t.topicList);e.fireTopTopicsCompleteEvent(t);y["default"].Publish("Cobalt.TopTopicsWidget.Loaded")};this.drawRecommendedDocs=function(t){if(t&&We["default"].docLevelRecommendationFeatureEnabled()&&e.docRecommendDiv){e.docRecommendDiv.innerHTML=" ";var n=new Vh;n.setParentDocGuid(e.docGuid);n.setRecommendedDocs(t);n.setParentDiv(e.docRecommendDiv);n.draw()}};this.drawTopicsList=function(t){if(void 0!==t.topics&&t.topics.length>0){e.parentDiv.appendChild(e.topicDiv);var n=document.createElement("h2");e.topicDiv.appendChild(n)
;n.className="co_genericBoxHeader";var i=document.createElement("span");We["default"].docLevelRecommendationFeatureEnabled()?i.innerHTML="<strong>Selected</strong> Topics":i.innerHTML="<strong>Related</strong> Topics";n.appendChild(i);if("Jury Verdicts"===e.docMetaData.ContentType){var a=document.createElement("div");a.className="co_genericBoxContent";e.topicDiv.appendChild(a);new Lh(a).draw()}var o=document.createElement("div");o.className="co_genericBoxContent";e.topicDiv.appendChild(o);if(void 0!==t.topicsSummary){const e=document.createElement("h3");o.appendChild(e);e.id="co_relatedInfo_topics_summary";e.className="co_relatedInfo_topics_summary";e.innerHTML=t.topicsSummary}var r=e.generateTopicTree(t.topics);e.drawTopicsListHierarchy(r,o)}};this.drawTopicsListHierarchy=function(t,n){var i=[];t.childNode.ul=document.createElement("ul");n.appendChild(t.childNode.ul);i.push(t.childNode);for(;i.length>0;){var a=i.pop(),o=document.createElement("li");o.className="co_relatedInfo_topic_item";a.ul.appendChild(o);if(null===a.topic)o.appendChild(document.createTextNode(a.label));else{o.id="co_relatedInfo_topic_item_"+a.topic.guid;o.appendChild(e.buildTopicLink(a.label,a.topic,e.docGuid,a.topic.jurisdiction,e.topicOrigin,e.docSource,e.rank,a.topic.href))}if(null!=a.nextNode){a.nextNode.ul=a.ul;i.push(a.nextNode)}if(null!=a.childNode){a.childNode.ul=document.createElement("ul");a.childNode.ul.className="co_relatedInfo_topic_itemList";o=document.createElement("li");a.ul.appendChild(o);o.appendChild(a.childNode.ul);i.push(a.childNode)}}var r=document.createElement("div");r.className="co_genericBoxFooter";e.topicDiv.appendChild(r);r.appendChild(document.createElement("span"))};this.fireTopTopicsCompleteEvent=function(e){var t=new b["default"](e,{},"Cobalt.RelatedInfo.TopTopics.Complete","1.0",e);y["default"].Publish("Cobalt.RelatedInfo.TopTopics.Complete",t)};this.buildTopicLink=function(e,t,n,i,a,o,r,s){var l=document.createElement("div");l.id="co_relatedInfo_topics_topic_"+t.guid;l.className="co_relatedInfo_topics_topic";var c=document.createElement("a");c.id="co_relatedInfo_topics_topics_link_"+t.guid;c.className="co_relatedInfo_topics_document_title";var d=e;null==d&&(d=t.guid);c.innerHTML=d;c.href=s;l.appendChild(c);return l};this.generateTopicTree=function(e){for(var t=function(e){return{label:e,nextNode:null,childNode:null,topic:null}},n={childNode:null},i=0;i<e.length;i++){for(var a=e[i],o=a.label.split("/"),r=n,s=0;s<o.length;s++){var l=o[s];null===r.childNode&&(r.childNode=t(l));r=r.childNode;for(;r.label!==l;){null===r.nextNode&&(r.nextNode=t(l));r=r.nextNode}}r.topic=a}return n};this.renderErrorMessage=function(t){var n=new B["default"](e.parentDiv);n.SetListItemIdPrefix("coid_relatedInfo_errors_topTopics");n.Draw();n.SetMessage(D["default"].lookup("SC.RelatedInfo.GetTopTopicsMessage","Related Concepts are not available at this time."));n.SetHiddenMessage(t.ErrorMessage+" ("+t.ErrorType+")")}}function Qh(){Yh.call(this);var e=this.draw;this.draw=function(){this.parentDiv.innerHTML=" ";var t=!1,n=!1;if(this.docMetaData.metaInformation){t=this.docMetaData.metaInformation.isPublicRecordsDocument;n=this.docMetaData.metaInformation.isGatewayDocument}if(t||n)return;e.call(this)}}var Xh={AddTopTopicsWidget:function(e,t,n,i,a,o,r){if(!e)throw new Error("parentDivId was not supplied");if(null==t||0==t.length)throw new Error("docGuid is null or empty");try{var s=new Qh;s.setParentDiv(document.getElementById(e));s.setDocRecommendDiv(document.getElementById(r));s.setDocGuid(t);s.setDocSource(i);s.setDocMetaData(o);s.setRank(a);s.draw()}catch(e){tt["default"].ConsoleMessage("Error creating TopTopicsWidget widget: "+e,tt["default"].Level.Error)}},LoadKMRelatedInformationCounts:function(e,t,n,i,a,o){var r=new zl;r.setDocumentGuid(o);r.setToken(e);r.setServerProtocol(t);r.setCitation(n);r.setFirmName(i);r.setFirmLogoUri(a);r.setVisible(!1);var s=new _h;s.setKMContext(r);s.init()},DisplayKMRelatedInformationCounts:function(e,t){var n=document.getElementById("KMCitingReferencesTab");if(null===n)return;var i=n?.querySelector("span"),a=i?.textContent??"",o=t.Data.count;if(o>0){a+=" ("+D["default"].renderInteger(o)+")";n?.classList.remove("co_tabInactive");n.querySelectorAll("a.co_tabLink").forEach((e=>{var t=e.getAttribute("hiddenHref");t&&(e.href=t)}))}else if(0==o){a+=" ("+o+")";n?.classList.add("co_done")}i&&(i.textContent=a)}};y["default"].Subscribe("Cobalt.RelatedInfo.KM.ContentLoaded",Xh.DisplayKMRelatedInformationCounts);Xh.LoadRelatedInformationCounts=function(e,t,n,i,a,s,l){if(!o["default"].EnableIpad){if(!o["default"].EnableIpad){var c=new Ih;c.setDocSource(t);c.setRank(n)}if(c&&void 0!==i&&i){c.preViewData=a;c.addTabPreview(document.getElementById("co_ProfilerNavAnchor"),document.getElementById("co_ProfilerNavContent"),e,"Profiler",null,"documentTab",document.getElementById("coid_DocumentTab_link"),s,l)}}var u=!0,h=[];document.querySelectorAll("li[categoryEnum]").forEach((function(e){const t=e.getAttribute("categoryEnum");u=u&&"complete"==e.getAttribute("countStatus");t&&(0,d.IsNotNullOrEmpty)(t)&&h.push(t)}));if(!o["default"].EnableIpad&&!0===u)for(var f=0;f<h.length;f++)c.addTabPreview(document.getElementById("co_"+h[f]+"NavAnchor"),document.getElementById("co_"+h[f]+"NavContent"),e,h[f],null,"documentTab",document.getElementById("coid_relatedInfo_"+h[f]+"_link"),s,l);if(h.length>0&&!0!==u){var p=h.join(",");Xh.CallRIServiceAndGetCounts(e,p,"async",s,(function(t){var n=Xh._processCompletedCategoryCounts(t,e,c,s,l);n&&n.length>0&&Xh.CallRIServiceAndGetCounts(e,n,"sync",s,(function(t){Xh._processCompletedCategoryCounts(t,e,c,s,l)}))}));y["default"].Publish(r["default"].events.relatedInfoCountsChecked,e)}var m=document.getElementById("co_powByKC");m?.addEventListener("click",(function(){Xh.HandlePoweredByKeyCiteClick()}))};Xh.countReturnedHandler=function(e,t,n,i,a,r,s){var l=x()(t).find("span")[0],c=l?.textContent??"";if(void 0!==n.count){n.count.count>=0&&-1==c.indexOf("(")&&"wlnIPToolsOverview"!==e&&"kcTableOfAuthorities"!==e&&"laDocketMotions"!==e&&(c+=" ("+D["default"].renderInteger(n.count.count)+")");l&&(l.textContent=c);if(0!==n.count.count){if(n.count.count<0&&"StatuteHistory"!==e){var d="Potential error in data supplied from Related Info: negative category count received. docGuid: "+i+" category: "+e+" count: "+n.count.count;(0,Ee.publishErrorMessage)(A["default"].Website,d)}Xh.ActivateTabs(t,n);Xh.AttachUXEvents(t,i);o["default"].EnableIpad||a.addTabPreview(document.getElementById("co_"+e+"NavAnchor"),document.getElementById("co_"+e+"NavContent"),i,e,null,"documentTab",document.getElementById("coid_relatedInfo_"+e+"_link"),r,s)}else{t?.classList.add("co_done");t?.classList.remove("co_dropdownTab");var u=t?.querySelector("a");if(u){var h=u?.textContent.trim(),f=D["default"].format("SC.Website.Views.Shared.TabViews.UnavailableLink",{Link:h},h+" unavailable");u.setAttribute("aria-label",f);u.setAttribute("tabindex","-1")}}}};Xh._processCompletedCategoryCounts=function(e,t,n,i,a){var o,r=[];0==e.ErrorType&&e.countStatusList?.forEach((e=>{if("complete"==e.status){o=document.querySelector(`li[categoryenum=${e.categoryId}]`);Xh.countReturnedHandler(e.categoryId,o,e,t,n,i,a)}else"error"==e.status?Xh.ProcessErrorCategoryStatus(e):r.push(e.categoryId)}));return r.join(",")};Xh.ProcessErrorCategoryStatus=function(e){const t=document.querySelector(`li[categoryenum=${e.categoryId}]`);Xh.ActivateTabs(t)};Xh.CallRIServiceAndGetCounts=function(e,t,n,i,a){var o="RelatedInfo/v4/counts/"+e+"/?categories="+t+"&execType="+n+"&entityId="+i;jt["default"].Get({vertical:A["default"].RelatedInfo,relativeUrl:o,responseIsJson:!0,successCallback:function(e){a(e)},failedCallback:function(){for(var e=t.split(","),n=0;n<e.length;n++){var i=document.querySelector("li[categoryenum="+e[n]+"]");Xh.ActivateTabs(i)}},timeoutMillisecs:9e4})};Xh.ActivateTabs=function(e){e.querySelectorAll("a.co_tabLink").forEach((e=>{var t=e.getAttribute("hiddenHref");t&&(e.href=t);e.setAttribute("aria-disabled","false")}));e?.classList.remove("co_tabInactive");y["default"].Publish("Cobalt.Document.RelatedInfoTabs.TabActivated")};Xh.AttachUXEvents=function(e,t){
var n=f["default"].GetObject(r["default"].objectIds.provider);x()(e).find("#coid_relatedInfo_StatuteHistory_link").click((function(){n.GetMetaInformation(t,(function(e){(0,R.postUXEvent)("Cobalt.Relatedinfo.Judicial.History",{docGuid:t,contentType:e.ContentType})}))}));x()(e).find("#coid_relatedInfo_kcJudicialHistory_link").click((function(){n.GetMetaInformation(t,(function(e){(0,R.postUXEvent)("Cobalt.Relatedinfo.Judicial.History",{docGuid:t,contentType:e.ContentType})}))}));x()(e).find("#coid_relatedInfo_kcCitingReferences_link").click((function(){n.GetMetaInformation(t,(function(e){(0,R.postUXEvent)("Cobalt.Relatedinfo.Citing.References",{docGuid:t,contentType:e.ContentType})}))}))};Xh.HandlePoweredByKeyCiteClick=function(){(new Vl).openDialog()};Xh.HandleKeyciteAlertClick=function(e,t){var n=t.Data.cite,i=t.Data.serialNumber,o=a["default"].Relative(a["default"].Page.AlertCenterKeyCiteWizard({citation:n,serialNumber:i,transitionType:"Default",contextData:a["default"].PageContextData}));(0,hn["default"])(o)};const Jh=Xh;const Zh=class{constructor(){this.opts={originationContext:"documentTab",categoryNames:[],countsKnown:!0,selectedCategory:null}}AddTopTopicsWidget(e,t,n,i,a,o,r){Jh.AddTopTopicsWidget(e,t,n,i,a,o,r)}LoadKMRelatedInformationCounts(e,t,n,i,a,o){Jh.LoadKMRelatedInformationCounts(e,t,n,i,a,o)}LoadRelatedInformationCounts(e,t,n,i,a,r,s){if(o["default"].EnableIpad){Jh.LoadRelatedInformationCounts(e,t,n,i,a,r,s);return}const l=new Ul(t,n);this.opts={docGuid:e,docSource:t,entityId:r,entityType:s,tabPreviewWidget:l};this.opts.categoryNames=[];l&&i&&"null"!==a&&this._processSubTab(a);return this._processTabs()}_countReturnedHandler(e,t,n){const{docGuid:i,entityId:a,entityType:o,tabPreviewWidget:r,selectedCategory:s,originationContext:l}=this.opts;if(this._checkForCountReturnedErrors(e,t,n))return;this._setTabTitle(t,n.count.count,e);this._activateTabs(t,n);this._attachUXEvents(t,i);r.addTabPreview({documentGuid:i,category:e,selectedCategory:s,originationContext:l,entityId:a,entityType:o})}_processTabs(){this._activatePoweredByKc();this._setCategoryNames();const{countsKnown:e,categoryNames:t}=this.opts;if(e)return this._processTabsIfCountsKnown(t);if(!e&&t.length>0)return this._callRIServiceAndGetCounts().then((e=>{this._processCompletedCategoryCounts(e)}),(()=>this.opts.categoryNames.forEach((e=>{const t=document.querySelector(`li[categoryenum=${e}]`);this._activateTabs(t)}))))}_processCompletedCategoryCounts(e){if(0!==e.ErrorType)return;e.countStatusList.forEach((e=>{const{categoryId:t,status:n}=e,i=document.querySelector(`li[categoryenum=${t}]`);"complete"===n?this._countReturnedHandler(t,i,e):"error"===n&&this._activateTabs(i)}));y["default"].Publish("Cobalt.Website.A11yTabViews.CountsProcessed",e)}_callRIServiceAndGetCounts(){return new Promise(((e,t)=>{const n=this.opts.categoryNames.join(","),i=`RelatedInfo/v4/counts/${this.opts.docGuid}/?categories=${n}&entityId=${this.opts.entityId}&execType=async`;jt["default"].Get({vertical:A["default"].RelatedInfo,relativeUrl:i,responseIsJson:!0,successCallback:e,failedCallback:t,timeoutMillisecs:9e4})}))}_activateTabs(e,t){if(!e)return;for(const t of e.querySelectorAll("a.co_tabLink")){const e=t.attributes.hiddenHref.value;e&&(t.href=e);t.setAttribute("aria-disabled",!1)}"kcCoCites"===t?.categoryId&&t?.count?.categoryUrl&&this._updateLinkForCoCites(e,t.count.categoryUrl);e.classList.remove("co_tabInactive")}_updateLinkForCoCites(e,t){const n=e.querySelector("a#coid_relatedInfo_kcCoCites_link"),i=n.attributes.hiddenHref.value,o=a["default"].Parse(t).QueryString.facetGuid;if(!o||!i)return;const r=i.includes("?")?"&":"?",s=`${i}${r}facetGuid=${o}&isPreApply=true`;n.attributes.href.value=s;n.addEventListener("click",(()=>{pn["default"].removeItem("CoCitesPreApplyFiltersBannerDismissed")}))}_attachUXEvents(e,t){const n=f["default"].GetObject(r["default"].objectIds.provider),i=(i,a)=>{const o=e.querySelector(i);o&&o.addEventListener("click",(()=>{n.GetMetaInformation(t,(e=>{(0,R.postUXEvent)(a,{docGuid:t,contentType:e.ContentType})}))}))};i("#coid_relatedInfo_StatuteHistory_link","Cobalt.Relatedinfo.Judicial.History");i("#coid_relatedInfo_kcJudicialHistory_link","Cobalt.Relatedinfo.Judicial.History");i("#coid_relatedInfo_kcCitingReferences_link","Cobalt.Relatedinfo.Citing.References");const a=e.querySelector("#coid_relatedInfo_kcCoCites_link");a&&a.addEventListener("click",(()=>{(0,R.postUXEvent)("Cobalt.RelatedInfo.CoCites.TabClicked",{docGuid:t})}))}_setCategoryNames(){document.querySelectorAll("li[categoryEnum]").forEach((e=>{const t=e.getAttribute("categoryEnum"),n=e.getAttribute("countStatus");this.opts.countsKnown=this.opts.countsKnown&&"complete"===n;t&&this.opts.categoryNames.push(t)}))}_processSubTab(e){const{docGuid:t,entityId:n,entityType:i,tabPreviewWidget:a,originationContext:o,selectedCategory:r}=this.opts;a.addTabPreview({preViewData:e,documentGuid:t,category:"Profiler",selectedCategory:r,originationContext:o,entityId:n,entityType:i})}_setTabTitle(e,t,n){const i=e.querySelector("span");let a=i.textContent;t>=0&&-1===a.indexOf("(")&&"wlnIPToolsOverview"!==n&&"kcTableOfAuthorities"!==n&&(a+=` (${D["default"].renderInteger(t)})`);i.textContent=a}_publishError(e){const t=`Potential error in data supplied from Related Info: negative category count received. \n                         docGuid: ${this.opts.docGuid} \n                         category: ${this.opts.categoryId} \n                         count: ${e.count.count}`;(0,Ee.publishErrorMessage)(A["default"].Website,t)}_processTabsIfCountsKnown(e){const{docGuid:t,entityId:n,entityType:i,tabPreviewWidget:a,selectedCategory:o,originationContext:r}=this.opts;for(const s in e)a.addTabPreview({documentGuid:t,category:e[s],selectedCategory:o,originationContext:r,entityId:n,entityType:i})}_checkForCountReturnedErrors(e,t,n){if(void 0===n.count)return!0;if(n.count.count<0&&"StatuteHistory"!==e)this._publishError(n);else if(0===n.count.count){this._setTabTitle(t,n.count.count,e);t.classList.add("co_done");t.classList.remove("co_dropdownTab");return!0}return!1}_activatePoweredByKc(){const e=new Vl;document.getElementById("co_powByKC")?.addEventListener("click",(()=>e.openDialog()))}HandleKeyciteAlertClick(e,t){Jh.HandleKeyciteAlertClick(e,t)}};const ef=new class extends Zh{_processTabs(){super._processTabs();this._activateCoCitesTab()}_setCategoryNames(){super._setCategoryNames();this._filterCoCitesTab()}_filterCoCitesTab(){vl["default"].isPracticeAreaModulesEnabled()||(this.opts.categoryNames=this.opts.categoryNames.filter((e=>"kcCoCites"!==e)))}_activateCoCitesTab(){const e=document.getElementById("kcCoCitesTab");e&&vl["default"].isAthensTrialOffersEnabled()&&n.e(2).then(n.bind(n,983)).then((({drawCitedWithTrialOffer:t})=>{e.classList.remove("co_tabInactive");e.onclick=()=>t()}))}};var tf={_lightbox:null,_title:null,_formTitle:"",_formGuid:"",_assembleFormLightBoxId:"coid_nextPreviewAndBuild_lightbox",_assembleFormLightBoxClassName:"co_overlayBox_container",_continueButtonId:"coid_contacts_closeButton",_cancelButtonId:"coid_contacts_cancelLink",Draw:function(){tf._lightbox&&tf._lightbox.Remove();tf._lightbox=new fe["default"];tf._lightbox.SetId(tf._assembleFormLightBoxId);tf._lightbox.SetTitle(tf._title);tf._lightbox.GetContentDomElement().innerHTML=`Would you like to preview and build the form: <em>${tf._formTitle}</em> in Westlaw Form Builder?`;tf._lightbox.GetFooterDomElement().innerHTML="<ul><li><input type='button' value='Continue' id='coid_assembleForm_continue'  class='co_primaryBtn'></li><li><a href='javascript:void(0);' class='co_overlayBox_buttonCancel' id='coid_assembleForm_cancel'>Cancel</a></li><li class='co_previewLinkMessage'>Note: There is no charge to preview the form.</li></ul>";tf._lightbox.Draw();document.getElementById("coid_assembleForm_continue")?.addEventListener("click",tf.ContinueAndClose);document.getElementById("coid_assembleForm_cancel")?.addEventListener("click",tf.Close)},SetFormTitle:function(e){tf._formTitle=e},SetFormGuid:function(e){tf._formGuid=e},ContinueAndClose:function(){(0,
Be.website_LinkoutAndShowTimeoutLightboxInternal)("WestlawFormsBuilder",tf._formGuid+"/FormPreview.html?transitionType=Default&contextData="+a["default"].PageContextData,"FormsBuilder",!0);tf.Close()},Close:function(){tf._lightbox&&tf._lightbox.Remove();tf._lightbox=null;tf._title=null;tf._formTitle="";tf._formGuid=""}};const nf=tf;var af=n(1943);function of(e,t){for(var n=0;n<h["default"].Instance.GetChunkCount();n++){var i=x()(h["default"].Instance.GetChunkAt(n)).find(e);if(i.length>0){var a=i.first();h["default"].Instance.RenderChunkAt(n);document.getElementById(r["default"].ids.websiteWidgetDiv)?.classList.remove("co_hideAnnotations");af["default"].DisplayAllHighlights();var o=document.querySelector("div#co_foldering_previousInteractions");(o?.style??{}).display="none";sf(a,t);break}}}function rf(){if(o["default"].IsIndigoDisplayEnabled){const e="Cobalt.Foldering.NoteMenu.TriggerShowAllAnnotations";y["default"].Publish(e,new b["default"]({},{},e,"1.0"))}else{const e="Cobalt.Foldering.NoteMenu.ShowAnnotationsEvent";y["default"].Publish(e,new b["default"]({},{},e,"1.0"));const t=document.getElementById(r["default"].ids.websiteWidgetDiv);if(t?.classList.contains("co_hideAnnotations")){t.classList.remove("co_hideAnnotations");af["default"].DisplayAllHighlights()}}}function sf(e,t){if(e.is(":visible")){var n=e.offset().top+t;window.scrollTo({top:n,behavior:"smooth"})}else{const t="Cobalt.Document.ScrollElementIsHidden";y["default"].Publish(t,{Data:{scrollLocation:e.attr("data-annotationid")}})}}function lf(){var e=(0,u.getElementHeight)(document.getElementById("co_headerWrapper")),t=(0,u.getElementHeight)(document.getElementById(r["default"].ids.documentHeader)),n=(0,u.getElementHeight)(document.getElementById(r["default"].ids.documentToolbar)),i=0,a=document.getElementById(r["default"].ids.documentContentHeader);a&&(i=(0,u.getElementHeight)(a)+30);return-1*(e+t+n+i+45)}function cf(){y["default"].Subscribe("Cobalt.Document.FormAssemble.LinkOut",(function(e,t){nf.SetFormTitle(t.title);nf.SetFormGuid(t.guid);nf.Draw()}));y["default"].Subscribe("Cobalt.Document.EmailWithReference",(function(e,t){var n=new Ei["default"];const i=document.createElement("div");i.textContent=t.Data.snippet.htmlText;n.IPadSnippetHtml=i.innerHTML;n.IPadSnippetText=t.Data.snippet.plainText;n.IPadSubject=t.Data.subject;n.Medium=Vs["default"].EmailWithReference;n.ContextView=Ai["default"].SingleDocument;var a=f["default"].GetObject("Cobalt.Delivery.DeliveryOptionsDialog");a.Initialize();a.SetRequestContext(n);a.RequestHtmlAndDraw()}));y["default"].Subscribe("Cobalt.Document.SearchWithinDocument.TermsFound",gl.TransferToSearchWithinDocumentResult);y["default"].SubscribeLast("Cobalt.Document.ScrollToHighlightedText",(function(e,t){X().mutate((()=>{(function(e){if(e){var t=lf(),n="[data-annotationid^='"+e+"']",i=document.querySelectorAll(`#co_document ${n}`);0===i.length&&(i=document.querySelectorAll(`#co_documentNotes ${n}`));if(i.length>0){rf();var a=document.querySelector("div#co_foldering_previousInteractions");(a?.style??{}).display="none";sf(x()(i[0]),t)}else if(h["default"].Instance&&oe["default"].AreNotesAndHighlightsFinishedLoading)of(n,t);else{document.getElementById("co_foldering_previousInteractions")?.classList.add("co_loading");y["default"].Subscribe(r["default"].events.notesAndHighlightsFinishedLoading,(function(){of(n,t)}))}}})(t.Data.scrollLocation)}))}))}var df=n(7079),uf=n(586),hf={_lightbox:null,_continueResearchingButtonId:"coid_docketsWaitMessage_continueButton",_continueResearchingButtonContainerId:"coid_docketsWaitMessage_continue",_currentFooterButton:"",SubscribeToDocketSingleUpdateEvent:function(){y["default"].Subscribe("Cobalt.Document.Docket.Update",(function(e,t,n){t.persistedDocGuid=hf._ViewData.PersistedDocumentGuid;t.searchId="";t.listPageSourceKey=hf._ViewData.DocumentSource.ListPageSourceKey;t.contextData=a["default"].PageContextData;hf.SaveSingleDocketUpdate(e,t,n)}))},SubscribeToDocketBatchUpdateEvent:function(){y["default"].Subscribe("Cobalt.Dockets.BatchUpdate",(function(e,t,n){hf.SaveBatchDocketUpdate(e,t,n)}))},SaveSingleDocketUpdate:function(e,t){hf.ShowWaitMessage("Update",D["default"].lookup("SC.Website.Dockets.UpdateDialogText","The docket is being updated"),!1,!0);var n=a["default"].Relative(a["default"].Rest.GetSingleDocketUpdateDataV1(null));jt["default"].Post({relativeUrl:n,jsonObject:t,responseIsJson:!0,successCallback:function(e){var t=e[0],n=t.updateWarningBlockTypes?.includes("AncillaryWarning"),i=t.updateWarningBlockTypes?.includes("SurchargeWarning"),a=t.warningBlockTypes?.includes("AncillaryBlock"),o=t.warningBlockTypes?.includes("AuthorizationBlock");n||i?hf.RenderDocketSingleWarnHtml(e):a||o?hf.RenderDocketSingleBlockHtml(e):hf.InitiateDocketUpdate(e,!0,!1)},failedCallback:function(){hf.ShowFailureMessage()}})},SaveBatchDocketUpdate:function(e,t){if(t.Data.length>40){var n='<div class="co_infoBox failure" role="status" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Website.Dockets.BatchUpdateLimitExceededDialogText","Select no more than 40 dockets.")+"</div></div></div></div></div>";hf.ShowWaitMessage("Update",n,!0);hf.DrawFooterButtons()}else{hf.ShowWaitMessage("Update Requests",D["default"].lookup("SC.Website.Dockets.BatchUpdateDialogText","Preparing dockets for update"),!1,!0);var i=a["default"].Relative(a["default"].Rest.GetBatchDocketUpdateDataV1(null));jt["default"].Post({relativeUrl:i,jsonObject:(0,Xe.map)(t.Data,"docGuid"),responseIsJson:!0,successCallback:function(e){hf.RenderDocketUpdateHtml(e,t)},failedCallback:function(){hf.ShowFailureMessage()}})}},RenderDocketSingleBlockHtml:function(){var e='<div class="co_genericBox co_systemErrorBox" id="co_blockedBox">';e+='<div class="co_genericBoxHeader"><span></span></div><div class="co_genericBoxContent">';e+="<p> You do not have access to update the Docket because it is not authorized under your subscription agreement.</p>";e+='<p><a id="co_blockedBackLinkId" class="co_blockedBackLink" href="javascript:void(0);"><< Back</a></p>';e+='</div><div class="co_genericBoxFooter"><span></span></div></div>';hf.UpdateWaitMessage("Update Request",'<div class="co_genericBox co_systemErrorBox" id="co_blockedBox"><div class="co_genericBoxHeader"><span></span></div><div class="co_genericBoxContent"><p> You do not have access to update the Docket because it is not authorized under your subscription agreement.</p><p><a id="co_blockedBackLinkId" class="co_blockedBackLink" href="javascript:void(0);"><< Back</a></p></div><div class="co_genericBoxFooter"><span></span></div></div>',!0);document.getElementById("co_blockedBackLinkId")?.addEventListener("click",(function(e){hf.Remove();e.preventDefault();e.stopPropagation()}))},RenderDocketSingleWarnHtml:function(e){var t='<div class="co_scrollWrapper"><div id="co_docWarning_text">';t+="<p><strong>Viewing this document will incur additional charges.</strong></p>";t+='<p class="co_pricingInfo">To learn more about WestlawNext Charges, view our <a target="_blank" href="/Subscriber.html?transitionType=Default&contextData=(sc.Default)">Pricing Guide.</a></p>';t+='<div id="co_warning_clientId">';t+='<span class="co_clientIDInline_label">Client ID:</span>';t+='<span class="co_clientIDInline_recent">COBALTTEST</span>';t+='<a class="co_clientIDInline_change" href="javascript:void(0);" id="co_clientIDInline_change">Change</a>';t+="</div></div></div>";var n=hf._lightbox.GetFooterDomElement();(0,lt.hideElements)(n?.querySelector("#co_docketUpdateContinue"));(0,lt.showElements)(n?.querySelector("#co_docketSubmit"));x()(n).find("#co_docketUpdateSubmitButton").click((function(){hf.InitiateDocketUpdate(e,!0,!1)}))
;hf.UpdateWaitMessage("This Update is Out of Plan",'<div class="co_scrollWrapper"><div id="co_docWarning_text"><p><strong>Viewing this document will incur additional charges.</strong></p><p class="co_pricingInfo">To learn more about WestlawNext Charges, view our <a target="_blank" href="/Subscriber.html?transitionType=Default&contextData=(sc.Default)">Pricing Guide.</a></p><div id="co_warning_clientId"><span class="co_clientIDInline_label">Client ID:</span><span class="co_clientIDInline_recent">COBALTTEST</span><a class="co_clientIDInline_change" href="javascript:void(0);" id="co_clientIDInline_change">Change</a></div></div></div>',!0);document.getElementById("co_clientIDInline_change")?.addEventListener("click",fn.website_PublishInlineClientIdChangeLinkClickedEvent)},RenderDocketUpdateHtml:function(e,t){var n,i,a,r,s,l,c,d=o["default"].isFeatureEnabled("USERISTRANSACTIONAL")&&o["default"].isFeatureEnabled("SHOWCHARGEONWARNINGSCREEN"),u=!1,h=0,f=0,p=0;for(c=0;c<e.length;c++){n=e[c];i=n.warningBlockTypes?.includes("AncillaryBlock");a=n.warningBlockTypes?.includes("AuthorizationBlock");r=n.canUpdate;s=n.updateWarningBlockTypes?.includes("AncillaryWarning");l=n.updateWarningBlockTypes?.includes("SurchargeWarning");if(s||l){h++;u=!0}else if(i||a){f++;u=!0}else if(!r){p++;u=!0}}var m="";m+='<table id="co_docketUpdatesTable" class="co_detailsTable"><thead><tr><th class="co_detailsTable_select"><input type="checkbox" id="co_toggleDocketUpdateCbxs" checked="checked"></th><th class="co_detailsTable_content">Case Title</th><th class="co_detailsTable_docketNumber">Docket Number</th><th class="co_detailsTable_court">Court</th>'+(u?'<th class="co_detailsTables_updateNotice">Update Notice</th>':"")+(d?'<th class="co_detailsTable_ChargeAmount">Price</th>':"")+"</tr></thead><tbody>";var g=0;if(e.length>0){g=e.length;for(c=0;c<e.length;c++){n=e[c];i=n.warningBlockTypes?.includes("AncillaryBlock");a=n.warningBlockTypes?.includes("AuthorizationBlock");var v=n.warningBlockTypes?.includes("AncillaryWarning"),y=n.warningBlockTypes?.includes("SurchargeWarning");r=n.canUpdate;s=n.updateWarningBlockTypes?.includes("AncillaryWarning");l=n.updateWarningBlockTypes?.includes("SurchargeWarning");m+='<tr><td class="co_detailsTable_select"><input type="checkbox" id="cobalt_docket_checkbox_'+c+'"'+(s||l?'class = "co_outOfPlanUpdate"':"")+(i||a||!r?'disabled = "disabled"':'checked = "checked" ')+'></td><td class="co_detailsTable_content">'+(s||l?'<div class="co_outOfPlanLabel" id="cobalt_docket_outofplanlabel_'+c+'">Out of Plan</div>':"")+n.caseTitle+(r?"":" *")+'</td><td class="co_detailsTable_docketNumber">'+n.caseNumber+'</td><td class="co_detailsTable_court">'+n.signon+"</td>";if(u){m+='<td class="co_detailsTable_updateNotice">';i||a?m+="Blocked per subscription agreement":r?(s||l)&&(m+=v||y?"Will incur update and view charge":"Will incur update charge"):m+="Update not offered by the court";m+="</td>"}d&&(m+=null!=n.chargeAmount?`<td class="co_detailsTable_chargeAmount">${n.chargeAmount}</td>`:'<td class="co_detailsTable_chargeAmount">&nbsp;</td>');m+="</tr>";r?(i||a)&&g--:g--}}else m+='<tr><td colspan="7" class="empty">No updates available.</td></tr>';var b="";b+='<ul class="co_navOptions co_docketUpdateWaitMessageNotes co_textLeft">';h>0&&(b+=`<li><strong id="co_warningCount">${h}</strong> selected <span id="co_warningMultiple">docket${h>1?"s":""}</span> will incur additional charges when updated <a id="co_docketUpdatesTableLinkId">clear selected</a></li>`);b+=`<li><span id="co_totalUpdateCount"><strong>${g}</strong> item${g>1?"s":""} selected </span><a id="co_docketUpdatesAllTableLinkId">clear all selected</a></li>`;u&&(b+="<li>* Not eligible for updates</li>");b+="</ul>";if(f>0||p>0){b+='<ul class="co_navOptions co_docketUpdateWaitMessageNotes co_textLeft">';f>0&&(b+=`<li><strong>${f}</strong> blocked per subscription agreement</li>`);p>0&&(b+=`<li><strong>${p}</strong> updates not offered by the court</li>`);b+="</ul>"}m=b+(m+="</tbody></table>");hf.UpdateWaitMessage(`Update Requests (${e.length})`,m,!0);document.getElementById("co_toggleDocketUpdateCbxs")?.addEventListener("click",(function(){hf.ToggleAllUpdateCheckboxes(this.checked)}));document.querySelectorAll('[id^="cobalt_docket_checkbox_"]').forEach((e=>e.addEventListener("click",hf.UpdateDialogCounts)));document.querySelectorAll("#co_docketUpdatesTableLinkId,#co_docketUpdatesAllTableLinkId").forEach((e=>e.addEventListener("click",(function(){document.querySelectorAll('table#co_docketUpdatesTable input[type="checkbox"]').forEach((function(e){e.checked=!1}));hf.UpdateDialogCounts()}))));var C=hf._lightbox.GetFooterDomElement();(0,lt.hideElements)(C?.querySelector("#co_docketUpdateContinue"));(0,lt.showElements)(C?.querySelector("#co_docketSubmit"));if(g>0)x()(C).find("#co_docketUpdateSubmitButton").click((function(){hf.InitiateDocketUpdate(e,!0,!0,t)}));else{x()(C).find("#co_docketUpdateSubmitButton").addClass("co_disabled")}},ToggleAllUpdateCheckboxes:function(e){document.querySelectorAll('table#co_docketUpdatesTable input[type="checkbox"]:not(:disabled)').forEach((function(t){t.checked=e}));hf.UpdateDialogCounts()},UpdateDialogCounts:function(){const e=document.querySelectorAll('table#co_docketUpdatesTable input[type="checkbox"].co_outOfPlanUpdate:checked').length;var t=document.getElementById("co_warningCount");t&&(t.innerHTML=e);var n=document.getElementById("co_warningMultiple");1==e?n&&(n.innerHTML="docket"):n&&(n.innerHTML="dockets");var i=document.querySelectorAll('table#co_docketUpdatesTable input[type="checkbox"][id^="cobalt_docket_checkbox_"]:checked').length,a=document.getElementById("co_totalUpdateCount");1==i?a&&(a.innerHTML=`<strong>${i}</strong> item selected `):a&&(a.innerHTML=`<strong>${i}</strong> items selected `);document.getElementById("co_toggleDocketUpdateCbxs").checked=0!=i},BuildDocketUpdateData:function(e){const t=[];document.querySelectorAll('#co_docketUpdateWaitMessageContent input[type="checkbox"]:not(#co_toggleDocketUpdateCbxs)').forEach(((n,i)=>{if(n.checked){if(hf._ViewData.SearchWidgetParameters){e[i].searchId=hf._ViewData.SearchWidgetParameters.results.searchId;e[i].batchSearchId=hf._ViewData.SearchWidgetParameters.results.batchSearchGuid;e[i].listPageSourceKey=""}e[i].contextData=a["default"].PageContextData;t.push(e[i])}}));return t},InitiateDocketUpdate:function(e,t,n,i){var o=hf._lightbox.GetFooterDomElement();(0,lt.showElements)(o?.querySelector("#co_docketUpdateContinue"));(0,lt.hideElements)(o?.querySelector("#co_docketSubmit"));hf.ShowContinueLink();if(n){let t="";t=1==(e=hf.BuildDocketUpdateData(e,i)).length?D["default"].lookup("SC.Website.Dockets.BatchOneUpdateInProgress","Your request for 1 update is processing."):D["default"].format("SC.Website.Dockets.BatchUpdateInProgress",{updateCount:e.length},`Your request for ${e.length} updates is processing.`);var r=`<div id="co_docketUpdateWaitMessageContent" class="co_deliveryWaitMessageContent"><div id="co_docketUpdateWaitProgress" class="co_deliveryWaitProgressImg">${t}</div></div>`;hf.UpdateWaitMessage("Update",r,!1)}else hf.UpdateWaitMessage("Update",D["default"].lookup("SC.Website.Dockets.UpdateInProgress","Your request is processing."),!1);var s=a["default"].Relative(a["default"].Rest.DocketUpdateV1(null));jt["default"].Post({relativeUrl:s,jsonObject:e,responseIsJson:!0,successCallback:function(e){if("Dockets Update Succeeded"==e.Message)t&&l(e);else{hf.DrawFooterButtons();hf.ShowFailureMessage()}},failedCallback:function(){hf.DrawFooterButtons();hf.ShowFailureMessage()}});var l=function(t){if(hf.IsDisplayed()&&t.UrmIds){var i=e.length-t.UrmIds.length,o=function(e,t){if(hf.IsDisplayed()){var n=a["default"].Relative(a["default"].Rest.GetDocketUpdateStatusV1({urmId:e}));jt["default"].Get({relativeUrl:n,responseIsJson:!0,successCallback:function(n){if("complete"===n.Status.toLowerCase()){var i=a["default"].Relative(a["default"].Page.DocketUpdatedView({urmid:n.PersistId,docguid:t,transitionType:"Default",contextData:a["default"].PageContextData}));(0,hn["default"])(i)}else if("failed"===n.Status.toLowerCase()){hf.ShowFailureMessage();hf.DrawFooterButtons()}else setTimeout((function(){o(e,t)}),2e3)},
failedCallback:function(){hf.ShowFailureMessage();hf.DrawFooterButtons()}})}},r=function(t,n,i,o){if(hf.IsDisplayed()){var s=a["default"].Relative(a["default"].Rest.DocketBatchUpdateStatusV1(null)),l=[];jt["default"].Post({relativeUrl:s,jsonObject:t.UrmIds,responseIsJson:!0,successCallback:function(s){var c=0;if(s.StatusDictionary){n=i=0;for(var d in s.StatusDictionary){c++;var u=s.StatusDictionary[d];if("complete"==u.toLowerCase()){n++;l.push(d)}else"pending"==u.toLowerCase()||"failed"==u.toLowerCase()&&i++}}if(c==n+i){let t="";t+='<div class="co_infoBox success" role="status" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].format("SC.Website.Dockets.BatchUpdateComplete",{updateCount:e.length,successCount:n,failureCount:i},`Your request for ${e.length} updates is finished.<br />${n} completed, ${i} failed`)+"</div></div></div></div></div>";const o=a["default"].Relative(a["default"].Page.DocketUpdateList({transitionType:"Default",contextData:a["default"].PageContextData}));hf.DrawFooterButtons("View the Docket Requests page",o);hf.UpdateWaitMessage("Update",t,!0)}else if(1==e.length&&1==n){let t="";t+='<div class="co_infoBox success" role="status" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Website.Dockets.SingleBatchUpdateComplete","Your request for 1 update is complete.")+"</div></div></div></div></div>";const n=a["default"].Relative(a["default"].Page.DocketUpdatedView({urmid:l[0],docguid:e[0].guid,transitionType:"Default",contextData:a["default"].PageContextData}));hf.DrawFooterButtons("View the updated docket",n);hf.UpdateWaitMessage("Update",t,!0)}else if(1!=e.length||1!=i&&1!=o){var h="",f='<div id="co_docketUpdateWaitMessageContent" class="co_deliveryWaitMessageContent"><div id="co_docketUpdateWaitProgress" class="co_deliveryWaitProgressImg">'+(h=1==e.length?D["default"].lookup("SC.Website.Dockets.BatchOneUpdateInProgress","Your request for 1 update is processing."):D["default"].format("SC.Website.Dockets.BatchUpdateRequestedInProgress",{updateCount:e.length,successCount:n,failureCount:i},`Your request for ${e.length} updates is processing. <br /> ${n} completed, ${i} failed`))+"</div></div>";hf.UpdateWaitMessage("Update",f,!1);setTimeout((function(){r(t,n,i,o)}),15e3)}else{hf.DrawFooterButtons();hf.ShowFailureMessage()}}})}};t.UrmIds.length>0&&(n?r(t,0,i,0):o(t.UrmIds[0],t.DocumentGuids[0]))}}},ShowWaitMessage:function(e,t,n,i){hf._lightbox&&hf.Remove();hf._lightbox=new fe["default"];hf._lightbox.SetId("co_docketsWaitDialog");hf._lightbox.SetClass("co_overlayBox_delivery");if((0,d.IsNotNullOrEmpty)(e)){hf._lightbox.SetTitle(`<div id="co_docketUpdateWaitDialogTitle">${e}<div>`);hf._lightbox.SetCloseLinkObject({id:"co_docketUpdateWaitDialogCloseLink",alt:"Close this window",onclick:function(){hf.Remove()}})}hf._lightbox.GetContentDomElement().innerHTML=`<div id="co_docketUpdateWaitMessageContent" class="co_searchWaitMessageContent">${t}`;n||(hf._lightbox.GetContentDomElement().innerHTML+='<div id="co_docketUpdateWaitProgress" class="co_deliveryWaitProgressImg"></div></div>');var a=hf._lightbox.GetFooterDomElement();a?.replaceChildren();if(null!=i&&!i){var o=document.createElement("div");o.id="co_docketUpdateContinue";var r=document.createElement("input");r.setAttribute("type","button");r.id="co_docketUpdateContinueButton";r.className="co_primaryBtn";r.value=D["default"].lookup("SC.Website.Delivery.ContinueResearching","Minimize and Continue Researching");r.onclick=function(){hf.ContinueWorkingHandler()};o.appendChild(r);a.appendChild(o)}if(i){var s=document.createElement("div");s.id="co_docketSubmit";s.style.display="none";var l=document.createElement("ul"),c=document.createElement("li"),u=document.createElement("input");u.setAttribute("type","submit");u.id="co_docketUpdateSubmitButton";u.className="co_primaryBtn";u.value="Submit";c.appendChild(u);var h=document.createElement("li"),f=document.createElement("a");f.setAttribute("href","javascript:void(0);");f.id="coid_docketsUpdate_cancelLink";f.className="co_overlaybox_buttonCancel";f.innerHTML="Cancel";f.onclick=function(){hf.Remove()};h.appendChild(f);l.appendChild(c);l.appendChild(h);s.appendChild(l);a.appendChild(s)}hf._lightbox.Draw()},UpdateWaitMessage:function(e,t,n){document.getElementById("co_docketUpdateWaitDialogTitle").innerHTML=e;document.getElementById("co_docketUpdateWaitMessageContent").innerHTML=t;var i=document.getElementById("co_docketUpdateWaitProgress");if(i)if(n){i.style.display="none";var a=document.getElementById("co_docketUpdateContinue");a&&(a.style.display="none")}else i.style.display="block"},ShowFailureMessage:function(){var e='<div class="co_infoBox failure" role="status" tabindex="-1"><div class="co_infoBox_container"><div class="co_infoBox_outer"><div class="co_infoBox_inner"><div class="co_infoBox_message">'+D["default"].lookup("SC.Website.Dockets.UpdateFailureDialogText","Your update request failed.")+"</div></div></div></div></div>";hf.UpdateWaitMessage("Update",e,!0)},DrawFooterButtons:function(e,t){if(hf._currentFooterButton!==e){var n=hf._lightbox.GetFooterDomElement();n.innerHTML="";var i=document.createElement("div");i.id="co_docketComplete";var a=document.createElement("ul");if(e){var o=document.createElement("li"),r=document.createElement("input");r.setAttribute("type","submit");r.id="co_docketUpdateCompleteButton";r.className="co_primaryBtn";r.value=e;r.onclick=function(){(0,hn["default"])(t)};o.appendChild(r);a.appendChild(o)}var s=document.createElement("li"),l=document.createElement("input");l.setAttribute("type","submit");l.id="coid_docketsUpdate_closeButton";l.value="Close";l.onclick=function(){hf.Remove()};s.appendChild(l);a.appendChild(s);i.appendChild(a);hf._lightbox.GetFooterDomElement().appendChild(i);(0,lt.hideElements)([...n.children].filter((e=>e.matches(`#${hf._continueResearchingButtonContainerId}`))));hf._lightbox.RedrawCloseLinkObject({id:this._minimize_ButtonId,alt:"Continue Researching",onclick:function(){hf.Remove()},className:"co_overlayBox_closeButton"});hf._currentFooterButton=e}},ShowContinueLink:function(){hf._lightbox.RedrawCloseLinkObject({id:this._minimize_ButtonId,alt:"Continue Researching",onclick:function(){hf.ContinueWorkingHandler()},className:"co_overlayBox_minimizeButton"});var e=hf._lightbox.GetFooterDomElement();e?.replaceChildren();hf._continueWorking=!1;var t=document.createElement("div");t.id=hf._continueResearchingButtonContainerId;var n=document.createElement("input");n.setAttribute("type","button");n.id=hf._continueResearchingButtonId;n.className="co_primaryBtn";n.value=D["default"].lookup("SC.Website.Delivery.ContinueResearching","Minimize and Continue Researching");hf._currentFooterButton=n.value;n.onclick=function(){hf.ContinueWorkingHandler()};t.appendChild(n);e.appendChild(t)},ContinueWorkingHandler:function(){try{var e=hf._lightbox.GetLightboxDomElement(),t="#"+e.id;hf._lightbox.RemoveBackgroundLayer();x()(t).animate({width:"3px",height:"3px",top:"95%",left:"45%"},900,"swing",(function(){e&&(e.style.display="none");hf.Remove()}))}catch(e){tt["default"].ConsoleMessage("Error: "+e,tt["default"].Level.Error,"Cobalt.Widget.DocketsMessageBox.ContinueWorkingHandler")}},AlertDQWidget:function(){try{if(!document.getElementById("co_deliveryQueueContainer")){df["default"].Instance=new uf["default"];df["default"].Instance.SetParentElement(document.body)}df["default"].Instance.SetPollingInterval(10);df["default"].Instance.Draw(!0)}catch(e){tt["default"].ConsoleMessage("Error: "+e,tt["default"].Level.Error,"Cobalt.Widget.DocketsMessageBox.AlertDQWidget")}},Remove:function(){if(null!=hf._lightbox){hf.AlertDQWidget();hf._lightbox.Remove();hf._lightbox=null}},RemoveAfterTimeout:function(e){setTimeout((function(){hf.Remove()}),e)},IsDisplayed:function(){return hf._lightbox&&!0},HasContinued:function(){return hf._continueWorking},SetViewData:function(e){hf._ViewData=e}};const ff=hf,pf=ff.SubscribeToDocketSingleUpdateEvent;ff.SubscribeToDocketSingleUpdateEvent=function(){
const e=document.getElementById(r["default"].ids.docketsUpdate),t=document.getElementById("co_document_0");if(t?.classList.contains("co_dockets")&&e?.classList.contains("co_ukDocketsUpdatesUnavailable"))return;pf.apply(this,arguments)};const mf=ff.InitiateDocketUpdate;ff.InitiateDocketUpdate=function(e,t,n){n||1!==e.length||ff.BuildDocketUpdateData(e);mf.apply(this,arguments)};const gf=ff.BuildDocketUpdateData;ff.BuildDocketUpdateData=function(e,t){const n=gf.apply(this,arguments);if(o["default"].isIacOn("IAC-RAS-DOCKET-ENTITY-GUIDS")){Z["default"].ViewModelData.DocumentGuid&&Z["default"].ViewModelData.EntityGuid&&(e[0].entityGuid=Z["default"].ViewModelData.EntityGuid);t?.Data?.length>0&&e.forEach((e=>{e.entityGuid=(0,Xe.find)(t.Data,(t=>t.docGuid===e.guid))?.entityGuid}))}return n};const vf=ff;var yf=n(4889),bf=n(995),Cf=n(4652);const Sf="tocHighlightedElement";class _f extends Cf["default"]{Initialize(){super.Initialize();this.PositionModifier=60;document.getElementById("co_backToTop")?.addEventListener("click",(function(){const e=document.querySelector(".kh_toc-list");e&&(e.scrollTop=0)}))}AddCurrentAnchorHighlighting(){setTimeout((()=>{this.RemoveAnchorHighlighting();this.currentToCItem.addClass(Sf);this.currentToCItem.attr("aria-current","true")}),100)}RemoveAnchorHighlighting(){document.querySelectorAll(`#co_leftColumn a.${Sf}`).forEach((e=>{e.classList.remove(Sf);e.removeAttribute("aria-current")}))}ProcessCurrentAnchor(){this.currentToCItem=this.GetCurrentToCItem(this.CurrentAnchor);i["default"].currentTocNode=this.CurrentAnchor;if(this.currentToCItem.length){this.AddCurrentAnchorHighlighting();this.currentToCItem[0].scrollIntoView(!0)}else{this.RemoveAnchorHighlighting();document.querySelector(".kh_toc-list").scrollTop=0}}GetHeaderHeight(){return document.getElementById("co_docHeaderContainer")?.offsetHeight??0}AddSubsectionTitle(e){const t=e.cloneNode(!0);t.children.forEach((e=>e.remove()));const n=t.textContent;setTimeout((function(){(document.querySelector("#co_docHeaderContainer .co_title .clone")??{}).textContent=n}),200)}RemoveSubsectionTitle(){document.querySelector("#co_docHeaderContainer .co_title .clone")?.remove()}}const Df=_f,Tf=bf.assembleComponentParams.calculateDetachThreshold,If=bf.assembleComponentParams.adjustToc,xf=bf.assembleComponentParams.tocHeight,kf=bf.assembleComponentParams.toggleTocMenu;bf.assembleComponentParams.shouldUnattachToolbar=v["default"].isPracticalLawUsDocument;bf.assembleComponentParams.calculateDetachThreshold=function(){return v["default"].isPracticalLawUsDocument()?(0,u.getElementHeight)(document.getElementById(r["default"].ids.document))-(0,u.getElementHeight)(document.getElementById("co_docToolbarVerticalMenuRight"))-(0,u.getElementHeight)(document.getElementById("coid_docTopToolbarInner")):Tf()};bf.assembleComponentParams.adjustToc=function(){if(o["default"].isIacOn("IAC-PLUS-TABLEOFCONTENT")){setTimeout((function(){bf.assembleComponentParams.tocHeight()}),0);window.pageYOffset>0?bf.assembleComponentParams.addStickyHeader():document.getElementById("co_docContentHeader")?.classList.remove(bf.assembleComponentParams.floatingHeaderClass)}else If()};bf.assembleComponentParams.tocHeight=function(){if(o["default"].isIacOn("IAC-PLUS-TABLEOFCONTENT")){const e=document.querySelector(".kh_toc-list"),t=document.querySelector(".kh_toc-content"),n=document.querySelector(".kh_toc-inner")?.offsetHeight??0,i=document.getElementById("coid_docTopToolbarInner")?.offsetHeight??0,a=document.getElementById("co_newHeader")?.offsetHeight??0,r=window.innerHeight,s=35;let l;if(t)if(Lt["default"].isPracticalLawUSCompartment()&&o["default"].IsIndigoDisplayEnabled&&window.innerWidth<840){l=r-i-a-n-s;t.style.position="absolute";e.style.height=l+"px"}else if(Lt["default"].isPracticalLawUSCompartment()&&!o["default"].IsIndigoDisplayEnabled&&window.innerWidth<960){l=r-i-a-n-s;t.style.position="absolute";e.style.height=l+"px"}else if(function(){var e=window.pageYOffset,t=e+window.innerHeight,n=parseInt((0,yf.getElementStyle)(document.getElementById("co_body")).paddingBottom),i=(0,ft.offset)(document.getElementById("co_footerContainer")).top+n;return i<=t&&i>=e}()){l=r-i-a-n-parseInt((0,yf.getElementStyle)(document.getElementById("co_body")).paddingBottom)-(document.getElementById("co_footerContainer")?.offsetHeight??0)-s;t.style.position="fixed";e.style.height=l+"px";e.scrollTop=e.scrollHeight}else{l=r-i-a-n-s;t.style.position="fixed";e.style.height=l+"px"}}else xf()};bf.assembleComponentParams.toggleTocMenu=function(e){kf(e);Ef();Lt["default"].isPracticalLawUSCompartment()||bf.assembleComponentParams.scrollToCurrentAnchor()};bf.assembleComponentParams.drawSubsectionHighlighter=function(){if(!o["default"].EnableIpad&&!o["default"].EnableIphone&&v["default"].isPracticalLawUsDocument()){(new Df).Initialize()}};bf.assembleComponentParams.highlightAnchorElement=Ef;bf.assembleComponentParams.scrollToCurrentAnchor=function(){const e=document.querySelector("a[id='"+bf.assembleComponentParams.previousTocHref?.slice(1)+"']");if(!e)return;const t=(0,ft.offset)(e).top-window.pageYOffset,{bottom:n}=document.getElementById(r["default"].ids.documentContentHeader).getBoundingClientRect(),i=window.pageYOffset-n+t;window.scrollTo(0,i)};const wf=o["default"].isIacOn("IAC-SEARCH-WITHIN-IMPROVEMENTS")&&(Lt["default"].isPracticalLawUSCompartment()||Lt["default"].isPracticalLawConnectCompartment()||Lt["default"].isPracticalLawComplianceCompartment())&&(0,T.isNewDocumentView)();function Ef(){const e=document.querySelector(".kh_toc-list .tocHighlightedElement");e?e.scrollIntoView(!0):document.querySelector(".kh_toc-list").scrollTop=0}const Af=bf.assembleComponentParams.assembleTocAndScrollBehavior;bf.assembleComponentParams.assembleTocAndScrollBehavior=function(){Af();(function(){document.querySelector("#kh_tocContainer .kh_toc-inner .kh_toc-content")?.setAttribute("id",r["default"].ids.tocMainContent);const e=document.querySelector("#kh_tocContainer .kh_toc-inner .kh_toc-header");e?.querySelector(".menu-toggle")?.setAttribute("aria-expanded","true");e?.querySelector(".menu-toggle")?.setAttribute("aria-controls",`${r["default"].ids.tocMainContent} ${r["default"].ids.docSearchWithinWidgetContainer}`);e?.querySelector(".icon-cross")?.setAttribute("aria-controls",`${r["default"].ids.tocMainContent} ${r["default"].ids.docSearchWithinWidgetContainer}`)})();wf&&y["default"].Publish(r["default"].events.searchWithinAssembleTocMenu)};const Lf=bf.assembleComponentParams.toggleTocMenuVisibility;bf.assembleComponentParams.toggleTocMenuVisibility=function(){Lf();const e=document.getElementById("co_leftColumn")?.classList.contains("is-active");document.querySelector("#kh_tocContainer .kh_toc-inner .kh_toc-header .menu-toggle")?.setAttribute("aria-expanded",e);wf&&y["default"].Publish(r["default"].events.searchWithinToggleTocMenu)};var Nf=n(2496);var Rf=n(295);function Pf(e){const t=e.currentTarget;e.preventDefault();const n=t.parentNode.querySelector("input")?.value,i=t.textContent;if((0,d.IsNotNullOrEmpty)(n)){const e=new Rf["default"];e.SetGuid(n);e.SetGlossaryTerm(i);e.Draw()}}var Of={pageContext:Xn["default"],getDocDisplayName:function(e){switch(e){case"Trial Court Documents":return D["default"].lookup("SC.Search.Snapshots.DocTypes.TrialCourtDocuments","Trial Ct. Docs");case"Appellate Court Documents":return D["default"].lookup("SC.Search.Snapshots.DocTypes.AppellateCourtDocuments","App. Ct. Docs");case"Jury Verdicts & Settlements":return D["default"].lookup("SC.Search.Snapshots.DocTypes.JuryVerdicts&Settlements","JV & Settlem");case"Administrative Decisions":return D["default"].lookup("SC.Search.Snapshots.DocTypes.AdministrativeDecisions","Admin Decisions");case"Trial Court Orders":return D["default"].lookup("SC.Search.Snapshots.DocTypes.TrialCourtOrders","Trial Ct. Orders");default:return e}},bindDocLink:function(e,t,n){if(t){var i,o,r,s,l=Z["default"].PageData.CobaltPage.ViewData.SearchWidgetParameters;if(l&&l.results){i=l.results.searchId;o=l.results.listPageSource;s="Search/v1/results/navigation/"+i+"?Nav="+(r=l.search.filters.content)+"&fragmentIdentifier="+t+"&startIndex=1"}var c=a["default"].Relative(a["default"].Page.Document({guid:t,
viewType:"FullText",originationContext:"snapshot",transitionType:"Snapshot",contextData:"(sc.Default)",navigationPath:s,listSource:"Search",listPageSource:o,list:r,rank:"1"}));e.attr("href","javascript:void(0);");this.appendClickEvent(e,c,n)}},bindUrlLink:function(e,t,n){var i=a["default"].Absolute(a["default"].Page.BrowseRoot({"*catchall":t,viewType:"FullText",originationContext:"snapshot",transitionType:"Snapshot",contextData:"(sc.Snapshot)"}));e.attr("href","javascript:void(0);");this.appendClickEvent(e,i,n)},bindLALink:function(e,t,n){var i=a["default"].Absolute(a["default"].Page.AnalyticsHome({"*catchall":t,viewType:"FullText",originationContext:"snapshot",transitionType:"Snapshot",contextData:"(sc.Snapshot)"}));e.attr("href","javascript:void(0);");this.appendClickEvent(e,i,n)},getLpaSearchForMoreLink:function(){const e=document.createElement("template");e.innerHTML=D["default"].lookup("SC.Search.Snapshots.SearchForPersonProfiler","<a>Search for people in Profiler</a>");return e.content.firstElementChild},getLASearchForMoreLink:function(){const e=document.createElement("template");e.innerHTML=D["default"].lookup("SC.Search.Snapshots.SearchForPerson","<a>Search for people in Litigation Analytics</a>");return e.content.firstElementChild},getOaSearchForMoreLink:function(){const e=document.createElement("template");e.innerHTML=D["default"].lookup("SC.Search.Snapshots.SearchForCompany","<a>Search for companies in Company Investigator</a>");return e.content.firstElementChild},addLpaSearchForMoreLink:function(e){e.insertAdjacentHTML("beforeend",D["default"].lookup("SC.Search.Snapshots.LookingForDiffPerson","<strong>Looking for a different person?<strong>"));if(o["default"].IsIndigoDisplayEnabled){const t=this.getLASearchForMoreLink(),n=x()(t);Of.bindLALink(n,"Analytics/Home");e.append(t)}else{const t=this.getLpaSearchForMoreLink(),n=x()(t);Of.bindUrlLink(n,"Home/Profiler");e.append(t)}},addOaSearchForMoreLink:function(e){e.insertAdjacentHTML("beforeend",D["default"].lookup("SC.Search.Snapshots.LookingForDiffCompany","<strong>Looking for a different company?<strong>"));const t=this.getOaSearchForMoreLink(),n=x()(t);Of.bindUrlLink(n,"Home/CompanyInvestigator");e.append(t)},addSearchForMoreLink:function(e,t){const n=document.createElement("div");n.id="co_snapshotViewMoreLink";"lpa"===e?this.addLpaSearchForMoreLink(n):"oa"===e&&this.addOaSearchForMoreLink(n);this.insertSearchForMoreLink(t,n)},insertSearchForMoreLink:function(e,t){e?.append(t)},appendClickEvent:function(e,t,n){e.on("click",(function(){(0,R.postUXEvent)(n,{accessMethod:"Snapshot"},(function(){Ze["default"].PageTransition(t)}))}))}};const Bf=Of;function Mf(){var e=this;e.POPULARNAME_CLICK_EVENT_NAME="Cobalt.Search.Snapshot.Overview.PopularName.Clicked";this.drawPopularName=function(t,n,i){if(!i&&o["default"].isIacOn("IAC-SNAPSHOT-POPULAR-NAMES-MIDDLE")){(n=document.createElement("div")).id="co_popularNameSnapshot";document.querySelectorAll("#co_subHeader #coid_website_searchAvailableFacets").forEach((e=>e.before(n)))}var a="";a+=`<div id='co_popularName_${t.guid}' class='co_snapshotOverview co_popularNameSnapshot'>`;a+=`<div id='popularNameHeader_${t.guid}' class='co_snapshotOverviewSection'></div>`;a+=`<div id='popularNamePublicLaws' class='co_snapshotOverviewSection'><div><strong>${D["default"].lookup("SC.Search.Snapshots.PopularName.PublicLaws","Public Laws")}</strong></div></div>`;a+="<div id='popularNameCitingCases' class='co_snapshotOverviewSection'></div>";a+="</div>";const r=document.createElement("template");r.innerHTML=a;n.append(r.content);(function(t,n,i){var a=i.querySelectorAll("#popularNameHeader_"+t);a.forEach((e=>{var t="";if(n){t+="<div class='co_snapshotOverviewItem'>";t+=`<h4><a id='co_popularNameTitle'>${n}</a></h4>`;t+="</div>"}e.insertAdjacentHTML("beforeend",t)}));e.bindDocLink(x()("#co_popularNameTitle"),t,e.POPULARNAME_CLICK_EVENT_NAME)})(t.guid,t.title,n);(function(e,t,n,i,a){var o=a.querySelectorAll("#popularNameHeader_"+e);o.forEach((e=>{var a="";if(t){var o=[];n&&n.length&&n.forEach((function(e){e.singleTitle!==t&&o.push(e.singleTitle)}));i&&i.length&&i.forEach((function(e){e.title!==t&&o.push(e.title)}))}if(o.length){var r=o.join(D["default"].lookup("SC.Search.Snapshots.PopularName.AkaTitlesSeparater",",&nbsp;"));a+=`<div class='co_snapshotOverviewItem'>${D["default"].format("SC.Search.Snapshots.PopularName.Aka",{akaTitleArray:r},`<strong>AKA: </strong>${r}`)}</div>`}e.insertAdjacentHTML("beforeend",a)}))})(t.guid,t.title,t.singleTitles,t.titles,n);s=t.guid,l=t.citationsUrlMap,document.querySelectorAll("#popularNameHeader_"+s).forEach((e=>{var t="";if(l){t+="<div class='co_snapshotOverviewItem'>";t+="<strong>Citations: </strong>";t+="<span>";st().each(l,(function(e){var n=Object.keys(e)[0];e[n].indexOf("/Link/Document")>-1?t+=`<a href='${e[n]}&transitionType=Snapshot&contextData=(sc.Snapshot)'>${n}</a>`:t+=` ${n} `}));t+="</span>";t+="</div>"}e.insertAdjacentHTML("beforeend",t)}));var s,l;(function(e,t,n){var i=n.querySelectorAll(`#popularNameHeader_${e}`);i.forEach((e=>{var n="";n+="<div class='co_snapshotOverviewItem'>";n+=D["default"].lookup("SC.Search.Snapshots.PopularName.Summary","<strong>Summary: </strong>");if(t&&t.length>150&&!o["default"].isIacOn("IAC-SNAPSHOT-POPULAR-NAMES-MIDDLE")){var i=t.substr(0,150),a=i.substr(0,Math.min(i.length,i.lastIndexOf(" ")));n+=a;n+=`<span id='remainingSummary' class='co_hideState'>${t.substr(a.length,t.length)}</span>`;n+=`<button type="button" id='summaryButton' class='co_linkBlue co_popularNameSummary'>... ${D["default"].lookup("SC.Search.Snapshots.PopularName.ShowSummary","Show")} </button>`}else t&&(n+=t);n+="</div>";e.insertAdjacentHTML("beforeend",n)}));n?.querySelectorAll(".co_popularNameSummary").forEach((e=>e.addEventListener("click",(function(){(function(e){const t=e.querySelector("#remainingSummary"),n=e.querySelector("#summaryButton");if(!t||!n)return;const i=(0,ea.isVisible)(t);t.classList.toggle("co_hideState");(function(e,t){e.textContent=t?`... ${D["default"].lookup("SC.Search.Snapshots.PopularName.ShowSummary","Show")}`:`${D["default"].lookup("SC.Search.Snapshots.PopularName.HideSummary","Hide")} (-)`})(n,i)})(n)}))))})(t.guid,t.summary,n);(function(e,t){var n=document.querySelectorAll("#popularNameHeader_"+e+" #popularNameCitingCases");n.forEach((e=>{var n="";if(t&&t.length){n+="<div class='co_snapshotOverviewItem'>";n+="<ul>";var i=0;st().each(t,(function(e){if(i<=2){n+="<li class='co_2Column'>";n+=`<div class='co_column co_80Percent'><strong>${e.citingDocument.docType}</strong></div>`;n+=`<div class='co_column co_20Percent'><span class='co_floatRight'>${D["default"].renderInteger(e.citingDocument.count)}</span></div>`;n+="</li>"}i++}));n+="</ul>";n+="</div>"}e.insertAdjacentHTML("beforeend",n)}))})(t.guid,t.citingDocuments);(function(e,t){var n=document.querySelectorAll("#co_popularName_"+e+" #popularNamePublicLaws");n.forEach((e=>{var n="";if(t){n+="<div class='co_snapshotOverviewItem'>";n+=D["default"].format("SC.Search.Snapshots.PopularName.Enacting",{enactingLaw:t},`Enacting: <span>${t}</span>`);n+="</div>"}e.insertAdjacentHTML("beforeend",n)}))})(t.guid,t.enactingLaw);(function(e){var t=document.querySelectorAll("#co_popularName_"+e+" #popularNameViewMore");t.forEach((e=>{e.addEventListener("click",(function(){(0,ea.isVisible)(document.getElementById("popularNamePublicLaws"))?this.innerHTML=D["default"].lookup("SC.Search.Snapshots.PopularName.ShowMore","<div>Show More</div>"):this.innerHTML=D["default"].lookup("SC.Search.Snapshots.PopularName.ShowLess","<div>Show Less</div>");const e=document.querySelector("#popularNamePublicLaws"),t=document.querySelector("#popularNameCitingCases");(0,lt.slideToggle)(e);(0,lt.slideToggle)(t)}));e.innerHTML+=D["default"].lookup("SC.Search.Snapshots.PopularName.ShowMore","<div>Show More</div>")}))})(t.guid);x()(".co_snapshotOverview").children().each((function(){!x()(this).children().filter(".co_snapshotOverviewItem").size()>0&&"popularNameViewMore"!==this.id&&this.remove()}))}}Mf.prototype=Object.create(Bf);function Ff(){this._dataCache=[];var e=this;this._attachEvents=function(t,n){
var i=a["default"].Parse(n.currentTarget.href),o=i.QueryString["refType"];if(!o)return;if(["a2","aJ","ap","ew","jp","mc","me","pi","rq","wk"].includes(o.toLowerCase())){var r=i.QueryString["cite"];i.Path="/Document/GetProfileSummary";var s=a["default"].Absolute(i);"mouseenter"===n.type?ge.ElementStorage.put(t.get(0),"timeout",setTimeout((function(){var n={url:s,citation:r,element:t};e.onLinkProfileHover(n)}),500)):clearTimeout(ge.ElementStorage.get(t.get(0),"timeout"))}};this._getPersonSnapshotDataFromSearch=async function(t){var n=`/Search/v1/snapshot/guid?guid=${t.docGuid}&indexType=person`;const i=new E["default"](A["default"].Search,n,{timeout:5e3,headers:{Accept:"application/json"}});try{const e=await i.Get();if(!e.ok)throw new Error(`Failed to get person snapshot data. HTTP status: ${e.status}`);a(await e.json())}catch(e){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw e}function a(n){t.result=n.snapshotResponse;e._saveRecievedDataToCache(t)}};this.initFamousNameSummary=async function(e){var t=`/Search/v1/snapshot/guid?guid=${e}&indexType=famousName`;const n=new E["default"](A["default"].Search,t,{timeout:5e3,headers:{Accept:"application/json"}}),i=await n.Get();if(!i.ok)throw new Error(`Failed to get name snapshot data. HTTP status: ${i.status}`);(function(e){if(e.snapshotResponse){(new Mf).drawPopularName(e.snapshotResponse,document.querySelector("#co_rightColumn .co_innertube"),!0)}})(await i.json())};this._saveRecievedDataToCache=function(t){var n=t.result;if(!n)return;var i={name:n.fullName,relatedDocCounts:n.relatedDocCounts,docGuid:t.docGuid};e.showHoverView(i,t.element);e._dataCache.push({key:t.citation,value:i})};this._onSnapshotCountClick=function(t){var n=t.srcElement.getAttribute("facetKey"),i=t.srcElement.getAttribute("docId");var a=[{key:"DocumentType",children:[{key:n.replace(/\s+/g,"")}]}];new E["default"](A["default"].RelatedInfo,"RelatedInfo/v1/filters",{timeout:9e4,headers:{Accept:"application/json","Content-Type":"application/json"}}).Post(JSON.stringify(a),(async function(t){if(!t.ok){const e=`Getting search facet error. Status code: ${t.status}.`;(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(e)}{const n=await t.json();e.navigateToProfilerReferencesFacet(i,n.filterGuid)}}))};this._buildInfoBox=function(e){var t=[];t.push("<div id='popBox' class='co_infoBox top center snapShotBox co_excludeAnnotations co_disableHighlightFeatures' role='status' tabIndex='-1'>");t.push("<a class='co_infoBox_closeButton'>Close</a>");t.push("<div class='co_infoBox_message'>");t.push(`<h3>${e.name}</h3>`);var n=0;st().each(e.relatedDocCounts,(function(i,a){if(i>0&&n<3){t.push("<div class='co_2Column'>");t.push(`<div class='co_column co_64Percent'>${a}:</div>`);t.push(`<a class='co_column co_36Percent co_textRight snapShotNumCount' docId='${e.docGuid}' facetKey='${a}'>${i}</a>`);t.push("</div>");n++}}));t.push("<a id='linkToProfile'>See Full Profile</a>");t.push("</div>");t.push("</div>");return t.join("")};this.initSnapshotPersonHover=function(){document.querySelectorAll("a.co_link").forEach((t=>{t.addEventListener("mouseenter",(function(t){e._attachEvents(x()(this),t)}));t.addEventListener("mouseleave",(function(t){e._attachEvents(x()(this),t)}))}))};this.initSnapshotMaintainedClick=function(t){t?.addEventListener("click",e.displayMaintained);t?.parentElement?.addEventListener("keyup",(function(t){13===t.keyCode&&e.displayMaintained()}))};this.displayMaintained=function(){var t=this;document.querySelectorAll(".snapShotMaintainedBox").forEach((e=>e.remove()));var n=e._showMaintainedDefintion();document.querySelector(e.getInfoBoxSelector())?.insertAdjacentHTML("afterend",n);var i=function(e){if(!e.target.matches("#popBox")&&e.target!==t&&!e.target.matches(".co_infoBox_message")){document.removeEventListener("click",i);document.getElementById("popBox")?.remove()}};document.addEventListener("click",i);document.querySelectorAll(".co_infoBox_closeButton").forEach((e=>{e.addEventListener("click",(function(e){i(e)}));e.addEventListener("keyup",(function(e){13==e.which&&i(e)}))}))};this._showMaintainedDefintion=function(){var e=[];e.push("<div id='popBox'class='co_infoBox top center snapShotMaintainedBox' tabIndex='-1'>");e.push(`<a href='javascript:void(0)' class='co_infoBox_closeButton'>${D["default"].lookup("SC.Website.Views.DocumentSnapshot.Close","Close")}</a>`);e.push("<div class='co_infoBox_message' role='dialog' aria-labelledby='popBox'>");e.push(D["default"].lookup("SC.Website.Views.DocumentSnapshot.MaintainedDefinition","This resource is maintained, meaning we continually monitor and revise it for any necessary changes due to legal, market, or practice developments."));e.push("</div>");e.push("</div>");return e.join("")};this.getInfoBoxSelector=function(){return".co_doc_content_extras"};this.getMaintainedTextSelector=function(){return".co_doc_content_extras .co_greenStatus"};this.onLinkProfileHover=function(t){var n=st().find(e._dataCache,(function(e){return e.key===t.citation}));n?e.showHoverView(n.value,t.element):x().get(t.url,(function(n){t.docGuid=n.docGuid;e._getPersonSnapshotDataFromSearch(t)})).fail((function(){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Error getting profile id")}))};this.showHoverView=function(t,n){document.querySelectorAll(".snapShotBox").forEach((e=>e.remove()));var i=t;const a=document.createElement("template");a.innerHTML=e._buildInfoBox(i);const o=a.content.firstElementChild;n.before(o);var r=n.position();const s=document.getElementById("popBox");var l=(0,u.getElementHeight)(s)+6;if(s){s.style.top=r.top-l+"px";s.style.left=r.left+"px"}document.querySelectorAll(".snapShotBox").forEach((e=>e.addEventListener("click",(function(){this.remove()}))));document.getElementById("linkToProfile")?.addEventListener("click",(function(){e.bindDocLink(x()(this),i.docGuid)}));e.bindProfileLink()};this.navigateToProfilerReferencesFacet=function(e,t){var n=a["default"].Parse(window.location.href.toString());n.Path="/RelatedInformation/"+e+"/riProfessionalReferences.html";n.QueryString={};n.QueryString["originationContext"]="snapshotHover";t&&(n.QueryString["facetGuid"]=t);n.QueryString["transitionType"]="Snapshot";n.QueryString["contextData"]="(sc.default)";Ze["default"].PageTransition(a["default"].Absolute(n))};this.bindDocLink=function(e,t){if(t){var n=a["default"].Page.Document({guid:t,viewType:"FullText",originationContext:"snapshot",transitionType:"Snapshot",contextData:"(sc.Default)"});Z["default"].PageData.DocumentTabView&&Z["default"].PageData.DocumentTabView.UserDocumentData&&(n.QueryString.analyticGuid=Z["default"].PageData.DocumentTabView.UserDocumentData.documentGuid);var i=a["default"].Relative(n);e.attr("href","javascript:void(0);");Ze["default"].PageTransition(i)}};this.bindProfileLink=function(){document.querySelectorAll(".snapShotNumCount").forEach((t=>t.addEventListener("click",(function(t){e._onSnapshotCountClick(t)}))))}}function Wf(){this._sectionOutlineSelector="div.co_body>div.co_subsection>div.co_paragraph";this._sectionSearchBtn=`\n    <li id="co_sectionSearch">\n        <div id="co_docToolbarTocFlyoutContainer">\n            <button id="co_tocLink" class="co_tbButton">\n            ${D["default"].lookup("SC.Document.Widget.DocumentSectionOutline.GoToLink","Go To")}\n           </button>\n        </div>\n    </li>`;this._lightBoxTitle="Section Outline";this._sectionLinkContainer="<div><ul><%= items %></ul></div>";this._linkSectionHtml="<li><a class='sectionLink' id='#<%- id %>' href='javascript:void(0);'><%- text %></a></li>"}Wf.prototype={InitializeWidget:function(){var e=this.GetSectionLinkFromDocumentHtml();e.length>0&&this.AppendSectionOutlineControl(e)},IsSectionLinksAvailable:function(){return this.GetSectionLinkFromDocumentHtml().length>0},GetSectionLinkFromDocumentHtml:function(){return x()(this._sectionOutlineSelector)},
AppendSectionOutlineControl:function(e){var t=document.getElementById("co_docToolbarMenuRight");t?.insertAdjacentHTML("afterbegin",this._sectionSearchBtn);document.getElementById("co_sectionSearch")?.addEventListener("click",(()=>{this.AddDocumentSectionScrollLinks(e)}))},AddDocumentSectionScrollLinks:function(e){var t=this.BuildSectionHtmlContent(e);this.ShowSectionOutlineDialog(t)},BuildSectionHtmlContent:function(e){var t="";st().each(e,(e=>{var n=this.FilterNotDeletedText(e);if(n){var i=n.length>110?n.substring(0,110)+"...":n;t+=st().template(this._linkSectionHtml)({id:e.id,text:i})}}));return st().template(this._sectionLinkContainer)({items:t})},FilterNotDeletedText:function(e){var t=x()(e).find("div.co_paragraphText").contents().filter(((e,t)=>!t.tagName||"del"!==t.tagName.toLowerCase()));return t.text()},ShowSectionOutlineDialog:function(e){var t=this,n=new fe["default"];n.SetId(r["default"].ids.tocLightBoxId);n.SetCloseLinkObject({id:r["default"].ids.tocPopUpClose,alt:r["default"].texts.closeTocFlyout,onclick:function(){n.Remove()}});n.SetTitle("Section Outline");var i=document.createElement("div");i.setAttribute("class",r["default"].classes.scrollWrapper);var a=document.createElement("div");a.id=r["default"].ids.tocScrollInnerWrapper;a.innerHTML=e;i.appendChild(a);n.GetContentDomElement().appendChild(i);var o=`<li><a class="${r["default"].classes.submitButton}" id="${r["default"].ids.tocFlyoutCloseButton}" href="javascript:void(0);">${r["default"].texts.close}</a></li>`,s=document.createElement("ul");s.innerHTML=o;var l=s.getElementsByTagName("a")[0];n.GetFooterDomElement().appendChild(s);v["default"].AttachClickHandler(l,(function(){n.Remove();return!1}));l.onclick=function(){return!1};n.SetIsExpandedView(!0);n.Draw();document.querySelectorAll(".sectionLink").forEach((e=>e.addEventListener("click",(function(){n.Remove();var e=v["default"].FindOffsetTopForElement(x()(this.id).get(0))+t.GetDocumentHeaderOffset();window.scrollTo({top:e,behavior:"smooth"})}))))},GetDocumentHeaderOffset:function(){var e=o["default"].UsePageHeaderV2?(0,u.getElementHeight)(document.getElementById(r["default"].ids.websiteNewHeader)):(0,u.getElementHeight)(document.getElementById(r["default"].ids.websiteHeader)),t=(0,u.getElementHeight)(document.getElementById(r["default"].ids.documentHeader)),n=(0,u.getElementHeight)(document.getElementById(r["default"].ids.documentToolbar)),i=document.getElementById(r["default"].ids.documentContentHeader);return 25-(e+t+n+(i?(0,u.getElementHeight)(i):0)+30)}};const Hf=Wf;function Gf(){Hf.call(this)}Gf.prototype=Object.create(Hf.prototype);Gf.prototype.constructor=Gf;Gf.prototype.GetSectionLinkFromDocumentHtml=function(){return Array.from(document.querySelectorAll("div.co_body>div.co_subsection")).map((e=>e.querySelector("div.co_paragraph"))).filter(Boolean)};const Uf=Gf;const jf=()=>"Statutes"===i["default"].documentData.ContentType||"Regulations"===i["default"].documentData.ContentType||"Legislation"===i["default"].documentData.ContentType;function $f(){this._documentRibbonBar="#co_docToolbarMenuRight";this._extractCitationSection=`<li id="co_saveToContainer"><a role="button" id="extractCitationsBtn" class="icon25 icon_research_report" href="javascript:void(0);" title="${D["default"].lookup("SC.Document.ExtractCitation.LightBoxTitle","Extract Citations")}">${D["default"].lookup("SC.Document.ExtractCitation.LightBoxTitle","Extract Citations")}</a></li>`;this.dialogHtml=`<div>${D["default"].lookup("SC.Document.ExtractCitation.LightBoxBody","Citations will be created as new folder under your current document folder.")}</div>`;this._lightBox=null;this._responseData=null;this._extractCitationBatchNumber=1}$f.prototype={InitializeWidget:function(){var e=this,t=[];document.querySelectorAll("a.co_link").forEach((e=>{var n=a["default"].Parse(e.href).QueryString["normalizedCite"];-1===t.indexOf(n)&&t.push(n)}));if(t.length>0){document.querySelector(e._documentRibbonBar)?.insertAdjacentHTML("afterbegin",e._extractCitationSection);document.getElementById("extractCitationsBtn")?.addEventListener("click",(function(){e.ShowLightBoxCitationCount()}))}},ShowLightBoxCitationCount:function(){var e=this;this._lightBox=e.ShowLightBoxDialog();e._SetLightBoxBody(e.dialogHtml);var t=e._getLightBoxButtonsFooter(!0);e._SetLightBoxFooter(t);document.getElementById("proceedBtn")?.addEventListener("click",(function(){e.ProceedExtract()}))},ExtractCiationHttp:function(e,t,n){var o=i["default"].documentData.DocGuid,r=i["default"].documentData.metaInformation.containerId,s=i["default"].documentData.TitleText;s.length>19&&(s=s.substring(0,20));var l=a["default"].Relative(a["default"].Rest.ExtractCitations({folderId:r,documentId:o,documentTitle:s,batchNumber:e}));jt["default"].Get({relativeUrl:l,responseIsJson:!0,timeoutMillisecs:18e4,successCallback:function(e){t(e)},failedCallback:function(e){n(e)}})},ProceedExtract:function(){var e=this;e._SetLightBoxToLoadingMode();e.ExtractCiationHttp(e._extractCitationBatchNumber,(function(t){e._processSuccessExtract(t)}),(function(){e._SetLightBoxToDoneExtractCitation(`<div>${D["default"].lookup("SC.Document.ExtractCitation.ExtractErrorText","Error while extracting citations.")}</div>`,!0)}))},_processSuccessExtract:function(e){var t=this;if(e.TotalCitations>200*t._extractCitationBatchNumber){var n=e.TotalCitations-200*t._extractCitationBatchNumber,i=n>1?D["default"].format("SC.Document.ExtractCitation.MoreThanOneCitationText",{textValue:n},`are ${n} more citations`):D["default"].lookup("SC.Document.ExtractCitation.SingleCitationToProcessText","is one more citation"),a="<div>"+D["default"].format("SC.Document.ExtractCitation.MoreThanOneBodyText",{textValue1:e.Data.length,textValue2:e.NewFolderName},e.Data.length+" citations has been extracted to folder name: "+e.NewFolderName+".")+" <div>"+D["default"].format("SC.Document.ExtractCitation.NumberOfExtractLeftText",{textValue:i},"** There "+i+" remain that can be extracted. Do you want to proceed?")+"<div></div>";t._SetLightBoxBody(a);var o=t._getLightBoxButtonsFooter(!1);t._SetLightBoxFooter(o);document.getElementById("proceedBtn")?.addEventListener("click",(function(){++t._extractCitationBatchNumber;t.ProceedExtract()}))}else{var r;if(1===e.Data.length)r=`<div>${D["default"].format("SC.Document.ExtractCitation.SuccessTextForOneCite",{textValue:e.NewFolderName},`1 citation has been extracted to folder name: ${e.NewFolderName}.`)}</div>`;else{r=`<div>{0} ${D["default"].format("SC.Document.ExtractCitation.SuccessTextForMoreThanOneCite",{textValue:e.NewFolderName},`citations have been extracted to folder name: ${e.NewFolderName}.`)}</div>`.replace("{0}",e.Data.length)}t._SetLightBoxToDoneExtractCitation(r,!1)}},_SetLightBoxBody:function(e){var t=document.createElement("div");t.setAttribute("class",r["default"].classes.scrollWrapper);var n=document.createElement("div");n.id=r["default"].ids.tocScrollInnerWrapper;n.innerHTML=e;t.appendChild(n);this._lightBox.GetContentDomElement().replaceChildren(t)},_SetLightBoxToLoadingMode:function(){this._lightBox.GetContentDomElement().innerHTML='<div class="co_deliveryWaitProgressImg"></div>';this._lightBox.GetFooterDomElement().replaceChildren()},_SetLightBoxToDoneExtractCitation:function(e,t){var n=t?D["default"].lookup("SC.Document.ExtractCitation.CancelButtonText","Cancel"):D["default"].lookup("SC.Document.ExtractCitation.DoneButtonText","Done");this._lightBox.GetContentDomElement().innerHTML=e;var i=`<li><a class="${r["default"].classes.submitButton}" id="${r["default"].ids.closeButton}" href="javascript:void(0);">${n}</a></li>`;this._SetLightBoxFooter(i)},_getLightBoxButtonsFooter:function(e){var t=e?D["default"].lookup("SC.Document.ExtractCitation.CancelButtonText","Cancel"):D["default"].lookup("SC.Document.ExtractCitation.DoneButtonText","Done");return'<li><a class="'+r["default"].classes.submitButton+'" id="'+r["default"].ids.closeButton+'" href="javascript:void(0);">'+t+'</a></li><li><a class="'+r["default"].classes.submitButton+'" id=\'proceedBtn\' href="javascript:void(0);">'+D["default"].lookup("SC.Document.ExtractCitation.ProceedButtonText","Proceed")+"</a></li>"},_SetLightBoxFooter:function(e){
var t=this,n=document.createElement("ul");n.innerHTML=e;var i=n.getElementsByTagName("a")[0];t._lightBox.GetFooterDomElement().replaceChildren(n);t._Cobalt$Document.Utilities.AttachClickHandler(i,(function(){t._lightBox.Remove();return!1}));i.onclick=function(){return!1}},ShowLightBoxDialog:function(){var e=new fe["default"];e.SetId(r["default"].ids.tocLightBoxId);e.SetTitle(D["default"].lookup("SC.Document.ExtractCitation.LightBoxTitle","Extract Citations"));e.SetIsExpandedView(!0);e.Draw();return e}};const Vf=$f;function qf(e,t,n,i,a){this._guid=e;this._fileName=encodeURIComponent(t);this._containerGuid=n;this._containerType=i;this._accountKey=a}qf.prototype={Draw:function(){var e="";e=this._containerGuid?a["default"].Relative(a["default"].Resource.DownloadUserDocumentFromContainer({guid:this._guid,fileName:this._fileName,containerType:this._containerType,containerGuid:this._containerGuid,accountKey:this._accountKey})):a["default"].Relative(a["default"].Resource.DownloadUserDocument({guid:this._guid,fileName:this._fileName}));var t=document.createElement("a");t.href=e;t.textContent=D["default"].lookup("SC.Website.UploadedDocument.DownloadDocument","Download original document");this._parent?.append(t)},SetParent:function(e){this._parent=document.querySelector(e)}};const zf=qf;const Kf=()=>document.getElementById("co_navigableDocOutline")?.classList.remove("co_hideState");function Yf(){this.Initialize=()=>{const e=document.getElementById(r["default"].ids.document);e?.addEventListener("click",this._handleClick);e?.addEventListener("keydown",this._handleKeyPress)};this._handleKeyPress=e=>{const t=e.target;if(!t.matches('[role="treeitem"]'))return;switch(e.code){case k["default"].ArrowDown:this._moveFocus(e,1);break;case k["default"].ArrowUp:this._moveFocus(e,-1);break;case k["default"].Home:this._moveFocus(e,null,0);break;case k["default"].End:this._moveFocus(e,null,-1);break;case k["default"].ArrowRight:{const n=this._getToggle(t);n&&(this._isNodeExpanded(t)?this._moveFocus(e,1):n.click());e.preventDefault();e.stopPropagation();break}case k["default"].ArrowLeft:{const n=this._getToggle(t);if(this._isNodeExpanded(t))n.click();else{const i=n?1:0,a=(0,P.parents)(t,`li:has(> div > .${r["default"].classes.treeToggle})`)[i],o=a?.querySelector('[role="treeitem"]');o&&this._moveFocus(e,null,null,o)}e.preventDefault();e.stopPropagation();break}case k["default"].Space:case k["default"].Enter:t.click();e.preventDefault();e.stopPropagation()}};this._getToggle=e=>e.parentNode.parentNode.querySelector(`.${r["default"].classes.treeToggle}`);this._isNodeExpanded=e=>"true"===e.getAttribute("aria-expanded");this._moveFocus=(e,t,n,i)=>{const a=document.getElementById(r["default"].ids.tocContainer),o=Array.from(a?.querySelectorAll('[role="treeitem"]')??[])?.filter(ea.isVisible);if(!o.length)return;e.preventDefault();e.stopPropagation();if(i){const t=o.indexOf(i);-1!==t&&this._setFocus(e,o,t);return}if(void 0!==n){this._setFocus(e,o,n);return}const s=o.indexOf(e.target)+t;s>=0&&s<o.length&&this._setFocus(e,o,s)};this._setFocus=(e,t,n)=>{t.at(n).setAttribute("tabIndex","0");t.at(n).focus();e.target.setAttribute("tabIndex","-1")};this._handleClick=e=>{const t=e.target;v["default"].selfOrAncestorHasId(t,r["default"].ids.tocHeader)&&this.toggle();t.classList.contains(r["default"].classes.treeToggle)&&this.toggleTreeNode(t)};this.toggle=()=>{const e=document.getElementById(r["default"].ids.tocHeader),t=document.getElementById(r["default"].ids.tocContainer);e&&t&&("none"===t.style.display?this.expand(e,t):this.collapse(e,t))};this.toggleTreeNode=e=>{const t=e.parentNode?.parentNode?.querySelector(":scope > ul"),n=e.parentNode?.parentNode?.querySelector('[role="treeitem"]'),i=e.classList.contains(r["default"].classes.treeCollapse);if(i){e.classList.remove(r["default"].classes.treeCollapse);e.classList.add(r["default"].classes.treeExpand)}else{e.classList.remove(r["default"].classes.treeExpand);e.classList.add(r["default"].classes.treeCollapse)}t?.classList.toggle(r["default"].classes.hideState,i);n?.setAttribute("aria-expanded",!i)};this.collapse=(e,t)=>{e.className=`${r["default"].classes.expandBoxHeader} ${r["default"].classes.expandBoxCollapsed}`;t.style.display="none";const n=document.getElementById(r["default"].ids.tocExpandCollapseLink);n?.setAttribute("aria-expanded","false")};this.expand=(e,t)=>{e.className=`${r["default"].classes.expandBoxHeader} ${r["default"].classes.expandBoxExpanded}`;t.style.display="block";const n=document.getElementById(r["default"].ids.tocExpandCollapseLink);n?.setAttribute("aria-expanded","true")}}const Qf=On().module("redlineService",[]);Qf.factory("RedlineProvider",(function(){return ci["default"]}));Qf.factory("RedlineConfig",(function(){return di["default"]}));const Xf=On().module("redlineModal",["redlineService","ngSanitize"]).run(["$templateCache",function(e){e.put("templates/redlineModal.html",'<div>\n    \x3c!--\n     @file redlineModal template\n    --\x3e\n    <div ng-if="comparisonProcessInProgress" class="co_loading">{{loadingMessageReportIsGenerated}}</div>\n    <div ng-hide="comparisonProcessInProgress">\n        <div ng-if="redlineToolError" class="co_redlineLightbox_toolError co_redStatus">{{errorMessage}}</div>\n        <div ng-hide="addReportBlocked || addReportWarning">\n            <div class="co_overlayBox_tabsLeft">\n                <div class="co_overlayBox_tabsRight">\n                    <div class="co_overlayBox_tabs">\n                        <ul class="co_tabs" ng-init="selectedTab = 1">\n                            <li class="co_tabLeft co_tabFirst" ng-click="selectedTab = 1" ng-class="{\'co_tabActive\' : selectedTab==1 }">\n                                <div class="co_tabRight">\n                                    <h2>\n                                        <a class="co_tabLink" href="javascript:void(0);">{{comparisonItemsTabText}}</a>\n                                    </h2>\n                                </div>\n                            </li>\n                            <li class="co_tabLeft" ng-click="selectedTab = 2" ng-class="{\'co_tabActive\' : selectedTab==2 }">\n                                <div class="co_tabRight">\n                                    <h2>\n                                        <a class="co_tabLink" href="javascript:void(0);">{{reportsTabText}}</a>\n                                    </h2>\n                                </div>\n                            </li>\n                        </ul>\n                        <div class="co_clear"></div>\n                    </div>\n                </div>\n            </div>\n\n            <div id="co_redlineLightbox_activeTabContent">\n                <div ng-show="selectedTab==1" comparison-items-tab></div>\n                <div ng-show="selectedTab==2" reports-tab></div>\n            </div>\n        </div>\n\n        <div ng-show="addReportBlocked" add-report-blocked-message></div>\n\n        <div ng-show="addReportWarning" add-report-warning-message></div>\n    </div>\n</div>\n')}]);Xf.controller("comparisonItemsTabController",["$scope","$rootScope","$q","RedlineProvider","RedlineConfig",function(e,t,n,i,a){var o=this;e.startCompare=function(){var t=e.getSelectedItems(e.listOfComparisonItems);if(t&&t.originalItem&&t.revisedItem){var a={originalComparisonItemGuid:t.originalItem.itemGuid,revisedComparisonItemGuid:t.revisedItem.itemGuid};e.setComparisonProcessInProgress(!0);n.when(i.AddReport(a)).then(o.completeReportGeneration,(function(){e.setComparisonProcessInProgress(!1);e.$emit("showRedlineToolError")}))}};e.getSelectedItems=function(e){var t,n,i=[];for(var a in e){var o=e[a];if(o.selected){i.push(o);"original"==o.markAs?t=o:"revised"==o.markAs&&(n=o)}}return{itemList:i,originalItem:t,revisedItem:n}};this.completeReportGeneration=function(t){if(t.completionStatus&&"completed"!==t.completionStatus){e.setComparisonProcessInProgress(!1);e.$emit("notCompletedReportCreated",t)}else if(t.status===a.statuses.reportBlocked){e.setComparisonProcessInProgress(!1);o.showBlockedMessage()}else if(t.status===a.statuses.reportShowWarn){e.setComparisonProcessInProgress(!1);o.showWarningMessage(t)}else{
var n=D["default"].lookup("SC.Document.Redline.ComparisonTool.LoadingMessageRedirectingToReport","Redirecting to Report View, please wait");e.setComparisonProcessInProgress(!0,n);window.location.href="/Redline/Report/"+t.itemGuid+"/FullText.html?transitionType=Default&contextData=(sc.Default)"}};this.showBlockedMessage=function(){e.$emit("showBlockedMessage")};this.showWarningMessage=function(e){t.$broadcast("showWarningMessage",e)}}]);Xf.controller("reportsTabController",["$sce","$interval","$scope","$rootScope","$q","RedlineProvider","RedlineConfig",function(e,t,n,i,a,o,r){var s,l=this;this.intervalPromise=null;var c=D["default"].lookup("SC.Document.Redline.ComparisonTool.ReportCompletedMessage","Report generation has been completed"),d=D["default"].lookup("SC.Document.Redline.ComparisonTool.ReportStartedMessage",'Your comparison is in progress.  You may close this window and return at a later time to view your comparison, which will remain accessible from the<br/>"View Saved Comparisons" tab until you run another comparison.');n.showMessage=function(e,t){n.showInformationMessage=!0;n.informationMessage={text:e,type:t}};n.startStatusChecking=function(){l.checkNotCompletedReport();l.intervalPromise=t(l.checkNotCompletedReport,r.checkReportStatusInterval)};this.stopStatusChecking=function(){if(l.intervalPromise){t.cancel(l.intervalPromise);l.intervalPromise=null}};n.$on("reportCreated",(function(e,t){if(t){if(n.reportsLoaded){n.listOfTemporaryReports=[];n.listOfTemporaryReports.push(t)}n.showMessage(d,r.messages.types.info)}}));n.redlineToolLightbox.AddEventListener("close",(function(){l.stopStatusChecking()}));this.checkNotCompletedReport=function(){if(s)return;var e=n.listOfTemporaryReports.filter((function(e){return!n.isReportCompleted(e)}));e&&1===e.length&&l.getReportCompletionStatus(e[0])};this.getReportCompletionStatus=function(e){s=!0;a.when(o.CheckReportCompletionStatus(e)).then((function(t){var i=n.listOfTemporaryReports.indexOf(e);n.listOfTemporaryReports.splice(i,1);n.listOfTemporaryReports.unshift(t);n.isReportCompleted(t)&&n.showMessage(c,r.messages.types.success);s=!1}),(function(){l.stopStatusChecking();n.$emit("showRedlineToolError")}))};n.isReportCompleted=function(e){return!e.completionStatus||"completed"===e.completionStatus};n.isReportCancelled=function(e){return"error"===e.completionStatus}}]);Xf.directive("comparisonItemsTab",["$rootScope","$q","$filter","RedlineProvider","RedlineConfig",function(e,t,n,i,a){return{restrict:"EA",template:'<div class="co_redlineLightbox_comparisonTab">\n    \x3c!--\n     @file comparisonItemsTab template\n    --\x3e\n    <div ng-if="!comparisonItemsLoaded" class="co_loading"></div>\n    <div ng-if="comparisonItemsLoaded">\n        <h4 id="coid_redlineLightbox_countMessage" class="co_bold">\n            <span id="coid_redlineLightbox_itemCount">{{countOfComparisonItemsText}}</span>\n        </h4>\n\n        <div class="co_redlineLightbox_notifications"><span class="co_bold" ng-if="showInformationMessage" ng-class="{co_redStatus: informationMessage.type==\'error\', co_greenStatus: informationMessage.type==\'success\'}">{{informationMessage.text}}</span></div>\n      \n          <div class="co_redlineLightbox_notifications">\n            <p ng-if="listOfComparisonItems.length > 1" id="coid_redlineLightbox_instruction">{{selectTwoSnippetsToCompareMessageText}}</p>\n        </div>\n        \n        <div class="co_redlineLightbox_notifications">\n            <div ng-if="listOfComparisonItems.length == 0">{{noSelectionsMessageText}}</div>\n            <div ng-if="listOfComparisonItems.length == 1">{{addOneMoreItemMessageText}}</div>\n            <div ng-if="notAddedComparisonItem" not-added-comparison-item></div>\n        </div>\n\n\n        <ul ng-if="listOfComparisonItems.length > 0" class="co_redlineLightbox_tabItemsList">\n            <li ng-repeat="item in listOfComparisonItems" comparison-item></li>\n        </ul>\n\n        <div class="co_overlayBox_optionsBottomLeft">\n            <div class="co_overlayBox_optionsBottomRight">\n                <div class="co_overlayBox_optionsBottom">\n                    <div id="coid_redlineLightbox_footer">\n                        <ul id="coid_redlineLightbox_footerButtons">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<input type="button" class="co_primaryBtn" ng-class="{co_disabled : listOfComparisonItems.length < 2 || !compareButtonEnable}" value="{{startCompareButtonText}}" ng-click="startCompare()">\n\t\t\t\t\t\t\t</li>\n                            <li>\n                                <a href="javascript:void(0);" ng-click="$emit(\'closeRedlineToolLightbox\')">{{closeButtonText}}</a>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>',scope:!0,replace:!0,controller:"comparisonItemsTabController",link:function(e){let o;t.when(a.getSettings()).then((function(e){o=e.comparisonItemsCountLimit??0}));e.listOfComparisonItems=[];e.compareButtonEnable=!1;e.comparisonProcessInProgress=!1;e.comparisonItemsLoaded=!1;e.markAsOriginalText=D["default"].lookup("SC.Document.Redline.ComparisonTool.MarkAsOriginalLabel","Mark as original");e.markAsRevisedText=D["default"].lookup("SC.Document.Redline.ComparisonTool.MarkAsRevisedLabel","Mark as revised");e.startCompareButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.StartCompareAction","Start Compare");e.closeButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.RemoveLightboxButton","Close");e.selectTwoSnippetsToCompareMessageText=D["default"].lookup("SC.Document.Redline.ComparisonTool.SelectTwoSnippetsToCompareMessage","Select 2 items to compare");e.invalidFieldWarningMessageText=D["default"].lookup("SC.Document.Redline.ComparisonTool.RequiredFieldMessage","This field is required");e.noSelectionsMessageText=D["default"].lookup("SC.Document.Redline.Widget.NoItemsAddedMessage","No selections have been added. Add at least 2 items from Agreements, Filings or your own text to compare.");e.addOneMoreItemMessageText=D["default"].lookup("SC.Document.Redline.Widget.OneItemAddedMessage","Note: Add one more item from Agreements, Filings or your own text to compare.");e.getSnippetInfo=function(e){var t=n("renderDate")(e.modifiedDate);if(e.textType===di["default"].snippetTextType.plain)return D["default"].format("SC.Document.Redline.SavedAsPlainSnippet",{date:t},t+" as Text");if(e.textType===di["default"].snippetTextType.tabular)return D["default"].format("SC.Document.Redline.SavedAsTabularSnippet",{date:t},t+" as Tabular");return""};var r=function(t,n){e.showInformationMessage=!0;e.informationMessage={text:t,type:n}};e.$on("tabChanged",(function(n,a){1!==a||e.comparisonItemsLoaded||t.when(i.GetComparisonItems()).then((function(t){e.listOfComparisonItems=t;s(e.options);m();e.$emit("hideRedlineToolError")}),(function(){e.$emit("showRedlineToolError")})).finally((function(){e.comparisonItemsLoaded=!0}))}));var s=function(t){if(t&&t.status==a.statuses.notAdded){var n=D["default"].format("SC.Document.Redline.ComparisonTool.NotAllowedAddingItemMessage",{limitCount:o},"There are "+o+" items in the list. Delete at least one in order to add a new item.");r(n,a.messages.types.error);e.notAddedComparisonItem=t}else t&&t.status==a.statuses.added&&r(a.messages.texts.itemAdded,a.messages.types.success)};e.deleteComparisonItem=function(n){u(n,!0);t.when(i.DeleteItem(n)).then((function(){n.selected&&f(n);var t=e.listOfComparisonItems.indexOf(n);e.listOfComparisonItems.splice(t,1);c();m();r(a.messages.texts.itemDeleted,a.messages.types.success);e.$emit("hideRedlineToolError")}),(function(){e.$emit("showRedlineToolError")})).finally((function(){u(n,!1)}))};var l=!1,c=function(){if(e.notAddedComparisonItem&&!l){l=!0;u(e.notAddedComparisonItem,!0);t.when(i.AddComparisonItem(e.notAddedComparisonItem)).then((function(t){d(t);e.notAddedComparisonItem=null;e.$emit("hideRedlineToolError")}),(function(){e.$emit("showRedlineToolError")})).finally((function(){l=!1;u(e.notAddedComparisonItem,!1)}))}},d=function(t){s(t);if(t&&t.status==a.statuses.added){e.listOfComparisonItems.unshift(t);m()}g()}
;e.editComparisonItem=function(e){e.newItemName=e.itemName;e.editMode=!0};e.radioButtonClicked=function(t){for(var n in e.listOfComparisonItems){var i=e.listOfComparisonItems[n];i.selected&&t!=i&&("original"==i.markAs?i.markAs="revised":i.markAs="original")}};e.updateComparisonItem=function(n){if(n.itemName!=n.newItemName){if(n.newItemName){u(n,!0);n.itemName=n.newItemName;t.when(i.UpdateComparisonItem(n)).then((function(){n.editMode=!1;(function(t){var n=e.listOfComparisonItems.indexOf(t);e.listOfComparisonItems.splice(n,1);e.listOfComparisonItems.unshift(t);g()})(n);n.modifiedDate=(new Date).toISOString();r(a.messages.texts.itemUpdated,a.messages.types.success);e.$emit("hideRedlineToolError")}),(function(){e.$emit("showRedlineToolError")})).finally((function(){u(n,!1)}))}}else n.editMode=!1};var u=function(e,t){e&&(e.isProcessed=t)};e.exitFromEditMode=function(e){e.editMode=!1};e.selectItem=function(t){e.showInformationMessage=!1;var n=e.getSelectedItems(e.listOfComparisonItems);if(n.itemList?.includes(t)){var i=n.itemList.length<=2;h(n,i,t);n.itemList.length>1&&(e.compareButtonEnable=!0)}else f(t)};var h=function(t,n,i){if(n){i.selected=!0;p(t,i)}else{f(i);r(a.messages.texts.canSelectedOnlyTwoItems,a.messages.types.error);e.selectedMoreThanTwoItems=!0}},f=function(t){t.selected=!1;e.compareButtonEnable=!1;t.markAs=null},p=function(e,t){void 0!==e.originalItem?t.markAs="revised":t.markAs="original"},m=function(){e.countOfComparisonItemsText=D["default"].format("SC.Document.Redline.ComparisonTool.CountOfComparisonItemsMessage",{currentCount:e.listOfComparisonItems.length,limitCount:o},`${e.listOfComparisonItems.length} out of ${o} items added`)},g=function(){x()(".co_redlineLightbox_tabItemsList").animate({scrollTop:0},200)};e.redlineToolLightbox.AddEventListener("close",(function(){if(e.comparisonItemsLoaded&&e.options.updateItemsAfterClosingRTC){var t=e.options.openedReport,i=n("filter")(e.listOfComparisonItems,{itemGuid:t.originalComparisonItemGuid}),a=n("filter")(e.listOfComparisonItems,{itemGuid:t.revisedComparisonItemGuid});i.length||(t.originalComparisonItemGuid=null);a.length||(t.revisedComparisonItemGuid=null);e.options.updateItemsAfterClosingRTC(t)}}))}}}]).directive("comparisonItem",[function(){return{template:'<li class="co_redlineLightbox_tabItem">\n    \x3c!--\n     @file comparisonItem template\n    --\x3e\n    <form ng-if="!item.isProcessed" name="comparisonItemForm">\n        <div class="co_redlineLightbox_tabItem_itemCheck co_floatLeft">\n            <input\n                type="checkbox"\n                ng-model="item.selected"\n                ng-change="selectItem(item)"\n                aria-label="{{item.itemName}}"\n            />\n        </div>\n\n        <div class="co_redlineLightbox_tabItem_itemData co_floatLeft">\n            <p ng-if="!item.editMode" class="co_redlineLightbox_tabItem_itemName co_bold">\n                <span>{{item.itemName}}</span>\n            </p>\n            <div ng-if="item.editMode">\n                <input type="text" name="newItemName" ng-model="item.newItemName" required />\n                <p ng-show="comparisonItemForm.newItemName.$invalid" class="co_redStatus">\n                    {{invalidFieldWarningMessageText}}\n                </p>\n            </div>\n\n            <p class="co_redlineLightbox_tabItem_savedDate co_italic">{{getSnippetInfo(item)}}</p>\n        </div>\n\n        <div ng-show="item.selected" class="co_redlineLightbox_tabItem_itemSelected co_floatLeft">\n            <div>\n                <input\n                    type="radio"\n                    ng-model="item.markAs"\n                    value="original"\n                    ng-change="radioButtonClicked(item)"\n                    id="original-{{item.itemGuid}}"\n                /><label for="original-{{item.itemGuid}}">{{markAsOriginalText}}</label>\n            </div>\n            <div>\n                <input\n                    type="radio"\n                    ng-model="item.markAs"\n                    value="revised"\n                    ng-change="radioButtonClicked(item)"\n                    id="revised-{{item.itemGuid}}"\n                /><label for="revised-{{item.itemGuid}}">{{markAsRevisedText}}</label>\n            </div>\n        </div>\n\n        <div class="co_redlineLightbox_tabItem_itemEdit co_floatRight co_textRight">\n            <a\n                ng-if="!item.editMode"\n                class="co_redlineLightbox_tabItem_editButton"\n                title="{{editButtonText}}"\n                ng-click="editComparisonItem(item)"\n                href="javascript:void(0);"\n                >{{editButtonText}}</a\n            >\n            <a\n                ng-if="!item.editMode"\n                class="co_redlineLightbox_tabItem_deleteButton"\n                title="{{deleteButtonText}}"\n                ng-click="deleteComparisonItem(item)"\n                href="javascript:void(0);"\n                >{{deleteButtonText}}</a\n            >\n            <a\n                ng-if="item.editMode"\n                ng-class="{co_disabled: comparisonItemForm.$invalid}"\n                class="co_redlineLightbox_tabItem_editSaveButton"\n                title="{{saveButtonText}}"\n                ng-click="updateComparisonItem(item)"\n                href="javascript:void(0);"\n                >{{saveButtonText}}</a\n            >\n            <a\n                ng-if="item.editMode"\n                class="co_redlineLightbox_tabItem_editCancelButton"\n                title="{{cancelButtonText}}"\n                ng-click="exitFromEditMode(item)"\n                href="javascript:void(0);"\n                >{{cancelButtonText}}</a\n            >\n            <p class="co_redlineLightbox_tabItem_notAddedMessage co_hideState">{{notAddedStatusText}}</p>\n        </div>\n    </form>\n    <div ng-if="item.isProcessed" class="co_progressIndicator">\n        <img ng-src="{{spinnerSrc}}" />\n    </div>\n    <div class="co_clear"></div>\n</li>\n',restrict:"EA",replace:!0}}]).directive("notAddedComparisonItem",[function(){return{template:'<div class="co_redlineLightbox_notAddedTabItem">\n\t\x3c!--\n\t\t@file notAddedComparisonItem template\n\t\t--\x3e\n\t<div ng-if="!notAddedComparisonItem.isProcessed">\n\t\t<div class="co_floatRight">\n\t\t\t<span class="co_redlineLightbox_tabItem_notAddedMessage">{{notAddedStatusText}}</span>\n\t\t</div>\n\n\t\t<p class="co_redlineLightbox_tabItem_itemName co_bold">{{notAddedComparisonItem.itemName}}</p>\n\n\t\t<p class="co_redlineLightbox_tabItem_savedDate  co_italic">{{notAddedComparisonItem.modifiedDate | renderDate}}</p>\n\t</div>\n\t<div ng-if="notAddedComparisonItem.isProcessed" class="co_progressIndicator">\n\t\t<img ng-src="{{spinnerSrc}}">\n\t</div>\n</div>',restrict:"EA",replace:!0}}]);var Jf=n(9476);Xf.directive("redlineTool",["$rootScope",function(){return{restrict:"EA",templateUrl:"templates/redlineModal.html",replace:!0,scope:{redlineToolLightbox:"=lightbox",options:"=options"},link:function(e){e.saveButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.SaveAction","Save");e.editButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.EditAction","Edit");e.deleteButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.DeleteAction","Delete");e.cancelButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.CancelAction","Cancel");e.closeButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.CloseAction","Close");e.notAddedStatusText=D["default"].lookup("SC.Document.Redline.ComparisonTool.NotAddedStatus","[NOT ADDED]");e.notSavedStatusText=D["default"].lookup("SC.Document.Redline.ComparisonTool.NotSavedStatus","[NOT SAVED]");e.loadingMessageReportIsGenerated=D["default"].lookup("SC.Document.Redline.ComparisonTool.LoadingMessageReportIsGenerated","Your report is being generated, please wait");e.reportsTabText=D["default"].lookup("SC.Document.Redline.ComparisonTool.ReportsTabName","View Saved Comparisons");e.comparisonItemsTabText=D["default"].lookup("SC.Document.Redline.ComparisonTool.ComparisonItemsTabName","Select To Compare");e.errorMessage=Jf.DeliveryFailure
;e.spinnerSrc=window.location.protocol+"//"+A["default"].GetHost(A["default"].Images)+"/css/v2/images/co_loading_small.gif";var t=D["default"].lookup("SC.Document.Redline.ComparisonTool.RemoveLightbox","Close the Redline Comparison Tool");e.setTab=function(t){t&&(e.selectedTab=t)};e.setComparisonProcessInProgress=function(n,i){n?e.redlineToolLightbox.RedrawCloseLinkObject({id:"coid_closeLightbox",alt:t,onclick:function(){e.redlineToolLightbox.Remove()},className:"co_overlayBox_closeButton co_notVisible"}):e.redlineToolLightbox.RedrawCloseLinkObject({id:"coid_closeLightbox",alt:t,onclick:function(){e.redlineToolLightbox.Remove()},className:"co_overlayBox_closeButton"});e.comparisonProcessInProgress=n;On().isUndefined(i)||(e.loadingMessageReportIsGenerated=i)};e.options||(e.options={});"Error"==e.options.Status&&(e.redlineToolError=!0);e.setTab(e.options.selectedTab);e.$on("closeRedlineToolLightbox",(function(){e.redlineToolLightbox.Remove()}));e.$on("showRedlineToolError",(function(){e.redlineToolError=!0}));e.$on("hideRedlineToolError",(function(){e.redlineToolError=!1}));e.$watch("selectedTab",(function(t){e.$broadcast("tabChanged",t)}));e.$on("showBlockedMessage",(function(){e.addReportBlocked=!0}));e.$on("hideBlockedMessage",(function(){e.addReportBlocked=!1}));e.$on("showWarningMessage",(function(){e.addReportWarning=!0}));e.$on("hideWarningMessage",(function(){e.addReportWarning=!1}));e.$on("notCompletedReportCreated",(function(t,n){e.$broadcast("reportCreated",n);e.setTab(2)}))}}}]);Xf.directive("reportsTab",["$q","$filter","RedlineProvider","RedlineConfig",function(e,t,n,i){return{template:'<div class="co_redlineLightbox_reportsTab">\n    \x3c!--\n     @file reportsTab template\n    --\x3e\n    <div ng-if="!reportsLoaded" class="co_loading"></div>\n    <div ng-if="reportsLoaded">\n        <h4 id="coid_redlineLightbox_countMessage" class="co_bold">\n            <span id="coid_redlineLightbox_itemCount">{{countOfReportsText}}</span>\n        </h4>\n\n        <div class="co_redlineLightbox_notifications"><span class="co_bold" ng-if="showInformationMessage" ng-class="{co_redStatus: informationMessage.type==\'error\', co_greenStatus: informationMessage.type==\'success\'}" ng-bind-html="informationMessage.text"></span></div>\n\n        <div class="co_redlineLightbox_temporaryReports">\n            <ul>\n                <li ng-repeat="temporaryReport in listOfTemporaryReports">\n                    <div temporary-report-item></div>\n                </li>\n            </ul>\n        </div>\n\n        <ul ng-if="listOfReports.length > 0" class="co_redlineLightbox_tabItemsList">\n            <li ng-repeat="report in listOfReports" report-item></li>\n        </ul>\n\n\t\t<div class="co_overlayBox_optionsBottomLeft">\n\t\t\t<div class="co_overlayBox_optionsBottomRight">\n\t\t\t\t<div class="co_overlayBox_optionsBottom">\n\t\t\t\t\t<div id="coid_redlineLightbox_footer">\n\t\t\t\t\t\t<ul id="coid_redlineLightbox_footerButtons">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="javascript:void(0);" ng-click="$emit(\'closeRedlineToolLightbox\')">{{closeButtonText}}</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n    </div>\n</div>',replace:!0,scope:!0,controller:"reportsTabController",link:function(a){let o;e.when(i.getSettings()).then((function(e){o=e.reportsCountLimit??0}));a.temporaryReportInfo=D["default"].lookup("SC.Document.Redline.ComparisonTool.TemporaryReportInfo","This report has not been saved in the Redline Comparison Tool. To save this report for future access, please click Save. Please note, only your most recent unsaved report will be available from this page.");a.invalidFieldWarningMessageText=D["default"].lookup("SC.Document.Redline.ComparisonTool.RequiredFieldMessage","This field is required");a.listOfReports=[];a.listOfTemporaryReports=[];a.notAddedStatus=i.statuses.notAdded;a.inProgressStatus=D["default"].lookup("SC.Document.Redline.ComparisonTool.ReportInProgressMessage","In progress");a.errorStatus=D["default"].lookup("SC.Document.Redline.ComparisonTool.ReportCancelledMessage","Canceled");a.processingText=D["default"].lookup("SC.Document.Redline.ComparisonTool.ProgressIndicator.ProcessingText","Processing...");var r=function(){a.countOfReportsText=D["default"].format("SC.Document.Redline.ComparisonTool.CountOfComparisonItemsMessage",{currentCount:a.listOfReports.length,limitCount:o},`${a.listOfReports.length} out of ${o} items added`)};a.$on("tabChanged",(function(t,o){2!==o||a.reportsLoaded||e.when(n.GetReports()).then((function(e){for(var t=0;t<e.length;t++)e[t].itemType===i.reportTypes.temporary?a.listOfTemporaryReports.push(e[t]):e[t].itemType===i.reportTypes.permanent&&a.listOfReports.push(e[t]);r();a.reportsLoaded=!0;l();a.startStatusChecking();a.$emit("hideRedlineToolError")}),(function(){a.reportsLoaded=!0;a.$emit("showRedlineToolError")}))}));a.saveReport=function(t){u(t,!0);t.itemType=i.reportTypes.permanent;e.when(n.UpdateReport(t)).then((function(e){if(e&&e.status===i.statuses.notAdded){var n=D["default"].format("SC.Document.Redline.ComparisonTool.NotAllowedAddingItemMessage",{limitCount:o},"There are "+o+" items in the list. Delete at least one in order to add a new item.");t.itemType=i.reportTypes.temporary;t.status=i.statuses.notAdded;a.notAddedReport=t;a.showMessage(n,i.messages.types.error)}else s(t);a.$emit("hideRedlineToolError");a.options.reportForSave=null}),(function(){a.$emit("showRedlineToolError")})).finally((function(){u(t,!1)}))};var s=function(e){var t=a.listOfTemporaryReports.indexOf(e);a.listOfTemporaryReports.splice(t,1);a.listOfReports.unshift(e);e.modifiedDate=(new Date).toISOString();r();a.showMessage(i.messages.texts.itemAdded,i.messages.types.success)},l=function(){if(a.options.reportForSave)for(var e=0;e<a.listOfTemporaryReports.length;e++)a.listOfTemporaryReports[e].itemGuid===a.options.reportForSave&&a.saveReport(a.listOfTemporaryReports[e])};a.editReport=function(e){e.newItemName=e.itemName;e.editMode=!0};a.exitFromEditMode=function(e){e.editMode=!1};a.updateReport=function(t){if(t.itemName!==t.newItemName){if(t.newItemName){u(t,!0);t.itemName=t.newItemName;e.when(n.UpdateReport(t)).then((function(){t.editMode=!1;c(t);t.modifiedDate=(new Date).toISOString();a.showMessage(i.messages.texts.itemUpdated,i.messages.types.success);a.$emit("hideRedlineToolError")}),(function(){a.$emit("showRedlineToolError")})).finally((function(){u(t,!1)}))}}else t.editMode=!1};var c=function(e){var t=a.listOfReports.indexOf(e);a.listOfReports.splice(t,1);a.listOfReports.unshift(e);x()(".co_redlineLightbox_tabItemsList").animate({scrollTop:0},200)},d=!1;a.deleteReport=function(t){u(t,!0);e.when(n.DeleteReport(t)).then((function(){var o=a.listOfReports.indexOf(t);a.listOfReports.splice(o,1);(function(){if(a.notAddedReport&&!d){d=!0;u(a.notAddedReport,!0);a.notAddedReport.itemType=i.reportTypes.permanent;e.when(n.UpdateReport(a.notAddedReport)).then((function(){s(a.notAddedReport);u(a.notAddedReport,!1);a.notAddedReport=null;a.$emit("hideRedlineToolError")}),(function(){u(a.notAddedReport,!1);a.$emit("showRedlineToolError")})).finally((function(){d=!1}))}})();r();a.showMessage(i.messages.texts.itemDeleted,i.messages.types.success);a.$emit("hideRedlineToolError")}),(function(){a.$emit("showRedlineToolError")})).finally((function(){u(t,!1)}))};var u=function(e,t){e&&(e.isProcessed=t)};a.getReportUrl=function(e){return window.location.protocol+"//"+window.location.host+"/Redline/Report/"+e+"/FullText.html?transitionType=Default&contextData=(sc.Default)"};a.redlineToolLightbox.AddEventListener("close",(function(){if(a.options.updateReportAfterClosingRTC){var e=a.options.openedReport,n=t("filter")(a.listOfReports,{itemGuid:e.itemGuid}),o=t("filter")(a.listOfTemporaryReports,{itemGuid:e.itemGuid});if(n.length){e.itemName=n[0].itemName;e.itemType=n[0].itemType}else o.length||(e.status=i.statuses.deleted);a.options.updateReportAfterClosingRTC(e)}}))}}}]).directive("reportItem",[function(){return{
template:'<li class="co_redlineLightbox_tabItem">\n    \x3c!--\n     @file reportItem template\n    --\x3e\n    <div ng-if="!report.isProcessed" name="reportForm" ng-form>\n        <div class="co_redlineLightbox_tabItem_itemData co_floatLeft">\n            <p ng-if="!report.editMode" class="co_redlineLightbox_tabItem_itemName co_bold">\n                <a class="co_redlineLightbox_tabItem_reportLink" ng-href="{{getReportUrl(report.itemGuid)}}" href="{{getReportUrl(report.itemGuid)}}" title="{{report.itemName}}">{{report.itemName}}</a>\n            </p>\n            <div ng-if="report.editMode">\n                <input type="text" name="newItemName" ng-model="report.newItemName" required />\n                <p ng-show="reportForm.newItemName.$invalid" class="co_redStatus">{{invalidFieldWarningMessageText}}</p>\n            </div>\n            <p class="co_redlineLightbox_tabItem_savedDate co_italic">{{report.modifiedDate | renderDate}}</p>\n        </div>\n\n        <div class="co_redlineLightbox_tabItem_itemEdit co_floatRight co_textRight">\n            <a ng-if="!report.editMode" class="co_redlineLightbox_tabItem_editButton" title="{{editButtonText}}" ng-click="editReport(report)" href="javascript:void(0);">{{editButtonText}}</a>\n            <a ng-if="!report.editMode" class="co_redlineLightbox_tabItem_deleteButton" title="{{deleteButtonText}}" ng-click="deleteReport(report)" href="javascript:void(0);">{{deleteButtonText}}</a>\n            <a ng-if="report.editMode" ng-class="{co_disabled: reportForm.$invalid}" class="co_redlineLightbox_tabItem_editSaveButton" title="{{saveButtonText}}" ng-click="updateReport(report)" href="javascript:void(0);">{{saveButtonText}}</a>\n            <a ng-if="report.editMode" class="co_redlineLightbox_tabItem_editCancelButton" title="{{cancelButtonText}}" ng-click="exitFromEditMode(report)" href="javascript:void(0);">{{cancelButtonText}}</a>\n            <p class="co_redlineLightbox_tabItem_notAddedMessage co_hideState">{{notAddedStatusText}}</p>\n        </div>\n    </div>\n\n    <div ng-if="report.isProcessed" class="co_progressIndicator">\n        <img ng-src="{{spinnerSrc}}">\n    </div>\n\n    <div class="co_clear"></div>\n</li>\n',replace:!0}}]).directive("temporaryReportItem",[function(){return{template:'<div class="co_redlineLightbox_tabItem">\n    \x3c!--\n     @file temporaryReportItem template\n    --\x3e\n\t<div ng-if="!temporaryReport.isProcessed && isReportCompleted(temporaryReport)">\n\t\t<div ng-if="temporaryReport.status !== notAddedStatus" class="co_floatRight">\n\t\t\t<div class="co_redlineLightbox_tabItem_notAddedMessage">\n\t\t\t\t{{notSavedStatusText}}\n\t\t\t\t<span info-box message="temporaryReportInfo" class="co_redlineLightbox_tabItem_notAddedReportHint"></span>\n\t\t\t</div>\n\t\t\t<a title="{{saveButtonText}}" ng-click="saveReport(temporaryReport)" href="javascript:void(0);">{{saveButtonText}}</a>\n\t\t</div>\n\t\t<div ng-if="temporaryReport.status === notAddedStatus" class="co_floatRight">\n\t\t\t<span class="co_redlineLightbox_tabItem_notAddedMessage">{{notAddedStatusText}}</span>\n\t\t</div>\n\n\t\t<div class="co_redlineLightbox_tabItem_itemData">\n\t\t\t<p class="co_redlineLightbox_tabItem_itemName">\n\t\t\t\t<a ng-href="{{getReportUrl(temporaryReport.itemGuid)}}" href="{{getReportUrl(temporaryReport.itemGuid)}}">{{temporaryReport.itemName}}</a>\n\t\t\t</p>\n\n\t\t\t<p class="co_redlineLightbox_tabItem_savedDate co_italic">{{temporaryReport.modifiedDate | renderDate}}</p>\n\t\t</div>\n\t</div>\n\t<div ng-if="temporaryReport.isProcessed" class="co_progressIndicator">\n\t\t<img ng-src="{{spinnerSrc}}">\n\t</div>\n\t<div ng-if="!isReportCompleted(temporaryReport)">\n\t\t<div class="co_floatRight">\n\t\t\t<div class="co_progressIndicator">\n\t\t\t\t<img alt="{{processingText}}" ng-src="{{spinnerSrc}}">\n\t\t\t</div>\n\t\t</div>\n\t\t<div class="co_redlineLightbox_tabItem_itemData">\n\t\t\t<p class="co_redlineLightbox_tabItem_itemName co_bold">\n\t\t\t\t{{temporaryReport.itemName}}\n\t\t\t</p>\n\t\t\t<p ng-if="temporaryReport.completionStatus === \'processing\' || temporaryReport.completionStatus === \'submitted\'" class="co_redlineLightbox_tabItem_savedDate co_italic">{{inProgressStatus}}</p>\n\t\t\t<p ng-if="temporaryReport.completionStatus === \'error\'" class="co_redlineLightbox_tabItem_savedDate co_italic">{{errorStatus}}</p>\n\t\t</div>\n\t</div>\n</div>',replace:!0}}]);Xf.directive("addReportBlockedMessage",[function(){return{template:'<div class="co_redlinelightbox_blockedMessage">\n\x3c!--\n@file addReportBlockedMessage module\n--\x3e\n\t<p class="co_bold">{{blockedMessageText}}</p>\n</div>\n\n<div class="co_overlayBox_optionsBottomLeft">\n\t<div class="co_overlayBox_optionsBottomRight">\n\t\t<div class="co_overlayBox_optionsBottom">\n\t\t\t<div>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="javascript:void(0);" class="co_primaryBtn" ng-click="cancelMessage()">{{cancelButtonText}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>',scope:!0,link:function(e){e.blockedMessageText=D["default"].lookup("SC.Document.Redline.ComparisonTool.BlockedMessage","You do not have access to Redline Comparison Tool because it is not authorized under your subscription agreement.");e.cancelMessage=function(){e.$emit("hideBlockedMessage")}}}}]);Xf.directive("addReportWarningMessage",["$rootScope","$q","RedlineProvider","$sce",function(e,t,n,i){return{template:'<div class="co_redlinelightbox_warningMessage">\n\x3c!--\n@file addReportWarningMessage module\n--\x3e\n\t<div id="co_docWarning_text">\n\t\t<p>{{outOfPlanMessage}}</p>\n\t\t<p class="co_bold">{{additionalChargesMessage}}</p>\n\t\t<p ng-bind-html="trustHtml(pricingInfoMessage)" class="co_pricingInfo"></p>\n\n\t\t<div id="co_warning_clientId">\n\t\t</div>\n\t</div>\n</div>\n<div class="co_overlayBox_optionsBottomLeft">\n\t<div class="co_overlayBox_optionsBottomRight">\n\t\t<div class="co_overlayBox_optionsBottom">\n\t\t\t<div>\n\t\t\t\t<ul>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<input type="button" class="co_primaryBtn" value="{{acceptButtonText}}" ng-click="acceptCharges()">\n\t\t\t\t\t</li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href="javascript:void(0);" ng-click="cancelMessage()">{{cancelButtonText}}</a>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>',scope:!0,link:function(e,a){e.acceptButtonText=D["default"].lookup("SC.Document.Redline.ComparisonTool.AcceptChargesAction","Generate Report");e.outOfPlanMessage=D["default"].lookup("SC.Document.Redline.ComparisonTool.OutOfPlanMessage","The Redline Comparison Tool is Out of Plan");e.additionalChargesMessage=D["default"].lookup("SC.Document.Redline.ComparisonTool.AdditionalChargesMessage","Generating this report will incur additional charges.");e.pricingInfoMessage=D["default"].lookup("SC.Document.Redline.ComparisonTool.PricingInfoMessage",'To learn more about Westlaw Charges, view our <a target="_blank" href="/Subscriber.html?transitionType=Default&amp;contextData=(sc.Default)">Pricing Guide.</a>');e.trustHtml=function(e){return i.trustAsHtml(e)};e.acceptCharges=function(){e.setComparisonProcessInProgress(!0);t.when(n.AcceptCharges(e.createReportResponse)).then(o,(function(){e.setComparisonProcessInProgress(!1);e.$emit("showRedlineToolError")}))};var o=function(){t.when(n.AddReport(e.createReportResponse)).then((function(t){if(t.completionStatus&&"completed"!==t.completionStatus){e.setComparisonProcessInProgress(!1);e.$emit("hideWarningMessage");e.$emit("notCompletedReportCreated",t)}else if(t.status===di["default"].statuses.added){var n=D["default"].lookup("SC.Document.Redline.ComparisonTool.LoadingMessageRedirectingToReport","Redirecting to Report View, please wait");e.setComparisonProcessInProgress(!0,n);window.location.href="/Redline/Report/"+t.itemGuid+"/FullText.html?transitionType=Default&contextData=(sc.Default)"}}),(function(){e.setComparisonProcessInProgress(!1);e.$emit("showRedlineToolError")}))};e.cancelMessage=function(){e.$emit("hideWarningMessage")};e.$on("showWarningMessage",(function(t,n){e.createReportResponse=n}));(function(){var e=new no["default"];e.SetParentDiv(a[0].querySelector("#co_warning_clientId"))
;e.SetCurrentClientMatter(te["default"].ClientMatter);e.Setup();e.DrawInline()})()}}}]);Xf.filter("renderDate",(function(){return function(e){var t=D["default"].renderDate(new Date(e),"SC.Config.Date.RedlineDate","MMM d, yyyy");return D["default"].format("SC.Document.Redline.ComparisonTool.SavedDateText",{date:t},"Saved on "+t)}}));var Zf=n(1586),ep=n(4968);function tp(e){if(null!=e&&"function"!=typeof e){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Invalid argument: callbackFunction must be a function")}this._callbackLocation=-1;if(null!=e){this._callbackLocation=tp.UserSuppliedCallback.length;tp.UserSuppliedCallback.push(e)}}tp.prototype={AddSerialNumberAndElement:function(e,t,n){if(null==e||"string"!=typeof e){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Error: serialNumber must be a string")}if(null!=n&&"string"!=typeof n){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Error: documentGuid must be a string")}if(null==t||"object"!=typeof t||null==t.appendChild){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Error: domElement must be a HTMLElement")}var i={processed:!1,serialNumber:e,documentGuid:n,element:t,callbackLocation:this._callbackLocation};tp.SerialNumbersAndElements.push(i)},AddElement:function(e,t){if(null!=t&&"string"!=typeof t){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Error: documentGuid must be a string")}if(null==e||"object"!=typeof e||null==e.appendChild){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Error: domElement must be a HTMLElement")}var n={processed:!1,documentGuid:t,element:e,callbackLocation:this._callbackLocation};tp.SerialNumbersAndElements.push(n)},GetKMSplats:function(){if(""==Yl["default"].SessionId)return;for(var e='{"citelist":[',t=0;t<tp.SerialNumbersAndElements.length;t++){e+='"'+tp.SerialNumbersAndElements[t].serialNumber+'"';t<tp.SerialNumbersAndElements.length-1&&(e+=",")}var n={cites:e+="]}",token:Yl["default"].SessionId};(new ep["default"]).keyCiteSplat(n,tp.Callback)}};tp.UserSuppliedCallback=[];tp.SerialNumbersAndElements=[];tp.Callback=function(e){for(var t=e.FirmInlineLogo.Uri,n=e.FirmInlineLogo.Name,i=0;i<e.CiteFoundResultList.length;i++)if(e.CiteFoundResultList[i].Cited)for(var a=0;a<tp.SerialNumbersAndElements.length;a++){var o=tp.SerialNumbersAndElements[a];if(e.CiteFoundResultList[i].DocUID==o.serialNumber&&!o.processed){if(o.callbackLocation>-1)tp.UserSuppliedCallback[o.callbackLocation](o.element,o.serialNumber,o.documentGuid);else{var r=new Image;r.src=t;r.alt=n;o.element.appendChild(r)}o.processed=!0}}};const np=tp;function ip(){const e=this;this.SetParentDiv=function(t){e.parent=t};this.CreateFixedHeaderDocGuid=function(t,n,i,a,o,r,s,l,c){e.guidToUse=t;e.originationContext=n||"DocumentFixedHeader";e.listSource=i;e.navigationPath=a;e.list=o;e.rank=r;e.docSource=s;e.cacheScope=l;e.docVersionNumber=c;e.docVersionString="v"+c};this.Draw=function(){if(!e.hasDrawnMainContent&&0===e.parent?.childNodes?.length){f["default"].GetObject(r["default"].objectIds.provider).GetFixedHeader(e.guidToUse,(function(t){e.DrawMainContent(t);e.DrawRemainingContent()}),null,e.listSource,e.navigationPath,e.list,e.rank,e.cacheScope);return}e.DrawRemainingContent()};this.DrawMainContent=function(t){if(t){e.parent.innerHTML=t;e.hasDrawnMainContent=!0}};this.DrawRemainingContent=function(){if(!e.hasDrawnRemainingContent){const t=document.getElementById(r["default"].ids.docHeaderTitleSpan);if(t){const i=t.getElementsByTagName("a");if(i?.length>0){const s=i[0];let l=/docSource=/g;if(!s.href.match(l)&&e.docSource?.length>0){const c=s.innerHTML;l=/\?/g;s.href.match(l)?s.href+="&docSource="+e.docSource:s.href+="?docSource="+e.docSource;s.innerHTML=c}l=/ppcid=/g;if(!s.href.match(l)){const d=s.innerHTML;l=/\?/g;s.href.match(l)?s.href+="&ppcid="+Nf["default"].PageEventIdentifier:s.href+="?ppcid="+Nf["default"].PageEventIdentifier;s.innerHTML=d}}}e.drawVersionNumber();o["default"].EnableIpad||o["default"].EnableIphone||o["default"].IsIndigoDisplayEnabled&&!o["default"].IsIndigoDragAndDropEnabled||setTimeout((function(){const t=S();t.initializeDraggables();t.AddDraggableHandlersToLinks(e.parent)}),2e3);function n(t){if(!o["default"].EnableIpad&&!o["default"].EnableIphone){function n(e,t,n){const i=document.createElement("li"),o=document.createElement("a"),s=document.createElement("img");s.title=D["default"].lookup("SC.Document.StatusIndicators.KMCitedIconText","KM");s.alt=D["default"].lookup("SC.Document.StatusIndicators.KMCitedIconText","KM");s.src=A["default"].GetUrl(A["default"].Images,r["default"].paths.kmIcon);s.height=12;s.width=15;const l={docGuid:n,categoryType:"KMCitingReferences",originationContext:"documentTab",transitionType:"Default",contextData:"(sc.Default)"};o.href=a["default"].Absolute(a["default"].Page.RelatedInformationCategory(l));o.appendChild(s);i.appendChild(o);e.appendChild(i)}let i=document.getElementById(r["default"].ids.docStatusIcons);if(null==i){i=document.createElement("ul");i.id=r["default"].ids.docStatusIcons;i.className=r["default"].classes.docIndicators;const c=document.getElementById(r["default"].ids.docHeaderTitle),d=c?c.firstChild:null;d&&d.parentNode.insertBefore(i,d.nextSibling)}const s=new np(n);let l=t.LegacyId;null!=t.LegacyId&&t.LegacyId==t.SerialNumber&&(l=v["default"].prependPadding(l,10,"0"));if(null!=l){s.AddSerialNumberAndElement(l,i,t.DocGuid);s.GetKMSplats()}}e.metaInfoRetrieved(t)}f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(e.guidToUse,n,e.metaInfoRetrieved);e.hasDrawnRemainingContent=!0}};this.drawVersionNumber=function(){if(e.docVersionNumber&&e.docVersionNumber>1){let t=document.getElementById(r["default"].ids.docHeaderVersionNumber);if(null==t){t=document.createElement("span");t.id=r["default"].ids.docHeaderVersionNumber;t.className=r["default"].classes.docHeaderVersionNumber;t.innerHTML=e.docVersionString;const n=document.getElementById(r["default"].ids.docHeaderTitle),i=n?n.firstChild:null;i&&i.after(t)}}};this.metaInfoRetrieved=function(t){const n=r["default"].events.headerRenderComplete,i={guid:e.guidToUse},a=t,o=n,s=new b["default"](i,a,o,"1.0.0");y["default"].Publish(n,s)}}var ap=n(5852);const op=function(){ip.call(this);var e=this,t=this.DrawRemainingContent;this.DrawRemainingContent=function(){t.call(this);to["default"].ViewData?e._iconProcessing():Zf["default"].Subscribe("setup",(()=>{e._iconProcessing()}))};this._iconProcessing=function(){if(this.shouldApplyEventsToPriorInteractions()&&this._getContainerElement()){e._getPreviousInteractionEventHandler().appendEvents()}Gi["default"].isPUIAllowed()?e._applyA11yTooltipForPUIIcons():e._applyA11yTooltip()};this._getPreviousInteractionEventHandler=function(){return new ap["default"](e._getContainerElement(),(function(){return e.guidToUse}),[{iconSelector:"#co_document_icon_previouslyviewed_img",previousInteractionType:ap["default"].PreviousInteractionType.PreviouslyViewed},{iconSelector:"#co_document_icon_foldered_img",previousInteractionType:ap["default"].PreviousInteractionType.PreviouslyFoldered},{iconSelector:"#co_document_icon_notes_img",previousInteractionType:ap["default"].PreviousInteractionType.PreviouslyAnnotated,docLinkFinder:function(e){return e.closest("div#co_docHeaderTitle").find("#title > a").attr("href")},rtidFinder:function(){return Nf["default"].ResourceToken}}])};this._getContainerElement=function(){return e.parent};this.shouldApplyEventsToPriorInteractions=function(){return Gi["default"].isPUIAllowed()};this._applyA11yTooltip=function(){const t=[]
;document.getElementById("co_document_icon_previouslyviewed_img")&&t.push(D["default"].lookup("SC.Document.Widget.FixedHeader.PreviouslyViewedTitle","Viewed Recently"));document.getElementById("co_document_icon_foldered_img")&&t.push(D["default"].lookup("SC.Document.Widget.FixedHeader.SavedToFolderTitle","Foldered"));document.getElementById("co_document_icon_notes_img")&&t.push(D["default"].lookup("SC.Document.Widget.FixedHeader.NotesAddedTitle","Annotated"));const n=e._getContainerElement()?.querySelector("#title a"),i=e._getContainerElement()?.querySelector("#co_docHeaderTitleLine");if(n&&t.length){i&&i.removeAttribute("title");new ht["default"](n,t.join(". ")).render()}};this._applyA11yTooltipForPUIIcons=function(){let e;const t=[];e=document.querySelectorAll("#co_document_icon_previouslyviewed_img");if(e.length){e.forEach((e=>{new ht["default"](e,D["default"].lookup("SC.Document.Widget.FixedHeader.PreviouslyViewedInteractiveTitle","Viewed Recently details")).render();e.querySelector("img")?.removeAttribute("title")}));t.push(D["default"].lookup("SC.Document.Widget.FixedHeader.PreviouslyViewedTitle","Viewed Recently"))}e=document.querySelectorAll("#co_document_icon_foldered_img");if(e.length){e.forEach((e=>{new ht["default"](e,D["default"].lookup("SC.Document.Widget.FixedHeader.SavedToFolderInteractiveTitle","Foldered details")).render();e.querySelector("img")?.removeAttribute("title")}));t.push(D["default"].lookup("SC.Document.Widget.FixedHeader.SavedToFolderTitle","Foldered"))}e=document.querySelectorAll("#co_document_icon_notes_img");if(e.length){e.forEach((e=>{new ht["default"](e,D["default"].lookup("SC.Document.Widget.FixedHeader.NotesAddedInteractiveTitle","Annotated details")).render();e.querySelector("img")?.removeAttribute("title")}));t.push(D["default"].lookup("SC.Document.Widget.FixedHeader.NotesAddedTitle","Annotated"))}const n=this._getContainerElement()?.querySelector("#title a"),i=this._getContainerElement()?.querySelector("#co_docHeaderTitleLine");if(n&&t.length){i&&i.removeAttribute("title");new ht["default"](n,t.join(". ")).render()}}};var rp=n(2597);p["default"].AddLoadFunction((function(){(function(e={}){const t=document.getElementById("co_docFixedHeader"),n=new op;if((0,d.IsNotNullOrEmpty)(e.DocGuid)){const i=[e.DocGuid,"docHeaderFlag",e.ListSource,e.NavigationPath,e.List,e.Rank,e.DocSource,null,e.DocumentVersionNumber];n.SetParentDiv(t);n.CreateFixedHeaderDocGuid(...i);n.Draw();if((0,rp.isResponsiveAccessControlEnabled)(rp.ResponsiveAccessControl.DocumentToolbarHeader)){const e=document.getElementById("co_docResponsiveToolbarHeader");if(e){const t=new op;t.SetParentDiv(e);t.CreateFixedHeaderDocGuid(...i);t.Draw()}}}})(Z["default"].PageData.TabScripts)}));var sp=n(7185),lp=n(8577);function cp(e){var t=document.getElementById("co_docPrimaryTabNavigationContainer"),n=document.getElementById("coid_ipadDeliveryMenuDropdown");if(e&&e.target){var i=e.target,a=i?.parentNode.closest("div"),o=null,r=null,s=null;if(a){o=a.id;for(;!o&&a;){i=a;a=i?.parentNode.closest("div");a&&(o=a.id)}if(a&&o){r="co_docPrimaryTabNavigationContainer"==o?t:t?.querySelector(`#${o}`);s="coid_ipadDeliveryMenuDropdown"==o?n:n?.querySelector(`#${o}`)}}r||document.getElementById("co_docPrimaryTabNavigation")?.classList.remove("co_showState");s||document.getElementById("coid_ipadDeliveryMenuButton")?.classList.contains("co_dropdownTabExpanded")&&lp["default"]._ExpandCollapse()}}sp["default"].CustomBackButton,sp["default"].GoToNativeHomePage;var dp=n(7235),up=n(6487),hp=Lo().extend((function(){this.draw=function(t,n){if(!o["default"].isFeatureEnabled("PublicRecordsAccess"))return"";var i={searchLinksLabel:D["default"].lookup("SC.Search.PublicRecords.LinkedTextSearch.SearchLabel","Search"),arrowImageLocation:A["default"].GetUrl(A["default"].Images,"css\\v2\\images\\PublicRecords\\PeopleMap\\icon_arrow_collapsed.png"),goToResultsForLabel:D["default"].lookup("SC.Search.PublicRecords.LinkedTextSearch.GoToResultsForLabel","Go to results for"),personResultLinksHtml:e("PR-PERSON","PeopleMap",n,t),businessesResultLinksHtml:e("BUSINESS-INVESTIGATOR","Company Investigator",n,t),recordsResultLinksHtml:e("PR-DOCUMENT-ALL","Records",n,t)};return(0,d.Substitute)('<div id="searchLinks"><ul class="co_linksList"><li>{searchLinksLabel}<img src="{arrowImageLocation}" alt=">" style="padding:0px 5px;"/>{goToResultsForLabel}:&nbsp;{personResultLinksHtml}</li><li>{businessesResultLinksHtml}</li><li>{recordsResultLinksHtml}</li></ul></div>',i)};this.finalize=function(){document.querySelectorAll(".pr_searchLink").forEach((e=>e.addEventListener("click",this.launchLinkEvent)))};this.launchLinkEvent=e=>{document.location.href=e.target.dataset.linkedtext};function e(e,n,i,a){return(0,d.Substitute)('<a class="pr_searchLink" href="javascript:void(0);" aria-label="{displayText} {ariaText}" data-linkedText="{linkedTextData}">{displayText}</a>',{resultTypeCode:e,linkedTextData:t(a,e),displayText:n,ariaText:i})}function t(e,t){var n=a["default"].Parse(e);n.QueryString.transitionType="DocumentImage";n.QueryString.contentType=t;return a["default"].Relative(n)}}));hp.create=function(){return new hp};const fp=hp;const pp=c().extend({_mapDiv:null,map:null,locations:null,zoomControlEnabled:!1,zoomToFit:!1,doneRenderingCallback:null,satelliteToggleEnabled:!1,maxZoom:18,satelliteView:!0,EnableZoomControl:function(e){this.zoomControlEnabled=e},EnableZoomToFit:function(e){this.zoomToFit=e},EnableSatelliteToggle:function(e){this.satelliteToggleEnabled=e},SetMaxZoom:function(e){this.maxZoom=e},EnableSatelliteView:function(e){this.satelliteView=e},Initialize:function(){},CreateMap:function(){},GetMap:function(){return this.map},UpdateMap:function(){},SetLocations:function(e){this.locations=e},GetLocations:function(){return this.locations},SetMapContainer:function(e){this._mapDiv=e},GetMapContainer:function(){return this._mapDiv}});var mp=n(66),gp=n.n(mp),vp=pp.extend({MAX_DISPLAY_MARKERS:10,map:{},_geocoder:{},directionsService:{},addresses:{},mapOptions:{},directionDisplay:{},widget:null,markers:[],markersCompleteCallBack:null,mapAPILoaded:!1,postGoogleAPILoadCallback:function(){},LoadMapAPI:async function(e){vp.instance=this;this.postGoogleAPILoadCallback=e;if(vp.mapAPILoaded)e();else{o["default"].isIacOn("IAC-PUBLIC-RECORD-PROD-GATEWAY")?vp.UseBusinessAPI=!0:vp.UseBusinessAPI=!1;if(!vp.UseBusinessAPI)throw new Error("Do not use the 'free' public API (which is invoked by not using channel and client ID).");{const e=a["default"].Absolute({Protocol:"https",Host:"maps.googleapis.com",Path:"maps/api/js",QueryString:{client:"gme-thomsonreuters",channel:"WLN",sensor:"false"}});await(0,Kl.loadScript)(e);vp.StaticCallback()}}},Initialize:function(e,t,n,i){t=void 0===t?null:t;this.SetMapContainer(e);this.widget=t;this.doneRenderingCallback=n;this.LoadMapAPI(i)},CreateMap:function(e){this._geocoder=new google.maps.Geocoder;this.mapOptions={panControl:!1,zoomControl:this.zoomControlEnabled,scaleControl:!1,streetViewControl:this.zoomControlEnabled,mapTypeControl:this.satelliteToggleEnabled,zoom:3,maxZoom:this.maxZoom,mapTypeId:this.satelliteView?google.maps.MapTypeId.HYBRID:google.maps.MapTypeId.ROADMAP};this.map=new google.maps.Map(this._mapDiv,this.mapOptions);this.bounds=new google.maps.LatLngBounds;e&&e.length>0&&this.setLocations(e);return this.map},setLocations:function(e){this.locations=e;this.verifyAndRetrieveLocations()},verifyAndRetrieveLocations:function(){var e=this;Promise.all(function(){for(var t=e.locations,n=[],i=0;i<t.length;i++){var a=t[i];a.Latitude&&a.Longitude||a.Status===google.maps.GeocoderStatus.OK||a.Status===google.maps.GeocoderStatus.ZERO_RESULTS||a.Status===google.maps.GeocoderStatus.REQUEST_DENIED||a.Status===google.maps.GeocoderStatus.INVALID_REQUEST||n.push(e.asyncLocationDataEvent(t[i]))}return n}()).then((function(){e.DrawMarkers();"function"==typeof e.doneRenderingCallback&&google.maps.event.addListenerOnce(e.map,"idle",(function(){e.doneRenderingCallback()}))}))},asyncLocationDataEvent:function(e){const t=this;return new Promise(((n,i)=>{if(o["default"].isIacOn("IAC-PR-GEOCODE")){new E["default"](A["default"].Report,"/PublicRecords/GeocodeAddress",{headers:{
"Content-Type":"application/json"}}).Post(e,(async a=>{if(200===a.StatusCode)try{const n=await a.json();t.UpdateLocation(e,{lat:n.Latitude,lng:n.Longitude},google.maps.GeocoderStatus.OK,n.GeocodeType)}catch(e){i(e)}n()}))}else this._geocoder.geocode({address:e.AddressKey},(function(i,a){a==google.maps.GeocoderStatus.OK&&t.UpdateLocation(e,i[0].geometry.location,a,i[0].geometry.location_type);n()}))}))},UpdateLocation:function(e,t,n,i){var a="";if(e.FormattedHtml&&e.FormattedHtml.length)a=e.FormattedHtml;else{a="Address: "+e.AddressKey;"ROOFTOP"!=i&&(a+="<br/>Location Approximated")}e.Location=t;e.FormattedHtml=a;e.Status=n},DrawMarkers:function(){this.ClearMarkers();for(var e=0;e<this.locations.length;e++){var t=this.locations[e];if("OK"===t.Status){var n;t.Location?n=t.Location:t.Latitude&&t.Latitude.length&&t.Longitude&&t.Longitude.length&&(n=new google.maps.LatLng(parseFloat(t.Latitude),parseFloat(t.Longitude)));n&&this.addMarker(n,t.FormattedHtml,t.AddressKey)}}this.renderMarkers(this.markers)},addMarker:function(e,t,n){var i=this,a={address:n,marker:new google.maps.Marker({position:e,map:i.map,optimized:!1,animation:google.maps.Animation.DROP}),infoWindow:new google.maps.InfoWindow({content:t.replace("9999",""+i.markers.length)})};google.maps.event.addListener(a.marker,"click",(function(){i.DisplayMarkerInfo(a)}));i.markers.push(a)},zoomToMarker:function(e){this.CloseStreetView();this.CloseCurrentInfoWindow();this.SetCurrentZoom(18);this.map.panTo(e.marker.getPosition())},renderMarkers:function(e){var t=this;t.markers=t.sortMarkers(e);if(t.zoomToFit){for(var n=t.markers.length,i=0;i<n;i++)t.bounds.extend(t.markers[i].marker.getPosition());t.map.fitBounds(t.bounds)}else if(t.markers.length>0){var a=t.markers[0].marker;t.bounds.extend(a.getPosition());t.map.fitBounds(t.bounds);google.maps.event.addListenerOnce(t.map,"idle",(function(){t.map.setZoom(10)}))}},sortMarkers:function(e){for(var t=[],n=this.GetLocations(),i=0;i<n.length;i++)for(var a=0;a<e.length;a++)if(n[i].AddressKey==e[a].address){t.push(e[a]);break}return t},CloseCurrentInfoWindow:function(){if(this.currentInfoWindowMarker){this.currentInfoWindowMarker.infoWindow.close();this.currentInfoWindowMarker=null}},DisplayMarkerInfo:function(e){this.CloseCurrentInfoWindow();this.currentInfoWindowMarker=e;e.infoWindow.open(this.map,e.marker);setTimeout((function(e,t){document.querySelectorAll("a.pm_Addr_ZoomHereLink").forEach((n=>n.addEventListener("click",(function(){e.zoomToMarker(t)}))))}),0,this,e)},FocusOnMarker:function(e){this.map.panTo(this.markers[e].marker.getPosition())},ClearMarkers:function(){for(var e=0;e<this.markers.length;e++){this.markers[e].marker&&this.markers[e].marker.setMap(null);this.markers[e].marker=null}this.markers=[]},GetMarkers:function(){return this.markers},DispalySpecificMarkerInfo:function(e){var t=this.markers[e];this.DisplayMarkerInfo(t)},AnimateMarker:function(e){this.markers[e].marker.setAnimation(google.maps.Animation.BOUNCE);this.markers[e].marker.setAnimation(null)},FitAllMarkers:function(){this.map.setZoom(17);this.bounds=new google.maps.LatLngBounds;for(var e=this.markers.length,t=0;t<e;t++)this.bounds.extend(this.markers[t].marker.getPosition());this.map.fitBounds(this.bounds)},SetCurrentZoom:function(e){return this.map.setZoom(e)},CloseStreetView:function(){var e=this.map.getStreetView();e.getVisible()&&e.setVisible(!1)},GetImageSize:function(){var e={width:600,height:400},t=this.GetMapContainer(),n=(0,u.getElementWidth)(t),i=(0,u.getElementHeight)(t);if(n>i){e.width=800;e.height=Math.floor(e.width*i/n)}else{e.height=800;e.width=Math.floor(e.height*n/i)}return e},GetUnsignedStaticImageUrl:function(){var e="https://maps.googleapis.com/maps/api/",t=this.map.getStreetView(),n=this.GetImageSize();if(t.getVisible()){var i=t.getPosition(),a=t.getPov();const r=a.zoom;var o=90;try{(o=180/Math.pow(2,r))>120&&(o=120);o<10&&(o=10)}catch(e){(0,et["default"])(e)}e+="streetview?";e+="&size="+n.width+"x"+n.height;e+="&location="+i.toUrlValue();e+="&heading="+a.heading;e+="&pitch="+a.pitch;e+="&fov="+o}else{var r=this.map.getCenter();const t=this.map.getZoom();e+="staticmap?";e+="center="+r.toUrlValue();e+="&zoom="+t;e+="&size="+n.width+"x"+n.height;for(var s=this.markers,l=this.map.getBounds(),c=Math.min(this.MAX_DISPLAY_MARKERS,this.markers.length),d=0;d<c;d++){var u=s[d].marker.getPosition();l.contains(u)&&(e+="&markers=color:|label:|"+u.toUrlValue())}e+="&maptype="+this.map.mapTypeId}e+="&sensor=false";vp.UseBusinessAPI&&(e+="&client=gme-thomsonreuters&channel=WLN");return e},GetStaticImageUrl:async function(){var e=this.GetUnsignedStaticImageUrl();if(vp.UseBusinessAPI){var t={};t.baseUrl=e;var n=new E["default"](A["default"].Report,"PeopleMap/v1/SignMapUrl"),i=await n.Post(JSON.stringify(t));if(200!==i.StatusCode){var a="Error ("+i.StatusCode+")  while retrieving static map URL";try{a+=" Detail: "+(await i.json()).error}catch(e){(0,Ee.publishErrorMessage)(A["default"].Report,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw e}(0,Ee.publishErrorMessage)(A["default"].Report,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(a)}try{var o=(await i.json()).result;0!=e.indexOf("error")&&(e=o)}catch(e){(0,Ee.publishErrorMessage)(A["default"].Report,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw e}}return e}});vp.UseBusinessAPI=!1;vp.mapAPILoaded=!1;vp.StaticCallback=function(){gp()();vp.mapAPILoaded=!0;vp.instance.postGoogleAPILoadCallback()};const yp=vp;const bp={ids:{pm_leftColumn:"pm_leftColumn",pm_rightColumn:"pm_rightColumn",globalProgress:"pm_globalLoading",graphicalDisplayPage:"co_peopleMap_graphicalDisplayPage",landingPage:"co_peopleMap_landingPage",landingPageTabList:"co_peopleMap_landingPageTabList",landingPageMapContainer:"co_landingPageMapContainer",landingPageMapPopout:"co_landingPageMapPopout",landingPageMap:"co_landingPageMap",landingPageLargeMap:"pm_landingPage_largeMap",landingPageMapAddressDropdown:"pm_landingPageMap_addressDropdown",newsPage:"co_peopleMap_newsPage",reportOrderForm:"co_peopleMap_reportOrderForm_View",recordOverviewPage:"co_peopleMap_recordOverview",reportPage:"pm_personReport",reprotHeaderMap:"pm_headerMap",reportPageDisplayView:"pm_report_displayView",reportPageDesignView:"pm_report_designView",reportToc:"pm_report_toc",reportTocTabs:"pm_tocTabs",reportTocRecords:"pm_tocRecords",reportMapContainer:"pm_reportMapContainer",reportDisplaySectionGroupPrefix:"pm_displaySectionGroup_",reportTocRecordsPrefix:"pm_tocRecords_",reportSectionHeaderPrefix:"pm_sectionHeader_",reportFullTextDocumentPrefix:"pm_fullTextDocument_",reportFullTextSectionPrefix:"pm_fullTextSection_",reportFullTextAnchorPrefix:"pm_fullTextAnchor_",reportTocIncludedSections:"pm_includedSections",reportTocNoDaSections:"pm_noRecords",reportJSON:"pm_report_JSON",tabGroup:"co_peopleMap_tabGroup",tabPrefix:"co_peopleMap_tab",tabs:"co_peopleMap_tabs",timelinePage:"co_peopleMap_timelinePage",returnToBreadCrumb:"co_documentFooterBreadcrumb",returnToLink:"co_returnToSearchResults",returnToLi:"co_docToolbarBackToResults",hover:"pm_hover",tabNavigationContainer:"co_docPrimaryTabNavigationContainer",dropDownArrow:"pm_DropDownArrow",dropdownArrowCollapsed:"pm_dropdownArrowCollapsed",dropdownArrowExpanded:"pm_dropdownArrowExpanded",dropDownNavContent:"pm_DropDownNavContent",graphicalDocument:"pm_graphicalDocument",previewToolbarContainer:"pm_docPreivewToolbar",previewToolbar:"pm_previewToolbar",rightWidgets:"pm_rightWidgets",leftWidgets:"pm_leftWidgets",lightBoxSubTitle:"pm_lightBoxSubTitle",optionsIdPrefix:"pm_optionsLightBox",customTemplateLightBox:"pm_customTemplateLightBox",saveTemplateWidget:"pm_saveTemplateWidget",customTemplateButton:"pm_customTemplateButton",customTemplateLightBoxContent:"pm_customTemplateLightBoxContent",customTemplateName:"pm_customTemplateName",customTemplateDescription:"pm_customTemplateDescription",document:"co_document",publicRecordsDocumentPrefix:"pr_document_",docPeopleMapAlertContainer:"coid_docPeopleMapAlertContainer",docPeopleMapAlertAnchor:"coid_docPeopleMapAnchor"},
classes:{showmorelink:"pm_showmorelink",tabs:"co_tabs",tabLeft:"co_tabLeft",tabRight:"co_tabRight",tabActive:"co_tabActive",tabInactive:"ca_tabInActive",tabLink:"co_tabLink",clear:"co_clear",active:"active",hoverLink:"pm_hoverLink",hasDataSource:"landingpageitem",button:"co_tbButton",largeButton:"co_primaryBtn",infoBox:"co_infoBox",reportTocRecords:"pm_tocRecords",reportDocumentCount:"pm_documentCount",reportIconExpand:"icon_expand",reportIcon:"pm_icon",reportLoadingSmall:"co_loadingSmall",reportLinking:"pm_fullTextSummaryLinking",reportSectionContainer:"pm_sectionContainer",reportHeaderContainer:"pm_headerContainer",reportFullTextDocument:"pm_fullTextDocument",reportSummaryDocument:"pm_summaryDocument",reportTocGroupHeader:"pm_sectionGroupHeader",reportTocGroup:"pm_sectionGroup",reportTocIncludedList:"pm_tocIncludedList",reportAttachmentRemoveTool:"co_pm_entryRemove",reportAttachment:"pm_attachment",reportAttachmentEntry:"pm_attachment_entry",landingPageDataSourcesExpandCollapse:"pm_dataSourcesExpandCollapse",landingPageDataSourcesWrapper:"pm_dataSourcesWrapper",landingPageDataSource:"pm_dataSource",serviceOptionsLink:"pm_serviceOptionsLink",cancelOptionsButton:"pm_cancelOptionsButton",saveOptionsButton:"pm_saveOptionsButton",serviceOptionRadioBoxGroup:"pm_serviceOptionRadioBox",serviceOptions:"pm_serviceOptions",serviceOptionsButtons:"pm_serviceOptionsButtons",customTemplatesButtons:"pm_customTemplatesButtons",customTemplateButton:"pm_customTemplateButton",cancelTemplateButton:"pm_cancelTemplateButton",saveTemplateButton:"pm_saveTemplateButton",errorsContainer:"pm_errors",createReportButton:"pm_createReportButton",deleteReportLink:"pm_deleteReportLink",updateReportLink:"pm_updateReportLink",templateMenuLink:"pm_templateMenuLink",templateContainer:"pm_templateContainer",reportDropLink:"pm_reportDropdown",reportDropdownValue:"pm_reportDropdownValue",peopleMapAlertContainer:"co_peopleMapAlert_container",peopleMapAlertLink:"co_peopleMapAlert_link",hideState:"co_hideState"},texts:{addressMap:"Address Map",modifyContentSets:"Modify Content Sets",modifyEntities:"Modify Entities",viewLegend:"View Legend",reportDeliveryTitle:"PeopleMap Report: ",landingDeliveryTitle:"PeopleMap Record:  ",returnTo:"ReturnTo",loadingDocument:"Loading Record...",prDocument:"Public Records Document",updatingService:"Updating Report...",overview:"Overview",reportIsLoading:"Report is Loading...",reportLoadingPleaseWait:"Report is Loading. Please wait.",loadingPleaseWait:"Loading please wait",documentNotAvailable:"Document Not Available",reportServiceNoData:'<div class="pm_noDataForService"><span>Service returned no data. Please click the options link and modify settings.</span></div>',experianRealTimeContentType:"PublicRecords - Experian Real Time Gateway",itemAddedToReport:"Item has been successfully added to report.",itemRemovedFromReport:"Item has been removed from the report.",overwriteAndContinue:"Overwrite and Continue",webAnalyticsTitle:"Web Analytics",saveReportTemplate:"Save Report Template",saveTemplate:"Save Template",nameOfTemplate:"Name of Report Template",descriptionOfTemplate:"Description of Report Template",reportTypeExists:"Report Type Name Already Exists",reportTypeExistsMessage:"The name you gave for this report type already exists. If you would like overwrite the existing report type, press continue. Otherwise, cancel and choose a new name.",saving:"Saving...",removing:"Removing...",remove:"Remove",removeCustomTemplate:"This will remove this custom report type for all future searches. Are you sure you want to continue?",confirmDelete:"Confirm Delete",peopleMapAlertAltText:"Create Public Records Alert Entry",peopleMapAlertText:"Public Records Alert",EntityIdFieldName:"personKey",riskFlagsTitle:"PeopleMap Risk Flags: "},templates:{peopleMapImage:'<img class="<%= controlClass %>" id="<%= controlId %>" src="<%= imagePath %>"/>',peopleMapThreeColumnDivTable:'<div class="<%=Table%>"><div class="<%=Row%>"><div class="<%=ToggleCol.elClass%>"><%=ToggleCol.text%></div><div class="<%=LeftCol.elClass%>"><%=LeftCol.text%></div><div class="<%=CenterCol.elClass%>"><%=CenterCol.text%></div><div class="<%=RightCol.elClass%>"><%=RightCol.text%></div></div></div>',peopleMapThreeColumnDivTableRow:'<div class="<%=RowClass%>"><div class="<%=ToggleCol.elClass%>"><%=ToggleCol.image%></div><div class="<%=LeftCol.elClass%>"><%=LeftCol.text%></div><div class="<%=CenterCol.elClass%>"><%=CenterCol.content%></div><div class="<%=RightCol.elClass%>"><input type="checkbox" class="<%=CheckBox.elClass%>" <%=CheckBox.checked%> enabled=<%=CheckBox.enabled%> name="<%=CheckBox.name%>" value="<%=CheckBox.value%>"/></div></div>',peopleMapDivWithClass:'<div class="<%=RowClass%>"><%=Content%></div>',peopleMapDiv:'<div id="<%=id %>"><%=content%></div>',documentCount:"(<%=documentCount %>)",documentPreviewToolbar:'<div id="<%=container %>"><div id="<%=toolbar %>"><ul id="<%=leftWidgets %>"></ul><ul id="<%=rightWidgets %>"></ul></div></div>',requiredTemplate:"<%=name %> is required",maximumLimitTemplate:"<%=name %> has a maximum limit of <%=maxCount %> characters",ulTemplate:"<ul><%=content %></ul>",liTemplate:"<li><%=content %></li>",successfullySaved:"<p><strong><%=name %></strong> was successfully saved.</p>",successfullyRemoved:"<p><strong><%=name %></strong> was successfully removed.</p>",dropdownListItem:'<li><a class="co_relatedInfo_primaryLink pm_reportDropdown" href="<%=link %>"><%=name %></a><input name="reportDropdownValue" id="pm_reportDropdownValue<%=id%>" type="hidden" value="<%=value %>"></li>',dropdownListItemTitle:"<%=title %><br /><%=subTitle %>",dropdownListItemTitle2:'<div class="pr_addItemDropdown"><div class="pr_addItemTitle"><%=title %></div><div class="pr_addItemSubTitle"><%=subTitle %></div></div>'},paths:{KnockoutImage:A["default"].GetUrl(A["default"].Images,"/images/PublicRecords/PeopleMap/Knockout.png"),plusImage:A["default"].GetUrl(A["default"].Images,"/images/PublicRecords/PeopleMap/icon_expand.gif"),minusImage:A["default"].GetUrl(A["default"].Images,"/images/PublicRecords/PeopleMap/icon_collapse.gif"),upImage:A["default"].GetUrl(A["default"].Images,"/images/PublicRecords/PeopleMap/up.png"),downImage:A["default"].GetUrl(A["default"].Images,"/images/PublicRecords/PeopleMap/down.png"),getDocuments:"/PeopleMap/v1/GetDocuments",retrieveDocuments:"/Document/v1/PublicRecords/GetDocuments",serviceOptions:"/PeopleMap/v1/ReportService/GetOptions/",getService:"/PeopleMap/v1/ReportService/GetService/",getCustomTemplate:"/PeopleMap/v1/Report/GetCustomTemplate",getCustomTemplateById:"/PeopleMap/v1/Report/GetCustomTemplate/",saveCustomTemplate:"/PeopleMap/v1/Report/SaveCustomTemplate",getTemplatesView:"/PeopleMap/v1/Report/GetTemplatesView",deleteCustomTemplate:"/PeopleMap/v1/Report/DeleteCustomTemplate/",addToReport:"/PeopleMap/v1/AddToReport",removeFromReport:"/PeopleMap/v1/RemoveFromReport",GetAddFolderedContentToReportViewUri:"/PeopleMap/v1/ShowAddFolderedItemToReportView",AddFolderedContentToReportUri:"/PeopleMap/v1/AddFolderedItemToReport"},objectIds:{view:"Cobalt.Website.PeopleMap.View",utilities:"Cobalt.Report.PeopleMap.Utilities",navigation:"Cobalt.Report.PeopleMap.Navigation",documentPreview:"Cobalt.Report.PeopleMap.DocumentPreview",deliveryProvider:"Cobalt.Report.PeopleMap.DeliveryProvider",globalProgress:"Cobalt.Report.PeopleMap.GlobalProgress"},errors:{deliveryType:"The delivery type cannot be undefined",returnTo:"Could Not Draw ReturnTo: parentElement was null or undefined",errorRetrievingDocument:"There was an error retrieving the document(s). Please try again later.",errorRetrieveingService:"There was an error calling report service.  Please try again later.",failedToCompleteDocumentRetervial:"Failed to complete document retrieval.",failedToGetCustomTemplate:"Failed to get custom template."},pageTypes:{landing:"Landing",graphical:"Graphical",addressMap:"AddressMap",timeline:"Timeline",news:"News",webAnalytics:"WebAnalytics",riskFlags:"RiskFlags",peopleReport:"PeopleReport",reportOverview:"ReportOverview"},attachmentType:{addressMap:"AddressMapAttachment",entityToEntity:"EntityToEntityAttachment",entityToDocument:"EntityToDocumentAttachment",
reportTemplate:"ReportTemplate",webAnalytics:"WebAnalyticsAttachment",folderContent:"FolderContentAttachment"},attachmentSectionIds:{folderContent:"FolderContent"},sectionType:{reportGenerated:"ReportGenerated",documents:"Documents",attachment:"Attachment",serviceCall:"ServiceCall",fullTextOnly:"FullTextOnly",fullText:"FullText",noData:"NoData",pu:"PU"},serviceType:{Relatives:"RelativesService",Associates:"AssociatesService",Neighbors:"NeighborsService",PeopleAssociations:"PeopleAssociationsService",BusinessAssociations:"BusinessAssociations",RiskFlags:"RiskFlagService",RiskFlagsV2Service:"RiskFlagsV2Service",PermissibleUse:"PermissibleUseService"},preferences:{path:"PublicRecords",showConfidenceScores:"ShowConfidenceScores",peopleMapReportType:"PeopleMapReportType",peopleMapReportTemplateId:"PeopleMapReportTemplateId"},events:{doneLoading:"Cobalt.Report.PeopleMap.GlobalProgress.doneLoading",startLoading:"Cobalt.Report.PeopleMap.GlobalProgress.startLoading",loadingComplete:"Cobalt.Report.PeopleMap.GlobalProgress.loadingComplete",focusOnMarker:"Cobalt.Report.PeopleMap.Map.focusOnMarker",FolderedContentAddedToReport:"Cobalt.Report.PeopleMap.PersonReport.SaveFolderedContent"}};var Cp=c().extend({mapProvider:null,locations:null,parentId:null,containerId:null,controls:null,init:function(e,t,n){this.containerId=e;this.parentId=t;this.locations=n;this.setMapProvider();var i=this;y["default"].Subscribe(bp.events.doneLoading,(async function(){Cp.StaticImageUrl=await i.GetCompeleteSnapshotUrl();y["default"].Publish(bp.events.focusOnMarker)}))},FocusOnMarker:async function(e){this.mapProvider.FocusOnMarker(e);Cp.StaticImageUrl=await this.GetCompeleteSnapshotUrl();y["default"].Publish(bp.events.focusOnMarker)},setMapProvider:function(){f["default"].RegisterObject("Cobalt.Website.PublicRecords.MapProvider",{Type:yp,Singleton:!1});this.mapProvider=f["default"].GetObject("Cobalt.Website.PublicRecords.MapProvider")},Draw:function(e,t){this.controls=void 0!==e&&e;var n=this;this.mapProvider.Initialize(document.getElementById(this.containerId),this,t,(function(){n.mapProvider.CreateMap(n.locations,n.controls)}))},UpdateMap:function(e){this.locations=e;this.mapProvider.SetLocations(this.locations)},EnableZoomControl:function(e){this.mapProvider.EnableZoomControl(e)},EnableZoomToFit:function(e){this.mapProvider.EnableZoomToFit(e)},EnableSatelliteToggle:function(e){this.mapProvider.EnableSatelliteToggle(e)},SetCurrentZoom:function(e){this.mapProvider.SetCurrentZoom(e)},SetMaxZoom:function(e){this.mapProvider.SetMaxZoom(e)},EnableSatelliteView:function(e){this.mapProvider.EnableSatelliteView(e)},FitAllMarkers:function(e){this.mapProvider.FitAllMarkers(e)},CloseStreetView:function(e){this.mapProvider.CloseStreetView(e)},CloseCurrentInfoWindow:function(e){this.mapProvider.CloseCurrentInfoWindow(e)},AnimateMarker:function(e){this.mapProvider.AnimateMarker(e)},DispalySpecificMarkerInfo:function(e){this.mapProvider.DispalySpecificMarkerInfo(e)},GetNonSignedSnapshotUrl:function(){return this.mapProvider.GetUnsignedStaticImageUrl()},GetCompeleteSnapshotUrl:async function(){return await this.mapProvider.GetStaticImageUrl()}});const Sp=Cp.extend({lightboxId:"pr_mapLightBox",lightBox:null,mapProvider:null,parentDiv:null,containerId:null,init:function(e,t,n){var i=this;this.containerId=e;this.lightBox=new fe["default"];this.lightBox.GetContentDomElement().id=this.lightboxId;this.parentDiv=this.lightboxId;this.lightBox.SetTitle("Larger Map");var a={id:"pm_landingPage_closeLink",alt:"Close",onclick:function(){null!=i.lightBox&&i.lightBox.Remove();"function"==typeof n&&n()}};this.lightBox.SetCloseLinkObject(a);this._super(this.containerId,this.parentDiv,t)},Draw:function(e,t,n){var i=`<div id="${e}Container"><div id="${e}"></div></div>`;document.getElementById(t)?.insertAdjacentHTML("beforeend",i);this._super(e,n)},Popup:function(e){var t=this;t.lightBox.Draw();this.locations&&this.Draw(this.containerId,this.parentDiv,(function(){e&&t.FocusOnMarker(e)}))}});var _p=Lo().extend((function(){this.draw=function(e,t){var n=function(e){if(!(0,d.Contains)(e,"searchType=Address"))return"";var t=new a["default"].QueryStringParser(e);var n=[t.GetValue("address"),t.GetValue("city"),t.GetValue("state")].filter(Boolean).join(", ");return[n,t.GetValue("zip")].filter(Boolean).join(" ")}(e);if((0,d.IsNullOrEmpty)(n))return"";var i={address:n,linkText:D["default"].lookup("SC.Search.PublicRecords.LinkedTextSearch.WebMapLinkLabel","View Map"),ariaText:t};return(0,d.Substitute)('<div id="webMapLinks"><a class="pr_mapLink" href="javascript:void(0);" aria-label="{type} {ariaText}" data-linkedText="{address}">{linkText}</a></div>',i)};this.finalize=function(){var t=document.querySelector(".pr_mapLink");t?.addEventListener("click",e)};function e(e){var t=e.target.dataset.linkedtext;new Sp("pm_LinkedTextMapLightBox",[{AddressKey:t,FormattedHtml:`<div>${t}</div>`}],null).Popup()}}));_p.create=function(){return new _p};const Dp=_p;var Tp=n(2940),Ip=Lo().extend((function(){var e=null,t=[],n='<div id="co_linkedSearchWidget_content_links_{linksDomIdSuffix}" style="line-height:200%">{linksHtml}</div>';this.Draw=function(i,a,r,s){var l=i||"default";if((0,d.IsNotNullOrEmpty)(s)){t.push(fp.create());o["default"].isIacOn("IAC-PUBLIC-RECORD-PROD-GATEWAY")&&t.push(Dp.create())}(function(i,a,o,r){for(var s=a||D["default"].lookup("SC.Search.PublicRecords.LinkedTextSearch.Error.NoDisplayText","No Display Text Specified."),l="",c=0;c<t.length;c++)l+=t[c].draw(r,s);var u={linksHtml:l,linksDomIdSuffix:i},h={content:{required:s,optional:"",summary:(0,d.Substitute)(n,u)}};e=new Tp["default"](i,o,h)})(l,a,r,s);e.destroy();e.draw();(function(){e.finalize();for(var n=0;n<t.length;n++)t[n].finalize()})()}}));const xp=Ip;var kp=q["default"].extend({routeClickedLinkHandlers:async function(e){var t=v["default"].getEventSourceElement(e),n=v["default"].GetAncestorOrSelfElement(t,"a");null!=n&&this.isPublicRecordsLink(n)&&this.handlePublicRecordsLink(n,e);await this._super(e)},isPublicRecordsLink:function(e){if(e.className.indexOf("pr_RPLink")>=0)return!1;if("pr_searchLink"==e.className)return!1;var t=e.href;if(t)return t&&t.toLowerCase().indexOf("publicrecords/search")>=0;return!1},handlePublicRecordsLink:function(e,t){var n=e.href;(new xp).Draw("PublicRecordsSearchDialog",e.text||e.innerHTML,e,n,"","");v["default"].stopEventPropagationAndDefaultBehavior(t)},preHandleInternalLink:function(){v["default"].expandDraftingNoteByAnchor()}});const wp=kp;const Ep=function(){this.PracticalLawDocumentHistorySetup=function(){let e=!0;document.getElementById("co_EodHistory")?.addEventListener("click",(()=>{if(e){e=!1;(document.getElementById("co_EodHistory")??{}).textContent=D["default"].lookup("SC.PLCCore.Document.Widget.KnowHow.DocumentHistoryLessLinkText","Less");(0,lt.hideElements)(document.querySelectorAll(".co_docRevHisoryDetailLess"));(0,lt.showElements)(document.querySelectorAll(".co_docRevHisoryDetailMore"))}else{e=!0;(document.getElementById("co_EodHistory")??{}).textContent=D["default"].lookup("SC.PLCCore.Document.Widget.KnowHow.DocumentHistoryMoreLinkText","More");(0,lt.showElements)(document.querySelectorAll(".co_docRevHisoryDetailLess"));(0,lt.hideElements)(document.querySelectorAll(".co_docRevHisoryDetailMore"))}}))};this.JurisdictionsExpandCollapseSetup=function(){document.getElementById("expandCollapseAdditionalJurisdictions")?.addEventListener("click",(function(){var e=this.textContent;if(this.classList.contains("active")){this.classList.remove("active");this.setAttribute("aria-expanded",!1);document.querySelectorAll(".co_additionalJurisdictions").forEach((e=>e.classList.add("co_hideState")));(document.querySelector("#co_docHeaderContainer .additionalJurisdictionsEllipsisContainer")??{}).textContent="...";e=D["default"].lookup("SC.PLCCore.Document.Widget.KnowHow.JurisdictionExpandLinkText","Expand")}else{this.classList.add("active");this.setAttribute("aria-expanded",!0);document.querySelectorAll(".co_additionalJurisdictions").forEach((e=>e.classList.remove("co_hideState")));(document.querySelector("#co_docHeaderContainer .additionalJurisdictionsEllipsisContainer")??{}).textContent=", "
;e=D["default"].lookup("SC.PLCCore.Document.Widget.KnowHow.JurisdictionCollapseLinkText","Collapse")}this.textContent=e}))}};var Ap=_["default"].extend({init:function(){},GetChartHtml:async function(e,t,n,i,a){var o="/Arbitration/v1/ChartMap/"+e+"/"+t+"/"+n,r=this.CreateDocumentWebRequest(A["default"].Document,o);const s=await r.Get();if(s.ok){var l=this.ConstructChartImgHtml(e,t,n);i(l+=await s.json())}else if("function"==typeof a){a(new Error(`Failed to retrieve chart image map. HTTP status: ${s.status}`))}else(0,Ee.publishErrorMessage)(A["default"].Document,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."))},ConstructChartImgHtml:function(e,t,n){return`<img usemap="#chartMap${t}" src="${`${A["default"].GetUrl(A["default"].Website)}arbitration/v1/chart/${e}/${t}/${n}`}" />`}});const Lp=Ap;const Np=function(){var e,t,n,i=[];this.Draw=function(){if(document.getElementById("co_allTableChartContainer")){n=x()(document.body);t=n.hasClass("co_readingMode")?"Small":"Large";e=document.getElementById("documentGuid")?.value;n.removeClass("co_t2Left");n.addClass("co_t1");for(var o=0;o<5;o++){const e=document.createElement("div");e.id=`toolTip${o}`;e.className="co_arb_chartPopup";e.style.position="absolute";(0,lt.hideElements)(e);document.body.append(e);i[o]=e}(function(){document.querySelectorAll('div[id^="co_arbChartContainer"]').forEach((e=>{e.addEventListener("mouseover",s);e.addEventListener("mouseout",s)}));document.getElementById("arbChartSelector")?.addEventListener("change",a)})();y["default"].Subscribe(r["default"].events.documentMayHaveChangedSize,l);document.getElementById("arbChartSelector")?.dispatchEvent(new Event("change",{bubbles:!0}))}};function a(n){var i=n.target.value.split("|");(0,lt.hideElements)(document.querySelectorAll('div[id^="co_arbChartContainer"]'));i?.forEach((n=>{var i=document.querySelector("#co_arbChartContainer"+n);(function(t,n,i){var a=f["default"].GetObject(r["default"].objectIds.arbitrationProvider),s=x()(i).children("img");(0==s.length||o(s))&&a.GetChartHtml(e,t,n,(function(e){0!=x()(i).children("img, map").length&&x()(i).children("img, map").remove();x()(i).children("h2").after(e)}));(0,lt.showElements)(i)})(n,t,i)}));"Compare All Data"==document.getElementById("arbChartSelector")?.selectedOptions[0].textContent?(0,lt.showElements)(document.getElementById("deliveryWidget1")):(0,lt.hideElements)(document.getElementById("deliveryWidget1"))}function o(e){var n=e.attr("src").split("/");return t!=n[n.length-1]}function s(e){const n=e.target.closest("area");if(!e.currentTarget.contains(n))return;var a=e.currentTarget.querySelector("img"),o=n.dataset.alt.substring(5,15);document.querySelectorAll("#"+e.currentTarget.id+' area[data-alt*="'+o+'"]').forEach((function(n,o){var r="mouseover"===e.type;i[o].innerHTML=n.dataset.alt;var s=function(e,n){var i={},a=e.getAttribute("coords").split(","),o=(0,ft.offset)(n);i.left=o.left+Math.floor(a[0]);i.top=o.top+Math.floor(a[1])-35;"Small"==t&&(i.left-=5);return i}(n,a);(function(e,t){e.style.top=`${t.top}px`;e.style.left=`${t.left}px`})(i[o],s);(0,lt.toggleVisibility)(i[o],r)}))}function l(){if(n.hasClass("co_readingMode")){if("Small"!=t){t="Small";document.getElementById("arbChartSelector")?.dispatchEvent(new Event("change",{bubbles:!0}))}}else if("Large"!=t){t="Large";document.getElementById("arbChartSelector")?.dispatchEvent(new Event("change",{bubbles:!0}))}}};var Rp={};function Pp(){this.RequestData=function(e,t){var n=!1,i=e.docGuid;if("undefined"===Rp[i]||null==Rp[i]){Rp[i]=[];n=!0}Rp[i].push(t);if(n){var a=Rp[i],o="RelatedInfo/v1/riVersions/currentVersion?docGuid="+encodeURIComponent(i);return new E["default"](A["default"].RelatedInfo,o,{timeout:3e5,headers:{Accept:"application/json"}}).Get((function(e){a?.forEach((t=>t(e)));Rp={}}))}}}var Op={};function Bp(){this.RequestData=function(e,t){var n=!1,i=e.docGuid;if("undefined"===Op[i]||null==Op[i]){Op[i]=[];n=!0}Op[i].push(t);if(n){var a=Op[i],o="RelatedInfo/v1/riVersions/toggleVersion?docGuid="+encodeURIComponent(i);new E["default"](A["default"].RelatedInfo,o,{timeout:3e5,headers:{Accept:"application/json"}}).Get((function(e){a?.forEach((t=>t(e)));Op={}}))}}}const Mp=c().extend({documentGuid:null,documentIsRedlined:!1,isRegChangeDocument:!1,ruleBookRedlineExistsInDOM:!1,toggleGuid:null,ShowToolTip:r["default"].texts.redlineToggleShowToolTip,HideToolTip:r["default"].texts.redlineToggleHideToolTip,ShowLinkText:r["default"].texts.redlineToggleShowLinkText,HideLinkText:r["default"].texts.redlineToggleHideLinkText,SetParentDiv:function(e){this.parent=e},SetDocumentGuid:function(e){this.documentGuid=e},Draw:function(){var e=this,t=v["default"].GetMetadataFromDom(r["default"].ids.embeddedMetaInfoPrefix+e.documentGuid);if(t){!0===t.redlined&&(e.documentIsRedlined=!0);!0===t.isRegChangeDocument&&(e.isRegChangeDocument=!0)}e.ruleBookRedlineExistsInDOM=!!document.querySelector(".co_document .co_ruleBookRedline");var n={docGuid:e.documentGuid};const i=async function(t){let n;if(t.ok){const e=await t.text();n=JSON.parse(e||null)}else n={hasToggle:!1};e._setButtonState(n)};new Bp(n,i).RequestData(n,i);e._retriveCurrentVersion();var a=`<div id="co_redlineToggleContainer" class="co_hideState"><a id="co_redlineToggleAnchor" class="co_tbButton icon_link" title="${e.ShowToolTip}" href="javascript:void(0);"> <span class="icon25 icon_penHistory-blue"></span></a></div>`;e.parent?.insertAdjacentHTML("beforeend",a);y["default"].Subscribe(r["default"].events.chunkRendered,(function(){e._chunkCallback(e)}));e.parent?.querySelector("#co_redlineToggleAnchor").addEventListener("click",(function(){e._clickHandler()}))},_thereIsAnUpdatedVersion:function(){return document.querySelectorAll(".co_versionUpdate").length},_retriveCurrentVersion:function(){var e=this,t={docGuid:e.documentGuid},n=async function(t){let n={};if(t.ok){const e=await t.text();n=JSON.parse(e||null)}e._setUpdateLink(n)};return new Pp(t,n).RequestData(t,n)},_setButtonState:function(e){var t=this;if(!0===e.hasToggle){if(t.isRegChangeDocument){t._showRedline();t._showButton();t._displayHeaderLink(!1);t.toggleGuid=e.toggleItems[0].toggleGuid}else{t.documentIsRedlined||(t.toggleGuid=e.toggleItems[0].toggleGuid);t._showButton();t._displayHeaderLink(!1)}return}if(t.isRegChangeDocument){t._showRedline();return}if(t._thereIsAnUpdatedVersion()){t._showRedline();return}if(t.documentIsRedlined){t._showButton();t._displayHeaderLink(!0);return}},_setUpdateLink:function(e){if(!e||!e.historyItem)return;if((0,d.IsNotNullOrEmpty)(e.historyItem.docGuid)){var t=document.createElement("a");t.className="co_link";t.href=a["default"].Relative(a["default"].Page.Document({guid:e.historyItem.docGuid,viewType:"FullText",transitionType:a["default"].DefaultTransitionType,contextData:a["default"].PageContextData}));t.textContent="Here";document.querySelector(".co_linkToCleanCopy")?.appendChild(t);document.querySelectorAll(".co_document .co_versionUpdate").forEach((e=>e.classList.remove("co_hideState")))}},_showButton:function(){document.getElementById("co_redlineToggleContainer")?.classList.remove("co_hideState")},_displayHeaderLink:function(e){var t,n=this,i=null,a=document.getElementById("co_redlineToggleContainer")?.classList.contains("co_redlineIsActive");if(a){t=n.HideToolTip;i=n.HideLinkText}else{t=n.ShowToolTip;i=n.ShowLinkText}var o=document.createElement("div");o.style.textAlign="center";var s=`<span id="co_redlineHeaderLinkContainer"> <a id="co_redlineHeaderLink" title="${t}" href="javascript:void(0)">${i}</a></span>`,l="<div></div>";e&&(l=`<div>${r["default"].texts.redlineToggleTabularWarningMessage}</div>`);var c=document.querySelector(".co_effectiveDate"),d=document.querySelector(".co_documentHead");if(c){c.insertAdjacentHTML("beforeend",s);c.insertAdjacentHTML("beforeend",l)}else if(d){o.insertAdjacentHTML("beforeend",s);o.insertAdjacentHTML("beforeend",l);d.appendChild(o)}document.getElementById("co_redlineHeaderLink")?.addEventListener("click",(function(){n._clickHandler()}))},_clickHandler:function(){var e=this;if(null!==e.toggleGuid){var t=a["default"].Relative(a["default"].Page.Document({guid:e.toggleGuid,viewType:"FullText",
transitionType:a["default"].DefaultTransitionType,contextData:a["default"].PageContextData}));Ze["default"].PageTransition(t)}else{var n=document.getElementById("co_redlineToggleContainer")?.classList.contains("co_redlineIsActive");n?e._hideRedline():e._showRedline()}},_chunkCallback:function(e){var t=document.getElementById("co_redlineToggleContainer")?.classList.contains("co_redlineIsActive");t&&e._showRedline()},_showRedline:function(){var e=this;(document.getElementById("co_redlineToggleAnchor")??{}).title=e.HideToolTip;(document.getElementById("co_redlineHeaderLink")??{}).textContent=e.HideLinkText;(document.getElementById("co_redlineHeaderLink")??{}).title=e.HideToolTip;document.querySelectorAll(".co_document del").forEach((e=>e.classList.remove("co_hideState")));document.querySelectorAll(".co_document ins").forEach((e=>e.removeAttribute("style")));document.getElementById("co_redlineToggleContainer")?.classList.add("co_redlineIsActive")},_hideRedline:function(){var e=this;(document.getElementById("co_redlineToggleAnchor")??{}).title=e.ShowToolTip;(document.getElementById("co_redlineHeaderLink")??{}).textContent=e.ShowLinkText;(document.getElementById("co_redlineHeaderLink")??{}).title=e.ShowToolTip;document.querySelectorAll(".co_document del").forEach((e=>e.classList.add("co_hideState")));document.querySelectorAll(".co_document ins").forEach((e=>e.style.backgroundColor="white"));document.getElementById("co_redlineToggleContainer")?.classList.remove("co_redlineIsActive")}});var Fp=n(692),Wp=n(2904),Hp=n(310),Gp=n(7955),Up=n(8016),jp=n(9294);const $p=function(){var e=void 0;gt["default"].apply(this,arguments);var t=this.Draw,n=this.Erase;this.Draw=function(e){e=D["default"].lookup("SC.Website.Document.SnippedSaveTo.Title","Save Snippet To:");t.call(this,e);var n=document.getElementById("coid_lightboxOverlay");if(n){p["default"].AddEventHandler(n,"mousedown",v["default"].stopEventPropagationAndDefaultBehavior);p["default"].AddEventHandler(n,"mouseup",v["default"].stopEventPropagationAndDefaultBehavior)}};this.Erase=function(){e&&e();return n.call(this)};this.SetCloseFunction=function(t){e=t}};const Vp=function(){this.saveFunction=void 0;this.closeFunction=void 0;mt["default"].apply(this,arguments);this.SetSaveFunction=function(e){this.saveFunction=e};this.SetCloseFunction=function(e){this.closeFunction=e;const t=this.GetSaveToPopup();t&&t.SetCloseFunction(e)};this.CreateSaveToPopup=function(e){this.saveFunction&&(e.save=this.saveFunction);var t=new $p(e);this.closeFunction&&t.SetCloseFunction(this.closeFunction);return t}};var qp=Wp["default"].extend({recentFolders:[],Initialize:function(e,t){this._super(e,t);var n=this;if(o["default"].UsePageHeaderV2){y["default"].Subscribe("Cobalt.Foldering.RecentFolders.RecentFoldersUpdated",(function(e,t){if(t&&t.Data){n.recentFolders=t.Data;var i=n.createSaveToRecentFolderMenuItem();x()("#"+r["default"].ids.selectedTextMenuListAddToDockItem).replaceWith(x()(i))}}))}o["default"].IsSaveSnippetEnabled&&n.buildSnippetSaveTo(t)},buildSnippetSaveTo:function(e){const t=()=>{Gp["default"].Unselect()};this.snippetSaveTo=new Vp(e);this.snippetSaveTo.SetContentCallback((()=>[{DocGuid:e}]));this.snippetSaveTo.SetSaveFunction((e=>{this.snippetSaveTo.SetCloseFunction((()=>{}));this.snippetSaveTo.Close();this.snippetSaveTo.SetCloseFunction(t);const{id:n,name:i,isShared:a,destinationContainerType:o}=e;ke["default"].addSelectedTextToDock({categoryId:n,folderName:i,isShared:a,containerType:o});this.hideMenu()}));this.snippetSaveTo.SetCloseFunction(t)},updateAddToDockMenuItem:function(e){var t=r["default"].texts.selectedTextMenuAddToFolder;if(!o["default"].UsePageHeaderV2){e&&null!=e&&(t=D["default"].format("SC.Document.SelectedTextMenu.SaveToActiveFolderLinkTitle",{ActiveFolderName:e},"Save to "+e));var n=document.getElementById(r["default"].ids.selectedTextMenuListAddToDockItem);n&&(n.innerHTML=`<a>${t}</a>`)}},createSaveToRecentFolderMenuItem:function(){var e,t=this;e=o["default"].IsSaveSnippetEnabled?D["default"].lookup("SC.Website.Document.SelectedTextMenu.SaveToFolder","Save to Folder"):D["default"].lookup("SC.Website.Document.SelectedTextMenu.SaveToRecentFolder","Save to Recent Folder");const n=t.createMenuItem(r["default"].ids.selectedTextMenuListAddToDockItem,r["default"].classes.selectedTextMenuListItem,e,null,!0),i=n.querySelector("button"),a=document.createElement("span");a.classList.add("icon25","icon_rightCaret-blue");i?.appendChild(a);const s=document.createElement("ul");s.id="co_recentFoldersListDropdown";s.classList.add("co_dropdownBoxCollapsed","co_recentFoldersList");s.style.left="100%";n.addEventListener("mouseenter",qp.showSaveToRecentFolderMenuItem);n.addEventListener("mouseleave",qp.hideSaveToRecentFolderMenuItem);n.addEventListener("click",qp.showSaveToRecentFolderMenuItem);s.addEventListener("focusout",(function(e){if(s.contains(e.relatedTarget))return;qp.hideSaveToRecentFolderMenuItem.call(n)}));var l=t.recentFolders,c=()=>{if(l.length>0){i.id="co_recentFoldersMenuButton";i.setAttribute("aria-expanded",!1);i.setAttribute("aria-haspopup",!0);s.setAttribute("role","menu");s.setAttribute("aria-labelledby",n.id);i.setAttribute("aria-controls",s.id);s.addEventListener("keydown",qp.manageFocus)}for(var a=0;a<l.length;a++){const e=t.createMenuItem(`${r["default"].ids.selectedTextMenuListAddToDockItem}_${a}`,r["default"].classes.selectedTextMenuListItem,(0,Ae.EscapeForHtmlText)(l[a].folderName),(e=>function(){qp.collapsedSaveToRecentFolderMenu(s);ke["default"].addSelectedTextToDock(e);t.hideMenu()})(l[a]),!0,l[a]);e.querySelector("button").setAttribute("role","menuitem");s.appendChild(e)}if(o["default"].IsSaveSnippetEnabled){e=D["default"].lookup("SC.Website.Document.SelectedTextMenu.ViewAllFolders","View All Folders");const n=t.createMenuItem(`${r["default"].ids.selectedTextMenuListAddToDockItemSnippet}`,`${r["default"].classes.selectedTextMenuListItem} ${r["default"].classes.selectedTextMenuViewAllFolder}`,e,(()=>{qp.collapsedSaveToRecentFolderMenu(s);t.snippetSaveTo.Open();t.hideMenu()}),!0);n.querySelector("button").setAttribute("role","menuitem");s.appendChild(n)}n.appendChild(s)};t.recentFolders.length>0?c():t.requestRecentFolderItems((function(e){Hp["default"].folderList={};st().each(e,(function(e){Hp["default"].folderList[e.categoryId]=e}));l=e;c()}));return n},requestRecentFolderItems:function(e){var t={url:"/Foldering/v3/"+te["default"].GetUserNameEncoded()+"/history/recents/folders/all?size="+Hp["default"].MAX_RECENT_FOLDERS_WITH_ITEMS,success:function(t){if("undefined"===t||""===t){(0,Ee.publishErrorMessage)(A["default"].Foldering,D["default"].lookup("SC.Foldering.RecentFolders.DataError","Data could not be retrieved for recent folders."));throw new Error("Data could not be retrieved for recent folders.")}e(t.RecentFolders)},error:function(){(0,Ee.publishErrorMessage)(A["default"].Foldering,D["default"].lookup("SC.Foldering.RecentFolders.GetError","An error occurred retrieving recent folders."));throw new Error("An error occurred retrieving recent folders.")}};(0,Le.GetRequest)(t)},adjustCopyWithReferenceSubMenu:function(){const e=document.getElementById(r["default"].ids.copyWithReferenceMenuContainer);if(e){e.style.left="";e.style.right="";e.style.top="";const t=e.getBoundingClientRect(),n=window.innerHeight-t.bottom;if(n<0){const t=document.getElementById(r["default"].ids.selectedTextMenuListCopyWithRefItem).getBoundingClientRect(),i=e.offsetParent,a=i.getBoundingClientRect(),o=t.right-a.right,s=document.body.clientWidth||window.innerWidth,l=e.offsetWidth,c=s-t.right,d=t.left;if(d>c){const t=Math.max(l-d,0),i=this.selectedTextMenu.offsetWidth-t-o;e.style.right=`${i}px`;e.style.top=`${n}px`}else{const t=Math.max(l-c,0),a=i.offsetWidth-t+o;e.style.left=`${a}px`;e.style.top=`${n}px`}}}},buildHtmlBufferForCiteStylesIAC:function(e,t,n,i){if(v["default"].isPracticalLawUsDocument()){return st().template('<div class="<%-copyWithReferenceContainer%>">\n    <button class="<%-copyWithReferenceLabel%>"><%-textWithRefLabel%></button>\n    <div id="<%-copyWithReferenceFlash%>">\n        <div id="<%-copyWithReferenceContent%>"></div>\n    </div>\n</div>\n')({
copyWithReferenceContainer:r["default"].classes.copyWithReferenceContainer,copyWithReferenceLabel:r["default"].classes.copyWithReferenceLabel,textWithRefLabel:e,copyWithReferenceFlash:r["default"].ids.copyWithReferenceFlash,copyWithReferenceContent:r["default"].ids.copyWithReferenceContent})}return this._super(e,t,n,i)}});qp.showSaveToRecentFolderMenuItem=function(){var e=this.querySelector(".co_recentFoldersList"),t=jp["default"].GetHighlightMenuContainer(),n=(0,u.getElementWidth)(t);if(e){e.classList.add("co_dropdownBoxExpanded");e.classList.remove("co_dropdownBoxCollapsed");e.style.right="";e.style.left="";const t=this.querySelector("button#co_recentFoldersMenuButton");t?.setAttribute("aria-expanded",!0);const n=qp.getItems(e);n?.length>0&&n[0].focus()}var i=(0,ft.offset)(this).left-(0,ft.offset)(t).left,a=(0,u.getElementWidth)(this);i+(0,u.getElementWidth)(e)+a>n?(e?.style??{}).right="100%":(e?.style??{}).left="100%"};qp.hideSaveToRecentFolderMenuItem=function(){const e=this.querySelector(".co_recentFoldersList");if(!e)return;qp.collapsedSaveToRecentFolderMenu(e)};qp.collapsedSaveToRecentFolderMenu=e=>{const t=document.querySelector("button#co_recentFoldersMenuButton");t?.setAttribute("aria-expanded",!1);if(qp.isCorporateZone()){e.classList.add("co_dropdownBoxCollapsed");e.classList.remove("co_dropdownBoxExpanded");e.style.right="";e.style.left=""}else{e.classList.add("co_dropdownBoxCollapsed");e.classList.remove("co_dropdownBoxExpanded")}};qp.manageFocus=e=>{const t=document.getElementById("co_recentFoldersListDropdown");if(t){const n=qp.getItems(t),i=n.findIndex((t=>t===e.target)),a=n.length-1,o=i===a?0:i+1,r=0===i?a:i-1;switch(e.key){case"ArrowDown":e.preventDefault();n[o].focus();break;case"ArrowUp":e.preventDefault();n[r].focus();break;case"Home":e.preventDefault();n[0].focus();break;case"End":e.preventDefault();n[a].focus();break;case"Tab":qp.collapsedSaveToRecentFolderMenu(t)}}};qp.getItems=e=>Array.from(e.querySelectorAll('button[role="menuitem"]'));qp.isCorporateZone=function(){return Up["default"].IsEdgarContentType(Up["default"].FindDocumentContentType())||Up["default"].IsFilingsContentType(Up["default"].FindDocumentContentType())||Up["default"].IsPrivateEquityContentType(Up["default"].FindDocumentContentType())||Up["default"].IsLocatePrecedentAgreements(Up["default"].FindDocumentContentType())};const zp=qp;var Kp=n(7671),Yp=n(4227),Qp=n(6500),Xp=n(5932);const Jp=function(){var e=this;this.SetParentDiv=function(t){e.parentElement=t};this.SetEntityKey=function(t){e.entityKey=t};this.SetEntityDataUrl=function(t){e.entityDataUrl=t};this.Draw=function(t,n){if(!e.validateRequest()){t();return!1}var i=r["default"].ids.publicRecordsMiniReportEntityDataPerfix+e.entityKey,a=document.getElementById(i);if(a){(0,lt.showElements)(a);t();return!0}e.currentProgressIndicator=new ee["default"](e.parentElement,"small");e.currentProgressIndicator.Draw();this.getDocument(t,n)};this.getDocument=function(t,n){var i=this;(async()=>{const t=new E["default"](A["default"].Website,e.entityDataUrl,{headers:{Accept:"application/json"}}),n=await t.Post();if(!n.ok)throw new Error(`Failed to get document. HTTP status: ${n.status}`);return n.json()})().then((function(a){if(a)if(a.status)if("REDIRECT"===a.status)a.redirectAddress&&Ze["default"].PageTransition(a.redirectAddress);else if("BLOCK"===a.status){i.promptBillingBlock();e.currentProgressIndicator.Erase();t()}else{if("WARNING"!==a.status){e.currentProgressIndicator.Erase();n();t();(0,Ee.publishErrorMessage)(A["default"].Document,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(`Error retrieving document. Response status was ${a.status}`)}i.promptWarnForBilling().then((function(){i.acceptWarning(e.entityKey,i,t,n)}),(function(){e.currentProgressIndicator.Erase();n();t()}))}else{e.buildEntity(e.entityKey,a);e.currentProgressIndicator.Erase();t()}}),(i=>{e.currentProgressIndicator.Erase();n();t();throw i}))};this.acceptWarning=function(e,t,n,i){var o=a["default"].Rest.AcceptSearchSurchargeV0({querySubmissionGuid:e+"search",includesSurcharge:!1});new E["default"](A["default"].Website,a["default"].Relative(o)).Post("",(function(e){if(200!=e.StatusCode){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(`Error on post WarningAccepted of doc: ${t.ViewData.DocumentGuid} on error: ${e.StatusCode}`)}t.getDocument(n,i)}))};this.promptWarnForBilling=function(){return new Promise(((e,t)=>{var n=new Xp["default"];n.SetCancelCallback(t);n.SetCallback(e);n.SetTitle("Billing Confirmation");n.SetContentHtml("<p>Performing this Mini Report View requires an additional cost.  This will be billed to your account if you continue.  If you cancel, your account will not be billed.<br /><br /></p><p>Do you accept these charges?</p>");n.Draw()}))};this.promptBillingBlock=function(){return new Promise((e=>{var t=new Xp["default"];t.SetCallback(e);t.SetTitle("Billing Confirmation");t.SetContentHtml("<p>You do not have access to this because the user is not authorized.<br /><br /></p>");t.Draw()}))};this.validateRequest=function(){if(null==e.entityKey||null==e.entityDataUrl||null==e.entityDataUrl)return!1;return!0};this.buildEntity=function(t,n){if(n&&n.entityDataHtml&&n.entityDataHtml.length>0){var i=document.createElement("div");i.className=r["default"].classes.publicRecordsMiniReportDataSection;i.id=r["default"].ids.publicRecordsMiniReportEntityDataPerfix+t;e.parentElement?.append(i);i.innerHTML=n.entityDataHtml;n.peopleMapLinks&&n.peopleMapLinks.length>0&&e.buildPeopleMapWorkflowButtons(n.peopleMapLinks,i)}};this.buildPeopleMapWorkflowButtons=function(e,t){t.append(this.buildButton(r["default"].ids.publicRecordsMiniReportLandingButton,e[0].title,e[0].link));e.length>1&&t.append(this.buildButton(r["default"].ids.publicRecordsMiniReportCreateReportButton,e[1].title,e[1].link,!0))};this.buildButton=function(e,t,n,i){var a=document.createElement("button");a.id=e;a.type="button";a.textContent=t;a.className=i?r["default"].classes.publicRecordsMediumButton:r["default"].classes.publicRecordsGrayButton;a.addEventListener("click",(function(){window.location.href=n}));const o=document.createElement("div");o.appendChild(a);return o}};var Zp=n(906),em=n(2405);const tm=function(){var e=this;this.SetParentDiv=function(t){e.parentElement=t};this.SetDocumentGuid=function(t){e.documentGuid=t};this.Draw=function(t){e.getMiniReport(t,(function(t){e.drawEntities(t,r["default"].texts.publicRecordsPeople)}),(function(t){e.drawEntities(t,r["default"].texts.publicRecordsBusinesses)}))};this.drawEntities=function(t,n){if(t&&t.length>0){for(var i=e.buildNamesSection(n),a=0;a<t.length;a++)e.buildEntityLink(t[a],i,n);var o=this.getExpandKey();o&&this.resumeInProgressExpansion(o)}};this.getExpandKey=function(){var e=window.location.href.toString();return a["default"].Parse(e).QueryString["expandKey"]};this.resumeInProgressExpansion=function(e){document.querySelectorAll(`[id*='${e}']`).forEach((e=>e.click()))};this.buildNamesSection=function(t){var n=document.createElement("h3");n.className=r["default"].classes.publicRecordsMiniReportHeader;n.textContent=t;e.NamesContainer?.append(n);var i=document.createElement("ul");i.className=r["default"].classes.publicRecordsMiniReportNameSection;e.NamesContainer?.append(i);return i};this.buildEntityLink=function(t,n,i){if(t.Name&&t.Key){var a=document.createElement("li");a.className=r["default"].classes.publicRecordsMiniReportEntity;n.append(a);var o=document.createElement("a");o.textContent=t.Name;o.id=r["default"].ids.publicRecordsMiniReportEntityPerfix+t.Key;o.href="#";o.addEventListener("click",(function(n){if(!e.inProgress){e.inProgress=!0;e.entityClicked(n,t.Key,e.dataOrchestrationResultGuid)}}));a.append(o);f["default"].GetObject(r["default"].objectIds.provider).GetMetaInformation(e.documentGuid,(function(n){if(e.displayRealTimeUpdate){if(~n.Collection.indexOf("CCH")&&i==r["default"].texts.publicRecordsPeople){a.append(document.createElement("br"));var o=document.createElement("button")
;o.id=r["default"].ids.publicRecordsExperianCreditHeaderRealTime;o.textContent=r["default"].texts.publicRecordsExperianCreditHeaderRealTime;o.className=r["default"].classes.publicRecordsMediumButton;o.addEventListener("click",(function(){e.redirectToExperianRealTime(t)}));a.append(o)}}}),(function(){return}),!1)}};this.entityClicked=function(t,n){var i=this;if(t.currentTarget.classList.contains(r["default"].classes.publicRecordsMiniReportActive)){e.restoreAll();e.inProgress=!1}else{e.restoreAll();document.body.classList.add(r["default"].classes.publicRecordsMiniReportOpen);t.currentTarget.classList.add(r["default"].classes.publicRecordsMiniReportActive);e.NamesContainer?.classList.add(r["default"].classes.activeClass);"P"==n.charAt(0)?this.openPermissibleUseWidget((function(t){i.makeDataCall(t,e,n)}),(function(){e.restoreAll();e.inProgress=!1})):i.makeDataCall(null,e,n)}};this.openPermissibleUseWidget=function(e,t){var n={baseField:!0,templateField:{successCallback:e,failCallback:t,FieldType:"SIMPLE",InputType:"permisibleUseWidget",Mode:Yp["default"].WidgetFactoryModes.MiniReportPopup,ReferrerUrlPathAndQuery:window.location.href.toString(),PermissibleUseControlSetFields:[{permissibleUseType:Qp["default"].PermissibleUse.FieldNames.GLB},{permissibleUseType:Qp["default"].PermissibleUse.Types.DPPA},{permissibleUseType:Qp["default"].PermissibleUse.Types.VOTERS},{permissibleUseType:Qp["default"].PermissibleUse.Types.STCD}]}};(new em["default"]).Create(n,!1).draw()};this.makeDataCall=function(e,t,n){var i="/PeopleMap/v1/"+n+"/"+t.documentGuid+"/MiniReportEntityData?PU="+e+"&transitionType=Search",a=new Jp;a.SetParentDiv(t.dataContainer);a.SetEntityKey(n);a.SetEntityDataUrl(i);a.Draw((function(){t.inProgress=!1}),(function(){t.restoreAll()}))};this.restoreAll=function(){e.NamesContainer?.classList.remove(r["default"].classes.activeClass);e.NamesContainer?.querySelectorAll("a").forEach((e=>e.classList.remove(r["default"].classes.publicRecordsMiniReportActive)));(0,lt.hideElements)(e.dataContainer?.children);document.body.classList.remove(r["default"].classes.publicRecordsMiniReportOpen);null!=e.currentProgressIndicator&&e.currentProgressIndicator.Erase()};this.getMiniReport=function(t,n,i){0;e.hasMiniReportData=!1;if(t&&t.metaInformation&&t.metaInformation.isPublicRecordsDocument&&t.metaInformation.isDisplayMiniReport){var a="/PeopleMap/v1/"+e.documentGuid+"/MiniReport?PU="+t.metaInformation.PU;e.mainProgressIndicator=new ee["default"](e.parentElement,"small");e.mainProgressIndicator.Draw();(async()=>{const e=new E["default"](A["default"].Website,a,{headers:{Accept:"application/json","x-cobalt-pcid":Nf["default"].PageEventIdentifier}}),t=await e.Get();if(!t.ok)throw new Error(`Failed to get mini report. HTTP status: ${t.status}`);return t.json()})().then((a=>{e.mainProgressIndicator.Erase();Zp.A.Data={dataOrchestrationGuid:a.MiniReportNames.dataOrchestrationResultGuid,PU:t.metaInformation.PU};if(a.MiniReportNames.personNames&&a.MiniReportNames.personNames.length>0||a.MiniReportNames.companyNames&&a.MiniReportNames.companyNames.length>0){e.setupMiniReportContainers();e.miniReportData=a.MiniReportNames;e.dataOrchestrationResultGuid=a.MiniReportNames.dataOrchestrationResultGuid;e.hasMiniReportData=!0;e.displayRealTimeUpdate=a.DisplayRealTimeUpdate;n(e.miniReportData.personNames);i(e.miniReportData.companyNames)}}),(t=>{e.mainProgressIndicator.Erase();throw t}))}};this.setupMiniReportContainers=function(){e.miniReportContainer=document.createElement("div");e.miniReportContainer.id=r["default"].ids.publicRecordsMiniReport;e.NamesContainer=document.createElement("div");e.NamesContainer.id=r["default"].ids.publicRecordsMiniReportNames;e.dataContainer=document.createElement("div");e.dataContainer.id=r["default"].ids.publicRecordsMiniReportData;e.parentElement?.prepend(e.miniReportContainer);e.miniReportContainer.append(e.NamesContainer,e.dataContainer)};this.redirectToExperianRealTime=function(t){var n=this;this.openPermissibleUseWidget((async function(e){var i="/PublicRecords/"+t.Key+"/GetExperianRealTimeDocument?PU="+e;const o=new E["default"](A["default"].Website,i,{headers:{"x-cobalt-pcid":Nf["default"].PageEventIdentifier}}),r=await o.Get();if(r.ok){const i=await r.text();if("Block"===i)n.showBlockView();else{var s={entityId:t.Key,viewType:"FullText",gatewayName:"realTimeExperian",transitionType:"DocumentItem",guid:i,PU:e,contextData:a["default"].DefaultContextData},l=a["default"].Relative(a["default"].Page.GatewayDocument(s));"Warn"===i?n.showWarnView(i,l):Ze["default"].PageTransition(l,!1)}}}),(function(){e.restoreAll();e.inProgress=!1}))};this.showWarnView=function(e,t){var n=this,i=new Xp["default"];i.SetCancelCallback();i.SetCallback((function(){n._acceptWarning(e,t)}));i.SetActionButtonText("View Document");i.SetTitle("This Document is Out of Plan");i.SetContentHtml("<p><strong>View this document for a single additional charge.</strong></p>");i.Draw()};this.showBlockView=function(){var e=new Xp["default"];e.SetHasCancelButton(!1);e.SetTitle("User Not Authorized");e.SetContentHtml(`<div class="co_genericBox co_systemErrorBox" id="co_blockedBox"><div class="co_genericBoxContent"><p>You do not have access to this content.</p><p>For more information please contact our Customer Relations Helpline at ${Rr.ProductSupportNumber}.</p></div></div>`);e.Draw()};this.acceptWarning=function(e,t){var n=a["default"].Rest.AcceptDocumentOutOfPlanV0({guid:e,feature:"imageDisplay",includesSurcharge:!1});new E["default"](A["default"].Website,a["default"].Relative(n)).Post("",(function(n){if(200!=n.StatusCode){(0,Ee.publishErrorMessage)(A["default"].Website,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error(`Error on post WarningAccepted of doc: ${e} on error: ${n.StatusCode}`)}Ze["default"].PageTransition(t)}))}};var nm=Kp.A.extend({publicRecordsMiniReportWidget:null,Draw:function(){this.createPublicRecordsMiniReport();this._super()},createPublicRecordsMiniReport:function(){var e=this,t=f["default"].GetObject(r["default"].objectIds.provider);e.publicRecordsMiniReportWidget=new tm;e.publicRecordsMiniReportWidget.SetParentDiv(e.parentObject);e.publicRecordsMiniReportWidget.SetDocumentGuid(e.documentDisplay.DocumentGuid);t.GetMetaInformation(e.documentDisplay.DocumentGuid,(function(t){e.publicRecordsMiniReportWidget.Draw(t)}),(function(t){e.publicRecordsMiniReportWidget.Draw(t)}))}});const im=nm;function am(){if(document.getElementById("co_article"))return!0;return!1}function om(e){(0,R.postUXEvent)("Cobalt.Website.PracInsights.Linkout.Start",e)}function rm(e,t,n,i,a){var o="unknown",r="unknown",s="unknown";if(e[0]&&e.parents){var l=e.parents(t);if(l[0]&&l.find){var c=l.find(a);c[0]&&(o=c.html());var d=l.find(n);if(d[0]){r=d.html();var u=d.attr("href");u&&u.split&&(s=v["default"].GetDocumentGuidFromUrl(u))}}}o=x()("<div/>").html(o).text();var h={articleName:r=x()("<div/>").html(r).text(),articleGuid:s=x()("<div/>").html(s).text()};h[i]=o;return h}function sm(){this.docGuid=null;this.type=null}sm.prototype.setDocGuid=function(e){this.docGuid=e};sm.prototype.getDocGuid=function(){return this.docGuid};sm.prototype.setType=function(e){this.type=e};sm.prototype.getType=function(){return this.type};sm.prototype.equals=function(e){if(!(We["default"].isNotNullOrUndefined(e)&&e instanceof sm))return!1;return this.docGuid===e.getDocGuid()&&this.type===e.getType()};const lm=sm;function cm(){var e=v["default"].getOverlayingFixedHeaderHeight();const t=document.createElement("a");t.className="co_napaHeaderAnchor";t.name="a_additionalResearch";t.style.position="relative";t.style.top=-1*e-4+"px";this.parentDiv=document.createElement("div");this.parentDiv.id="co_additionalResearch";document.getElementById("co_additionalResearchPlaceholder")?.after(this.parentDiv??"",t)}cm.prototype.draw=function(){if(!am()||!this.parentDiv)return;var e=i["default"].ViewData.DocumentGuid;We["default"].isNotNullOrUndefined(e)||this.renderErrorMessage({ErrorType:-5,ErrorMessage:"Null or undefined docGuid ("+e+")"});new ee["default"](this.parentDiv,"small").Draw();var t=this;this.callProvider("napa",e,(function(e){t.napaCallback(e)}))}
;cm.prototype.napaCallback=function(e){if(0!=e.ErrorType){this.parentDiv.replaceChildren();this.renderErrorMessage(e);f["default"].GetObject("Cobalt.Document.Napa.ScrollHelper").Scroll();return}var t=[];const n=document.createElement("h1");n.textContent="Additional Research";t.push(n);var i=!1;if(!e||!Array.isArray(e.napa)||e.napa.length<1){const e=document.createElement("div");e.textContent=D["default"].lookup("SC.RelatedInfo.AdditionalResearch.NoResults","No Additional Research materials exist for this article.");t.push(e)}else{i=!0;for(var a in e.napa){var o=this.createNapaBox(e.napa[a]);t.push(o)}}this.parentDiv.replaceChildren();this.parentDiv.append(...t);if(i){document.querySelectorAll("#co_additionalResearch div.co_authorThumb a, #co_additionalResearch div.co_byLine a").forEach((e=>e.addEventListener("click",(function(){(0,Be.website_ShowResumeResearchLightbox)("pause");var e=rm(x()(this),"div.co_summaryBox","h2 a","authorName","span.co_authorName");e.widget="relatedAnalysis";om(e)}))));document.querySelectorAll("#co_additionalResearch div.co_authorLogo a").forEach((e=>e.addEventListener("click",(function(){(0,Be.website_ShowResumeResearchLightbox)("pause");var e=rm(x()(this),"div.co_summaryBox","h2 a","firmName","span.co_firmName");e.widget="relatedAnalysis";om(e)}))))}f["default"].GetObject("Cobalt.Document.Napa.ScrollHelper").Scroll()};cm.prototype.createNapaBox=function(e){var t=document.createElement("div");t.className="co_summaryBox co_author";var n=document.createElement("div");n.className="co_summaryBox_tr";t.appendChild(n);var i=document.createElement("div");i.className="co_summaryBox_br";n.appendChild(i);var a=document.createElement("div");a.className="co_summaryBox_bl";i.appendChild(a);var o=document.createElement("div");o.className="co_authorThumb";a.appendChild(o);if(!(0,d.IsNullOrEmpty)(e.authorImgSrc)){var r=document.createElement("img");r.src=e.authorImgSrc;if((0,d.IsNullOrEmpty)(e.authorWebsite))o.append(r);else{var s=document.createElement("a");s.href=e.authorWebsite;s.target="_blank";s.appendChild(r);o.appendChild(s);r.alt=e.authorName+"'s website"}}var l=document.createElement("div");l.className="co_authorLogo";a.appendChild(l);if(!(0,d.IsNullOrEmpty)(e.firmImgSrc)){var c=document.createElement("img");c.src=e.firmImgSrc;if((0,d.IsNullOrEmpty)(e.firmWebsite))l.append(c);else{var u=document.createElement("a");u.href=e.firmWebsite;u.target="_blank";u.appendChild(c);l.appendChild(u);c.attr("alt",e.firmName+"'s website")}}var h=document.createElement("div");h.className="co_description";a.appendChild(h);var f=document.createElement("h2");h.append(f);var p=document.createElement("a");p.href=e.articleUrl;p.textContent=e.articleTitle;f.appendChild(p);var m=document.createElement("div");m.className="co_byLine";m.textContent="by ";h.appendChild(m);var g=document.createElement("span");g.className="co_authorName";g.textContent=e.authorName;if((0,d.IsNullOrEmpty)(e.authorWebsite))m.append(g);else{var v=document.createElement("a");v.href=e.authorWebsite;v.target="_blank";v.appendChild(g);m.appendChild(v)}(0,d.IsNullOrEmpty)(e.authorTitle)||m.append(" "+e.authorTitle);if(!(0,d.IsNullOrEmpty)(e.firmName)){m.append(", ");var y=document.createElement("span");y.className="co_firmName";y.textContent=e.firmName;m.appendChild(y)}return t};cm.prototype.callProvider=function(e,t,n){var i=new lm;i.setType(e);i.setDocGuid(t);f["default"].GetObject("Cobalt.RelatedInfo.Napa.RelatedAnalysis.Provider").requestData(i,n)};cm.prototype.renderErrorMessage=function(e){var t=new B["default"](this.parentDiv);t.SetListItemIdPrefix("coid_relatedInfo_errors_analysis");t.Draw();t.SetMessage(D["default"].lookup("SC.RelatedInfo.AdditionalResearch.Unavailable","Additional Research is not available at this time."));t.SetHiddenMessage(e.ErrorMessage+" ("+e.ErrorType+")")};const dm=cm;function um(){this.parentDiv=null}um.prototype.draw=function(){if(!am())return;this.parentDiv=document.createElement("div");this.parentDiv.id="coid_website_relatedAnalysisWidgetDiv";document.getElementById("coid_website_relatedInfoWidgetDiv")?.after(this.parentDiv??"");var e=i["default"].ViewData.DocumentGuid;We["default"].isNotNullOrUndefined(e)||this.renderErrorMessage({ErrorType:-5,ErrorMessage:"Null or undefined docGuid ("+e+")"});new ee["default"](this.parentDiv,"small").Draw();var t=this;this.callProvider("related",e,(function(e){t.relatedCallback(e)}));document.getElementById("coid_website_relatedInfoWidgetDiv")?.classList.add("co_relatedInfoDoc");function n(){document.querySelectorAll("#coid_website_relatedInfoWidgetDiv > *").forEach((function(e){e.style.display="none"}))}n();y["default"].Subscribe("Cobalt.RelatedInfo.TopTopics.Complete",(function(){n()}));y["default"].Subscribe("Cobalt.Document.DocumentLinks.DraggableUID",(function(){n()}))};um.prototype.relatedCallback=function(e){if(0!==e.ErrorType){this.parentDiv.replaceChildren();this.renderErrorMessage(e);return}var t=!1,n=document.createElement("div");n.id="coid_website_relatedAnalysis_docs";var i=document.createElement("div");i.id="co_relatedAnalysis_container";i.className="co_genericBox co_relatedAnalysis_container";n.append(i);var a=document.createElement("h3");a.className="co_genericBoxHeader";i.append(a);var o=document.createElement("span");o.innerHTML="<strong>Related</strong> Analysis";a.append(o);var r=document.createElement("div");r.className="co_genericBoxContent";i.append(r);var s=document.createElement("ul");r.append(s);var l=e.related;if(Array.isArray(l)&&l.length>0){t=!0;for(var c in l)s.appendChild(this.createRelatedCat(l[c]))}var d=document.createElement("div");d.className="co_genericBoxFooter";i.append(d);d.append(document.createElement("span"));this.parentDiv.replaceChildren();t&&this.parentDiv.append(n)};um.prototype.createPractInsight=function(e,t){var n=document.createElement("li");n.className="co_relatedAnalysis_insight co_relatedAnalysis_item";if(t){n.classList.add("co_relatedAnalysis_expandable");n.style.display="none"}var i=document.createElement("h4");i.className="co_practitionerInsightsLogo";i.textContent="Practitioner Insights";n.append(i);var a=document.createElement("div");a.className="co_authorThumb";n.append(a);if(!(0,d.IsNullOrEmpty)(e.authorImgSrc)){var o=document.createElement("img");o.style.height="30px";o.style.width="26px";o.src=e.authorImgSrc;if((0,d.IsNullOrEmpty)(e.authorWebsite))a.append(o);else{var r=document.createElement("a");r.href=e.authorWebsite;r.target="_blank";r.appendChild(o);a.appendChild(r);o.alt=e.authorName+"'s website"}}var s=document.createElement("div");s.className="co_byLine";s.textContent="by ";n.append(s);var l=document.createElement("span");l.className="co_authorName";l.textContent=e.authorName;if((0,d.IsNullOrEmpty)(e.authorWebsite))s.append(l);else{var c=document.createElement("a");c.href=e.authorWebsite;c.target="_blank";c.appendChild(l);s.appendChild(c)}(0,d.IsNullOrEmpty)(e.authorTitle)||s.append(" "+e.authorTitle);if(!(0,d.IsNullOrEmpty)(e.firmName)){s.append(", ");var u=document.createElement("br");s.append(u);var h=document.createElement("span");h.className="co_firmName";h.textContent=e.firmName}var f=document.createElement("p");n.append(f);if((0,d.IsNullOrEmpty)(e.segmentTitle)||"Overview"===e.segmentTitle){var p=document.createElement("strong");f.append(p);var m=document.createElement("a");m.href=e.articleUrl;m.append(e.articleTitle);p.appendChild(m)}else{f.append(e.articleTitle);var g=document.createElement("p");g.className="co_segmentLink";n.append(g);var v=document.createElement("strong");g.append(v);var y=document.createElement("a");y.href=e.segmentUrl;y.append(e.segmentTitle);v.appendChild(y)}var b=document.createElement("p");n.append(b);(0,d.IsNullOrEmpty)(e.articleCitation)||b.append(e.articleCitation);return n};um.prototype.createRelatedCat=function(e,t){if(!Array.isArray(e.documents)||e.documents.length<=0)return"";var n=document.createElement("li");n.className="co_relatedAnalysis_item";if(t){n.classList.add("co_relatedAnalysis_expandable");n.style.display="none"}var i=document.createElement("h4");i.innerHTML=e.heading;n.append(i);var a=document.createElement("ul");n.append(a);for(var o in e.documents){
var r,s=e.documents[o],l=document.createElement("li");a.append(l);var c=document.createElement("p");l.append(c);for(r in s.titleLines)c.insertAdjacentHTML("beforeend",s.titleLines[r]+"<br/>");var d=document.createElement("p");l.append(d);var u=document.createElement("strong");d.append(u);var h=document.createElement("a");u.append(h);h.setAttribute("href",s.href);for(r in s.descriptionLines)h.insertAdjacentHTML("beforeend",s.descriptionLines[r]+"<br/>");var f=document.createElement("p");l.append(f);for(r in s.citationLines)f.insertAdjacentHTML("beforeend",s.citationLines[r]+"<br/>")}return n};um.prototype.callProvider=function(e,t,n){var i=new lm;i.setType(e);i.setDocGuid(t);f["default"].GetObject("Cobalt.RelatedInfo.Napa.RelatedAnalysis.Provider").requestData(i,n)};um.prototype.renderErrorMessage=function(e){var t=new B["default"](this.parentDiv);t.SetListItemIdPrefix("coid_relatedInfo_errors_analysis");t.Draw();t.SetMessage(D["default"].lookup("SC.RelatedInfo.RelatedAnalysis.Unavailable","Related Analysis is not available at this time."));t.SetHiddenMessage(e.ErrorMessage+" ("+e.ErrorType+")")};const hm=um;var fm=n(6306);function pm(){fm["default"].call(this)}pm.prototype=new fm["default"];pm.prototype.constructor=pm;pm.prototype.submitWebRequest=async function(e){var t="/RelatedInfo/v1/RelatedAnalysis/"+e.getType();if(!We["default"].isNotNullOrUndefined(e.getDocGuid())){(0,Ee.publishErrorMessage)(A["default"].RelatedInfo,D["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("docGuid or folderId parameter required")}t+="/"+e.getDocGuid();a["default"].PageContextData&&(t+="?"+r["default"].queryParameters.contextData+"="+a["default"].PageContextData);var n=new E["default"](A["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}});await n.Get()};const mm=pm;var gm=n(8849);const vm=new(n(4208)["default"])(up["default"].registrations);vm.Register(r["default"].objectIds.documentDisplayEventHandlers,{Type:wp,Singleton:!1});vm.Register(r["default"].objectIds.provider,{Type:So["default"],Singleton:!1});vm.Register(r["default"].objectIds.draggable,{Type:gm["default"],Singleton:!0});vm.Register(r["default"].objectIds.widget$GlossaryLightbox,{Type:Rf["default"],Singleton:!1});vm.Register(r["default"].objectIds.widget$KnowHowDocumentShared,{Type:Ep,Singleton:!1});vm.Register(r["default"].objectIds.arbitrationProvider,{Type:Lp,Singleton:!1});vm.Register(r["default"].objectIds.inlineKeyCitesButton,{Type:Qo,Singleton:!1});vm.Register(r["default"].objectIds.widgetArbitrationChart,{Type:Np,Singleton:!0});vm.Register(r["default"].objectIds.widgetRedlineToggle,{Type:Mp,Singleton:!1});vm.Register(r["default"].objectIds.widget$SearchWithinDocument,{Type:Fp["default"],Singleton:!1});vm.Register(r["default"].objectIds.widget$SelectedTextMenu,{Type:zp,Singleton:!0});vm.Register(r["default"].objectIds.widget$DocumentTools,{Type:im,Singleton:!0});vm.Register(r["default"].objectIds.widget$BackToResults,{Type:Jo.A,Singleton:!1});vm.Register("Cobalt.RelatedInfo.Napa.AdditionalResearch.Widget",{Type:dm,Singleton:!0});vm.Register("Cobalt.RelatedInfo.Napa.RelatedAnalysis.Widget",{Type:hm,Singleton:!0});vm.Register("Cobalt.RelatedInfo.Napa.RelatedAnalysis.Provider",{Type:mm,Singleton:!0});vm.Register("Cobalt.Document.Napa.ScrollHelper",{Type:function(){var e=this,t=[];this.RegisterDependancy=function(e){t[e]=!1};this.DependancyComplete=function(e){t[e]=!0};this.WaitingForDependancies=function(){var e=!1;for(var n in t)if(!t[n]){e=!0;break}return e};this.Scroll=function(t,n,i){if(i&&e.WaitingForDependancies())return;t&&t.split||(t=window.location.hash);n||(n=0);if(0==t.indexOf("#a_")){var a=t;t="#"+t.substring(2);window.location.hash!=a&&(window.location.hash=t)}var o=e.FindPosition(t);if(null!=o){const e=0===n?"instant":"smooth";window.scrollTo({top:o,behavior:e})}};this.FindPosition=function(e){var t=null;if("#_additionalResearch"==e){const e=document.getElementById("co_article");(0,ft.offset)(e)?.top&&(0,u.getElementHeight)(e)&&(t=(0,ft.offset)(e).top+(0,u.getElementHeight)(e)+30-230)}else{var n=e.substring(2);if(document.getElementById("co_articleOverview")?.getAttribute("segmentid")==n)t=0;else try{const e=document.querySelector("div[segmentid="+n+"]");(0,ft.offset)(e)?.top&&(t=(0,ft.offset)(e).top-230)}catch(e){}}return t}},Singleton:!0});vm.Register(r["default"].objectIds.widget$LinkBuilder,{Type:ll,Singleton:!1});const ym=(0,n(7756)["default"])((e=>{const t=Z["default"].PageData.DocumentTabView;t.IsSkipOutOfPlanChecked&&g["default"]._SetInCache("Document","IsSkipOutOfPlanChecked",t.IsSkipOutOfPlanChecked);e("init");dp["default"].Setup();const n=Z["default"].WidgetDomIds;document.getElementById("coid_website_recommendedDocuments")&&(n.RelatedDocuments="coid_website_recommendedDocuments");document.getElementById("coid_website_relatedInfoIPWidgetDiv")&&(n.RelatedPatents="coid_website_relatedInfoIPWidgetDiv");i["default"].isUserDocument=t.IsUserDocument;i["default"].userDocumentData=t.UserDocumentData;i["default"].HasProfileSubTab=t.HasProfileSubTab;i["default"].ProfileSubTabData=t.ProfileSubTabData;i["default"].SetDisplayOptions(t.DisplayOptions);t.ToolBarMode&&i["default"].SetToolBarMode(t.ToolBarMode);const a=Z["default"].ViewModelData;i["default"].Setup(a,n);e("setup",t);o["default"].EnableIpad&&document.addEventListener("touchstart",cp);dp["default"].Draw();e("draw")})).on("setup",(function(){document.getElementById("co_iPadKeyCiteMenuToggle")?.addEventListener("click",(function(){document.getElementById("co_docPrimaryTabNavigation")?.classList.toggle("co_showState")}))}),(function(){y["default"].Subscribe(r["default"].events.documentRenderComplete,(function(){(new Yf).Initialize()}))}),(function(){cf();y["default"].Subscribe("Cobalt.RelatedInfo.BrowseItem.Clicked",gl.TransferToRelatedInfo);y["default"].Subscribe("Cobalt.RelatedInfo.AllTopicsFromDocument.Clicked",gl.TransferToRelatedInfoAllTopicsFromDocument);y["default"].Subscribe("Cobalt.Document.Widget.KeyCiteAlert.Clicked",ef.HandleKeyciteAlertClick)}),(function(){try{(Nn=new Ln).IsUserDocument=i["default"].isUserDocument;Nn.SetDocumentGuid(i["default"].ViewData.DocumentGuid);Nn.SetDomId(i["default"].WidgetDomIds.DocDisplay);Nn.SetView(i["default"].ViewData.ViewType);Nn.SetNavigationProperties({ListSource:i["default"].ViewData.DocumentSource.ListSource,NavigationPath:i["default"].ViewData.DocumentSource.NavigationPath,List:i["default"].ViewData.DocumentSource.List,Rank:i["default"].ViewData.Rank,IsSnapSnippetLink:i["default"].ViewData.IsSnapSnippetLink});Nn.SetPersistProperties({PersistedDocumentGuid:i["default"].ViewData.PersistedDocumentGuid,Checksum:i["default"].ViewData.DocumentVersion,SubContentTypeId:i["default"].ViewData.SubContentTypeId,PersistedState:i["default"].ViewData.PersistedState});Nn.SetWebsiteProperties({CacheScope:i["default"].ViewData.SessionScope,DocSource:i["default"].ViewData.DocumentSource.Key,ListPageSource:i["default"].ViewData.DocumentSource.ListPageSourceKey});Nn.SetSearchWithinProperties({SearchWithinHandle:i["default"].ViewData.SearchWithinHandle,NeedToInjectTerms:i["default"].ViewData.NeedToInjectTerms,SearchWithinQuery:i["default"].ViewData.SearchWithinQuery});Nn.SetUrmId(i["default"].ViewData.UrmId);Nn.SetTermNavigationState(i["default"].ViewData.TermNavState);Nn.Configure(i["default"].displayOptions);Nn.SetIsDocketsUpdate(i["default"].ViewData.IsDocketsUpdate);Nn.SetDocumentSections(i["default"].ViewData.DocumentSections);Nn.SetSecureContentHash(i["default"].ViewData.SecureContentHash);Nn.SetHasDraftingNotes(i["default"].ViewData.HasDraftingNotes);Nn.SetHasDocumentSections(i["default"].ViewData.HasDocumentSections);Nn.SetRulebookMode(i["default"].ViewData.RulebookMode);Nn.SetRulebookModeContent(i["default"].ViewData.RulebookModeContent);if(i["default"].userDocumentData){Nn.ContainerId=i["default"].userDocumentData.containerId;Nn.ContainerType=i["default"].userDocumentData.containerType;Nn.AccountKey=i["default"].userDocumentData.accountKey}i["default"].DocDisplayWidget=Nn}catch(e){tt["default"].ConsoleMessage("Error creating Cobalt.Document.DocumentDisplay widget: "+e,tt["default"].Level.Error)}
}),(function(){try{if(i["default"].displayOptions.showMainToolbar){let e;if(i["default"].toolBarMode==Rn.DocumentUnavailable)e=new Cr;else if(i["default"].toolBarMode==Rn.DocumentPersisted)e=new xr;else if(i["default"].toolBarMode!=Rn.Document||i["default"].displayOptions.isNewDocumentView){if(i["default"].toolBarMode==Rn.Document&&i["default"].displayOptions.isNewDocumentView){e=new ml;e.SetDocumentData(i["default"].documentData);e.SetParentDivs(document.getElementById(i["default"].WidgetDomIds.DocTopToolbar),document.getElementById(i["default"].WidgetDomIds.DocRightToolbar),document.getElementById(i["default"].WidgetDomIds.DocBottomToolbar))}else if(i["default"].toolBarMode==Rn.DualSearchDocument){Y.A.SetDocumentNavigation(new yr);e=new Ir}}else e=new gr;i["default"].displayOptions.isNewDocumentView||e.SetParentDiv(document.getElementById(i["default"].WidgetDomIds.DocToolbar));e.SetDocumentDisplay(i["default"].DocDisplayWidget);e.SetSearchGradingId(i["default"].ViewData.Grading);e.SetKeyCiteAlertWarning(i["default"].ViewData.KeyCiteAlertWarning);e.SetDocketTrackWarning(i["default"].ViewData.DocketTrackWarning);i["default"].DocToolbarWidget=e}}catch(e){tt["default"].ConsoleMessage("Error creating Cobalt.Document.DocumentToolbar widget: "+e,tt["default"].Level.Error)}}),(function(){vf.SetViewData(i["default"].ViewData);vf.SubscribeToDocketSingleUpdateEvent()}),bf.assembleComponents,(function(){var e=i["default"].ViewData,t=e.DocumentGuid;(0,d.IsNotNullOrEmpty)(e.BaseDocumentGuid)&&(t=e.BaseDocumentGuid);ef.LoadRelatedInformationCounts(t,e.DocumentSource.Key,e.Rank,i["default"].HasProfileSubTab,i["default"].ProfileSubTabData,e.EntityId,e.EntityType)}),(function(){var e=i["default"].ViewData;if(e&&void 0!==e&&void 0!==e.BaseDocumentGuid&&null!==e.BaseDocumentGuid&&void 0!==e.DocumentLink&&null!==e.DocumentLink){var t=a["default"].Parse(e.DocumentLink),n=a["default"].Relative(a["default"].Page.Document({guid:e.DocumentGuid,viewType:"FullText",originationContext:t.QueryString.originationContext,transitionType:t.QueryString.transitionType,contextData:t.QueryString.contextData,ppcid:Nf["default"].PageEventIdentifier})),o=document.createElement("span"),r=document.createElement("a");r.innerHTML="View relationships to this document";r.id="co_document_fullTextLink";r.className="co_blobLink";r.setAttribute("href",n);var s=document.createElement("img");s.className="co_pdfIcon";s.setAttribute("src",A["default"].GetUrl(A["default"].Images,"/images/v1/co_relationship-icon.gif"));r.prepend(s);o.append(r);document.getElementById("co_documentLinksContainer")?.append(o)}}),(function(){document.querySelectorAll("a.co_link").forEach((e=>{if(e.href){const t=a["default"].Parse(e.href),n=t.QueryString["refType"];if(!n||!["a2","aJ","ap","ew","jp","mc","me","pi","rq","wk"].includes(n.toLowerCase()))return;Z["default"].PageData.DocumentTabView&&Z["default"].PageData.DocumentTabView.UserDocumentData&&(t.QueryString.analyticGuid=Z["default"].PageData.DocumentTabView.UserDocumentData.documentGuid);e.href=a["default"].Absolute(t)}}))}),(function(){if(i["default"].ViewData.FullTocOnDoc){var e=new Os.A;e.SetParentDiv(document.getElementById("co_leftColumn"));e.SetDocumentGuid(i["default"].ViewData.DocumentGuid);e.Draw()}else Kf()})).on("draw",(function(){null!=Nn&&Nn.Draw()}),(function(){if(o["default"].isIacOn("IAC-ACCESSIBILITY-DOC-DOM-FOCUS-ORDER")&&i["default"].toolBarMode==Rn.Document&&i["default"].displayOptions.isNewDocumentView&&i["default"].displayOptions.showMainToolbar&&v["default"].showGlobalDocumentNavigation()){const e=new nl;e.SetDocumentDisplay(i["default"].DocDisplayWidget);e.SetParentDiv(document.getElementById(i["default"].WidgetDomIds.DocDisplay));e.Draw()}}),(function(){null!=i["default"].DocToolbarWidget&&i["default"].DocToolbarWidget.Draw()}),(function(){if(!0===f["default"].IsRegistered(r["default"].objectIds.widget$SpeedRead))try{var e=f["default"].GetObject(r["default"].objectIds.widget$SpeedRead);e.SetParentDiv(document.getElementById(r["default"].ids.document));null!==e&&e.Draw()}catch(e){tt["default"].ConsoleMessage("Error creating Cobalt.Document.DocumentToolbar widget: "+e,tt["default"].Level.Error)}}),(function(){var e=i["default"].ViewData;(0,d.IsNotNullOrEmpty)(e.KMSessionToken)&&(0,d.IsNotNullOrEmpty)(e.LegacyId)&&ef.LoadKMRelatedInformationCounts(e.KMSessionToken,e.KMProtocol,e.LegacyId,e.FirmName,e.FirmLogoUri,e.DocumentGuid)}),(function(){0==(null!==document.getElementById("hideTopTopics")&&"true"===document.getElementById("hideTopTopics").value)&&null!=i["default"].documentData&&(0,d.IsNotNullOrEmpty)(i["default"].WidgetDomIds.TopTopics)&&null!=document.getElementById(i["default"].WidgetDomIds.TopTopics)&&ef.AddTopTopicsWidget(i["default"].WidgetDomIds.TopTopics,i["default"].ViewData.DocumentGuid,null,i["default"].ViewData.DocumentSource.Key,i["default"].ViewData.Rank,i["default"].documentData,i["default"].WidgetDomIds.RelatedDocuments)}),(function(){document.querySelectorAll("#coid_website_documentWidgetDiv .co_glossaryTerm > a")?.forEach((e=>{e.setAttribute("role","button");e.addEventListener("click",Pf)}))}),(function(){if((0,d.IsNotNullOrEmpty)(i["default"].WidgetDomIds.DocTools)&&null!=document.getElementById(i["default"].WidgetDomIds.DocTools)){var e=f["default"].GetObject(r["default"].objectIds.widget$DocumentTools);e.SetParentDiv(document.getElementById(i["default"].WidgetDomIds.DocTools));e.SetDocumentDisplay(i["default"].DocDisplayWidget);e.Draw();var t=f["default"].GetObject(r["default"].objectIds.widget$DetailsBox);t.SetParentDiv(document.getElementById(i["default"].WidgetDomIds.DocTools));t.Draw()}}),(function(){if(o["default"].isIacOn("IAC-LARGE-DOC-PERFORMANCE"))if(h["default"].Instance){var e=0;y["default"].Subscribe(r["default"].events.lastChunkAdded,(function(){for(var t=0;t<M.length;t++)e+=M[t].querySelectorAll("*").length;i["default"].DocumentNodeCount=e}))}else i["default"].DocumentNodeCount=document.querySelectorAll("#co_document *").length}),(function(){if(o["default"].UseSnapshots&&!o["default"].EnableIpad&&!o["default"].EnableIphone){var e=new Ff;e.initSnapshotPersonHover();"Statutes"!==i["default"].documentData.ContentType||v["default"].isNarrowTocDisplayEnabled()||e.initFamousNameSummary(ne["default"].Instance.DocumentGuid);var t=document.querySelector(e.getMaintainedTextSelector());t&&i["default"].initMaintainedTag(t,e)}}),(function(){if(o["default"].isFeatureSupported("TocReportView")){var e=a["default"].Parse(window.location.href.toString()).QueryString["researchReportScrollTo"];e&&y["default"].Subscribe(r["default"].events.notesAndHighlightsFinishedLoading,(function(){var t=document.getElementById(r["default"].classes.highlightSelectionPrefix+e);t&&t.scrollIntoView({block:"center",behavior:"smooth"})}))}}),(function(){var e=a["default"].Parse(window.location.href).QueryString["highlightScrollTo"];e&&y["default"].Subscribe(r["default"].events.notesAndHighlightsFinishedLoading,(function(){rf();if(v["default"].isNarrowTocDisplayEnabled())y["default"].Publish("Cobalt.Document.ScrollToHighlightedText",{Data:{scrollLocation:e}});else{var t=lf(),n=document.querySelectorAll(`#co_document [data-annotationid^='${e}']`);0===n.length&&(n=document.querySelectorAll(`#co_documentNotes [data-annotationid^='${e}']`));n.length>0&&sf(x()(n[0]),t)}}))}),(function(){if(jf()){(new Uf).InitializeWidget()}}),(function(){if(o["default"].isIacOn("IAC-USERUPLOADDOCUMENT-EXTRACTCITATION")&&"User Document"===i["default"].documentData.ContentType){(new Vf).InitializeWidget()}}),(function(){var e=i["default"].userDocumentData;if(e&&!(0,d.IsNullOrEmpty)(e.uploadedFileName)){var t=new zf(e.documentGuid,e.uploadedFileName,e.containerId,e.containerType,e.accountKey);t.SetParent("#downloadUserDocument");t.Draw()}}))},4208:(e,t,n)=>{e.exports=n(4507)(18269)},4211:(e,t,n)=>{e.exports=n(4507)(83048)},4227:(e,t,n)=>{e.exports=n(4507)(76325)},4249:(e,t,n)=>{e.exports=n(4507)(37526)},4277:(e,t,n)=>{e.exports=n(4507)(46500)},4283:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var i=n(1434),a=n.n(i),o=n(9912),r=n(8286);const s=a().extend({init:function(){this.parentElement=null;this.documentNavigation=null
;this.wrappingElementId=r["default"].ids.breadcrumb},SetParentDiv:function(e){this.parentElement=e},SetDocumentNavigation:function(e){this.documentNavigation=e},Draw:function(){if(!this.parentElement)throw new Error("Could Not Draw BackToResults: parentElement was null or undefined");this.AddReturnToListWidget(this.parentElement)},AddChildToParent:function(e,t,n,i){var a=document.createElement(t);a.id=n;a.innerHTML=i;e.appendChild(a)},AddReturnToListWidget:function(e){if(this.documentNavigation&&this.documentNavigation.hasReturnToLink){var t=this.documentNavigation.returnTo;if(t.Url&&t.Title&&t.Url.length>0&&t.Title.length>0){var n=this.GetTitleFromReturnTo(t),i=this.getAnchorLink(t.Url,n);this.AddChildToParent(e,"DIV",this.wrappingElementId,i)}}},getAnchorLink:function(e,t){return`<a class="co_tbButton" href="${e}"><span class="icon25 icon_back_arrow btnOffset"></span><span class="co_returnToResultsLabel">${t}</span></a>`},GetTitleFromReturnTo:function(e){var t=e.Title;switch(t){case"list":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToList","Return to list");break;case"Folder":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToFolder","Return to Folder");break;case"History":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToHistory","Return to History");break;case"Trash":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToTrash","Return to Trash");break;case"Search Results":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToSearchResults","Return to Search Results");break;case"Research Report":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToResearchReport","Return to Research Report");break;case"Report":t=o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToReport","Return to Report");break;default:t=o["default"].format("SC.Document.Widget.BackToResults.ReturnToButtonText",{Title:e.Title},"Return to "+e.Title)}return t}});var l=n(4383),c=n(6357);const d={OwnsReturnToUri:function(e){return/#rr-\d+$|researchAccelerator=page/.test(e)}};var u=n(7634),h=n(9459);const f=s.extend({AddReturnToListWidget:function(e){this.extendDocumentNavigation();this._super(e);this.AttachDocumentFeedBack(e)},extendDocumentNavigation:function(){var e=l["default"].Parse(window.location.href);if(this.documentNavigation.hasReturnToLink){var t=/#rr-(.*)$/.exec(this.documentNavigation.returnTo.Url);this.documentNavigation.returnTo.Url?.indexOf("/DocumentAnalyzer/Reports/")>0&&(this.documentNavigation.returnTo.Url.indexOf("#")>0?this.documentNavigation.returnTo.Url+="?restoreState=true":this.documentNavigation.returnTo.Url+="#?restoreState=true");t&&!this.ResearchAccelleratorItemExists(t[1])&&Object.assign(this.documentNavigation,{hasReturnToLink:!1,hasNavigationData:!1,returnTo:{}})}else if("SmartFolders"===e.QueryString["listSource"]||"DocumentAnalyzer"===e.QueryString["listSource"]){var n=e.QueryString["navStorageKey"];n?c["default"].setItem("navStorageKey",n):n=c["default"].getItem("navStorageKey",n);if(n){var i;i="SmartFolders"===e.QueryString["listSource"]?JSON.parse(c["default"].getItem(encodeURIComponent("SmartFoldersData-"+n.split("|")[0]))):JSON.parse(c["default"].getItem(encodeURIComponent("BriefAnalyzerData-"+n.split("|")[0])));Object.assign(this.documentNavigation,{hasReturnToLink:!0,returnTo:{Url:i&&i.returnToLink?decodeURIComponent(i.returnToLink):"",Title:i&&i.returnToText||o["default"].lookup("SC.Document.Widget.BackToResults.ReturnToList","Return to list")}})}else Object.assign(this.documentNavigation,{hasReturnToLink:!1,hasNavigationData:!1,returnTo:{}})}},AttachDocumentFeedBack:function(e){if(h.A.isEnabled()){const i=(e??document).querySelector(`#${r["default"].ids.breadcrumb}`);i?.querySelector("a.co_tbButton")?.setAttribute("href","javascript:void(0);");var t=new l["default"].QueryStringParser(this.documentNavigation.returnTo.Url).GetValue("searchId");if(window.history.length>1){window.history.pushState("documentFeedbackState",null,null);this.handleWindowPopstate=function(){h.A.showFeedbackLightbox((function(){window.history.back()}),{searchId:t})};window.addEventListener("popstate",this.handleWindowPopstate,{once:!0})}var n=this.documentNavigation.returnTo.Url;i?.addEventListener("click",(()=>h.A.showFeedbackLightbox((()=>window.location.href=n),{searchId:t})))}},GetTitleFromReturnTo:function(e){if(d.OwnsReturnToUri(e.Url))return o["default"].lookup("SC.Document.ResearchAccelerator.Widget.BackToResults.BackToResearchAccelerator","Back to Research Recommendations");var t=l["default"].Parse(window.location.href).QueryString["listSource"];if("SmartFolders"===t||"DocumentAnalyzer"===t)return e.Title;return this._super(e)},UpdateReseachAcceleratorPrevNextLinks:function(e){var t=this.documentNavigation.previousDocumentUrlAndTitle.Url,n=this.documentNavigation.nextDocumentUrlAndTitle.Url;"string"==typeof t&&t.length>0&&(this.documentNavigation.previousDocumentUrlAndTitle.Url=this.AppendReasearchAccelleratorReturnUrl(t,e));"string"==typeof n&&n.length>0&&(this.documentNavigation.nextDocumentUrlAndTitle.Url=this.AppendReasearchAccelleratorReturnUrl(n,e))},AppendReasearchAccelleratorReturnUrl:function(e,t){var n=l["default"].Parse(e);"string"==typeof t&&(n.QueryString["returnTo"]=t);return l["default"].Relative(n)},ResearchAccelleratorItemExists:function(e){if("undefined"==e)return!0;var t=u["default"].viewedRecommendations.getItem();try{t=JSON.parse(t);if(Array.isArray(t)){return t.filter((t=>t.Timestamp==e)).length>0}}catch(e){u["default"].viewedRecommendations.removeItem()}return!1}})},4341:(e,t,n)=>{e.exports=n(615)(2658)},4352:(e,t,n)=>{e.exports=n(4507)(93620)},4377:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(1434),a=n.n(i),o=n(8286),r=n(1369);const s=a().extend({init:function(){},documentDisplay:null,parentObject:null,Name:"TermNavigation",Id:o["default"].ids.docToolbarTermNavigation,termNavWidget:null,SetParentDiv:function(e){this.parentObject=e},SetDocumentDisplay:function(e){this.documentDisplay=e},Draw:function(){var e=this;this.termNavWidget=r["default"].GetObject(o["default"].objectIds.widget$TermNavigation,[{Val:e.documentDisplay}]);this.termNavWidget.SetParentDiv(e.parentObject);this.termNavWidget.SerialNumber=e.documentDisplay.SourceSerial;this.termNavWidget.CreateTermNavigationByDirection(e.documentDisplay.TermNavigationState)}})},4383:(e,t,n)=>{e.exports=n(615)(7123)},4411:(e,t,n)=>{e.exports=n(4507)(69682)},4422:(e,t,n)=>{e.exports=n(4507)(73772)},4428:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>p});var i=n(9912),a=n(2001),o=n(7560),r=n(5382),s=n(2769),l=n(1446),c=n(1811);class d extends l.PureComponent{constructor(e){super(e);this.state={isVisible:!1};this.showInfoBubble=this.showInfoBubble.bind(this);this.hideInfoBubble=this.hideInfoBubble.bind(this)}showInfoBubble(){this.setState({isVisible:!0})}hideInfoBubble(){this.setState({isVisible:!1})}render(){return(0,c.jsxs)("span",{className:"co_infoBoxContainer",children:[(0,c.jsx)("span",{className:"co_moreInfo",onMouseOver:this.showInfoBubble,onMouseOut:this.hideInfoBubble,onFocus:this.showInfoBubble,onBlur:this.hideInfoBubble,tabIndex:0,children:this.props.infoShort}),this.state.isVisible&&(0,c.jsxs)("div",{className:`co_infoBox ${this.props.position} ${this.props.status||""}`,role:"alert",tabIndex:-1,children:[(0,c.jsx)("div",{className:"co_infoBox_message",children:this.props.infoText}),(0,c.jsx)("div",{className:"pointer",children:(0,c.jsx)("div",{className:"pointerInner"})})]})]})}}d.displayName="Info (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Info.jsx)";const u=d;function h({helpText:e}){const t=e??i["default"].lookup("SC.RelatedInfo.StatuteCompare.OverlayHelpFormattingText","Deleted text and added text may include formatting differences.");return(0,c.jsx)("div",{className:"CompareKey-info",children:(0,c.jsx)(u,{status:r["default"].None,infoShort:t,infoText:t,position:`${s["default"].TopLeft} ${s["default"].Bottom}`})})}h.displayName="InfoKey (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Key/InfoKey.jsx)";const f=h;const p=function({isHighlightView:e,helpText:t,children:n}){
const r=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.Key","Key:");if(n)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("strong",{children:r}),n,(0,c.jsx)(f,{helpText:t})]});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("strong",{children:r}),(0,c.jsx)(a["default"],{isHighlightView:e}),(0,c.jsx)(o["default"],{isHighlightView:e}),(0,c.jsx)(f,{helpText:t})]})}},4471:(e,t,n)=>{e.exports=n(4507)(50109)},4506:(e,t,n)=>{e.exports=n(4507)(96571)},4507:e=>{"use strict";e.exports=bundle_9c501a451e6a897939757a7935ce4526},4572:(e,t,n)=>{e.exports=n(4507)(90311)},4625:(e,t,n)=>{e.exports=n(4507)(97304)},4638:(e,t,n)=>{e.exports=n(8846)(5682)},4652:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>m});var i=n(9691),a=n.n(i),o=n(9191),r=n.n(o),s=n(1987),l=n.n(s);const c={sortedIndexWithNulls:function(e,t,n=e=>e){const i=null;let a,o,r=0,s=0,l=e.length||s;const c=l?Math.ceil(Math.log(l)/Math.log(2))+1:0;for(;s<l&&r++<c;){a=s+(l-s>>1);o=n(e[a]);if(null===o){let r=a,c=o;for(;c===i&&r>s;)c=n(e[--r]);if(c!==i&&c>t)l=r;else{let d=a,u=o;for(;u===i&&d<l-1;)u=n(e[++d]);if(u===i){s=c!==i&&c<t?r+1:r;l=s}else u<t?s=d+1:l=d}}else o<t?s=a+1:l=a}if(r>c)throw new Error("Max iteration limit is reached");return s}};c.getCurrentSectionElement=function(e,t){const n=c.sortedIndexWithNulls(e,t,(e=>{const t=e.getBoundingClientRect();return(e=>Boolean(e.top||e.left||e.width||e.height))(t)?t.top:null}));let i=null;i=0===n?null:n>0&&n<e.length?e[n-1]:e[e.length-1];return i};const d=c;var u=n(1633),h=n(4422);const f=class{constructor(){this.HandlersAttached=!1;this.AnchorsSelector="[id^=co_anchor_]";this.CurrentAnchor=null;this.Anchors=[];this.PositionModifier=5;this.$window=r()(window);this.handleWindowChanges=(0,u.createThrottledFastdomMeasure)((()=>{this.ProcessCurrentPosition()}))}UpdateAnchors(){this.Anchors=this.FindAnchors()}FindAnchors(){return document.querySelectorAll(this.AnchorsSelector)}CalculateDocumentTopPosition(){return(document.getElementById("co_docTopToolbar")?.getBoundingClientRect().bottom??0)+this.GetHeaderHeight()+this.PositionModifier+this.GetMarginTopModifier()}CalculateCurrentAnchor(){let e=null;if(this.Anchors.length&&this.GetScrollTop()>0){const t=this.CalculateDocumentTopPosition();e=d.getCurrentSectionElement(this.Anchors,t)}this.CurrentAnchor=e}ProcessCurrentAnchor(){}ProcessCurrentPosition(){const e=this.CurrentAnchor;this.CalculateCurrentAnchor();e!==this.CurrentAnchor&&l().mutate((()=>{this.ProcessCurrentAnchor()}))}AnchorsExists(){return this.Anchors&&this.Anchors.length>0}AttachHandlers(){if(this.HandlersAttached||!this.AnchorsExists())return;this.$window.on("scroll resize",this.handleWindowChanges);this.HandlersAttached=!0}GetHeaderHeight(){return document.getElementById("co_docStickyHeader")?.offsetHeight??0}GetMarginTopModifier(e){var t=e?r()((0,h.next)(e,".doc_headText, .co_headtext")):r()(".doc_headText, .co_headtext");return t.length?parseFloat(t.css("margin-top")):0}GetScrollTop(){return document.documentElement.scrollTop||this.$window.scrollTop()}Reset(){this.UpdateAnchors();this.AttachHandlers();this.AnchorsExists()&&this.ProcessCurrentPosition()}Initialize(){this.Reset()}Remove(){this.$window.off("scroll resize",this.handleWindowChanges);this.HandlersAttached=!1}};var p=n(1422);const m=class extends f{constructor(){super();this.SubsectionTitle=document.createElement("div");this.SubsectionTitle.classList.add("clone","subSectionTitle")}GetCurrentToCItem(e){const t=e?.id;return r()("#co_leftColumn [href=#"+t+"]")}GetCurrentToCItemHtml(e){return this.GetCurrentToCItem(e).html()}ProcessCurrentAnchor(){if(this.CurrentAnchor){this.SubsectionTitle.innerHTML=this.GetCurrentToCItemHtml(this.CurrentAnchor);this.AddSubsectionTitle(this.SubsectionTitle)}else this.RemoveSubsectionTitle()}AddSubsectionTitle(e){const t=document.querySelector("#co_docStickyHeader .co_title");t?.classList.remove("noTOC");t?.querySelectorAll(".clone").forEach((e=>e.remove()));t?.append(e)}RemoveSubsectionTitle(){const e=document.querySelector("#co_docStickyHeader .co_title");e?.classList.add("noTOC");e?.querySelectorAll(".clone").forEach((e=>e.remove()))}GetToCAnchorIds(){return[...document.querySelectorAll('#co_leftColumn a[href^="#"]')].filter((e=>e.href.match(/#./))).map((e=>e.getAttribute("href").replace("#","")))}FindAnchors(){const e=this.GetToCAnchorIds();return a().uniq(e).map((e=>document.getElementById(e))).filter(Boolean).sort(((e,t)=>e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_PRECEDING?1:-1))}Initialize(){document.querySelectorAll("#co_docContentHeader .co_title").forEach((e=>e.classList.add("noTOC")));p["default"].Subscribe("RelatedContentLoaded",this.Reset,this);super.Initialize()}}},4883:(e,t,n)=>{e.exports=n(8846)(9164)},4889:(e,t,n)=>{e.exports=n(4507)(30607)},4917:(e,t,n)=>{e.exports=n(4507)(86009)},4938:(e,t,n)=>{"use strict";n.d(t,{F:()=>l});var i=n(3434),a=n(8660),o=n(6306),r=n(9172);function s(){o["default"].call(this)}s.prototype=new o["default"];s.prototype.constructor=s;s.prototype.submitWebRequest=function(e){var t="RelatedInfo/v6/keycite/nod/navigation/"+e.documentGuid,n=new r["default"](t);n.addParameter("contextData",e.getContextData());n.addParameter("collection",e.getDocumentCollection());n.addParameter("searchQuery",e.getSearchQuery());n.addParameter("docSource",e.getDocSource());n.addParameter("rank",e.getRank());n.addParameter("sortType",e.getSortType());var o=n.buildUrl();return new a["default"](i["default"].RelatedInfo,o,{timeout:9e4,headers:{"Content-Type":"application/json",Accept:"application/json"}}).Get()};const l=new s},4941:(e,t,n)=>{e.exports=n(4507)(67435)},4953:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});var i=n(6049),a=null;function o(){null===a&&(a=new i.A);return a}o.ClearDocumentNavigation=function(){a=null};o.SetDocumentNavigation=function(e){a=e};const r=o},4968:(e,t,n)=>{e.exports=n(4507)(19433)},4988:(e,t,n)=>{e.exports=n(4507)(53642)},5024:(e,t,n)=>{e.exports=n(4507)(82437)},5050:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>o});var i=n(9912),a=n(1811);function o({message:e,className:t="Error"}){const n=i["default"].lookup("SC.Core.Indigo.RefreshPageMessage","Try refreshing the page.");return(0,a.jsxs)("div",{className:t,children:[e,(0,a.jsx)("br",{}),n]})}o.displayName="Error (Platform/js/Indigo/Core/Components/Error.jsx)"},5074:(e,t,n)=>{e.exports=n(4507)(49513)},5151:(e,t,n)=>{e.exports=n(4507)(36772)},5166:(e,t,n)=>{e.exports=n(8846)(6254)},5170:(e,t,n)=>{e.exports=n(4507)(27845)},5293:(e,t,n)=>{e.exports=n(4507)(52431)},5351:(e,t,n)=>{e.exports=n(4507)(43581)},5382:(e,t,n)=>{e.exports=n(4507)(9074)},5431:(e,t,n)=>{e.exports=n(4507)(67936)},5454:(e,t,n)=>{"use strict";n.r(t);n.d(t,{$mobx:()=>q,FlowCancellationError:()=>vn,ObservableMap:()=>_i,ObservableSet:()=>xi,Reaction:()=>Lt,_allowStateChanges:()=>Ye,_allowStateChangesInsideComputed:()=>Yt,_allowStateReadsEnd:()=>mt,_allowStateReadsStart:()=>pt,_autoAction:()=>Kt,_endAction:()=>Ke,_getAdministration:()=>Qi,_getGlobalState:()=>_t,_interceptReads:()=>In,_isComputingDerivation:()=>st,_resetGlobalState:()=>Dt,_startAction:()=>ze,action:()=>zt,autorun:()=>Xt,comparer:()=>Q,computed:()=>He,configure:()=>dn,createAtom:()=>Y,defineProperty:()=>Hn,entries:()=>On,extendObservable:()=>un,flow:()=>Sn,flowResult:()=>Dn,get:()=>Wn,getAtom:()=>Yi,getDebugName:()=>Xi,getDependencyTree:()=>hn,getObserverTree:()=>pn,has:()=>Fn,intercept:()=>xn,isAction:()=>Qt,isBoxedObservable:()=>Ze,isComputed:()=>wn,isComputedProp:()=>En,isFlow:()=>Tn,isFlowCancellationError:()=>yn,isObservable:()=>Ln,isObservableArray:()=>yi,isObservableMap:()=>Di,isObservableObject:()=>Oi,isObservableProp:()=>Nn,isObservableSet:()=>ki,keys:()=>Rn,makeAutoObservable:()=>ri,makeObservable:()=>ai,observable:()=>Be,observe:()=>Un,onBecomeObserved:()=>an,onBecomeUnobserved:()=>on,onReactionError:()=>Nt,override:()=>ee,ownKeys:()=>Gn,reaction:()=>en,remove:()=>Mn,runInAction:()=>Yt,set:()=>Bn,spy:()=>Ft,toJS:()=>Vn,trace:()=>qn,transaction:()=>zn,untracked:()=>ut,values:()=>Pn,when:()=>Kn});function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i]
;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var a={};function o(){if("undefined"!=typeof globalThis)return globalThis;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;if("undefined"!=typeof self)return self;return a}var r=Object.assign,s=Object.getOwnPropertyDescriptor,l=Object.defineProperty,c=Object.prototype,d=[];Object.freeze(d);var u={};Object.freeze(u);var h="undefined"!=typeof Proxy,f=Object.toString();function p(){h||i("Proxy not available")}function m(e){var t=!1;return function(){if(t)return;t=!0;return e.apply(this,arguments)}}var g=function(){};function v(e){return"function"==typeof e}function y(e){switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function b(e){return null!==e&&"object"==typeof e}function C(e){if(!b(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===f}function S(e){var t=null==e?void 0:e.constructor;if(!t)return!1;if("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)return!0;return!1}function _(e,t,n){l(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function D(e,t,n){l(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function T(e,t){var n="isMobX"+e;t.prototype[n]=!0;return function(e){return b(e)&&!0===e[n]}}function I(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function x(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var k=void 0!==Object.getOwnPropertySymbols;var w="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:k?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function E(e){return null===e?null:"object"==typeof e?""+e:e}function A(e,t){return c.hasOwnProperty.call(e,t)}var L=Object.getOwnPropertyDescriptors||function(e){var t={};w(e).forEach((function(n){t[n]=s(e,n)}));return t};function N(e,t){return!!(e&t)}function R(e,t,n){n?e|=t:e&=~t;return e}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function O(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,G(i.key),i)}}function B(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return P(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},F.apply(null,arguments)}function W(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,H(e,t)}function H(e,t){return H=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},H(e,t)}function G(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}var U=Symbol("mobx-stored-annotations");function j(e){return Object.assign((function(t,n){if(V(n))return e.decorate_20223_(t,n);$(t,n,e)}),e)}function $(e,t,n){A(e,U)||_(e,U,F({},e[U]));(function(e){return e.annotationType_===Z})(n)||(e[U][t]=n)}function V(e){return"object"==typeof e&&"string"==typeof e["kind"]}var q=Symbol("mobx administration"),z=function(){function e(e){void 0===e&&(e="Atom");this.name_=void 0;this.flags_=0;this.observers_=new Set;this.lastAccessedBy_=0;this.lowestObserverState_=tt.NOT_TRACKING_;this.onBOL=void 0;this.onBUOL=void 0;this.name_=e}var t=e.prototype;t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))};t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))};t.reportObserved=function(){return Et(this)};t.reportChanged=function(){kt();At(this);wt()};t.toString=function(){return this.name_};return B(e,[{key:"isBeingObserved",get:function(){return N(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=R(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return N(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=R(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return N(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=R(this.flags_,e.diffValueMask_,1===t)}}])}();z.isBeingObservedMask_=1;z.isPendingUnobservationMask_=2;z.diffValueMask_=4;var K=T("Atom",z);function Y(e,t,n){void 0===t&&(t=g);void 0===n&&(n=g);var i=new z(e);t!==g&&an(i,t);n!==g&&on(i,n);return i}var Q={identity:function(e,t){return e===t},structural:function(e,t){return ta(e,t)},default:function(e,t){if(Object.is)return Object.is(e,t);return e===t?0!==e||1/e==1/t:e!=e&&t!=t},shallow:function(e,t){return ta(e,t,1)}};function X(e,t,n){if(Ln(e))return e;if(Array.isArray(e))return Be.array(e,{name:n});if(C(e))return Be.object(e,void 0,{name:n});if(I(e))return Be.map(e,{name:n});if(x(e))return Be.set(e,{name:n});if("function"==typeof e&&!Qt(e)&&!Tn(e))return S(e)?Sn(e):Kt(n,e);return e}function J(e){return e}var Z="override",ee=j({annotationType_:Z,make_:function(e,t){0;0;return 0},extend_:function(e,t,n,a){i("'"+this.annotationType_+"' can only be used with 'makeObservable'")},decorate_20223_:function(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}});function te(e,t){return{annotationType_:e,options_:t,make_:ne,extend_:ie,decorate_20223_:ae}}function ne(e,t,n,i){var a;if(null!=(a=this.options_)&&a.bound)return null===this.extend_(e,t,n,!1)?0:1;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Qt(n.value))return 1;var o=oe(e,this,t,n,!1);l(i,t,o);return 2}function ie(e,t,n,i){var a=oe(e,this,t,n);return e.defineProperty_(t,a,i)}function ae(e,t){0;var n=t.kind,a=t.name,o=t.addInitializer,r=this,s=function(e){var t,n,i,o;return Ve(null!=(t=null==(n=r.options_)?void 0:n.name)?t:a.toString(),e,null!=(i=null==(o=r.options_)?void 0:o.autoAction)&&i)};if("field"==n)return function(e){var t,n=e;Qt(n)||(n=s(n));null!=(t=r.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0);return n};if("method"==n){var l;Qt(e)||(e=s(e));null!=(l=this.options_)&&l.bound&&o((function(){var e=this,t=e[a].bind(e);t.isMobxAction=!0;e[a]=t}));return e}i("Cannot apply '"+r.annotationType_+"' to '"+String(a)+"' (kind: "+n+"):\n'"+r.annotationType_+"' can only be used on properties with a function value.")}function oe(e,t,n,i,a){var o,r,s,l,c,d,u;void 0===a&&(a=St.safeDescriptors);(function(e,t,n,i){t.annotationType_,i.value})(0,t,0,i);var h=i.value;if(null!=(o=t.options_)&&o.bound){var f;h=h.bind(null!=(f=e.proxy_)?f:e.target_)}return{value:Ve(null!=(r=null==(s=t.options_)?void 0:s.name)?r:n.toString(),h,null!=(l=null==(c=t.options_)?void 0:c.autoAction)&&l,null!=(d=t.options_)&&d.bound?null!=(u=e.proxy_)?u:e.target_:void 0),configurable:!a||e.isPlainObject_,enumerable:!1,writable:!a}}function re(e,t){return{annotationType_:e,options_:t,make_:se,extend_:le,decorate_20223_:ce}}function se(e,t,n,i){var a;if(i===e.target_)return null===this.extend_(e,t,n,!1)?0:2
;if(null!=(a=this.options_)&&a.bound&&(!A(e.target_,t)||!Tn(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(Tn(n.value))return 1;var o=de(e,this,t,n,!1,!1);l(i,t,o);return 2}function le(e,t,n,i){var a,o=de(e,this,t,n,null==(a=this.options_)?void 0:a.bound);return e.defineProperty_(t,o,i)}function ce(e,t){var n;0;var i=t.name,a=t.addInitializer;Tn(e)||(e=Sn(e));null!=(n=this.options_)&&n.bound&&a((function(){var e=this,t=e[i].bind(e);t.isMobXFlow=!0;e[i]=t}));return e}function de(e,t,n,i,a,o){void 0===o&&(o=St.safeDescriptors);(function(e,t,n,i){t.annotationType_,i.value})(0,t,0,i);var r=i.value;Tn(r)||(r=Sn(r));if(a){var s;(r=r.bind(null!=(s=e.proxy_)?s:e.target_)).isMobXFlow=!0}return{value:r,configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ue(e,t){return{annotationType_:e,options_:t,make_:he,extend_:fe,decorate_20223_:pe}}function he(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function fe(e,t,n,i){(function(e,t,n,i){t.annotationType_,i.get;0})(0,this,0,n);return e.defineComputedProperty_(t,F({},this.options_,{get:n.get,set:n.set}),i)}function pe(e,t){0;var n=this,i=t.name;(0,t.addInitializer)((function(){var t=Ni(this)[q],a=F({},n.options_,{get:e,context:this});a.name||(a.name="ObservableObject."+i.toString());t.values_.set(i,new et(a))}));return function(){return this[q].getObservablePropValue_(i)}}function me(e,t){return{annotationType_:e,options_:t,make_:ge,extend_:ve,decorate_20223_:ye}}function ge(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function ve(e,t,n,i){var a,o;(function(e,t){t.annotationType_;0})(0,this);return e.defineObservableProperty_(t,n.value,null!=(a=null==(o=this.options_)?void 0:o.enhancer)?a:X,i)}function ye(e,t){0;var n=this,i=t.kind,a=t.name,o=new WeakSet;function r(e,t){var i,r,s=Ni(e)[q],l=new Je(t,null!=(i=null==(r=n.options_)?void 0:r.enhancer)?i:X,"ObservableObject."+a.toString(),!1);s.values_.set(a,l);o.add(e)}if("accessor"==i)return{get:function(){o.has(this)||r(this,e.get.call(this));return this[q].getObservablePropValue_(a)},set:function(e){o.has(this)||r(this,e);return this[q].setObservablePropValue_(a,e)},init:function(e){o.has(this)||r(this,e);return e}};return}var be="true",Ce=Se();function Se(e){return{annotationType_:be,options_:e,make_:_e,extend_:De,decorate_20223_:Te}}function _e(e,t,n,i){var a,o;if(n.get)return He.make_(e,t,n,i);if(n.set){var r=Ve(t.toString(),n.set);if(i===e.target_)return null===e.defineProperty_(t,{configurable:!St.safeDescriptors||e.isPlainObject_,set:r})?0:2;l(i,t,{configurable:!0,set:r});return 2}if(i!==e.target_&&"function"==typeof n.value){var s;if(S(n.value)){var c;return(null!=(c=this.options_)&&c.autoBind?Sn.bound:Sn).make_(e,t,n,i)}return(null!=(s=this.options_)&&s.autoBind?Kt.bound:Kt).make_(e,t,n,i)}var d=!1===(null==(a=this.options_)?void 0:a.deep)?Be.ref:Be;if("function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind){var u;n.value=n.value.bind(null!=(u=e.proxy_)?u:e.target_)}return d.make_(e,t,n,i)}function De(e,t,n,i){var a,o;if(n.get)return He.extend_(e,t,n,i);if(n.set)return e.defineProperty_(t,{configurable:!St.safeDescriptors||e.isPlainObject_,set:Ve(t.toString(),n.set)},i);if("function"==typeof n.value&&null!=(a=this.options_)&&a.autoBind){var r;n.value=n.value.bind(null!=(r=e.proxy_)?r:e.target_)}return(!1===(null==(o=this.options_)?void 0:o.deep)?Be.ref:Be).extend_(e,t,n,i)}function Te(e,t){i("'"+this.annotationType_+"' cannot be used as a decorator")}var Ie={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(Ie);function xe(e){return e||Ie}var ke=me("observable"),we=me("observable.ref",{enhancer:J}),Ee=me("observable.shallow",{enhancer:function(e,t,n){if(null==e)return e;if(Oi(e)||yi(e)||Di(e)||ki(e))return e;if(Array.isArray(e))return Be.array(e,{name:n,deep:!1});if(C(e))return Be.object(e,void 0,{name:n,deep:!1});if(I(e))return Be.map(e,{name:n,deep:!1});if(x(e))return Be.set(e,{name:n,deep:!1});0}}),Ae=me("observable.struct",{enhancer:function(e,t){0;if(ta(e,t))return t;return e}}),Le=j(ke);function Ne(e){return!0===e.deep?X:!1===e.deep?J:(t=e.defaultDecorator)&&null!=(n=null==(i=t.options_)?void 0:i.enhancer)?n:X;var t,n,i}function Re(e,t,n){if(V(t))return ke.decorate_20223_(e,t);if(y(t)){$(e,t,ke);return}if(Ln(e))return e;if(C(e))return Be.object(e,t,n);if(Array.isArray(e))return Be.array(e,t);if(I(e))return Be.map(e,t);if(x(e))return Be.set(e,t);if("object"==typeof e&&null!==e)return e;return Be.box(e,t)}r(Re,Le);var Pe,Oe,Be=r(Re,{box:function(e,t){var n=xe(t);return new Je(e,Ne(n),n.name,!0,n.equals)},array:function(e,t){var n=xe(t);return(!1===St.useProxies||!1===n.proxy?Ki:ui)(e,Ne(n),n.name)},map:function(e,t){var n=xe(t);return new _i(e,Ne(n),n.name)},set:function(e,t){var n=xe(t);return new xi(e,Ne(n),n.name)},object:function(e,t,n){return Ji((function(){return un(!1===St.useProxies||!1===(null==n?void 0:n.proxy)?Ni({},n):function(e,t){var n,i;p();e=Ni(e,t);return null!=(i=(n=e[q]).proxy_)?i:n.proxy_=new Proxy(e,Xn)}({},n),e,t)}))},ref:j(we),shallow:j(Ee),deep:Le,struct:j(Ae)}),Me="computed",Fe=ue(Me),We=ue("computed.struct",{equals:Q.structural}),He=function(e,t){if(V(t))return Fe.decorate_20223_(e,t);if(y(t))return $(e,t,Fe);if(C(e))return j(ue(Me,e));0;var n=C(t)?t:{};n.get=e;n.name||(n.name=e.name||"");return new et(n)};Object.assign(He,Fe);He.struct=j(We);var Ge=0,Ue=1,je=null!=(Pe=null==(Oe=s((function(){}),"name"))?void 0:Oe.configurable)&&Pe,$e={value:"action",configurable:!0,writable:!1,enumerable:!1};function Ve(e,t,n,i){void 0===n&&(n=!1);0;function a(){return qe(e,n,t,i||this,arguments)}a.isMobxAction=!0;a.toString=function(){return t.toString()};if(je){$e.value=e;l(a,"name",$e)}return a}function qe(e,t,n,i,a){var o=ze(e,t,i,a);try{return n.apply(i,a)}catch(e){o.error_=e;throw e}finally{Ke(o)}}function ze(e,t,n,i){var a=St.trackingDerivation,o=!t||!a;kt();var r=St.allowStateChanges;if(o){ht();r=Qe(!0)}var s={runAsAction_:o,prevDerivation_:a,prevAllowStateChanges_:r,prevAllowStateReads_:pt(!0),notifySpy_:!1,startTime_:0,actionId_:Ue++,parentActionId_:Ge};Ge=s.actionId_;return s}function Ke(e){Ge!==e.actionId_&&i(30);Ge=e.parentActionId_;void 0!==e.error_&&(St.suppressReactionErrors=!0);Xe(e.prevAllowStateChanges_);mt(e.prevAllowStateReads_);wt();e.runAsAction_&&ft(e.prevDerivation_);0;St.suppressReactionErrors=!1}function Ye(e,t){var n=Qe(e);try{return t()}finally{Xe(n)}}function Qe(e){var t=St.allowStateChanges;St.allowStateChanges=e;return t}function Xe(e){St.allowStateChanges=e}var Je=function(e){function t(t,n,i,a,o){var r;void 0===i&&(i="ObservableValue");void 0===a&&(a=!0);void 0===o&&(o=Q["default"]);(r=e.call(this,i)||this).enhancer=void 0;r.name_=void 0;r.equals=void 0;r.hasUnreportedChange_=!1;r.interceptors_=void 0;r.changeListeners_=void 0;r.value_=void 0;r.dehancer=void 0;r.enhancer=n;r.name_=i;r.equals=o;r.value_=n(t,void 0,i);0;return r}W(t,e);var n=t.prototype;n.dehanceValue=function(e){if(void 0!==this.dehancer)return this.dehancer(e);return e};n.set=function(e){this.value_;if((e=this.prepareNewValue_(e))!==St.UNCHANGED){0;this.setNewValue_(e);0}};n.prepareNewValue_=function(e){lt(this);if(Jn(this)){var t=ei(this,{object:this,type:li,newValue:e});if(!t)return St.UNCHANGED;e=t.newValue}e=this.enhancer(e,this.value_,this.name_);return this.equals(this.value_,e)?St.UNCHANGED:e};n.setNewValue_=function(e){var t=this.value_;this.value_=e;this.reportChanged();ti(this)&&ii(this,{type:li,object:this,newValue:e,oldValue:t})};n.get=function(){this.reportObserved();return this.dehanceValue(this.value_)};n.intercept_=function(e){return Zn(this,e)};n.observe_=function(e,t){t&&e({observableKind:"value",debugObjectName:this.name_,object:this,type:li,newValue:this.value_,oldValue:void 0});return ni(this,e)};n.raw=function(){return this.value_};n.toJSON=function(){return this.get()};n.toString=function(){return this.name_+"["+this.value_+"]"};n.valueOf=function(){return E(this.get())};n[Symbol.toPrimitive]=function(){return this.valueOf()};return t}(z),Ze=T("ObservableValue",Je),et=function(){function e(e){this.dependenciesState_=tt.NOT_TRACKING_;this.observing_=[];this.newObserving_=null;this.observers_=new Set;this.runId_=0;this.lastAccessedBy_=0
;this.lowestObserverState_=tt.UP_TO_DATE_;this.unboundDepsCount_=0;this.value_=new at(null);this.name_=void 0;this.triggeredBy_=void 0;this.flags_=0;this.derivation=void 0;this.setter_=void 0;this.isTracing_=nt.NONE;this.scope_=void 0;this.equals_=void 0;this.requiresReaction_=void 0;this.keepAlive_=void 0;this.onBOL=void 0;this.onBUOL=void 0;e.get||i(31);this.derivation=e.get;this.name_=e.name||"ComputedValue";e.set&&(this.setter_=Ve("ComputedValue-setter",e.set));this.equals_=e.equals||(e.compareStructural||e.struct?Q.structural:Q["default"]);this.scope_=e.context;this.requiresReaction_=e.requiresReaction;this.keepAlive_=!!e.keepAlive}var t=e.prototype;t.onBecomeStale_=function(){(function(e){if(e.lowestObserverState_!==tt.UP_TO_DATE_)return;e.lowestObserverState_=tt.POSSIBLY_STALE_;e.observers_.forEach((function(e){if(e.dependenciesState_===tt.UP_TO_DATE_){e.dependenciesState_=tt.POSSIBLY_STALE_;e.onBecomeStale_()}}))})(this)};t.onBO=function(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))};t.onBUO=function(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))};t.get=function(){this.isComputing&&i(32,this.name_,this.derivation);if(0!==St.inBatch||0!==this.observers_.size||this.keepAlive_){Et(this);if(rt(this)){var e=St.trackingContext;this.keepAlive_&&!e&&(St.trackingContext=this);this.trackAndCompute()&&function(e){if(e.lowestObserverState_===tt.STALE_)return;e.lowestObserverState_=tt.STALE_;e.observers_.forEach((function(t){if(t.dependenciesState_===tt.POSSIBLY_STALE_){t.dependenciesState_=tt.STALE_;0}else t.dependenciesState_===tt.UP_TO_DATE_&&(e.lowestObserverState_=tt.UP_TO_DATE_)}))}(this);St.trackingContext=e}}else if(rt(this)){this.warnAboutUntrackedRead_();kt();this.value_=this.computeValue_(!1);wt()}var t=this.value_;if(ot(t))throw t.cause;return t};t.set=function(e){if(this.setter_){this.isRunningSetter&&i(33,this.name_);this.isRunningSetter=!0;try{this.setter_.call(this.scope_,e)}finally{this.isRunningSetter=!1}}else i(34,this.name_)};t.trackAndCompute=function(){var e=this.value_,t=this.dependenciesState_===tt.NOT_TRACKING_,n=this.computeValue_(!0),i=t||ot(e)||ot(n)||!this.equals_(e,n);if(i){this.value_=n;0}return i};t.computeValue_=function(e){this.isComputing=!0;var t,n=Qe(!1);if(e)t=ct(this,this.derivation,this.scope_);else if(!0===St.disableErrorBoundaries)t=this.derivation.call(this.scope_);else try{t=this.derivation.call(this.scope_)}catch(e){t=new at(e)}Xe(n);this.isComputing=!1;return t};t.suspend_=function(){if(!this.keepAlive_){dt(this);this.value_=void 0;0}};t.observe_=function(e,t){var n=this,i=!0,a=void 0;return Xt((function(){var o=n.get();if(!i||t){var r=ht();e({observableKind:"computed",debugObjectName:n.name_,type:li,object:n,newValue:o,oldValue:a});ft(r)}i=!1;a=o}))};t.warnAboutUntrackedRead_=function(){return};t.toString=function(){return this.name_+"["+this.derivation.toString()+"]"};t.valueOf=function(){return E(this.get())};t[Symbol.toPrimitive]=function(){return this.valueOf()};return B(e,[{key:"isComputing",get:function(){return N(this.flags_,e.isComputingMask_)},set:function(t){this.flags_=R(this.flags_,e.isComputingMask_,t)}},{key:"isRunningSetter",get:function(){return N(this.flags_,e.isRunningSetterMask_)},set:function(t){this.flags_=R(this.flags_,e.isRunningSetterMask_,t)}},{key:"isBeingObserved",get:function(){return N(this.flags_,e.isBeingObservedMask_)},set:function(t){this.flags_=R(this.flags_,e.isBeingObservedMask_,t)}},{key:"isPendingUnobservation",get:function(){return N(this.flags_,e.isPendingUnobservationMask_)},set:function(t){this.flags_=R(this.flags_,e.isPendingUnobservationMask_,t)}},{key:"diffValue",get:function(){return N(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=R(this.flags_,e.diffValueMask_,1===t)}}])}();et.isComputingMask_=1;et.isRunningSetterMask_=2;et.isBeingObservedMask_=4;et.isPendingUnobservationMask_=8;et.diffValueMask_=16;var tt,nt,it=T("ComputedValue",et);(function(e){e[e["NOT_TRACKING_"]=-1]="NOT_TRACKING_";e[e["UP_TO_DATE_"]=0]="UP_TO_DATE_";e[e["POSSIBLY_STALE_"]=1]="POSSIBLY_STALE_";e[e["STALE_"]=2]="STALE_"})(tt||(tt={}));(function(e){e[e["NONE"]=0]="NONE";e[e["LOG"]=1]="LOG";e[e["BREAK"]=2]="BREAK"})(nt||(nt={}));var at=function(e){this.cause=void 0;this.cause=e};function ot(e){return e instanceof at}function rt(e){switch(e.dependenciesState_){case tt.UP_TO_DATE_:return!1;case tt.NOT_TRACKING_:case tt.STALE_:return!0;case tt.POSSIBLY_STALE_:for(var t=pt(!0),n=ht(),i=e.observing_,a=i.length,o=0;o<a;o++){var r=i[o];if(it(r)){if(St.disableErrorBoundaries)r.get();else try{r.get()}catch(e){ft(n);mt(t);return!0}if(e.dependenciesState_===tt.STALE_){ft(n);mt(t);return!0}}}gt(e);ft(n);mt(t);return!1}}function st(){return null!==St.trackingDerivation}function lt(e){return}function ct(e,t,n){var i=pt(!0);gt(e);e.newObserving_=new Array(0===e.runId_?100:e.observing_.length);e.unboundDepsCount_=0;e.runId_=++St.runId;var a,o=St.trackingDerivation;St.trackingDerivation=e;St.inBatch++;if(!0===St.disableErrorBoundaries)a=t.call(n);else try{a=t.call(n)}catch(e){a=new at(e)}St.inBatch--;St.trackingDerivation=o;(function(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,i=tt.UP_TO_DATE_,a=0,o=e.unboundDepsCount_,r=0;r<o;r++){var s=n[r];if(0===s.diffValue){s.diffValue=1;a!==r&&(n[a]=s);a++}s.dependenciesState_>i&&(i=s.dependenciesState_)}n.length=a;e.newObserving_=null;o=t.length;for(;o--;){var l=t[o];0===l.diffValue&&It(l,e);l.diffValue=0}for(;a--;){var c=n[a];if(1===c.diffValue){c.diffValue=0;Tt(c,e)}}if(i!==tt.UP_TO_DATE_){e.dependenciesState_=i;e.onBecomeStale_()}})(e);mt(i);return a}function dt(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)It(t[n],e);e.dependenciesState_=tt.NOT_TRACKING_}function ut(e){var t=ht();try{return e()}finally{ft(t)}}function ht(){var e=St.trackingDerivation;St.trackingDerivation=null;return e}function ft(e){St.trackingDerivation=e}function pt(e){var t=St.allowStateReads;St.allowStateReads=e;return t}function mt(e){St.allowStateReads=e}function gt(e){if(e.dependenciesState_===tt.UP_TO_DATE_)return;e.dependenciesState_=tt.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=tt.UP_TO_DATE_}var vt=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],yt=function(){this.version=6;this.UNCHANGED={};this.trackingDerivation=null;this.trackingContext=null;this.runId=0;this.mobxGuid=0;this.inBatch=0;this.pendingUnobservations=[];this.pendingReactions=[];this.isRunningReactions=!1;this.allowStateChanges=!1;this.allowStateReads=!0;this.enforceActions=!0;this.spyListeners=[];this.globalReactionErrorHandlers=[];this.computedRequiresReaction=!1;this.reactionRequiresObservable=!1;this.observableRequiresReaction=!1;this.disableErrorBoundaries=!1;this.suppressReactionErrors=!1;this.useProxies=!0;this.verifyProxies=!1;this.safeDescriptors=!0},bt=!0,Ct=!1,St=function(){var e=o();e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(bt=!1);e.__mobxGlobals&&e.__mobxGlobals.version!==(new yt).version&&(bt=!1);if(bt){if(e.__mobxGlobals){e.__mobxInstanceCount+=1;e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={});return e.__mobxGlobals}e.__mobxInstanceCount=1;return e.__mobxGlobals=new yt}setTimeout((function(){Ct||i(35)}),1);return new yt}();function _t(){return St}function Dt(){var e=new yt;for(var t in e)-1===vt.indexOf(t)&&(St[t]=e[t]);St.allowStateChanges=!St.enforceActions}function Tt(e,t){e.observers_.add(t);e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function It(e,t){e.observers_["delete"](t);0===e.observers_.size&&xt(e)}function xt(e){if(!1===e.isPendingUnobservation){e.isPendingUnobservation=!0;St.pendingUnobservations.push(e)}}function kt(){St.inBatch++}function wt(){if(0==--St.inBatch){Ot();for(var e=St.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1;if(0===n.observers_.size){if(n.isBeingObserved){n.isBeingObserved=!1;n.onBUO()}n instanceof et&&n.suspend_()}}St.pendingUnobservations=[]}}function Et(e){var t=St.trackingDerivation;if(null!==t){
if(t.runId_!==e.lastAccessedBy_){e.lastAccessedBy_=t.runId_;t.newObserving_[t.unboundDepsCount_++]=e;if(!e.isBeingObserved&&St.trackingContext){e.isBeingObserved=!0;e.onBO()}}return e.isBeingObserved}0===e.observers_.size&&St.inBatch>0&&xt(e);return!1}function At(e){if(e.lowestObserverState_===tt.STALE_)return;e.lowestObserverState_=tt.STALE_;e.observers_.forEach((function(e){if(e.dependenciesState_===tt.UP_TO_DATE_){0;e.onBecomeStale_()}e.dependenciesState_=tt.STALE_}))}var Lt=function(){function e(e,t,n,i){void 0===e&&(e="Reaction");this.name_=void 0;this.onInvalidate_=void 0;this.errorHandler_=void 0;this.requiresObservable_=void 0;this.observing_=[];this.newObserving_=[];this.dependenciesState_=tt.NOT_TRACKING_;this.runId_=0;this.unboundDepsCount_=0;this.flags_=0;this.isTracing_=nt.NONE;this.name_=e;this.onInvalidate_=t;this.errorHandler_=n;this.requiresObservable_=i}var t=e.prototype;t.onBecomeStale_=function(){this.schedule_()};t.schedule_=function(){if(!this.isScheduled){this.isScheduled=!0;St.pendingReactions.push(this);Ot()}};t.runReaction_=function(){if(!this.isDisposed){kt();this.isScheduled=!1;var e=St.trackingContext;St.trackingContext=this;if(rt(this)){this.isTrackPending=!0;try{this.onInvalidate_();0}catch(e){this.reportExceptionInDerivation_(e)}}St.trackingContext=e;wt()}};t.track=function(e){if(this.isDisposed)return;kt();0;this.isRunning=!0;var t=St.trackingContext;St.trackingContext=this;var n=ct(this,e,void 0);St.trackingContext=t;this.isRunning=!1;this.isTrackPending=!1;this.isDisposed&&dt(this);ot(n)&&this.reportExceptionInDerivation_(n.cause);0;wt()};t.reportExceptionInDerivation_=function(e){var t=this;if(this.errorHandler_){this.errorHandler_(e,this);return}if(St.disableErrorBoundaries)throw e;var n="[mobx] uncaught error in '"+this+"'";St.suppressReactionErrors||console.error(n,e);0;St.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))};t.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;if(!this.isRunning){kt();dt(this);wt()}}};t.getDisposer_=function(e){var t=this,n=function n(){t.dispose();null==e||null==e.removeEventListener||e.removeEventListener("abort",n)};null==e||null==e.addEventListener||e.addEventListener("abort",n);n[q]=this;return n};t.toString=function(){return"Reaction["+this.name_+"]"};t.trace=function(e){void 0===e&&(e=!1);qn()};return B(e,[{key:"isDisposed",get:function(){return N(this.flags_,e.isDisposedMask_)},set:function(t){this.flags_=R(this.flags_,e.isDisposedMask_,t)}},{key:"isScheduled",get:function(){return N(this.flags_,e.isScheduledMask_)},set:function(t){this.flags_=R(this.flags_,e.isScheduledMask_,t)}},{key:"isTrackPending",get:function(){return N(this.flags_,e.isTrackPendingMask_)},set:function(t){this.flags_=R(this.flags_,e.isTrackPendingMask_,t)}},{key:"isRunning",get:function(){return N(this.flags_,e.isRunningMask_)},set:function(t){this.flags_=R(this.flags_,e.isRunningMask_,t)}},{key:"diffValue",get:function(){return N(this.flags_,e.diffValueMask_)?1:0},set:function(t){this.flags_=R(this.flags_,e.diffValueMask_,1===t)}}])}();Lt.isDisposedMask_=1;Lt.isScheduledMask_=2;Lt.isTrackPendingMask_=4;Lt.isRunningMask_=8;Lt.diffValueMask_=16;function Nt(e){St.globalReactionErrorHandlers.push(e);return function(){var t=St.globalReactionErrorHandlers.indexOf(e);t>=0&&St.globalReactionErrorHandlers.splice(t,1)}}var Rt=100,Pt=function(e){return e()};function Ot(){if(St.inBatch>0||St.isRunningReactions)return;Pt(Bt)}function Bt(){St.isRunningReactions=!0;for(var e=St.pendingReactions,t=0;e.length>0;){if(++t===Rt){console.error("[mobx] cycle in reaction: "+e[0]);e.splice(0)}for(var n=e.splice(0),i=0,a=n.length;i<a;i++)n[i].runReaction_()}St.isRunningReactions=!1}var Mt=T("Reaction",Lt);function Ft(e){console.warn("[mobx.spy] Is a no-op in production builds");return function(){}}var Wt="action",Ht="autoAction",Gt="<unnamed action>",Ut=te(Wt),jt=te("action.bound",{bound:!0}),$t=te(Ht,{autoAction:!0}),Vt=te("autoAction.bound",{autoAction:!0,bound:!0});function qt(e){return function(t,n){if(v(t))return Ve(t.name||Gt,t,e);if(v(n))return Ve(t,n,e);if(V(n))return(e?$t:Ut).decorate_20223_(t,n);if(y(n))return $(t,n,e?$t:Ut);if(y(t))return j(te(e?Ht:Wt,{name:t,autoAction:e}));0}}var zt=qt(!1);Object.assign(zt,Ut);var Kt=qt(!0);Object.assign(Kt,$t);zt.bound=j(jt);Kt.bound=j(Vt);function Yt(e){return qe(e.name||Gt,!1,e,this,void 0)}function Qt(e){return v(e)&&!0===e.isMobxAction}function Xt(e,t){var n,i,a,o;void 0===t&&(t=u);0;var r,s=null!=(n=null==(i=t)?void 0:i.name)?n:"Autorun";if(!t.scheduler&&!t.delay)r=new Lt(s,(function(){this.track(d)}),t.onError,t.requiresObservable);else{var l=Zt(t),c=!1;r=new Lt(s,(function(){if(!c){c=!0;l((function(){c=!1;r.isDisposed||r.track(d)}))}}),t.onError,t.requiresObservable)}function d(){e(r)}null!=(a=t)&&null!=(a=a.signal)&&a.aborted||r.schedule_();return r.getDisposer_(null==(o=t)?void 0:o.signal)}var Jt=function(e){return e()};function Zt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Jt}function en(e,t,n){var i,a,o;void 0===n&&(n=u);0;var r,s,l,c=null!=(i=n.name)?i:"Reaction",d=zt(c,n.onError?(r=n.onError,s=t,function(){try{return s.apply(this,arguments)}catch(e){r.call(this,e)}}):t),h=!n.scheduler&&!n.delay,f=Zt(n),p=!0,m=!1,g=n.compareStructural?Q.structural:n.equals||Q["default"],v=new Lt(c,(function(){if(p||h)y();else if(!m){m=!0;f(y)}}),n.onError,n.requiresObservable);function y(){m=!1;if(v.isDisposed)return;var t=!1,i=l;v.track((function(){var n=Ye(!1,(function(){return e(v)}));t=p||!g(l,n);l=n}));(p&&n.fireImmediately||!p&&t)&&d(l,i,v);p=!1}null!=(a=n)&&null!=(a=a.signal)&&a.aborted||v.schedule_();return v.getDisposer_(null==(o=n)?void 0:o.signal)}var tn="onBO",nn="onBUO";function an(e,t,n){return rn(tn,e,t,n)}function on(e,t,n){return rn(nn,e,t,n)}function rn(e,t,n,i){var a="function"==typeof i?Yi(t,n):Yi(t),o=v(i)?i:n,r=e+"L";a[r]?a[r].add(o):a[r]=new Set([o]);return function(){var e=a[r];if(e){e["delete"](o);0===e.size&&delete a[r]}}}var sn="never",ln="always",cn="observed";function dn(e){!0===e.isolateGlobalState&&function(){(St.pendingReactions.length||St.inBatch||St.isRunningReactions)&&i(36);Ct=!0;if(bt){var e=o();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0);St=new yt}}();var t,n,a=e.useProxies,r=e.enforceActions;void 0!==a&&(St.useProxies=a===ln||a!==sn&&"undefined"!=typeof Proxy);"ifavailable"===a&&(St.verifyProxies=!0);if(void 0!==r){var s=r===ln?ln:r===cn;St.enforceActions=s;St.allowStateChanges=!0!==s&&s!==ln}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(St[t]=!!e[t])}));St.allowStateReads=!St.observableRequiresReaction;0;e.reactionScheduler&&(t=e.reactionScheduler,n=Pt,Pt=function(e){return t((function(){return n(e)}))})}function un(e,t,n,i){0;var a=L(t);Ji((function(){var t=Ni(e,i)[q];w(a).forEach((function(e){t.extend_(e,a[e],!n||(!(e in n)||n[e]))}))}));return e}function hn(e,t){return fn(Yi(e,t))}function fn(e){var t,n={name:e.name_};e.observing_&&e.observing_.length>0&&(n.dependencies=(t=e.observing_,Array.from(new Set(t))).map(fn));return n}function pn(e,t){return mn(Yi(e,t))}function mn(e){var t={name:e.name_};(function(e){return e.observers_&&e.observers_.size>0})(e)&&(t.observers=Array.from(function(e){return e.observers_}(e)).map(mn));return t}var gn=0;function vn(){this.message="FLOW_CANCELLED"}vn.prototype=Object.create(Error.prototype);function yn(e){return e instanceof vn}var bn=re("flow"),Cn=re("flow.bound",{bound:!0}),Sn=Object.assign((function(e,t){if(V(t))return bn.decorate_20223_(e,t);if(y(t))return $(e,t,bn);0;var n=e,i=n.name||"<unnamed flow>",a=function(){var e,t=arguments,a=++gn,o=zt(i+" - runid: "+a+" - init",n).apply(this,t),r=void 0,s=new Promise((function(t,n){var s=0;e=n;function l(e){r=void 0;var t;try{t=zt(i+" - runid: "+a+" - yield "+s++,o.next).call(o,e)}catch(e){return n(e)}d(t)}function c(e){r=void 0;var t;try{t=zt(i+" - runid: "+a+" - yield "+s++,o["throw"]).call(o,e)}catch(e){return n(e)}d(t)}function d(e){if(v(null==e?void 0:e.then)){e.then(d,n);return}if(e.done)return t(e.value);return(r=Promise.resolve(e.value)).then(l,c)}
l(void 0)}));s.cancel=zt(i+" - runid: "+a+" - cancel",(function(){try{r&&_n(r);var t=o["return"](void 0),n=Promise.resolve(t.value);n.then(g,g);_n(n);e(new vn)}catch(t){e(t)}}));return s};a.isMobXFlow=!0;return a}),bn);Sn.bound=j(Cn);function _n(e){v(e.cancel)&&e.cancel()}function Dn(e){return e}function Tn(e){return!0===(null==e?void 0:e.isMobXFlow)}function In(e,t,n){var i;if(Di(e)||yi(e)||Ze(e))i=Qi(e);else if(Oi(e)){0;i=Qi(e,t)}else 0;0;i.dehancer="function"==typeof t?t:n;return function(){i.dehancer=void 0}}function xn(e,t,n){return v(n)?function(e,t,n){return Qi(e,t).intercept_(n)}(e,t,n):function(e,t){return Qi(e).intercept_(t)}(e,t)}function kn(e,t){if(void 0===t)return it(e);if(!1===Oi(e))return!1;if(!e[q].values_.has(t))return!1;var n=Yi(e,t);return it(n)}function wn(e){0;return kn(e)}function En(e,t){0;return kn(e,t)}function An(e,t){if(!e)return!1;if(void 0!==t){0;if(Oi(e))return e[q].values_.has(t);return!1}return Oi(e)||!!e[q]||K(e)||Mt(e)||it(e)}function Ln(e){0;return An(e)}function Nn(e,t){0;return An(e,t)}function Rn(e){if(Oi(e))return e[q].keys_();if(Di(e)||ki(e))return Array.from(e.keys());if(yi(e))return e.map((function(e,t){return t}));i(5)}function Pn(e){if(Oi(e))return Rn(e).map((function(t){return e[t]}));if(Di(e))return Rn(e).map((function(t){return e.get(t)}));if(ki(e))return Array.from(e.values());if(yi(e))return e.slice();i(6)}function On(e){if(Oi(e))return Rn(e).map((function(t){return[t,e[t]]}));if(Di(e))return Rn(e).map((function(t){return[t,e.get(t)]}));if(ki(e))return Array.from(e.entries());if(yi(e))return e.map((function(e,t){return[t,e]}));i(7)}function Bn(e,t,n){if(2===arguments.length&&!ki(e)){kt();var a=t;try{for(var o in a)Bn(e,o,a[o])}finally{wt()}return}if(Oi(e))e[q].set_(t,n);else if(Di(e))e.set(t,n);else if(ki(e))e.add(t);else if(yi(e)){"number"!=typeof t&&(t=parseInt(t,10));t<0&&i("Invalid index: '"+t+"'");kt();t>=e.length&&(e.length=t+1);e[t]=n;wt()}else i(8)}function Mn(e,t){if(Oi(e))e[q].delete_(t);else if(Di(e))e["delete"](t);else if(ki(e))e["delete"](t);else if(yi(e)){"number"!=typeof t&&(t=parseInt(t,10));e.splice(t,1)}else i(9)}function Fn(e,t){if(Oi(e))return e[q].has_(t);if(Di(e))return e.has(t);if(ki(e))return e.has(t);if(yi(e))return t>=0&&t<e.length;i(10)}function Wn(e,t){if(!Fn(e,t))return;if(Oi(e))return e[q].get_(t);if(Di(e))return e.get(t);if(yi(e))return e[t];i(11)}function Hn(e,t,n){if(Oi(e))return e[q].defineProperty_(t,n);i(39)}function Gn(e){if(Oi(e))return e[q].ownKeys_();i(38)}function Un(e,t,n,i){return v(n)?function(e,t,n,i){return Qi(e,t).observe_(n,i)}(e,t,n,i):function(e,t,n){return Qi(e).observe_(t,n)}(e,t,n)}function jn(e,t,n){e.set(t,n);return n}function $n(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!Ln(e))return e;if(Ze(e)||it(e))return $n(e.get(),t);if(t.has(e))return t.get(e);if(yi(e)){var n=jn(t,e,new Array(e.length));e.forEach((function(e,i){n[i]=$n(e,t)}));return n}if(ki(e)){var i=jn(t,e,new Set);e.forEach((function(e){i.add($n(e,t))}));return i}if(Di(e)){var a=jn(t,e,new Map);e.forEach((function(e,n){a.set(n,$n(e,t))}));return a}var o=jn(t,e,{});Gn(e).forEach((function(n){c.propertyIsEnumerable.call(e,n)&&(o[n]=$n(e[n],t))}));return o}function Vn(e,t){0;return $n(e,new Map)}function qn(){return}function zn(e,t){void 0===t&&(t=void 0);kt();try{return e.apply(t)}finally{wt()}}function Kn(e,t,n){if(1===arguments.length||t&&"object"==typeof t)return function(e,t){var n,i,a;0;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function(){return null}});var o=new Promise((function(n,o){var r,s=Yn(e,n,F({},t,{onError:o}));i=function(){s();o(new Error("WHEN_CANCELLED"))};a=function(){s();o(new Error("WHEN_ABORTED"))};null==t||null==(r=t.signal)||null==r.addEventListener||r.addEventListener("abort",a)}))["finally"]((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",a)}));o.cancel=i;return o}(e,t);return Yn(e,t,n||{})}function Yn(e,t,n){var i;if("number"==typeof n.timeout){var a=new Error("WHEN_TIMEOUT");i=setTimeout((function(){if(!r[q].isDisposed){r();if(!n.onError)throw a;n.onError(a)}}),n.timeout)}n.name="When";var o=Ve("When-effect",t),r=Xt((function(t){if(Ye(!1,e)){t.dispose();i&&clearTimeout(i);o()}}),n);return r}function Qn(e){return e[q]}var Xn={has:function(e,t){0;return Qn(e).has_(t)},get:function(e,t){return Qn(e).get_(t)},set:function(e,t,n){var i;if(!y(t))return!1;0;return null==(i=Qn(e).set_(t,n,!0))||i},deleteProperty:function(e,t){var n;0;if(!y(t))return!1;return null==(n=Qn(e).delete_(t,!0))||n},defineProperty:function(e,t,n){var i;0;return null==(i=Qn(e).defineProperty_(t,n))||i},ownKeys:function(e){0;return Qn(e).ownKeys_()},preventExtensions:function(e){i(13)}};function Jn(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function Zn(e,t){var n=e.interceptors_||(e.interceptors_=[]);n.push(t);return m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ei(e,t){var n=ht();try{for(var a=[].concat(e.interceptors_||[]),o=0,r=a.length;o<r;o++){(t=a[o](t))&&!t.type&&i(14);if(!t)break}return t}finally{ft(n)}}function ti(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function ni(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);n.push(t);return m((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function ii(e,t){var n=ht(),i=e.changeListeners_;if(!i)return;for(var a=0,o=(i=i.slice()).length;a<o;a++)i[a](t);ft(n)}function ai(e,t,n){Ji((function(){var i,a=Ni(e,n)[q];0;null!=(i=t)||(t=function(e){A(e,U)||_(e,U,F({},e[U]));return e[U]}(e));w(t).forEach((function(e){return a.make_(e,t[e])}))}));return e}var oi=Symbol("mobx-keys");function ri(e,t,n){0;if(C(e))return un(e,e,t,n);Ji((function(){var i=Ni(e,n)[q];if(!e[oi]){var a=Object.getPrototypeOf(e),o=new Set([].concat(w(e),w(a)));o["delete"]("constructor");o["delete"](q);_(a,oi,o)}e[oi].forEach((function(e){return i.make_(e,!t||(!(e in t)||t[e]))}))}));return e}var si="splice",li="update",ci={get:function(e,t){var n=e[q];if(t===q)return n;if("length"===t)return n.getArrayLength_();if("string"==typeof t&&!isNaN(t))return n.get_(parseInt(t));if(A(hi,t))return hi[t];return e[t]},set:function(e,t,n){var i=e[q];"length"===t&&i.setArrayLength_(n);"symbol"==typeof t||isNaN(t)?e[t]=n:i.set_(parseInt(t),n);return!0},preventExtensions:function(){i(15)}},di=function(){function e(e,t,n,i){void 0===e&&(e="ObservableArray");this.owned_=void 0;this.legacyMode_=void 0;this.atom_=void 0;this.values_=[];this.interceptors_=void 0;this.changeListeners_=void 0;this.enhancer_=void 0;this.dehancer=void 0;this.proxy_=void 0;this.lastKnownLength_=0;this.owned_=n;this.legacyMode_=i;this.atom_=new z(e);this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;t.dehanceValue_=function(e){if(void 0!==this.dehancer)return this.dehancer(e);return e};t.dehanceValues_=function(e){if(void 0!==this.dehancer&&e.length>0)return e.map(this.dehancer);return e};t.intercept_=function(e){return Zn(this,e)};t.observe_=function(e,t){void 0===t&&(t=!1);t&&e({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0});return ni(this,e)};t.getArrayLength_=function(){this.atom_.reportObserved();return this.values_.length};t.setArrayLength_=function(e){("number"!=typeof e||isNaN(e)||e<0)&&i("Out of range: "+e);var t=this.values_.length;if(e===t)return;if(e>t){for(var n=new Array(e-t),a=0;a<e-t;a++)n[a]=void 0;this.spliceWithArray_(t,0,n)}else this.spliceWithArray_(e,t-e)};t.updateArrayLength_=function(e,t){e!==this.lastKnownLength_&&i(16);this.lastKnownLength_+=t;this.legacyMode_&&t>0&&zi(e+t+1)};t.spliceWithArray_=function(e,t,n){var i=this;this.atom_;var a=this.values_.length;void 0===e?e=0:e>a?e=a:e<0&&(e=Math.max(0,a+e));t=1===arguments.length?a-e:null==t?0:Math.max(0,Math.min(t,a-e));void 0===n&&(n=d);if(Jn(this)){var o=ei(this,{object:this.proxy_,type:si,index:e,removedCount:t,added:n});if(!o)return d;t=o.removedCount;n=o.added}n=0===n.length?n:n.map((function(e){return i.enhancer_(e,void 0)}))
;if(this.legacyMode_){var r=n.length-t;this.updateArrayLength_(a,r)}var s=this.spliceItemsIntoValues_(e,t,n);0===t&&0===n.length||this.notifyArraySplice_(e,n,s);return this.dehanceValues_(s)};t.spliceItemsIntoValues_=function(e,t,n){if(n.length<1e4){var i;return(i=this.values_).splice.apply(i,[e,t].concat(n))}var a=this.values_.slice(e,e+t),o=this.values_.slice(e+t);this.values_.length+=n.length-t;for(var r=0;r<n.length;r++)this.values_[e+r]=n[r];for(var s=0;s<o.length;s++)this.values_[e+n.length+s]=o[s];return a};t.notifyArrayChildUpdate_=function(e,t,n){var i=!this.owned_&&!1,a=ti(this),o=a||i?{observableKind:"array",object:this.proxy_,type:li,debugObjectName:this.atom_.name_,index:e,newValue:t,oldValue:n}:null;0;this.atom_.reportChanged();a&&ii(this,o);0};t.notifyArraySplice_=function(e,t,n){var i=!this.owned_&&!1,a=ti(this),o=a||i?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:si,index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;0;this.atom_.reportChanged();a&&ii(this,o);0};t.get_=function(e){if(this.legacyMode_&&e>=this.values_.length){console.warn("[mobx] Out of bounds read: "+e);return}this.atom_.reportObserved();return this.dehanceValue_(this.values_[e])};t.set_=function(e,t){var n=this.values_;this.legacyMode_&&e>n.length&&i(17,e,n.length);if(e<n.length){this.atom_;var a=n[e];if(Jn(this)){var o=ei(this,{type:li,object:this.proxy_,index:e,newValue:t});if(!o)return;t=o.newValue}if((t=this.enhancer_(t,a))!==a){n[e]=t;this.notifyArrayChildUpdate_(e,t,a)}}else{for(var r=new Array(e+1-n.length),s=0;s<r.length-1;s++)r[s]=void 0;r[r.length-1]=t;this.spliceWithArray_(n.length,0,r)}};return e}();function ui(e,t,n,i){void 0===n&&(n="ObservableArray");void 0===i&&(i=!1);p();return Ji((function(){var a=new di(n,t,i,!1);D(a.values_,q,a);var o=new Proxy(a.values_,ci);a.proxy_=o;e&&e.length&&a.spliceWithArray_(0,0,e);return o}))}var hi={clear:function(){return this.splice(0)},replace:function(e){var t=this[q];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];var o=this[q];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,i)},spliceWithArray:function(e,t,n){return this[q].spliceWithArray_(e,t,n)},push:function(){for(var e=this[q],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.spliceWithArray_(e.values_.length,0,n);return e.values_.length},pop:function(){return this.splice(Math.max(this[q].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[q],t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e.spliceWithArray_(0,0,n);return e.values_.length},reverse:function(){St.trackingDerivation&&i(37,"reverse");this.replace(this.slice().reverse());return this},sort:function(){St.trackingDerivation&&i(37,"sort");var e=this.slice();e.sort.apply(e,arguments);this.replace(e);return this},remove:function(e){var t=this[q],n=t.dehanceValues_(t.values_).indexOf(e);if(n>-1){this.splice(n,1);return!0}return!1}};fi("at",pi);fi("concat",pi);fi("flat",pi);fi("includes",pi);fi("indexOf",pi);fi("join",pi);fi("lastIndexOf",pi);fi("slice",pi);fi("toString",pi);fi("toLocaleString",pi);fi("toSorted",pi);fi("toSpliced",pi);fi("with",pi);fi("every",mi);fi("filter",mi);fi("find",mi);fi("findIndex",mi);fi("findLast",mi);fi("findLastIndex",mi);fi("flatMap",mi);fi("forEach",mi);fi("map",mi);fi("some",mi);fi("toReversed",mi);fi("reduce",gi);fi("reduceRight",gi);function fi(e,t){"function"==typeof Array.prototype[e]&&(hi[e]=t(e))}function pi(e){return function(){var t=this[q];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function mi(e){return function(t,n){var i=this,a=this[q];a.atom_.reportObserved();return a.dehanceValues_(a.values_)[e]((function(e,a){return t.call(n,e,a,i)}))}}function gi(e){return function(){var t=this,n=this[q];n.atom_.reportObserved();var i=n.dehanceValues_(n.values_),a=arguments[0];arguments[0]=function(e,n,i){return a(e,n,i,t)};return i[e].apply(i,arguments)}}var vi=T("ObservableArrayAdministration",di);function yi(e){return b(e)&&vi(e[q])}var bi={},Ci="add",Si="delete",_i=function(){function e(e,t,n){var a=this;void 0===t&&(t=X);void 0===n&&(n="ObservableMap");this.enhancer_=void 0;this.name_=void 0;this[q]=bi;this.data_=void 0;this.hasMap_=void 0;this.keysAtom_=void 0;this.interceptors_=void 0;this.changeListeners_=void 0;this.dehancer=void 0;this.enhancer_=t;this.name_=n;v(Map)||i(18);Ji((function(){a.keysAtom_=Y("ObservableMap.keys()");a.data_=new Map;a.hasMap_=new Map;e&&a.merge(e)}))}var t=e.prototype;t.has_=function(e){return this.data_.has(e)};t.has=function(e){var t=this;if(!St.trackingDerivation)return this.has_(e);var n=this.hasMap_.get(e);if(!n){var i=n=new Je(this.has_(e),J,"ObservableMap.key?",!1);this.hasMap_.set(e,i);on(i,(function(){return t.hasMap_["delete"](e)}))}return n.get()};t.set=function(e,t){var n=this.has_(e);if(Jn(this)){var i=ei(this,{type:n?li:Ci,object:this,newValue:t,name:e});if(!i)return this;t=i.newValue}n?this.updateValue_(e,t):this.addValue_(e,t);return this};t["delete"]=function(e){var t=this;this.keysAtom_;if(Jn(this)){if(!ei(this,{type:Si,object:this,name:e}))return!1}if(this.has_(e)){var n=ti(this),i=n?{observableKind:"map",debugObjectName:this.name_,type:Si,object:this,oldValue:this.data_.get(e).value_,name:e}:null;0;zn((function(){var n;t.keysAtom_.reportChanged();null==(n=t.hasMap_.get(e))||n.setNewValue_(!1);t.data_.get(e).setNewValue_(void 0);t.data_["delete"](e)}));n&&ii(this,i);0;return!0}return!1};t.updateValue_=function(e,t){var n=this.data_.get(e);if((t=n.prepareNewValue_(t))!==St.UNCHANGED){var i=ti(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:li,object:this,oldValue:n.value_,name:e,newValue:t}:null;0;n.setNewValue_(t);i&&ii(this,a);0}};t.addValue_=function(e,t){var n=this;this.keysAtom_;zn((function(){var i,a=new Je(t,n.enhancer_,"ObservableMap.key",!1);n.data_.set(e,a);t=a.value_;null==(i=n.hasMap_.get(e))||i.setNewValue_(!0);n.keysAtom_.reportChanged()}));var i=ti(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Ci,object:this,name:e,newValue:t}:null;0;i&&ii(this,a);0};t.get=function(e){if(this.has(e))return this.dehanceValue_(this.data_.get(e).get());return this.dehanceValue_(void 0)};t.dehanceValue_=function(e){if(void 0!==this.dehancer)return this.dehancer(e);return e};t.keys=function(){this.keysAtom_.reportObserved();return this.data_.keys()};t.values=function(){var e=this,t=this.keys();return Ti({next:function(){var n=t.next(),i=n.done,a=n.value;return{done:i,value:i?void 0:e.get(a)}}})};t.entries=function(){var e=this,t=this.keys();return Ti({next:function(){var n=t.next(),i=n.done,a=n.value;return{done:i,value:i?void 0:[a,e.get(a)]}}})};t[Symbol.iterator]=function(){return this.entries()};t.forEach=function(e,t){for(var n,i=M(this);!(n=i()).done;){var a=n.value,o=a[0],r=a[1];e.call(t,r,o,this)}};t.merge=function(e){var t=this;Di(e)&&(e=new Map(e));zn((function(){if(C(e))(function(e){var t=Object.keys(e);if(!k)return t;var n=Object.getOwnPropertySymbols(e);if(!n.length)return t;return[].concat(t,n.filter((function(t){return c.propertyIsEnumerable.call(e,t)})))})(e).forEach((function(n){return t.set(n,e[n])}));else if(Array.isArray(e))e.forEach((function(e){var n=e[0],i=e[1];return t.set(n,i)}));else if(I(e)){(n=e,a=Object.getPrototypeOf(n),o=Object.getPrototypeOf(a),null===Object.getPrototypeOf(o))||i(19,e);e.forEach((function(e,n){return t.set(n,e)}))}else null!=e&&i(20,e);var n,a,o}));return this};t.clear=function(){var e=this;zn((function(){ut((function(){for(var t,n=M(e.keys());!(t=n()).done;){var i=t.value;e["delete"](i)}}))}))};t.replace=function(e){var t=this;zn((function(){for(var n,a=function(e){if(I(e)||Di(e))return e;if(Array.isArray(e))return new Map(e);if(C(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return i(21,e)}(e),o=new Map,r=!1,s=M(t.data_.keys());!(n=s()).done;){var l=n.value;if(!a.has(l)){if(t["delete"](l))r=!0;else{
var c=t.data_.get(l);o.set(l,c)}}}for(var d,u=M(a.entries());!(d=u()).done;){var h=d.value,f=h[0],p=h[1],m=t.data_.has(f);t.set(f,p);if(t.data_.has(f)){var g=t.data_.get(f);o.set(f,g);m||(r=!0)}}if(!r)if(t.data_.size!==o.size)t.keysAtom_.reportChanged();else for(var v=t.data_.keys(),y=o.keys(),b=v.next(),S=y.next();!b.done;){if(b.value!==S.value){t.keysAtom_.reportChanged();break}b=v.next();S=y.next()}t.data_=o}));return this};t.toString=function(){return"[object ObservableMap]"};t.toJSON=function(){return Array.from(this)};t.observe_=function(e,t){0;return ni(this,e)};t.intercept_=function(e){return Zn(this,e)};return B(e,[{key:"size",get:function(){this.keysAtom_.reportObserved();return this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Map"}}])}(),Di=T("ObservableMap",_i);function Ti(e){e[Symbol.toStringTag]="MapIterator";return oa(e)}var Ii={},xi=function(){function e(e,t,n){var a=this;void 0===t&&(t=X);void 0===n&&(n="ObservableSet");this.name_=void 0;this[q]=Ii;this.data_=new Set;this.atom_=void 0;this.changeListeners_=void 0;this.interceptors_=void 0;this.dehancer=void 0;this.enhancer_=void 0;this.name_=n;v(Set)||i(22);this.enhancer_=function(e,i){return t(e,i,n)};Ji((function(){a.atom_=Y(a.name_);e&&a.replace(e)}))}var t=e.prototype;t.dehanceValue_=function(e){if(void 0!==this.dehancer)return this.dehancer(e);return e};t.clear=function(){var e=this;zn((function(){ut((function(){for(var t,n=M(e.data_.values());!(t=n()).done;){var i=t.value;e["delete"](i)}}))}))};t.forEach=function(e,t){for(var n,i=M(this);!(n=i()).done;){var a=n.value;e.call(t,a,a,this)}};t.add=function(e){var t=this;this.atom_;if(Jn(this)){var n=ei(this,{type:Ci,object:this,newValue:e});if(!n)return this;e=n.newValue}if(!this.has(e)){zn((function(){t.data_.add(t.enhancer_(e,void 0));t.atom_.reportChanged()}));var i=!1,a=ti(this),o=a?{observableKind:"set",debugObjectName:this.name_,type:Ci,object:this,newValue:e}:null;i;a&&ii(this,o);i}return this};t["delete"]=function(e){var t=this;if(Jn(this)){if(!ei(this,{type:Si,object:this,oldValue:e}))return!1}if(this.has(e)){var n=!1,i=ti(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:Si,object:this,oldValue:e}:null;n;zn((function(){t.atom_.reportChanged();t.data_["delete"](e)}));i&&ii(this,a);n;return!0}return!1};t.has=function(e){this.atom_.reportObserved();return this.data_.has(this.dehanceValue_(e))};t.entries=function(){var e=this.values();return wi({next:function(){var t=e.next(),n=t.value,i=t.done;return i?{value:void 0,done:i}:{value:[n,n],done:i}}})};t.keys=function(){return this.values()};t.values=function(){this.atom_.reportObserved();var e=this,t=this.data_.values();return wi({next:function(){var n=t.next(),i=n.value,a=n.done;return a?{value:void 0,done:a}:{value:e.dehanceValue_(i),done:a}}})};t.intersection=function(e){if(x(e)&&!ki(e))return e.intersection(this);return new Set(this).intersection(e)};t.union=function(e){if(x(e)&&!ki(e))return e.union(this);return new Set(this).union(e)};t.difference=function(e){return new Set(this).difference(e)};t.symmetricDifference=function(e){if(x(e)&&!ki(e))return e.symmetricDifference(this);return new Set(this).symmetricDifference(e)};t.isSubsetOf=function(e){return new Set(this).isSubsetOf(e)};t.isSupersetOf=function(e){return new Set(this).isSupersetOf(e)};t.isDisjointFrom=function(e){if(x(e)&&!ki(e))return e.isDisjointFrom(this);return new Set(this).isDisjointFrom(e)};t.replace=function(e){var t=this;ki(e)&&(e=new Set(e));zn((function(){if(Array.isArray(e)){t.clear();e.forEach((function(e){return t.add(e)}))}else if(x(e)){t.clear();e.forEach((function(e){return t.add(e)}))}else null!=e&&i("Cannot initialize set from "+e)}));return this};t.observe_=function(e,t){0;return ni(this,e)};t.intercept_=function(e){return Zn(this,e)};t.toJSON=function(){return Array.from(this)};t.toString=function(){return"[object ObservableSet]"};t[Symbol.iterator]=function(){return this.values()};return B(e,[{key:"size",get:function(){this.atom_.reportObserved();return this.data_.size}},{key:Symbol.toStringTag,get:function(){return"Set"}}])}(),ki=T("ObservableSet",xi);function wi(e){e[Symbol.toStringTag]="SetIterator";return oa(e)}var Ei=Object.create(null),Ai="remove",Li=function(){function e(e,t,n,i){void 0===t&&(t=new Map);void 0===i&&(i=Ce);this.target_=void 0;this.values_=void 0;this.name_=void 0;this.defaultAnnotation_=void 0;this.keysAtom_=void 0;this.changeListeners_=void 0;this.interceptors_=void 0;this.proxy_=void 0;this.isPlainObject_=void 0;this.appliedAnnotations_=void 0;this.pendingKeys_=void 0;this.target_=e;this.values_=t;this.name_=n;this.defaultAnnotation_=i;this.keysAtom_=new z("ObservableObject.keys");this.isPlainObject_=C(this.target_);0;0}var t=e.prototype;t.getObservablePropValue_=function(e){return this.values_.get(e).get()};t.setObservablePropValue_=function(e,t){var n=this.values_.get(e);if(n instanceof et){n.set(t);return!0}if(Jn(this)){var i=ei(this,{type:li,object:this.proxy_||this.target_,name:e,newValue:t});if(!i)return null;t=i.newValue}if((t=n.prepareNewValue_(t))!==St.UNCHANGED){var a=ti(this),o=a?{type:li,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:n.value_,name:e,newValue:t}:null;0;n.setNewValue_(t);a&&ii(this,o);0}return!0};t.get_=function(e){St.trackingDerivation&&!A(this.target_,e)&&this.has_(e);return this.target_[e]};t.set_=function(e,t,n){void 0===n&&(n=!1);if(A(this.target_,e)){if(this.values_.has(e))return this.setObservablePropValue_(e,t);if(n)return Reflect.set(this.target_,e,t);this.target_[e]=t;return!0}return this.extend_(e,{value:t,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,n)};t.has_=function(e){if(!St.trackingDerivation)return e in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var t=this.pendingKeys_.get(e);if(!t){t=new Je(e in this.target_,J,"ObservableObject.key?",!1);this.pendingKeys_.set(e,t)}return t.get()};t.make_=function(e,t){!0===t&&(t=this.defaultAnnotation_);if(!1===t)return;Mi(this,t,e);if(!(e in this.target_)){var n;if(null!=(n=this.target_[U])&&n[e])return;i(1,t.annotationType_,this.name_+"."+e.toString())}for(var a=this.target_;a&&a!==c;){var o=s(a,e);if(o){var r=t.make_(this,e,o,a);if(0===r)return;if(1===r)break}a=Object.getPrototypeOf(a)}Bi(this,t,e)};t.extend_=function(e,t,n,i){void 0===i&&(i=!1);!0===n&&(n=this.defaultAnnotation_);if(!1===n)return this.defineProperty_(e,t,i);Mi(this,n,e);var a=n.extend_(this,e,t,i);a&&Bi(this,n,e);return a};t.defineProperty_=function(e,t,n){void 0===n&&(n=!1);this.keysAtom_;try{kt();var i=this.delete_(e);if(!i)return i;if(Jn(this)){var a=ei(this,{object:this.proxy_||this.target_,name:e,type:Ci,newValue:t.value});if(!a)return null;var o=a.newValue;t.value!==o&&(t=F({},t,{value:o}))}if(n){if(!Reflect.defineProperty(this.target_,e,t))return!1}else l(this.target_,e,t);this.notifyPropertyAddition_(e,t.value)}finally{wt()}return!0};t.defineObservableProperty_=function(e,t,n,i){void 0===i&&(i=!1);this.keysAtom_;try{kt();var a=this.delete_(e);if(!a)return a;if(Jn(this)){var o=ei(this,{object:this.proxy_||this.target_,name:e,type:Ci,newValue:t});if(!o)return null;t=o.newValue}var r=Pi(e),s={configurable:!St.safeDescriptors||this.isPlainObject_,enumerable:!0,get:r.get,set:r.set};if(i){if(!Reflect.defineProperty(this.target_,e,s))return!1}else l(this.target_,e,s);var c=new Je(t,n,"ObservableObject.key",!1);this.values_.set(e,c);this.notifyPropertyAddition_(e,c.value_)}finally{wt()}return!0};t.defineComputedProperty_=function(e,t,n){void 0===n&&(n=!1);this.keysAtom_;try{kt();var i=this.delete_(e);if(!i)return i;if(Jn(this)){if(!ei(this,{object:this.proxy_||this.target_,name:e,type:Ci,newValue:void 0}))return null}t.name||(t.name="ObservableObject.key");t.context=this.proxy_||this.target_;var a=Pi(e),o={configurable:!St.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(n){if(!Reflect.defineProperty(this.target_,e,o))return!1}else l(this.target_,e,o);this.values_.set(e,new et(t));this.notifyPropertyAddition_(e,void 0)}finally{wt()}return!0};t.delete_=function(e,t){void 0===t&&(t=!1);this.keysAtom_;if(!A(this.target_,e))return!0;if(Jn(this)){if(!ei(this,{
object:this.proxy_||this.target_,name:e,type:Ai}))return null}try{var n;kt();var i=ti(this),a=this.values_.get(e),o=void 0;if(!a&&i){var r;o=null==(r=s(this.target_,e))?void 0:r.value}if(t){if(!Reflect.deleteProperty(this.target_,e))return!1}else delete this.target_[e];0;if(a){this.values_["delete"](e);a instanceof Je&&(o=a.value_);At(a)}this.keysAtom_.reportChanged();null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(e in this.target_);if(i){var l={type:Ai,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:o,name:e};0;i&&ii(this,l);0}}finally{wt()}return!0};t.observe_=function(e,t){0;return ni(this,e)};t.intercept_=function(e){return Zn(this,e)};t.notifyPropertyAddition_=function(e,t){var n,i=ti(this);if(i){var a=i?{type:Ci,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:e,newValue:t}:null;0;i&&ii(this,a);0}null==(n=this.pendingKeys_)||null==(n=n.get(e))||n.set(!0);this.keysAtom_.reportChanged()};t.ownKeys_=function(){this.keysAtom_.reportObserved();return w(this.target_)};t.keys_=function(){this.keysAtom_.reportObserved();return Object.keys(this.target_)};return e}();function Ni(e,t){var n;0;if(A(e,q)){0;return e}0;var i=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",a=new Li(e,new Map,String(i),function(e){var t;return e?null!=(t=e.defaultDecorator)?t:Se(e):void 0}(t));_(e,q,a);return e}var Ri=T("ObservableObjectAdministration",Li);function Pi(e){return Ei[e]||(Ei[e]={get:function(){return this[q].getObservablePropValue_(e)},set:function(t){return this[q].setObservablePropValue_(e,t)}})}function Oi(e){if(b(e))return Ri(e[q]);return!1}function Bi(e,t,n){var i;0;null==(i=e.target_[U])||delete i[n]}function Mi(e,t,n){0}var Fi,Wi,Hi=Vi(0),Gi=function(){var e=!1,t={};Object.defineProperty(t,"0",{set:function(){e=!0}});Object.create(t)["0"]=1;return!1===e}(),Ui=0,ji=function(){};Fi=ji,Wi=Array.prototype,Object.setPrototypeOf?Object.setPrototypeOf(Fi.prototype,Wi):void 0!==Fi.prototype.__proto__?Fi.prototype.__proto__=Wi:Fi.prototype=Wi;var $i=function(e){function t(t,n,i,a){var o;void 0===i&&(i="ObservableArray");void 0===a&&(a=!1);o=e.call(this)||this;Ji((function(){var e=new di(i,n,a,!0);e.proxy_=o;D(o,q,e);t&&t.length&&o.spliceWithArray(0,0,t);Gi&&Object.defineProperty(o,"0",Hi)}));return o}W(t,e);var n=t.prototype;n.concat=function(){this[q].atom_.reportObserved();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Array.prototype.concat.apply(this.slice(),t.map((function(e){return yi(e)?e.slice():e})))};n[Symbol.iterator]=function(){var e=this,t=0;return oa({next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})};return B(t,[{key:"length",get:function(){return this[q].getArrayLength_()},set:function(e){this[q].setArrayLength_(e)}},{key:Symbol.toStringTag,get:function(){return"Array"}}])}(ji);Object.entries(hi).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&_($i.prototype,t,n)}));function Vi(e){return{enumerable:!1,configurable:!0,get:function(){return this[q].get_(e)},set:function(t){this[q].set_(e,t)}}}function qi(e){l($i.prototype,""+e,Vi(e))}function zi(e){if(e>Ui){for(var t=Ui;t<e+100;t++)qi(t);Ui=e}}zi(1e3);function Ki(e,t,n){return new $i(e,t,n)}function Yi(e,t){if("object"==typeof e&&null!==e){if(yi(e)){void 0!==t&&i(23);return e[q].atom_}if(ki(e))return e.atom_;if(Di(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);n||i(25,t,Xi(e));return n}if(Oi(e)){if(!t)return i(26);var a=e[q].values_.get(t);a||i(27,t,Xi(e));return a}if(K(e)||it(e)||Mt(e))return e}else if(v(e)&&Mt(e[q]))return e[q];i(28)}function Qi(e,t){e||i(29);if(void 0!==t)return Qi(Yi(e,t));if(K(e)||it(e)||Mt(e))return e;if(Di(e)||ki(e))return e;if(e[q])return e[q];i(24,e)}function Xi(e,t){var n;if(void 0!==t)n=Yi(e,t);else{if(Qt(e))return e.name;n=Oi(e)||Di(e)||ki(e)?Qi(e):Yi(e)}return n.name_}function Ji(e){var t=ht(),n=Qe(!0);kt();try{return e()}finally{wt();Xe(n);ft(t)}}var Zi,ea=c.toString;function ta(e,t,n){void 0===n&&(n=-1);return na(e,t,n)}function na(e,t,n,i,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var o=typeof e;if("function"!==o&&"object"!==o&&"object"!=typeof t)return!1;var r=ea.call(e);if(r!==ea.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":if(+e!=+e)return+t!=+t;return 0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=ia(e);t=ia(t);var s="[object Array]"===r;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var l=e.constructor,c=t.constructor;if(l!==c&&!(v(l)&&l instanceof l&&v(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1);a=a||[];for(var d=(i=i||[]).length;d--;)if(i[d]===e)return a[d]===t;i.push(e);a.push(t);if(s){if((d=e.length)!==t.length)return!1;for(;d--;)if(!na(e[d],t[d],n-1,i,a))return!1}else{var u=Object.keys(e),h=u.length;if(Object.keys(t).length!==h)return!1;for(var f=0;f<h;f++){var p=u[f];if(!A(t,p)||!na(e[p],t[p],n-1,i,a))return!1}}i.pop();a.pop();return!0}function ia(e){if(yi(e))return e.slice();if(I(e)||Di(e))return Array.from(e.entries());if(x(e)||ki(e))return Array.from(e.entries());return e}var aa=(null==(Zi=o().Iterator)?void 0:Zi.prototype)||{};function oa(e){e[Symbol.iterator]=ra;return Object.assign(Object.create(aa),e)}function ra(){return this}["Symbol","Map","Set"].forEach((function(e){void 0===o()[e]&&i("MobX requires global '"+e+"' to be available or polyfilled")}));"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ft,extras:{getDebugName:Xi},$mobx:q})},5629:(e,t,n)=>{e.exports=n(4507)(50271)},5648:(e,t,n)=>{e.exports=n(8846)(9796)},5681:(e,t,n)=>{e.exports=n(4507)(68838)},5713:(e,t,n)=>{e.exports=n},5732:(e,t,n)=>{e.exports=n(4507)(27450)},5734:(e,t,n)=>{e.exports=n(4507)(19466)},5852:(e,t,n)=>{e.exports=n(4507)(71673)},5853:(e,t,n)=>{e.exports=n(4507)(32374)},5892:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(9912),a={Report:"Report",Newsletter:"Newsletter",Alert:"Alert",History:"History",Result:"Result",Settings:"Settings",Moderation:"Moderation",DisplayName:{Report:i["default"].lookup("SC.Alerts.Center.Type.Report","Report"),Newsletter:i["default"].lookup("SC.Alerts.Center.Type.Newsletter","Newsletter"),Alert:i["default"].lookup("SC.Alerts.Center.Type.Alert","Alert"),History:i["default"].lookup("SC.Alerts.Center.Type.History","History"),Result:i["default"].lookup("SC.Alerts.Center.Type.Result","Result"),Settings:i["default"].lookup("SC.Alerts.Center.Type.Settings","Settings"),Moderation:i["default"].lookup("SC.Alerts.Center.Type.Moderation","Moderation")},PluralDisplayName:{Report:i["default"].lookup("SC.Alerts.Center.Type.PluralReport","Reports"),Newsletter:i["default"].lookup("SC.Alerts.Center.Type.PluralNewsletter","Newsletters"),Alert:i["default"].lookup("SC.Alerts.Center.Type.PluralAlert","Alerts"),Result:i["default"].lookup("SC.Alerts.Center.Type.PluralResult","Results")},getPluralTitle:function(e){var t=null;switch(e){case a.Report:t=a.PluralDisplayName.Report;break;case a.Newsletter:t=a.PluralDisplayName.Newsletter;break;case a.Alert:t=a.PluralDisplayName.Alert;break;case a.Result:t=a.PluralDisplayName.Result;break;default:t=e}return t}};const o=a},5904:(e,t,n)=>{e.exports=n(4507)(38744)},5930:(e,t,n)=>{"use strict";n.d(t,{f:()=>c});var i=n(3434),a=n(8660),o=n(3903),r=n(6306),s=n(6094);function l(){r["default"].call(this)}l.prototype=new r["default"];l.prototype.constructor=l;l.prototype.submitWebRequest=function(e){var t="RelatedInfo/v4/bigforms/"+e.documentGuid,n=new s.A,r=e.contextData;o["default"].isNotNullOrUndefined(r)&&o["default"].trim(r).length>0&&n.addParameter("contextData",r);var l=e.docSource;o["default"].isNotNullOrUndefined(l)&&o["default"].trim(l).length>0&&n.addParameter("docSource",l);var c=e.rank;o["default"].isNotNullOrUndefined(c)&&o["default"].trim(c).length>0&&n.addParameter("rank",c);var d=e.documentCollection
;o["default"].isNotNullOrUndefined(d)&&o["default"].trim(d).length>0&&n.addParameter("collection",d);var u=n.buildParametersString();o["default"].isNotNullOrUndefined(u)&&o["default"].trim(u).length>0&&(t+="?"+u);return new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};const c=new l},5932:(e,t,n)=>{e.exports=n(4507)(83841)},6015:(e,t,n)=>{e.exports=n(8846)(8497)},6049:(e,t,n)=>{"use strict";n.d(t,{A:()=>E});var i=n(4383),a=n(9912),o=n(8286),r=n(2065),s=n(9474),l=n(9520);function c(){this._skipButtonText=a["default"].lookup("SC.Document.Navigation.PopUpMsgSkipLinkOut.Skip","Skip");this._returnButtonText=a["default"].lookup("SC.Document.Navigation.PopUpMsgSkipLinkOut.ReturnToList","Return to list");this._hasButtons=!0}c.prototype={SetClassName:function(e){this._className=e},SetId:function(e){this._id=e},SetTitle:function(e){e&&(this._title='<div id="co_headerMessage">'+e+"</div>")},SetSkipButtonText:function(e){this._skipButtonText=e||a["default"].lookup("SC.Document.Navigation.PopUpMsgSkipLinkOut.OK","OK")},SetContentHtml:function(e){this._contentHtml=e},SetHasButtons:function(e){this._hasButtons=e},SetReturnButtonText:function(e){this._returnButtonText=e||a["default"].lookup("SC.Document.Navigation.PopUpMsgSkipLinkOut.Cancel","Cancel")},SetSkipCallback:function(e){this._skipCallback=e},SetReturnToListCallback:function(e){this._returnToListCallback=e},SetCloseIconCallback:function(e){this._closeIconCallback=e},Draw:function(){var e=this;e._styledLightBox&&e._styledLightBox.Remove();e._styledLightBox=new l["default"];e._className&&e._styledLightBox.SetClass(e._className);e._id&&e._styledLightBox.SetId(e._id);e._title&&e._styledLightBox.SetTitle(e._title);e._contentHtml&&(e._styledLightBox.GetContentDomElement().innerHTML=e._contentHtml);e._buildFooterButtonHtml();e._styledLightBox.SetCloseLinkObject({alt:"Close",onclick:function(){e._styledLightBox.Remove();e._styledLightBox=void 0;e._closeIconCallback&&e._closeIconCallback()}});this._styledLightBox.Draw(!0,!0)},_buildFooterButtonHtml:function(){var e=this,t=e._styledLightBox.GetFooterDomElement();t?.replaceChildren();var n=document.createElement("ul");if(e._hasButtons){var i=document.createElement("li"),a=document.createElement("input");a.setAttribute("type","button");a.setAttribute("alt",this._skipButtonText);a.value=this._skipButtonText;a.onclick=function(){e._styledLightBox.Remove();e._skipCallback&&e._skipCallback()};i.appendChild(a);n.appendChild(i);var o=document.createElement("li"),r=document.createElement("input");r.setAttribute("type","button");r.setAttribute("alt",this._returnButtonText);r.value=this._returnButtonText;r.onclick=function(){e._styledLightBox.Remove();e._returnToListCallback&&e._returnToListCallback()};o.appendChild(r);n.appendChild(o);t.appendChild(n)}}};const d=c;var u=n(2595),h=n(3434),f=n(966),p=n(3903),m=n(9172),g=n(8660),v=n(7249);function y(){this.documentGuid=null;this.category=null;this.pageNumber=null;this.pageSize=null;this.titleText=null;this.cite=null;this.facetGuid=null;this.formFamilyGuid=null;this.sortType=null;this.sortOrder=null;this.detailLevel=null;this.planIcons=null;this.warningFlag=null;this.skipOutOfPlan=null;this.contextData=null;this.docSource=null;this.rank=null;this.excludeNodBody=null;this.documentCollection=null}y.prototype={setWarningFlag:function(e){this.warningFlag=e},getWarningFlag:function(){return this.warningFlag},setPlanIcons:function(e){this.planIcons=e},getPlanIcons:function(){return this.planIcons},setDocumentGuid:function(e){this.documentGuid=e},getDocumentGuid:function(){return this.documentGuid},setCategory:function(e){this.category=e},getCategory:function(){return this.category},setPageNumber:function(e){this.pageNumber=e},getPageNumber:function(){return this.pageNumber},setPageSize:function(e){this.pageSize=e},getPageSize:function(){return this.pageSize},setTitleText:function(e){this.titleText=e},getTitleText:function(){return this.titleText},setCite:function(e){this.cite=e},getCite:function(){return this.cite},setFacetGuid:function(e){this.facetGuid=e},getFacetGuid:function(){return this.facetGuid},setFormFamilyGuid:function(e){this.formFamilyGuid=e},getFormFamilyGuid:function(){return this.formFamilyGuid},setSortType:function(e){this.sortType=e},getSortType:function(){return this.sortType},setSortOrder:function(e){this.sortOrder=e},getSortOrder:function(){return this.sortOrder},setDetailLevel:function(e){this.detailLevel=e},getDetailLevel:function(){return this.detailLevel},setContextData:function(e){this.contextData=e},getContextData:function(){return this.contextData},setDocSource:function(e){this.docSource=e},getDocSource:function(){return this.docSource},setRank:function(e){this.rank=e},getRank:function(){return this.rank},setExcludeNodBodyTopNav:function(e){this.excludeNodBodyTopNav=e},getExcludeNodBodyTopNav:function(){return this.excludeNodBodyTopNav},setDocumentCollection:function(e){this.documentCollection=e},getDocumentCollection:function(){return this.documentCollection},setSkipOutOfPlan:function(e){this.skipOutOfPlan=e},getSkipOutOfPlan:function(){return this.skipOutOfPlan},equals:function(e){var t=!1;e&&e instanceof y&&this.getDocumentGuid()==e.getDocumentGuid()&&this.getCategory()==e.getCategory()&&this.getPageNumber()==e.getPageNumber()&&this.getPageSize()==e.getPageSize()&&this.getTitleText()==e.getTitleText()&&this.getCite()==e.getCite()&&this.getFacetGuid()==e.getFacetGuid()&&this.getSortType()==e.getSortType()&&this.getSortOrder()==e.getSortOrder()&&this.getDetailLevel()==e.getDetailLevel()&&this.getPlanIcons()==e.getPlanIcons()&&this.getWarningFlag()==e.getWarningFlag()&&this.getContextData()==e.getContextData()&&this.getDocSource()==e.getDocSource()&&this.getRank()==e.getRank()&&this.getExcludeNodBodyTopNav()==e.getExcludeNodBodyTopNav()&&this.getFormFamilyGuid()==e.getFormFamilyGuid()&&this.getDocumentCollection()==e.getDocumentCollection()&&this.getSkipOutOfPlan()==e.getSkipOutOfPlan()&&(t=!0);return t},copyContent:function(){var e=new y;e.setDocumentGuid(this.getDocumentGuid());e.setCategory(this.getCategory());e.setPageNumber(this.getPageNumber());e.setPageSize(this.getPageSize());e.setTitleText(this.getTitleText());e.setCite(this.getCite());e.setFacetGuid(this.getFacetGuid());e.setSortType(this.getSortType());e.setSortOrder(this.getSortOrder());e.setDetailLevel(this.getDetailLevel());e.setPlanIcons(this.getPlanIcons());e.setWarningFlag(this.getWarningFlag());e.setContextData(this.getContextData());e.setDocSource(this.getDocSource());e.setRank(this.getRank());e.setExcludeNodBodyTopNav(this.getExcludeNodBodyTopNav());e.setFormFamilyGuid(this.getFormFamilyGuid());e.setDocumentCollection(this.getDocumentCollection());e.setSkipOutOfPlan(this.getSkipOutOfPlan());return e}};const b=function(){var e=this;this.listSource=null;this.navigationPath=null;this.list=null;this.rank=null;this.previousOrNext=null;this.lightbox=null;this.lightboxContentDiv=null;this.callbackMethod=null;this.cancelled=!1;this.listPageSource=null;this.gatherContentParameters=null;this.SetInPlanNavigationParameters=function(t,n,i,a,o,r,s){e.listSource=t;e.navigationPath=n;e.list=i;e.rank=a;e.previousOrNext=o;e.callbackMethod=r;e.listPageSource=(0,u.IsNotNullOrEmpty)(s)?s:""};this.Draw=function(){this.cancelled=!1;e.lightbox=new l["default"];e.lightbox.SetId(o["default"].ids.docInPlanLightBoxId);e.lightbox.SetClass(o["default"].classes.docInPlanLightBox);e.lightboxContentDiv=document.createElement("div");e.lightboxContentDiv.innerHTML='<div class="'+o["default"].classes.searchWaitMessageContent+'">'+o["default"].texts.findDocumentInPlan+'</div><div class="'+o["default"].classes.searchWaitProgressImage+'" id="'+o["default"].ids.searchWaitProgress+'"></div>';e.lightbox.GetContentDomElement().appendChild(e.lightboxContentDiv);e.lightbox.RedrawCloseLinkObject({id:"co_outOfPlanLightbox",alt:a["default"].lookup("SC.Document.FindDocumentInPlan.CancelOutOfPlan","Cancel Out of Plan"),onclick:function(){e.cancelled=!0;e.lightbox.Remove()}});e.lightbox.Draw()
;(new s["default"]).GetNextPreviousDocumentNavigationData(e.listSource,e.navigationPath,e.list,e.rank,e.renderCallback,e.renderErrorCallback,e.previousOrNext,e.listPageSource)};this.renderCallback=function(t){if(e.cancelled)return;var n=t.InPlanUrl;n||("Next"===e.previousOrNext?n=t.NextDocument&&t.NextDocument.Url:"Previous"===e.previousOrNext&&(n=t.PreviousDocument&&t.PreviousDocument.Url));if(n&&n.length>0)"&InPlanNoDocument=true"==window.location.href.substring(window.location.href.length-22)?e.ShowNoNextDocumentContent():e.callbackMethod(n);else if(e.IsCitingReference()&&e.NeedToGatherNewPage(t.ListCount)){var i=e.getGatherContentPageNumber();e.gatherContentData(i,t)}else e.ShowNoNextDocumentContent()};this.renderErrorCallback=function(){if(e.cancelled)return;e.ShowNoNextDocumentContent()};this.ShowNoNextDocumentContent=function(){var t=h["default"].GetUrl(h["default"].Images,o["default"].paths.infoImage);e.lightboxContentDiv.innerHTML='<div class="'+o["default"].classes.docInPlanLightBoxContent+'"><img src="'+t+'" alt="['+a["default"].lookup("SC.Document.FindDocumentInPlan.NoNextDocumentInPlanImgAlt","No next document in plan")+']" />'+o["default"].texts.noInPlanDocumentFound+"</div>";e.lightbox.RedrawCloseLinkObject({id:"co_outOfPlanLightbox",alt:a["default"].lookup("SC.Document.FindDocumentInPlan.CloseOutOfPlanMessageNoNextDoc","Close Out of Plan message"),onclick:function(){e.lightbox.Remove()}})};this.gatherContentData=function(t,n){var a=this.getNavPathQueryString();if(null==e.gatherContentParameters){e.gatherContentParameters=new y;var o=p["default"].getSliderDetailByCategory(a.category),r=f["default"].Get("SAP","SKIP OUT OF PLAN"),s=f["default"].Get("SAP","PLAN ICONS"),l=f["default"].Get("SAP","WARNING FLAG");e.gatherContentParameters.setDocumentGuid(a.orgGuid);e.gatherContentParameters.setCategory(a.category);e.gatherContentParameters.setPageNumber(t);e.gatherContentParameters.setPageSize(p["default"].getPageSize());if(null!=n.ReturnTo&&null!=n.ReturnTo.Url){var c=i["default"].Parse(n.ReturnTo.Url);e.gatherContentParameters.setSortType(c.QueryString.sortType);e.gatherContentParameters.setSortOrder(c.QueryString.sortOrder);e.gatherContentParameters.setDocSource(c.QueryString.docSource);e.gatherContentParameters.setRank(c.QueryString.rank)}e.gatherContentParameters.setDetailLevel(o);e.gatherContentParameters.setContextData(i["default"].PageContextData);e.gatherContentParameters.setSkipOutOfPlan("YES"==r);e.gatherContentParameters.setPlanIcons(s);e.gatherContentParameters.setWarningFlag(l)}else e.gatherContentParameters.setPageNumber(t);var d={};d.docGuid=a.orgGuid;d.pageNumber=""+a.pageNumber;d.navHashCode=a.navHashCode;d.category=a.category;d.sortType=e.gatherContentParameters.getSortType();d.sortOrder=e.gatherContentParameters.getSortOrder();d.gatherPageNumber=t;var u=e.gatherContentParameters.copyContent();v._.requestData(u,(function(t){e.handleGetNavProgress(t,d)}))};this.handleGetNavProgress=function(t,n){var i=new m["default"]("RelatedInfo/v4/keycite/navigation/");i.addParameter("guid",n.docGuid);i.addParameter("pageNumber",n.pageNumber);i.addParameter("pageSize",p["default"].getPageSize());i.addParameter("rank",e.rank);i.addParameter("navHashCode",n.navHashCode);i.addParameter("category",n.category);i.addParameter("sortType",n.sortType);i.addParameter("sortOrder",n.sortOrder);i.addParameter("InPlan",e.previousOrNext);var a=i.buildUrl();new g["default"](h["default"].RelatedInfo,a,{timeout:9e4,headers:{Accept:"text/html"}}).Get((function(t){null==t.ErrorType||0==t.ErrorType?e.renderCallback(t):e.renderErrorCallback()}))};this.NeedToGatherNewPage=function(t){var n=e.getGatherContentPageNumber(),i=p["default"].getPageSize();if(n>0&&n*i-i+1<=t)return!0;return!1};this.getGatherContentPageNumber=function(){var t=parseInt(this.getNavPathQueryString().pageNumber);null!=e.gatherContentParameters&&(t=e.gatherContentParameters.getPageNumber());var n=t-1;"Next"==e.previousOrNext&&(n=t+1);return n};this.IsCitingReference=function(){var e=this.getNavPathQueryString();if(void 0!==e.category&&null!==e.category&&("CitingReferences"==e.category||"StatuteCitingReferences"==e.category||"kcCitingReferences"==e.category))return!0;return!1};this.getNavPathQueryString=function(){return i["default"].Parse(e.navigationPath).QueryString}};var C=n(1422),S=n(7022),_=n(3839),D=n(8260),T=n(6482),I=n(9191),x=n.n(I);const k=function(){this.relativeUrl=null;this.hasNavigationData=!1;this.hasTerms=!1;this.hasReturnToLink=!1;this.hasLoadedData=!1;this.hasMessage=!1;this.hasRequestedData=!1;this.highlightedPoints=[];var e=this;this.currentDocument=1;this.totalDocuments=1;this.searchHandle=null;this.showInPlanDocumentsOnly=!1;this.useInPlanDocumentsOnly=!1;this.highlightedTerms=[];this.secondaryHighlightedTerms=[];this.searchQuery="";this.searchWithinQuery="";this.searchQueryType="";this.previousDocumentUrlAndTitle={Url:"",Title:""};this.nextDocumentUrlAndTitle={Url:"",Title:""};this.previousDocumentInPlanTitle=a["default"].lookup("SC.Document.Navigation.previousDocumentInPlanTitle","Previous Document In Plan");this.nextDocumentInPlanTitle=a["default"].lookup("SC.Document.Navigation.nextDocumentInPlanTitle","Next Document In Plan");this.returnTo=null;this.message=null;this.gatheredPageNumber=null;this.progressIndicatorInitialized=!1;this.progressIndicator=null;this.maxCitingReferenceNav=1e4;this.isRefreshingExpiredData=!1;this.ToggleInPlanDocumentsValue=function(){e.showInPlanDocumentsOnly?e.useInPlanDocumentsOnly=!e.useInPlanDocumentsOnly:e.useInPlanDocumentsOnly=!1;f["default"].Set(o["default"].prefs.documentPreferenceSpace,o["default"].prefs.isSkipOutOfPlanChecked,e.useInPlanDocumentsOnly,(function(){}),(function(){}));var t=o["default"].events.useDocumentsInPlanValueChange;r["default"].publishHubEvent(t,null,{},null)};this.HasListProvider=function(){return e.hasRequestedData};this.FetchNextPreviousData=function(t,n,i,a,o){if(null==t||0==t.length||"SmartFolders"==t||null==n||0==n.length||null==i||0==i.length)return!1;if(e.hasRequestedData)return!0;a=isNaN(parseInt(a))?0:a;e.listSource=t;e.navigationPath=n;e.list=i;e.rank=a;e.listPageSource=o;if("ResearchReport"==t){e.setNavigationDataForResearchReport();e.publishDocNavDataIsReadyEvent()}else{(new s["default"]).GetNextPreviousDocumentNavigationData(t,n,i,a,e.renderCallback,e.renderErrorCallback,"",o);e.hasRequestedData=!0}return!0};this.renderCallback=function(t){if(e.IsCitingReferenceNavExpired(t)&&e.IsValidCitingReferenceNavRefresh()&&!e.isRefreshingExpiredData){e.hasRequestedData=!0;e.isRefreshingExpiredData=!0;var n=o["default"].events.docNavDataIsReady;C["default"].Subscribe(n,(function(){D["default"].DocToolbarWidget.documentNavigation=e;D["default"].DocToolbarWidget.Draw()}));e.ReloadCitingReferenceCurrentPage()}else{const n={Url:"",Title:""};e.currentDocument=t.CurrentPosition;e.totalDocuments=t.ListCount;e.previousDocumentUrlAndTitle=t.PreviousDocument??n;e.nextDocumentUrlAndTitle=t.NextDocument??n;e.returnTo=t.ReturnTo;e.message=t.Message;e.highlightedTerms=null!=t.HighlightTerms?t.HighlightTerms:{};e.secondaryHighlightedTerms=null!=t.SecondaryHighlightTerms?t.SecondaryHighlightTerms:{};e.highlightedPoints=null!=t.HighlightPoints?t.HighlightPoints:{};e.hasTerms=e.highlightedTerms.length>0||e.secondaryHighlightedTerms.length>0||e.highlightedPoints.length>0;e.hasNavigationData=e.checkNavigationData(t);e.hasReturnToLink=null!=e.returnTo&&null!=e.returnTo.Title&&null!=e.returnTo.Url;e.hasMessage=null!=e.message;e.searchQuery=t.OriginalQuery;e.searchWithinQuery=t.SearchWithinQuery;e.searchQueryType=t.SearchQueryType;e.searchHandle=void 0!==t.NovusSearchResult&&t.NovusSearchResult;var i=!1;void 0!==t.ShowSkipOutOfPlanOption&&null!=t.ShowSkipOutOfPlanOption&&(i=t.ShowSkipOutOfPlanOption);e.showInPlanDocumentsOnly=i;e.useInPlanDocumentsOnly=f["default"].Get(o["default"].prefs.documentPreferenceSpace,o["default"].prefs.isSkipOutOfPlanChecked);"&InPlan=true"==window.location.href.substring(window.location.href.length-12)&&(e.showInPlanDocumentsOnly=!0);e.isRefreshingExpiredData=!1;e.hasLoadedData=!0;e.publishDocNavDataIsReadyEvent()}};this.renderErrorCallback=function(){e.currentDocument=0
;e.totalDocuments=0;e.hasNavigationData=!1;e.hasLoadedData=!0;e.publishDocNavDataIsReadyEvent()};this.setNavigationDataForResearchReport=function(){e.returnTo={Title:"Research Report",Url:e.navigationPath};e.hasNavigationData=!0;e.hasReturnToLink=!0;e.hasLoadedData=!0;e.hasRequestedData=!0};this.publishDocNavDataIsReadyEvent=function(){var e=o["default"].events.docNavDataIsReady;r["default"].publishHubEvent(e,null,{},null)};this.checkNavigationData=e=>e.ListCount>0;this.GetCommaFormattedInteger=function(e){var t=parseInt(e);return a["default"].renderInteger(t)};this.GetFormattedCurrentDocument=function(){return e.GetCommaFormattedInteger(e.currentDocument)};this.GetFormattedTotalDocuments=function(){return e.GetCommaFormattedInteger(e.totalDocuments)};this.IsFirstDocument=function(){return 1==e.currentDocument};this.IsLastDocument=function(){var t=e.currentDocument==e.totalDocuments&&e.totalDocuments>0;!t&&e.IsCitingReference()&&(t=e.currentDocument>=e.maxCitingReferenceNav);return t};this.adjustNavigationUrl=(e,t)=>{if(_["default"].EnableIpad||_["default"].EnableIphone){e+=`&navDirection=${t?"right":"left"}`}return e};this.NavigateToNextUrl=function(t,n,i){if(null==e.nextDocumentUrlAndTitle){e.nextDocumentUrlAndTitle={};e.nextDocumentUrlAndTitle.Url="";e.nextDocumentUrlAndTitle.Title=""}if(!e.useInPlanDocumentsOnly||_["default"].EnableIpad||_["default"].EnableIphone)if(null==e.nextDocumentUrlAndTitle.Url&&e.IsCitingReference()){var o=e.getGatherContentPageNumber()+1;if(this.NeedToGatherNewPage(o))this.gatherContentData(e.handleNextNavRefresh,t,o,i,n);else{e.gatheredPageNumber=null;e.popUpMsgSkipLinkOut(a["default"].lookup("SC.Document.Navigation.LastFirstAvailbleMessage.Last","You have reached the last document available in Next."),null,!1)}}else{e.gatheredPageNumber=null;null!=e.nextDocumentUrlAndTitle.SkipLinkOutDoc&&e.nextDocumentUrlAndTitle.SkipLinkOutDoc&&n&&n.length>0?e.popUpMsgSkipLinkOut(n,t,e.nextDocumentUrlAndTitle.Url,!0):t(e.adjustNavigationUrl(e.nextDocumentUrlAndTitle.Url,!0))}else e.LaunchInPlanNavigationScreen(t,"Next")};this.lightbox=null;this.LaunchInPlanNavigationScreen=function(t,n){e.lightbox=new b;e.lightbox.SetInPlanNavigationParameters(e.listSource,e.navigationPath,e.list,e.rank,n,t);e.lightbox.Draw()};this.NavigateToPreviousUrl=function(t,n,i){if(null==e.previousDocumentUrlAndTitle){e.previousDocumentUrlAndTitle={};e.previousDocumentUrlAndTitle.Url="";e.previousDocumentUrlAndTitle.Title=""}if(!e.useInPlanDocumentsOnly||_["default"].EnableIpad||_["default"].EnableIphone)if(null==e.previousDocumentUrlAndTitle.Url&&e.IsCitingReference()){var o=e.getGatherContentPageNumber()-1;if(e.NeedToGatherNewPage(o))e.gatherContentData(e.handlePrevNavRefresh,t,o,i,n);else{e.gatheredPageNumber=null;e.popUpMsgSkipLinkOut(a["default"].lookup("SC.Document.Navigation.LastFirstAvailbleMessage.First","You have reached the first document available in Next."),null,!1)}}else{e.gatheredPageNumber=null;null!=e.previousDocumentUrlAndTitle.SkipLinkOutDoc&&e.previousDocumentUrlAndTitle.SkipLinkOutDoc&&n&&n.length>0?e.popUpMsgSkipLinkOut(n,t,e.previousDocumentUrlAndTitle.Url,!0):t(e.adjustNavigationUrl(e.previousDocumentUrlAndTitle.Url,!1))}else e.LaunchInPlanNavigationScreen(t,"Previous")};this.ReloadCitingReferenceCurrentPage=function(){var t=parseInt(this.getNavPathQueryString().pageNumber);this.gatherContentData(e.handleCurrentNavRefresh,null,t,!1,!1)};this.handleCurrentNavRefresh=function(t){if(null==t.ErrorType||0==t.ErrorType){(new s["default"]).GetNextPreviousDocumentNavigationData(e.listSource,e.navigationPath,e.list,e.rank,e.renderCallback,e.renderErrorCallback,"",e.listPageSource,!0)}else{e.isRefreshingExpiredData=!1;e.hasLoadedData=!0;e.hasNavigationData=docNavResults.ListCount>0;this.publishDocNavDataIsReadyEvent()}};this.getGatherContentPageNumber=function(){var t=parseInt(this.getNavPathQueryString().pageNumber);null!=e.gatheredPageNumber&&(t=e.gatheredPageNumber);return t};this.gatherContentData=function(t,n,a,o,r){var s=this.getNavPathQueryString(),l=new y,c=p["default"].getSliderDetailByCategory(s.category),d=f["default"].Get("SAP","SKIP OUT OF PLAN"),u=f["default"].Get("SAP","WARNING FLAG"),h=f["default"].Get("SAP","PLAN ICONS");l.setDocumentGuid(s.orgGuid);l.setCategory(s.category);l.setPageNumber(a);l.setPageSize(p["default"].getPageSize());l.setSortType(s.sortType);l.setSortOrder(s.sortOrder);l.setDocSource(s.orgDocSource);l.setRank(s.orgDocRank);l.setFacetGuid(s.facetGuid);l.setDetailLevel(c);l.setContextData(i["default"].PageContextData);l.setSkipOutOfPlan("YES"==d);l.setPlanIcons(h);l.setWarningFlag(u);var m={};m.docGuid=s.orgGuid;m.pageNumber=""+s.pageNumber;m.navHashCode=s.navHashCode;m.category=s.category;m.sortType=l.getSortType();m.sortOrder=l.getSortOrder();m.gatherPageNumber=a;m.loadSpinner=o;m.callBack=n;m.skipLinkOutMessage=r;v._.requestData(l,(function(n){e.handleGetNavProgress(n,m,t)}))};this.loadingSpinner=function(){var t=x()("#coid_website_documentWidgetDiv");if(null!=t){var n=x()("#co_document");null!=n&&(n[0].style.display="none");if(!e.progressIndicatorInitialized){this.progressIndicator=new S["default"](t[0],"large");this.progressIndicator.Draw();e.progressIndicatorInitialized=!0}}};this.handleGetNavProgress=function(e,t,n){var i=new m["default"]("RelatedInfo/v4/keycite/navigation/");i.addParameter("guid",t.docGuid);i.addParameter("pageNumber",t.pageNumber);i.addParameter("pageSize",p["default"].getPageSize());i.addParameter("rank",parseInt(this.getNavPathQueryString().rank));i.addParameter("navHashCode",t.navHashCode);i.addParameter("category",t.category);i.addParameter("sortType",t.sortType);i.addParameter("sortOrder",t.sortOrder);t.loadSpinner&&this.loadingSpinner();var a=i.buildUrl();new g["default"](h["default"].RelatedInfo,a,{timeout:9e4,headers:{Accept:"text/html"}}).Get((function(e){n(e,t)}))};this.handleNextNavRefresh=function(t,n){if(null==t.ErrorType||0==t.ErrorType){null!=t.NavigationData&&null!=t.NavigationData.NextDocument&&null!=t.NavigationData.NextDocument.Url?e.nextDocumentUrlAndTitle=t.NavigationData.NextDocument??{Url:"",Title:""}:e.gatheredPageNumber=n.gatherPageNumber;e.NavigateToNextUrl(n.callBack,n.skipLinkOutMessage,n.loadSpinner)}else e.handleNavRefreshErrorCallback()};this.handlePrevNavRefresh=function(t,n){null!=t.NavigationData&&null!=t.NavigationData.PreviousDocument&&null!=t.NavigationData.PreviousDocument.Url?e.previousDocumentUrlAndTitle=t.NavigationData.PreviousDocument??{Url:"",Title:""}:e.gatheredPageNumber=n.gatherPageNumber;e.NavigateToPreviousUrl(n.callBack,n.skipLinkOutMessage,n.loadSpinner)};this.handleNavRefreshErrorCallback=function(){e.gatheredPageNumber=null;e.hideSpinner();e.popUpMsgSkipLinkOut(T.RelatedInfoGetContentError,null,!1)};this.NeedToGatherNewPage=function(t){var n=p["default"].getPageSize(),i=t*n-n+1;if(e.totalDocuments>1&&e.IsCitingReference()&&t>0&&i<=e.totalDocuments)return!0;return!1};this.IsCitingReference=function(){var e=this.getNavPathQueryString();if(void 0!==e.category&&null!==e.category&&("CitingReferences"==e.category||"StatuteCitingReferences"==e.category||"kcCitingReferences"==e.category))return!0;return!1};this.IsCitingReferenceNavExpired=function(e){var t=!1,n=this.getNavPathQueryString();this.IsCitingReference()&&null!=n&&null!=n.navHashCode&&n.navHashCode.length>0&&(null==e.ReturnTo||null==e.ReturnTo.Url)&&(t=!0);return t};this.IsValidCitingReferenceNavRefresh=function(){var e=parseInt(this.getNavPathQueryString().pageNumber);if(isNaN(e)||0===e)return!1;return!0};this.getNavPathQueryString=function(){return i["default"].Parse(e.navigationPath).QueryString};this.buildConfirmContentPopupHtml=function(e){var t=[];t[t.length]='<div class="'+o["default"].classes.searchWaitMessageContent+'">';t[t.length]=e;t[t.length]="</div>";return t.join("")};this.popUpMsgSkipLinkOut=function(t,n,i,o){var r=new d;r.SetContentHtml(e.buildConfirmContentPopupHtml(t));r.SetHasButtons(o);if(o){r.SetSkipButtonText(a["default"].lookup("SC.Document.Navigation.PopUpMsgSkipLinkOut.Skip","Skip"));r.SetSkipCallback((function(){n(i)}));r.SetReturnButtonText(a["default"].lookup("SC.Document.Navigation.PopUpMsgSkipLinkOut.ReturnToList","Return to list"))
;r.SetReturnToListCallback((function(){window.location.href=e.returnTo.Url}))}r.SetCloseIconCallback((function(){e.hideSpinner()}));r.Draw()};this.hideSpinner=function(){null!=this.progressIndicator&&this.progressIndicator.Hide();var e=x()("#co_document");null!=e&&(e[0].style.display="")};this.IsCoCitedPage=function(){const e=this.getNavPathQueryString()?.category;return"kcCoCites"===e};this.IsCoCitingPage=function(){const e=this.getNavPathQueryString()?.category;return"kcCoCiting"===e}};var w=n(3792);const E=function(){k.call(this);const e=this.FetchNextPreviousData;this.FetchNextPreviousData=function(t,n,i,o,r){if("USMATTERMAPS"===i&&!this.hasNavigationData){this.hasNavigationData=!0;this.hasReturnToLink=!0;const e=w["default"].AppendNavId(this.GetReturnToValueFromUrlSearchQueryForUsMatterMaps(),w["default"].getNavIdFromUrl());this.returnTo={Title:a["default"].lookup("SC.Document.NavigationWidget.BackToMatterMaps","Matter Maps"),Url:e};this.listSource=t;this.list=i;return!0}return e.call(this,t,n,i,o,r)};this.GetReturnToValueFromUrlSearchQueryForUsMatterMaps=function(){const e=i["default"].ParseQueryString(window.location.search);return e&&e.returnTo||o["default"].paths.usMatterMapsPage}}},6094:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});function i(){this.parametersArray=[]}i.prototype={addParameter:function(e,t){if(e){var n={};n.key=e;n.value=t;this.parametersArray[this.parametersArray.length]=n}},addParameterEmptyValue:function(e,t){if(e&&t){var n={};n.key=e;n.value=t;this.parametersArray[this.parametersArray.length]=n}},buildParametersString:function(){for(var e="",t=0;t<this.parametersArray.length;t++){t>0&&(e+="&");var n=this.parametersArray[t];e+=n.key+"=";n.value&&(e+=encodeURIComponent(n.value))}return e}}},6101:(e,t,n)=>{e.exports=n(4507)(19478)},6105:(e,t,n)=>{e.exports=n(4507)(89479)},6123:(e,t,n)=>{e.exports=n(4507)(43453)},6183:(e,t,n)=>{e.exports=n(4507)(28447)},6221:(e,t,n)=>{e.exports=n(4507)(22739)},6246:(e,t,n)=>{e.exports=n(4507)(91422)},6306:(e,t,n)=>{e.exports=n(4507)(86286)},6337:(e,t,n)=>{e.exports=n(4507)(57410)},6357:(e,t,n)=>{e.exports=n(4507)(49743)},6364:(e,t,n)=>{e.exports=n(4507)(50665)},6397:(e,t,n)=>{e.exports=n(4507)(68926)},6463:(e,t,n)=>{e.exports=n(4507)(3457)},6482:(e,t,n)=>{"use strict";n.r(t);n.d(t,{CallMessage:()=>r,ContentErrorMessage:()=>s,InfoNotAvailableMessage:()=>o,RelatedInfoGetContentError:()=>l});var i=n(9912),a=n(2587);const o=i["default"].lookup("SC.RelatedInfo.InfoNotAvailableMessage","The information you requested is not available at this time."),r=i["default"].format("SC.RelatedInfo.CallMessage",{ProductName:a.ProductName,ProductImproveFullNumber:a.ProductImproveFullNumber},`If you wish to speak with a ${a.ProductName} representative, please call ${a.ProductImproveFullNumber}.`),s=i["default"].format("SC.RelatedInfo.CitingReferences.ContentErrorMessage",{ProductName:a.ProductName,ProductImproveFullNumber:a.ProductImproveFullNumber},`<span>The information you requested is not available at this time.<br /><br />If you wish to speak with a ${a.ProductName} representative, please call ${a.ProductImproveFullNumber}.</span>`),l=i["default"].format("SC.Document.Navigation.RelatedInfo.GetContentError",{ProductName:a.ProductName,ProductImproveFullNumber:a.ProductImproveFullNumber},`The information you requested is not available at this time.<br/>If you wish to speak with a ${a.ProductName} representative, please call ${a.ProductImproveFullNumber}.`)},6487:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>nt});var i=n(9382),a=n(8286),o=n(4095),r=n(2475),s=n(9474),l=n(8837),c=n(8849),d=n(3364),u=n(3434),h=n(2595);const f=s["default"].extend({GetNotesAndHighlights:function(e,t,n,i,o,r,s,l){if((0,h.IsNullOrEmpty)(e))throw new Error("Invalid document guid passed to document provider for GetNotesAndHighlights call.");if((0,h.IsNullOrEmpty)(t))throw new Error("Invalid OnePass user name passed to document provider for GetNotesAndHighlights call.");if((0,h.IsNullOrEmpty)(n))throw new Error("Invalid time zone passed to document provider for GetNotesAndHighlights call.");var c="";if(d["default"].Instance.IsPersistedView){c="/document/UserDocuments/v1/Selection/RelocateHighlights/"+e+"?onePassUserName="+encodeURIComponent(t)+"&tz="+n;(0,h.IsNotNullOrEmpty)(r)&&(c+="&subContentTypeId="+r);(0,h.IsNotNullOrEmpty)(s)&&(c+="&persistedState="+s);(0,h.IsNotNullOrEmpty)(l)&&(c+="&cacheScope="+l)}else c="/Document/v1/RelocateHighlights/"+e+"?onePassUserName="+encodeURIComponent(t)+"&tz="+n;const f=new Headers;this.ContextualInfo&&f.set(a["default"].headers.contextualInfoHeader,this.ContextualInfo.toString());this.CreateDocumentWebRequest(u["default"].Document,c,{timeout:18e4,headers:f}).Get((async function(e){if(200===e.StatusCode){var t=await e.json();i(t)}else{var n="Request failed: "+e.ResponseText+". Status code: "+e.StatusCode+".";const t=new Error(n);if("function"!=typeof o)throw t;o(t)}}))}});var p=n(4283),m=n(7671),g=n(1434),v=n.n(g),y=n(1422),b=n(3839),C=n(519),S=n(2065),_=n(9914);const D=function(e){var t=this;this.parentObject=null;this.documentDisplay=null;this.skipTo=null;this.dropdownDiv=null;this.dropdownArrow=null;this.dropdownBox=null;this.expanded=!1;this.SetParentDiv=function(e){this.parentObject=e};this.SetDocumentDisplay=function(e){this.documentDisplay=e};this.Draw=function(){if(this.documentDisplay){var e=document.getElementById(a["default"].ids.nrsOutline);e&&t.initializeSkipToNavigation(e)}};this.initializeSkipToNavigation=function(e){t.skipTo=e.childNodes[0];if(t.skipTo){e.parentNode.removeChild(e);t.createSkipToWidget();b["default"].EnableIpad?C["default"].AddEventHandler(document.body,"touchstart",t.SkipToWidgetArrowClickHandler):S["default"].AttachClickHandler(document.body,t.SkipToWidgetArrowClickHandler);S["default"].AttachClickHandler(t.dropdownBox,(function(e){t.SkipToWidgetLinkClickHandler(e)}))}};this.createSkipToWidget=function(){var e,n,i,o,r,s,l=t.parentObject;t.dropdownDiv=document.createElement("div");l.appendChild(t.dropdownDiv);t.dropdownDiv.className=a["default"].classes.dropdownTabCollapsed;e=document.createElement("div");t.dropdownDiv.appendChild(e);e.className=a["default"].classes.dropdownTab;n=document.createElement("a");e.appendChild(n);n.href="javascript:void(0);";n.className=a["default"].classes.dropdownBoxAnchorLabel;n.innerHTML=a["default"].texts.skipTo;t.dropdownArrow=document.createElement("a");e.appendChild(t.dropdownArrow);t.dropdownArrow.href="javascript:void(0);";t.dropdownArrow.className=a["default"].classes.dropdownArrowCollapsed;t.dropdownArrow.innerHTML=a["default"].texts.openSkipToMenu;t.dropdownBox=document.createElement("div");l.appendChild(t.dropdownBox);t.dropdownBox.className=a["default"].classes.dropdownBoxCollapsed;i=document.createElement("div");t.dropdownBox.appendChild(i);i.className=a["default"].classes.dropdownBoxHeader;o=document.createElement("span");i.appendChild(o);var c=t.getSkipToElement();null!=c&&t.dropdownBox.appendChild(c);r=document.createElement("div");t.dropdownBox.appendChild(r);r.className=a["default"].classes.dropdownBoxFooter;s=document.createElement("span");r.appendChild(s)};this.getSkipToElement=function(){var e=null;if(t.skipTo){(e=document.createElement("div")).className=a["default"].classes.dropdownBoxContent;e.id=a["default"].ids.docSkipTo;var n=document.createElement("div");n.className=a["default"].classes.dropdownBoxContentRight;n.appendChild(t.skipTo);e.appendChild(n)}return e};this.attachClickEventToWidget=function(e,t,n,i){var a=document.getElementById(e);if(a){S["default"].AttachClickHandler(a,(function(e){t(e);return!1}));a.onclick=function(){return!1};null!=n&&null!=i&&C["default"].ReplaceClassOnElement(a,n,i)}};this.SkipToWidgetArrowClickHandler=function(e){for(var n=S["default"].getEventSourceElement(e),i=!1;n.parentNode;){if(n.id==t.parentObject.id){i=!0;break}n=n.parentNode}i?t.expanded?t.hideSkipToWidget():t.showSkipToWidget():t.hideSkipToWidget()};this.SkipToWidgetLinkClickHandler=function(n){for(var i,a,o=n.srcElement||n.target;o.parentNode;){if("a"==o.tagName.toLowerCase()){var s=new r["default"](t.documentDisplay);i=s.GetInternalLinkTargetId(o);a=function(e){s.GoToInternalLink(null,e,null)}
;const l=e=>s.ShowInternalLinkWait(e);S["default"].GetElementById(i,a,l,a);n.preventDefault&&n.preventDefault();n.returnValue=!1;e.toggleWidget();t.focusSkippedElement(o);return!1}o=o.parentNode}};this.focusSkippedElement=function(e){const t=e.getAttribute("href"),n=document.querySelector(t);if(!(0,_.isFocusable)(n)){n.tabIndex=0;n.addEventListener("blur",(()=>{n.removeAttribute("tabindex")}),{once:!0})}n.focus()};this.hideSkipToWidget=function(){C["default"].ReplaceClassOnElement(t.dropdownDiv,a["default"].classes.dropdownTabExpanded,a["default"].classes.dropdownTabCollapsed);C["default"].ReplaceClassOnElement(t.dropdownArrow,a["default"].classes.dropdownArrowExpanded,a["default"].classes.dropdownArrowCollapsed);C["default"].ReplaceClassOnElement(t.dropdownBox,a["default"].classes.dropdownBoxExpanded,a["default"].classes.dropdownBoxCollapsed);t.expanded=!1};this.showSkipToWidget=function(){C["default"].ReplaceClassOnElement(t.dropdownDiv,a["default"].classes.dropdownTabCollapsed,a["default"].classes.dropdownTabExpanded);C["default"].ReplaceClassOnElement(t.dropdownArrow,a["default"].classes.dropdownArrowCollapsed,a["default"].classes.dropdownArrowExpanded);C["default"].ReplaceClassOnElement(t.dropdownBox,a["default"].classes.dropdownBoxCollapsed,a["default"].classes.dropdownBoxExpanded);t.expanded=!0}};var T=n(8730),I=n(4917),x=n(9912),k=n(5382),w=n(2769),E=n(6669),A=n.n(E);function L(){var e=this;this.parentObject=null;this.documentDisplay=null;this.starPages=null;this.starPageNavWidget=null;this.starPageDropdown=null;this.starPageArrow=null;this.starPageErrorInfoBox=null;this.expanded=!1;this.starPageNavWidgetButton=null;this.starPageNavWidgetTextBox=null;this.starPageNavWidgetBoxContent=null;this.errorOccured=!1;this.SetParentDiv=function(e){this.parentObject=e};this.SetDocumentDisplay=function(e){this.documentDisplay=e};this.Draw=function(){this.documentDisplay&&(this.documentDisplay.FinishedRendering?this.initializeStarPageNavigation():y["default"].Subscribe(a["default"].events.documentRenderComplete,(function(){e.initializeStarPageNavigation()})))};this.attachClickEventToWidget=function(e,t,n,i){if(e){S["default"].AttachClickHandler(e,(function(e){t(e);return!1}));null!=n&&null!=i&&C["default"].ReplaceClassOnElement(e,n,i)}};this.initializeStarPageNavigation=function(){S["default"].GetElementsByClassName(a["default"].classes.starPage,"span",document.getElementById(a["default"].ids.document),e.finishInitializeStarPageNavigation)};this.finishInitializeStarPageNavigation=function(t){if(t.length<1)return;e.starPages=t;e.createStarPageNavWidget();b["default"].EnableIpad?C["default"].AddEventHandler(document.body,"touchstart",e.starPageNavWidgetClickHandler):S["default"].AttachClickHandler(document.body,e.starPageNavWidgetClickHandler)};this.createStarPageNavWidget=function(){var t,n,i,o,r,s,l=e.parentObject;this.starPageDropdown=document.createElement("div");l.appendChild(this.starPageDropdown);this.starPageDropdown.className=a["default"].classes.dropdownTabCollapsed;t=document.createElement("div");this.starPageDropdown.appendChild(t);t.className=a["default"].classes.dropdownTab;n=document.createElement("a");t.appendChild(n);n.id=a["default"].ids.starPageNavAnchor;n.href="javascript:void(0);";n.className=a["default"].classes.dropdownBoxAnchorLabel;n.innerHTML=a["default"].texts.starPageWidgetAnchor;n.title=a["default"].texts.starPageWidgetAltText;this.starPageArrow=document.createElement("a");t.appendChild(this.starPageArrow);this.starPageArrow.href="javascript:void(0);";this.starPageArrow.className=a["default"].classes.dropdownArrowCollapsed;this.starPageArrow.innerHTML=a["default"].texts.starPageArrow;this.starPageNavWidget=document.createElement("div");l.appendChild(this.starPageNavWidget);this.starPageNavWidget.id=a["default"].ids.starPageNavWidget;this.starPageNavWidget.className=a["default"].classes.dropdownBoxCollapsed;(i=document.createElement("div")).className=a["default"].classes.dropdownBoxHeader;(o=document.createElement("span")).innerHTML="\x3c!--span--\x3e";i.appendChild(o);this.starPageNavWidget.appendChild(i);e.populateStarPageBoxContent();null!=e.starPageNavWidgetBoxContent&&this.starPageNavWidget.appendChild(e.starPageNavWidgetBoxContent);(r=document.createElement("div")).className=a["default"].classes.dropdownBoxFooter;(s=document.createElement("span")).innerHTML="\x3c!--span--\x3e";r.appendChild(s);this.starPageNavWidget.appendChild(r);this.attachPageNavHandlers()};this.attachPageNavHandlers=function(){this.attachClickEventToWidget(e.starPageNavWidgetButton,(function(t){e.starPageNavGoClickHandler(t)}));C["default"].AddEventHandler(e.starPageNavWidgetTextBox,"keypress",(function(t){e.starPageNavGoKeyPressHandler(t)}))};this.populateStarPageBoxContent=function(){var t,n,i,o;(t=document.createElement("div")).id=a["default"].ids.docStarPage;t.className=a["default"].classes.dropdownBoxContent;(n=document.createElement("div")).className=a["default"].classes.dropdownBoxContentRight;t.appendChild(n);e.starPageNavWidgetTextBox=document.createElement("input");e.starPageNavWidgetTextBox.id=a["default"].ids.starPageNavInput;e.starPageNavWidgetTextBox.type="text";e.starPageNavWidgetTextBox.maxLength=6;e.starPageNavWidgetTextBox.size=6;n.appendChild(e.starPageNavWidgetTextBox);e.starPageNavWidgetButton=document.createElement("button");e.starPageNavWidgetButton.innerHTML=x["default"].lookup("SC.Document.StarPageWidget.Run","Go");e.starPageNavWidgetButton.id=a["default"].ids.starPageNavGo;e.starPageNavWidgetButton.className="co_primaryBtn";n.appendChild(e.starPageNavWidgetButton);(i=document.createElement("div")).id=a["default"].ids.starPageNavError;this.starPageErrorInfoBox=new I["default"](i,k["default"].None,w["default"].Bottom,!0,!1,!1);n.appendChild(i);(o=document.createElement("div")).className=a["default"].classes.clear;n.appendChild(o);e.starPageNavWidgetBoxContent=t};this.starPageNavWidgetClickHandler=function(t){for(var n=S["default"].getEventSourceElement(t),i=!1;n.parentNode;){if(n==e.starPageDropdown){e.expanded?e.hideStarPageNavWidget():e.showStarPageNavWidget();i=!0;break}if(n==e.parentObject){i=!0;break}n=n.parentNode}i||e.hideStarPageNavWidget()};this.hideStarPageNavWidget=function(){if(null!=e.starPageDropdown){this.starPageErrorInfoBox.Remove();C["default"].ReplaceClassOnElement(e.starPageDropdown,a["default"].classes.dropdownTabExpanded,a["default"].classes.dropdownTabCollapsed)}if(null!=e.starPageArrow){this.starPageErrorInfoBox.Remove();C["default"].ReplaceClassOnElement(e.starPageArrow,a["default"].classes.dropdownArrowExpanded,a["default"].classes.dropdownArrowCollapsed)}if(null!=e.starPageNavWidget){this.starPageErrorInfoBox.Remove();C["default"].ReplaceClassOnElement(e.starPageNavWidget,a["default"].classes.dropdownBoxExpanded,a["default"].classes.dropdownBoxCollapsed)}e.expanded=!1;e.errorOccured=!1};this.showStarPageNavWidget=function(){C["default"].ReplaceClassOnElement(e.starPageDropdown,a["default"].classes.dropdownTabCollapsed,a["default"].classes.dropdownTabExpanded);C["default"].ReplaceClassOnElement(e.starPageArrow,a["default"].classes.dropdownArrowCollapsed,a["default"].classes.dropdownArrowExpanded);C["default"].ReplaceClassOnElement(e.starPageNavWidget,a["default"].classes.dropdownBoxCollapsed,a["default"].classes.dropdownBoxExpanded);e.expanded=!0;document.getElementById(a["default"].ids.starPageNavInput).focus();e.errorOccured=!1};this.starPageNavGoKeyPressHandler=function(e){S["default"].IsEnterKey(e)?this.starPageNavGoClickHandler(e):this.starPageErrorInfoBox.Remove()};this.starPageNavGoClickHandler=function(){var t=document.getElementById(a["default"].ids.starPageNavInput).value,n=this.validateStarPageNavInput(t);if("string"==typeof n){this.showStarPageNavErrorMessage(n);return}e.hideStarPageNavWidget();S["default"].ScrollToChunkedElement(n)};this.validateStarPageNavInput=function(e){var t=null,n=[],i=[],o=null,r=/^\**(\d+|[ivxlcdm]+)$/i,s=/^\**([a-z]*\d+)$/i,l=/^\d+$/g;if(0==e.length)return x["default"].lookup("SC.Document.StarPageWidget.IsBlank","Please enter a star page and rerun your search.")
;if(e.indexOf("*")>-1)return x["default"].lookup("SC.Document.StarPageWidget.ContainsAsterisk","Please rerun your star page search without using the asterisk (*) symbol.");if(A().all(this.starPages,(function(e){return r.test(e.element.textContent)}))){if(!r.test(e))return x["default"].lookup("SC.Document.StarPageWidget.NumbersOnly","Please rerun your star page search using numbers only.");o=r}else{if(!s.test(e))return x["default"].lookup("SC.Document.StarPageWidget.AlphaNumbersOnly","Please rerun your star page search using either numeric or alpha-numeric text only.");o=s}for(var c=o.exec(e)[1],d=0;d<this.starPages.length;d++){const o=this.starPages[d].element,r=o.querySelector(`input.${a["default"].classes.starPageMetadataItem}[type=hidden]`)?.value;var u=JSON.parse(r),h=u.pageNumber;if(e===h){t=this.starPages[d];break}var f=u.pageset;i[f]=h;l.test(c)&&l.test(h)&&Number(c)>Number(h)&&(n[f]=this.starPages[d])}if(!t){var p=S["default"].GetMetadataFromDom(a["default"].ids.starPageMetadata);if(p&&p.citations)for(var m in p.citations){var g=p.citations[m],v=g.substring(g.lastIndexOf(" ")+1,g.length);l.test(v)&&l.test(c)&&Number(v)<=Number(c)&&Number(c)<=Number(i[m])&&((t=n[m])||(t=S["default"].BuildElementReturnObject(document.body)))}}if(!t)return x["default"].lookup("SC.Document.StarPageWidget.NotFound","Your requested star page was not found in this document.");return t};this.showStarPageNavErrorMessage=function(t){e.errorOccured=!0;this.starPageErrorInfoBox.Draw(t)}}var N=n(68),R=n(762);const P=v().extend({init:function(){this.parentObject=null;this.documentDisplay=null;this.skipToWidget=null;this.starPageWidget=null;this.dropdownDiv=null;this.dropdownArrow=null;this.dropdownBox=null;this.expanded=!1;this.documentBodyEventAdded=!1},SetParentDiv:function(e){this.parentObject=e},SetDocumentDisplay:function(e){this.documentDisplay=e},Draw:function(){var e=this;e.documentDisplay&&(e.documentDisplay.FinishedRendering?e.initializeGoToWidget():y["default"].Subscribe(a["default"].events.documentRenderComplete,(function(){e.initializeGoToWidget()})))},initializeGoToWidget:function(){var e=this;null==e.parentObject&&(e.parentObject=document.createElement("div"));var t=document.getElementById(a["default"].ids.nrsOutline);if(null!=t&&t.hasChildNodes()){var n=new D(this);n.SetDocumentDisplay(e.documentDisplay);n.skipTo=e.buildSemanticMenu(t.childNodes[0]);e.skipToWidget=n.getSkipToElement();S["default"].AttachClickHandler(e.skipToWidget,n.SkipToWidgetLinkClickHandler)}if(null!=e.skipToWidget){e.buildDropDownBox();e.dropdownBox.appendChild(e.skipToWidget);e.addEventToDocumentBody()}e.initializeStarPageWidget()},buildSemanticMenu:function(e){if(!e)return;const t=document.createElement("ul");t.setAttribute("role","menu");t.setAttribute("aria-label",a["default"].texts.goTo);Array.from(e.children).forEach((e=>{const n=document.createElement("li"),i=e.querySelector("a");i.setAttribute("role","menuitem");n.appendChild(i);t.appendChild(n)}));return t},buildDropDownBox:function(){var e=this;e.buildTriggerElement();e.dropdownBox=document.createElement("div");e.dropdownBox.id=a["default"].ids.docGoToWidget;e.dropdownBox.className=a["default"].classes.dropdownBoxCollapsed;e.parentObject.appendChild(e.dropdownBox)},buildTriggerElement(){var e,t=this.parentObject;this.dropdownDiv=document.createElement("div");this.dropdownDiv.className=a["default"].classes.dropdownTabCollapsed;t.appendChild(this.dropdownDiv);this.dropdownButton=document.createElement("button");this.dropdownButton.className=a["default"].classes.dropdownTab;this.dropdownButton.setAttribute("aria-haspopup","true");this.dropdownButton.setAttribute("aria-expanded",!1);this.dropdownDiv.appendChild(this.dropdownButton);(e=document.createElement("span")).className=a["default"].classes.dropdownBoxAnchorLabel;e.innerHTML=a["default"].texts.goTo;this.dropdownButton.appendChild(e);this.dropdownArrow=document.createElement("span");this.dropdownArrow.className=a["default"].classes.dropdownArrowCollapsed;this.dropdownButton.appendChild(this.dropdownArrow)},initializeStarPageWidget:function(){var e=this;S["default"].GetElementsByClassName(a["default"].classes.starPage,"span",document.getElementById(a["default"].ids.document),(function(t){e.createStarPageWidget(t)}))},createStarPageWidget:function(e){var t=this;if(null!=e&&e.length>0){null==t.dropdownBox&&t.buildDropDownBox();var n=new L;n.SetParentDiv(t.parentObject);n.SetDocumentDisplay(t.documentDisplay);n.starPages=e;n.populateStarPageBoxContent();var i=document.createElement("label");i.setAttribute("for",a["default"].ids.starPageNavInput);i.innerHTML=a["default"].texts.starPageWidgetAnchor;n.starPageNavWidgetBoxContent.firstChild.insertBefore(i,n.starPageNavWidgetBoxContent.firstChild.firstChild);t.dropdownBox.appendChild(n.starPageNavWidgetBoxContent);t.starPageWidget=n;this._addEventListeners()}},_addEventListeners(){const{starPageNavWidgetButton:e,starPageNavWidgetTextBox:t}=this.starPageWidget;e.addEventListener("click",(e=>{this.starPageWidget.starPageNavGoClickHandler(e)}));t.addEventListener("keydown",(e=>{this.starPageWidget.starPageNavGoKeyPressHandler(e);S["default"].IsEnterKey(e)&&!this.starPageWidget.errorOccured&&this.hideWidget()}));this.addEventToDocumentBody()},addEventToDocumentBody(){if(this.documentBodyEventAdded)return;this.dropdownBox.addEventListener("keydown",N["default"]);this.dropdownBox.addEventListener("keydown",(e=>{if(e.keyCode===R["default"].ESCAPE){this.hideWidget();this.dropdownButton.focus()}}));this.dropdownButton.addEventListener("click",this.toggleWidget.bind(this));this.documentBodyEventAdded=!0},toggleWidget(){if("true"===this.dropdownButton?.getAttribute("aria-expanded")){this.hideWidget();this.dropdownButton.focus()}else this.showWidget()},hideWidget(){const{classes:e}=a["default"];this.dropdownDiv?.classList.remove(e.dropdownTabExpanded);this.dropdownDiv?.classList.add(e.dropdownTabCollapsed);this.dropdownArrow?.classList.remove(e.dropdownArrowExpanded);this.dropdownArrow?.classList.add(e.dropdownArrowCollapsed);this.dropdownBox?.classList.remove(e.dropdownBoxExpanded);this.dropdownBox?.classList.add(e.dropdownBoxCollapsed);this.dropdownButton?.setAttribute("aria-expanded",!1);this.removeStarPageError()},showWidget(){const{classes:e}=a["default"];this.dropdownDiv?.classList.remove(e.dropdownTabCollapsed);this.dropdownDiv?.classList.add(e.dropdownTabExpanded);this.dropdownArrow?.classList.remove(e.dropdownArrowCollapsed);this.dropdownArrow?.classList.add(e.dropdownArrowExpanded);this.dropdownBox?.classList.remove(e.dropdownBoxCollapsed);this.dropdownBox?.classList.add(e.dropdownBoxExpanded);this.dropdownButton?.setAttribute("aria-expanded",!0);setTimeout((()=>{(0,_.getFocusableElements)(this.dropdownBox)[0]?.focus()}),250);this.addOuterHandler()},addOuterHandler(){const e=t=>{const n=t.target?.classList.contains("co_starPage");if(this.dropdownBox.contains(t.target))return;if(this.dropdownButton.contains(t.target)||n){T["default"].removePageTouchedListener(e);return}this.hideWidget();(0,_.isTabbable)(t.target)||this.dropdownButton.focus();T["default"].removePageTouchedListener(e)};T["default"].addPageTouchedListener(e)},removeStarPageError(){this.starPageWidget&&this.starPageWidget.starPageErrorInfoBox.Remove()}});var O=n(2904),B=n(9691),M=n.n(B),F=n(6123),W=n(6397),H=n(4383),G=n(7617),U=n(8854),j=n(3903),$=n(1480),V=n(2141);function q(){this.documentGuid=null;this.documentCollection=null}q.prototype.setDocumentGuid=function(e){this.documentGuid=e};q.prototype.getDocumentGuid=function(){return this.documentGuid};q.prototype.setDocumentCollection=function(e){this.documentCollection=e};q.prototype.getDocumentCollection=function(){return this.documentCollection};q.prototype.equals=function(e){var t=!1;j["default"].isNotNullOrUndefined(e)&&e instanceof q&&this.documentGuid===e.getDocumentGuid()&&(t=!0);return t};function z(){this.documentGuid=null;this.headnoteIds=null;this.documentCollection=null}z.prototype.equals=function(e){var t=!1;j["default"].isNotNullOrUndefined(e)&&e instanceof z&&this.documentGuid===e.documentGuid&&this.headnoteIds===e.headnoteIds&&this.documentCollection===e.documentCollection&&(t=!0);return t}
;function K(){this.getDocumentHeadnoteCount=function(e,t,n,i){if(j["default"].isNullOrUndefined(e)){(0,U.publishErrorMessage)(u["default"].RelatedInfo,x["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Invalid document guid passed to headnote count provider.")}if(j["default"].isNullOrUndefined(t)){(0,U.publishErrorMessage)(u["default"].RelatedInfo,x["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Invalid headnoteIds passed to headnote count provider.")}var a=new z;a.documentGuid=e;a.headnoteIds=t;a.documentCollection=i;$.l.requestData(a,n)};this.getKeyCiteAlertable=function(e,t,n){if(j["default"].isNullOrUndefined(e)){(0,U.publishErrorMessage)(u["default"].RelatedInfo,x["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("Invalid document guid passed to key cite alertable provider.")}var i=new q;i.documentGuid=e;i.documentCollection=t;V.m.requestData(i,n)}}var Y=n(2496);const Q=v().extend({documentDisplayObject:null,keyciteAnchor:null,metainfo:null,isVisible:!1,SetParentDiv:function(e){this.parent=e},SetDocumentDisplay:function(e){this.documentDisplayObject=e},IsAlertsDisabled:function(){return!b["default"].isFeatureEnabled("ALERTS")},Draw:function(){if(this.IsAlertsDisabled())return;var e=this,t=document.createElement("DIV");e.keyciteAnchor=document.createElement("button");e.keyciteAnchor.title=a["default"].texts.keyCiteAlertAltText;e.keyciteAnchor.id=a["default"].ids.docKeyCiteAlertAnchor;e.keyciteAnchor.className=a["default"].classes.keyCiteAlertLink+" "+a["default"].classes.hideState;e.keyciteAnchor.setAttribute("role","link");e.keyciteAnchor.innerHTML=a["default"].texts.keyCiteAlertText;if("KeyCiteTax"===e.GetAlertType()){e.keyciteAnchor.title=a["default"].texts.keyCiteTaxAlertAltText;e.keyciteAnchor.innerHTML=a["default"].texts.keyCiteTaxAlertText}S["default"].AttachClickHandler(e.keyciteAnchor,(function(t){e.LaunchKeyCiteAlertView(t)}));t.id=a["default"].ids.docKeyCiteAlertContainer;t.className=a["default"].classes.keyCiteAlertContainer;t.appendChild(e.keyciteAnchor);e.parent.appendChild(t);(new s["default"]).GetMetaInformation(e.documentDisplayObject.DocumentGuid,(function(t){e.GetKeyCiteAlertInformation(t)}));e.DrawA11yTooltip(e.keyciteAnchor)},GetKeyCiteAlertInformation:function(e){var t=this,n=new K;if(null!=e&&(0,h.IsNotNullOrEmpty)(e.DocGuid)){t.metainfo=e;n.getKeyCiteAlertable(e.DocGuid,e.Collection,(function(e){t.DisplayAlertWidget(e)}))}},DisplayAlertWidget:function(e){var t=this;if(null!=e&&1==e.isKeyCiteAlertable&&t.keyciteAnchor){C["default"].RemoveClass(t.keyciteAnchor,a["default"].classes.hideState);t.isVisible=!0}},LaunchKeyCiteAlertView:function(){var e=this;if(G["default"]._AlertsAccessFunctionalityTurnedOn&&G["default"]._AlertsAccessCategoryApplied){var t=(0,h.IsNotNullOrEmpty)(e.metainfo.FunctionalCite)?e.metainfo.FunctionalCite:e.metainfo.Cite,n=window.location.pathname+window.location.search,i={alertType:e.GetAlertType(),cite:t,returnTo:n,returnToDescription:t,transitionType:H["default"].DefaultTransitionType,contextData:H["default"].DefaultContextData,ppcid:Y["default"].PageEventIdentifier},o=H["default"].Absolute(H["default"].Page.AlertsCreate(i));W["default"].PageTransition(o)}else{var r=null;if(!M().isEmpty(e.metainfo)&&(0,h.IsNotNullOrEmpty)(e.metainfo.Cite)){r=(0,h.IsNotNullOrEmpty)(e.metainfo.FunctionalCite)?e.metainfo.FunctionalCite:e.metainfo.Cite;S["default"].publishHubEvent(a["default"].events.keyCiteAlertWidgetClicked,null,{cite:r,serialNumber:e.metainfo.SerialNumber})}}},GetAlertType:function(){var e="KeyCite";if(b["default"].SupportedAlertTypes)for(var t=0;t<b["default"].SupportedAlertTypes.length;t++)switch(b["default"].SupportedAlertTypes[t]){case"KeyCiteTax":case"KeyCiteCanada":return e=b["default"].SupportedAlertTypes[t]}return e},DrawA11yTooltip:function(e){new F["default"](e,null).render()}});var X=n(480),J=n(966),Z=n(9191),ee=n.n(Z),te=n(4953),ne=n(9747),ie=n(5151),ae=n(9422),oe=n(1369),re=n(8260),se=n(6494),le=n(1982),ce=n(9289),de=n(2525);const ue=function(e,t){const n=e.dataset.guids,i=e.dataset.citingguids;this.initialize=function(){var e=this.getFlagInfoBoxOptions(n);null!=e.guids&&e.guids.length>0&&de.C.GetPopUpFlagsInfo(e)};this.getFlagInfoBoxOptions=function(e){var t=e.split(/[ ,]/);return{guids:t=t.filter((e=>e)),success:e=>{this.draw(e)}}};this.draw=function(t){this.removeNonOverrulingFlagsAndDuplicates(t);const n=t.reduce(((e,t)=>{t.flags.forEach((e=>{if(e.metadata?.titleLink){const t=H["default"].Parse(e.metadata.titleLink);t.QueryString.transitionType="InlineKeyCiteFlags";t.QueryString.navigationPath="";e.metadata.titleLink=H["default"].Absolute(t)}}));return e=e.concat(t.flags)}),[]),i=e.id,a=document.getElementById(i+"_arrow");a?.replaceChildren();const o=this.buildTemplateSettings(n),r=A().template('<div id="co_kcOverrulingFlagPopup" class="<%- className %>" tabindex="0">\n    <div class="co_kcFlagPopup_header">\n        <div class="<%- imageClass %>">\n            <img alt="<%- title %>" src="<%- imageUrl %>" title="<%- title %>" />\n        </div>\n        <h3><%- title %></h3>\n        <button type="button" id="co_kcFlagPopup_closeButton" class="co_kcFlagPopup_closeButton">\n            <%- closeButton %>\n        </button>\n    </div>\n\n    <% _.forEach (flags, function(flag) { %>\n        <div class="co_kcFlagPopup_doc OverrulingPinPointDoc">\n            <div class="co_kcFlagPopup_titleLink">\n                <a href="<%- flag.metadata.titleLink%>"><%- flag.metadata.title %></a>\n            </div>\n            <% if (flag.metadata.court){ %>\n                <span id="court"><%- flag.metadata.court %></span>\n            <% } %> <% if (flag.metadata.liveDate){ %>\n                <span id="liveDate"><%- flag.metadata.liveDate %></span>\n            <% } %> <% if (flag.metadata.citation){ %>\n                <span id="citation"><%- flag.metadata.citation %></span>\n            <% } %>\n        </div>\n    <% }); %>\n</div>\n')(o);a?.insertAdjacentHTML("afterend",r);this.addEventListeners();(0,ae.postUXEvent)("Cobalt.RelatedInfo.OverrulingRisk.ParagraphHighlightingPopup")};this.buildTemplateSettings=function(e){return{flags:e,closeButton:x["default"].lookup("SC.Document.TermNavigation.OverrulingRisk.CloseButton.Text","Close KeyCite overruling risk"),className:t?"co_kcFlagPopup OverrulingFlagPopup-withBestPortion":"co_kcFlagPopup",title:x["default"].lookup("SC.Document.TermNavigation.OverrulingRisk","Overruling Risk"),imageUrl:u["default"].GetUrl(u["default"].Images,x["default"].lookup("SC.Config.Document.OverrulingRisk.popupImageUrl","/images/v1/caution_orange_small.png")),imageClass:"co_cautionSm"}};this.getCitingIds=function(){return i.split(/[ ,]/).filter((e=>e))};this.removeNonOverrulingFlagsAndDuplicates=function(e){const t=this.getCitingIds();e.forEach((e=>{const n=[],i=[];for(let a=0;a<e.flags.length;a++){const o=e.flags[a];if(!n.includes(o.metadata?.docGuid)&&t.includes(o.metadata?.citingDocGuid)&&"implied_overrulings"===o.value){i.push(o);n.push(o.metadata.docGuid)}}e.flags=i}))};this.addEventListeners=function(){const t=document.getElementById("co_kcOverrulingFlagPopup");t?.focus();document.querySelectorAll(".co_kcFlagPopup_closeButton").forEach((t=>t.addEventListener("click",(function(n){t.closest(".co_kcFlagPopup")?.remove();n.stopPropagation();e.focus()}))));t?.addEventListener("focusout",(function(e){(e.relatedTarget?e.relatedTarget:document.activeElement).closest(".co_kcFlagPopup")!=t&&this.remove()}));t?.querySelectorAll("a").forEach((e=>e.addEventListener("mousedown",(function(e){(0,ae.postUXEvent)("Cobalt.RelatedInfo.OverrulingRisk.OverrulingTitleClick",{link:e.target.href,linkText:e.target.innerText})}))))}};var he=n(370),fe=n(6105);var pe=n(2956)
;const me='<div class="<%= classes.overrulingRiskInfoContainer + \' \' + classes.hideState %>"></div>\n<div id="<%= ids.searchTermMenu %>">\n    <div id="<%= ids.termNavigationWidgetDropDownTab %>" class="<%= classes.dropdownTabCollapsed %>">\n        <div class="<%= classes.dropdownTab %>">\n            <a href="javascript:void(0);" class="<%= classes.dropdownBoxAnchorLabel %>">\n                <span id="<%= ids.searchTermNavigationText %>"></span>\n            </a>\n            <a\n                href="javascript:void(0);"\n                id="<%= ids.termNavigationWidgetDropDownTabArrow %>"\n                class="<%= classes.dropdownArrowCollapsed %>"\n            >\n                <%= openSearchTermMenuText %>\n            </a>\n        </div>\n    </div>\n    <div id="<%= ids.termNavigationWidgetDropDownBox %>" class="<%= classes.dropdownBoxCollapsed %>">\n        <div class="<%= classes.dropdownBoxHeader %>">\n            <span></span>\n        </div>\n        <div class="<%= classes.dropdownBoxContent %>">\n            <div class="<%= classes.dropdownBoxContentRight %>">\n                <h3>\n                    <%= termNavigationText %>\n                </h3>\n                <ul>\n                    <%= itemsHtml %>\n                </ul>\n            </div>\n        </div>\n        <div class="<%= classes.dropdownBoxFooter %>">\n            <span></span>\n        </div>\n    </div>\n</div>\n';var ge=n(7433),ve=n(1446),ye=n(4046),be=n.n(ye),Ce=n(5050),Se=n(8660);const _e=(e,t,n,i)=>{if(t.paraCiting){e.QueryString.relevantPortionXPath="/"+t.paraCiting.replace(/\/paratext\[1\]$/,"");e.QueryString.relevantPortionId=n;e.Hash="co_anchor_"+n;e.QueryString.transitionType="InlineKeyCiteFlags";e.QueryString.contextData=H["default"].DefaultContextData;e.QueryString.relevantPortionCheck=t.paraCitingText?.slice(0,20).replace(/\W/g,"");e.QueryString.citedDocGuid=i}return H["default"].Absolute(e)},De=(e,t,n,i)=>{const a={...e};a.pointsOfLaw=[];e.issueLevelInfos.forEach((e=>{const o=e.pointsOfLaw.find((e=>e.paraCited.includes(n)));if(o){o.citingMetadata=Te(e.citingInstance,i);const n=(e=>{const t=H["default"].Parse(e);t.QueryString.transitionType="InlineKeyCiteFlags";t.QueryString.contextData=H["default"].DefaultContextData;t.QueryString.navigationPath="";t.QueryString.originationContext="docHeader";return t})(o.citingMetadata.titleLink);o.citingMetadata.titleLink=H["default"].Absolute(n);o.issueLevelCitings.forEach(((i,a)=>{const o=t+"_"+a;i.snippetLink=_e(n,i,o,e.citedInstance)}));a.pointsOfLaw[o.citingMetadata.orderIndex]=o}}));a.pointsOfLaw=a.pointsOfLaw.filter((e=>e));return a},Te=(e,t)=>{const n=t.find((t=>t.docGuid===e));return{title:n.title,titleLink:n.docLink,court:n.courtline,citation:n.primaryCitation,treatment:n.treatment,formattedDate:n.formattedDate,orderIndex:n.index}},Ie=async(e,t,n)=>{const i=H["default"].Relative({Path:"/RelatedInfo/v1/kcNegativeTreatment",QueryString:{docGuid:e[0].docGuid,startIndex:1,count:50,clientId:G["default"].ClientId,originalContext:"OverruledInPart"}}),a=new Se["default"](u["default"].RelatedInfo,i),o=await a.Get();return((e,t,n,i)=>e.map((e=>{const a=[],o=[];e.flags.forEach((e=>{if(!a.includes(e.metadata?.docGuid)&&"partial"===e.subvalue&&e.issueLevelInfos){const r=De(e,n,i,t.negativeCitingRefs);if(r.pointsOfLaw?.length){o.push(r);a.push(r.metadata.docGuid)}}}));return{...e,flags:o}})))(e,await o.json(),t,n)};var xe=n(9068),ke=n(6183),we=n(1811);const Ee=({title:e,close:t,children:n})=>{const i=(0,ve.useRef)(null);(0,xe["default"])((()=>{i.current?.focus()}));return(0,we.jsx)("div",{id:"co_kcOverrulingFlagPopup",className:"co_kcFlagPopup partiallyOverruledPopup co_excludeAnnotations",tabIndex:0,role:"dialog","aria-label":e,ref:i,onBlur:e=>{i.current?.contains(e.nativeEvent.relatedTarget)||t()},onKeyDown:e=>{e.code===ke["default"].Escape&&t()},children:n})};Ee.displayName="WidgetWrapper (Platform/js/Document/Widget/PartiallyOverruledPopupWidget/WidgetWrapper.jsx)";const Ae=Ee,Le=({title:e,citingDocumentCount:t,onClose:n})=>{const i=u["default"].GetUrl(u["default"].Images,"/images/v1/flag_red_striped_small.png"),a=`${e} ${t>1?`(${t})`:""}`,o=x["default"].lookup("SC.Document.TermNavigation.PartiallyOverruled.CloseButton.Text","Close KeyCite overruled in part");return(0,we.jsxs)("div",{className:"co_kcFlagPopup_header",children:[(0,we.jsx)("div",{className:"co_citatorFlag co_rStripedFlagSm",children:(0,we.jsx)("img",{alt:e,src:i,title:e})}),(0,we.jsx)("h3",{children:a}),(0,we.jsx)("button",{type:"button",className:"co_kcFlagPopup_closeButton",onClick:n,children:o})]})};Le.displayName="Header (Platform/js/Document/Widget/PartiallyOverruledPopupWidget/WidgetHeader.jsx)";const Ne=Le,Re=({linkClassName:e,text:t,link:n,eventName:i})=>(0,we.jsx)("a",{href:n,onClick:()=>{const e={linkText:t,link:n};(0,ae.postUXEvent)(i,e)},className:e,children:t});Re.displayName="ButtonLink (Platform/js/Document/Widget/PartiallyOverruledPopupWidget/WidgetButtonLink.jsx)";const Pe=Re,Oe="Cobalt.RelatedInfo.OverruledInPart.SnippetClick",Be="Cobalt.RelatedInfo.OverruledInPart.OverrulingTitleClick",Me=({citingMetadata:e,issueLevelCitings:t})=>{const{treatment:n,court:i,formattedDate:a,citation:o,title:r,titleLink:s}=e;return(0,we.jsxs)("div",{className:"co_kcFlagPopup_doc OverrulingPinPointDoc",children:[(0,we.jsxs)("h4",{className:"co_kcFlagPopup_titleLink",children:[(0,we.jsxs)("span",{children:[n," "]}),(0,we.jsx)(Pe,{text:r,link:s,eventName:Oe})]}),(0,we.jsx)("span",{id:"court",children:i}),(0,we.jsx)("span",{id:"liveDate",children:a}),(0,we.jsx)("span",{id:"citation",children:o}),t.map((e=>{const{paraCitingText:t,snippetLink:n}=e;return(0,we.jsx)("div",{className:"co_paragraph",children:(0,we.jsx)(Pe,{linkClassName:"co_overrulingSnippetLink",text:t,link:n,eventName:Be})},t)}))]})};Me.displayName="Paragraph (Platform/js/Document/Widget/PartiallyOverruledPopupWidget/CitedParagraph.jsx)";const Fe=Me,We=({flagInfo:e,className:t})=>(0,we.jsx)("div",{className:t,children:e[0]?.flags.map((e=>e.pointsOfLaw?.map((e=>{const{citingMetadata:t,issueLevelCitings:n}=e;return(0,we.jsx)(Fe,{citingMetadata:t,issueLevelCitings:n},t.orderIndex)}))))});We.displayName="Body (Platform/js/Document/Widget/PartiallyOverruledPopupWidget/WidgetBody.jsx)";const He=We,Ge=({elementId:e,guids:t,citedParagraph:n,onClose:i})=>{const a=x["default"].lookup("SC.Document.TermNavigation.PartiallyOverruled","Overruled in Part"),[o,r]=(0,ve.useState)([]),[s,l]=(0,ve.useState)(!0),[c,d]=(0,ve.useState)(!1),[u,h]=(0,ve.useState)(!1),f=o[0]?.flags[0]?.pointsOfLaw.length,p=x["default"].lookup("SC.Website.UnexpectedError","An unexpected error occurred processing your request. Please try again later."),m=be()("co_kcFlagPopup_body",{co_loading:u}),g=(0,ve.useCallback)((async t=>{try{h(!0);const i=await Ie(t,e,n);r(i);d(!1)}catch(e){d(!0)}finally{h(!1)}}),[e,n]);(0,ve.useEffect)((()=>{const e={guids:t,success:e=>{g(e)}};t?.length&&de.C.GetPopUpFlagsInfo(e)}),[t,g]);(0,ve.useEffect)((()=>{s&&(0,ae.postUXEvent)("Cobalt.RelatedInfo.OverruledInPart.ParagraphHighlightingPopup")}),[s]);const v=(0,ve.useCallback)((()=>{l(!1);i?.()}),[i]);if(!s)return null;return(0,we.jsxs)(Ae,{title:a,close:v,children:[(0,we.jsx)(Ne,{title:a,citingDocumentCount:f,onClose:v}),c?(0,we.jsx)(Ce["default"],{message:p}):(0,we.jsx)(He,{flagInfo:o,className:m})]})};Ge.displayName="Widget (Platform/js/Document/Widget/PartiallyOverruledPopupWidget/PartiallyOverruledPopupWidget.jsx)";const Ue=Ge;const je=v().extend({init:function(e){this.documentDisplay=e;this.docNavigation=(0,te.A)();this.isA11yTermNavigationDropdown=b["default"].isIacOn("IAC-A11Y-DROPDOWN-TERM-NAVIGATION");this.isA11yTooltip=!b["default"].EnableIphone&&!b["default"].EnableIpad},touchStartSearchTermElement:null,isExpanded:!1,isDataReady:!1,parent:null,termNavigation:null,docNavigation:null,onlyOneSearchTerm:!1,isFirstTermSelected:!1,isLastTermSelected:!1,hasSearchResults:!1,documentDisplay:null,nextTermButton:null,previousTermButton:null,searchTermMenu:null,descriptionText:null,navigateState:"",navigationPreferences:null,directionToMove:a["default"].queryParameters.termNavStateForward,
suppressOverrulingTooltipPreferenceName:"SuppressOverrulingNavigationIntroTooltip",SerialNumber:null,SetParentDiv:function(e){this.parent=e},GetContainer:function(){return this.parent},DocumentHasTerms:function(){return this.docNavigation.hasTerms},IsTermNavigationValid:function(){return this.docNavigation.hasNavigationData&&this.docNavigation.hasTerms},IsDocumentNavigationDisabled:function(){return!1},CreateTermNavigationByDirection:function(e){var t=this;t.navigateState=e;if(t.SerialNumber){t.navigateState=a["default"].queryParameters.termNavStateForward;t.isDataReady=!0;t.Draw()}else if(t.IsTermNavigationValid()||!ne.A.IsOverrulingRiskEnabled()&&!ne.A.IsPartialOverrulingEnabled())if(t.docNavigation.hasLoadedData){t.isDataReady=!0;t.Draw()}else if(!t.docNavigation.HasListProvider()&&t.DocumentHasTerms()){t.isDataReady=!0;t.Draw()}else y["default"].Subscribe(a["default"].events.docNavDataIsReady,(function(){t.isDataReady=!0;t.Draw()}));else{t.isDataReady=!0;t.DrawSpecificTermNavigation()}},ToggleTermNavBox:function(e){for(var t=this,n=S["default"].getEventSourceElement(e),i=!1,o=t.GetNavigationPreferenceValues();n.parentNode;){if(n.id==a["default"].ids.searchTermMenu){i=!0;break}n=n.parentNode}var r=document.getElementById(a["default"].ids.termNavigationWidgetDropDownTab),s=document.getElementById(a["default"].ids.termNavigationWidgetDropDownTabArrow),l=document.getElementById(a["default"].ids.termNavigationWidgetDropDownBox);if(r&&s&&l){if(i)if(t.isExpanded){C["default"].ReplaceClassOnElement(r,a["default"].classes.dropdownTabExpanded,a["default"].classes.dropdownTabCollapsed);C["default"].ReplaceClassOnElement(s,a["default"].classes.dropdownArrowExpanded,a["default"].classes.dropdownArrowCollapsed);C["default"].ReplaceClassOnElement(l,a["default"].classes.dropdownBoxExpanded,a["default"].classes.dropdownBoxCollapsed);t.isExpanded=!1;t.HideMessage();t.isFirstTermSelected=!1;t.isLastTermSelected=!1}else{C["default"].ReplaceClassOnElement(r,a["default"].classes.dropdownTabCollapsed,a["default"].classes.dropdownTabExpanded);C["default"].ReplaceClassOnElement(s,a["default"].classes.dropdownArrowCollapsed,a["default"].classes.dropdownArrowExpanded);C["default"].ReplaceClassOnElement(l,a["default"].classes.dropdownBoxCollapsed,a["default"].classes.dropdownBoxExpanded);t.isExpanded=!0;this.parent?.querySelector(`.${a["default"].classes.selected} button`)?.focus()}else{C["default"].ReplaceClassOnElement(r,a["default"].classes.dropdownTabExpanded,a["default"].classes.dropdownTabCollapsed);C["default"].ReplaceClassOnElement(s,a["default"].classes.dropdownArrowExpanded,a["default"].classes.dropdownArrowCollapsed);C["default"].ReplaceClassOnElement(l,a["default"].classes.dropdownBoxExpanded,a["default"].classes.dropdownBoxCollapsed);t.isExpanded=!1}t.IsTermNavigationHidden()||t.AreNextOrPreviousLinksValid();t.ToggleHighlights(o.prefs)}},UpdateTermNavigationPreference:function(e,t){const n=this.GetNavigationPreferenceValues();let i=S["default"].getEventSourceElement(e);if(!this.isA11yTermNavigationDropdown){const e=C["default"].GetElementsByClassName(n.className,"a",document.getElementById(a["default"].ids.termNavigationWidgetDropDownBox));e[0]?.parentNode.removeAttribute("class");e[0]?.removeAttribute("aria-pressed")}"DIV"===i.tagName&&(i=i.parentElement);if(this.isA11yTermNavigationDropdown){const e=this.GetNavigationPreferenceValues(i),t=this.a11yTermNavigationMenu.menuOpts.items.findIndex((t=>t.textClass===e.className));t>=0&&this.a11yTermNavigationMenu.selectItemByIndex(t)}this.SetNewPreference(i,t)},SetNewPreference:function(e,t){const n=this.GetNavigationPreferenceValues(e);this.termNavigation.searchPreference=n.prefs;this.isSpecificNavigationPreference()?this.SetSpecificNavigationPreference(n.prefs):this.SaveTermNavPreference(n.prefs);if(this.isA11yTermNavigationDropdown)this.a11yTermNavigationMenu.changeButtonClass(n);else{const t=document.getElementById(a["default"].ids.searchTermNavigationText);if(t){t.firstChild.nodeValue=n.text;t.className=n.className;e.parentNode?.classList.add(a["default"].classes.selected);e.setAttribute("aria-pressed",!0)}}this.SelectedPreferenceEventSwitch(n.prefs,t);this.ToggleHighlights(n.prefs);return!1},SaveTermNavPreference:function(e){re["default"].SaveTermNavigationPreference(e)},SelectedPreferenceEventSwitch:function(e){var t=this;switch(e){case a["default"].prefs.bestPortionTerms:t.SendBestPortionSelectedEvent();break;case a["default"].prefs.overrulingRiskTerms:t.SendOverrulingRiskSelectedEvent();break;case a["default"].prefs.searchTermsOnly:case a["default"].prefs.searchWithinTermsOnly:t.SendSearchSelectedEvent();break;case a["default"].prefs.hideSearchTerms:t.SendHideSearchSelectedEvent()}},GetNavigationPreferenceValues:function(e){var t=this,n=t.termNavigation,i={text:"",className:"",prefs:""};if(this.isSpecificNavigationValue()){var o=e;if(null===t.navigationPreferences){const e=this.isSpecificNavigationPreference()?t.GetSpecificNavigationPreference():n.searchPreference;(o=t.GetCurrentElement(e))||(o=ee()(t.parent).find("li").children()[0]);o||(o=ee()(t.parent).find("span #"+a["default"].ids.searchTermNavigationText)[0])}if(!o)return t.navigationPreferences;t.termNavigation&&(i=t.SetResponseData(i,o));t.navigationPreferences=i}else if(t.termNavigation)if(e&&e.className===a["default"].classes.termNavSearchTerm||!e&&n.searchPreference===a["default"].prefs.searchTermsOnly){i.text=a["default"].texts.originalTerms;i.className=a["default"].classes.termNavSearchTerm;i.prefs=a["default"].prefs.searchTermsOnly}else if(e&&e.className===a["default"].classes.termNavFindTerm||!e&&n.searchPreference===a["default"].prefs.searchWithinTermsOnly){i.text=a["default"].texts.searchWithinTerms;i.className=a["default"].classes.termNavFindTerm;i.prefs=a["default"].prefs.searchWithinTermsOnly}else if(e&&e.className===a["default"].classes.termNavHideHighlighting||!e&&n.searchPreference===a["default"].prefs.hideSearchTerms){i.text=a["default"].texts.hideHighlighting;i.className=a["default"].classes.termNavHideHighlighting;i.prefs=a["default"].prefs.hideSearchTerms}else{i.text=a["default"].texts.allSearchTerms;i.className=a["default"].classes.termNavAllTerm;i.prefs=a["default"].prefs.allSearchTerms}return i},GetCurrentElement:function(e){return this.GetCurrentElementByPref(e)},GetCurrentElementByPref:function(e){const t=this.getClassByPref(e);if(this.isA11yTermNavigationDropdown)return document.querySelector(`.${t}`);return ee()(`.${t}`,this.parent)[0]},SetResponseData:function(e,t){const{prefs:n,classes:i,ids:o,texts:r}=a["default"];if(t?.classList.contains(i.termNavBestPortion)){e.text=x["default"].lookup("SC.Document.TermNavigation.BestPortion","Best Portion");e.className=i.termNavBestPortion;e.prefs=n.bestPortionTerms}else if(t?.classList.contains(i.termNavOverrulingRisk)){e.text=x["default"].lookup("SC.Document.TermNavigation.OverrulingRisk","Overruling Risk");e.className=i.termNavOverrulingRisk;e.prefs=n.overrulingRiskTerms}else if(t?.classList.contains(i.termNavPartiallyOverruled)){e.text=x["default"].lookup("SC.Document.TermNavigation.PartiallyOverruled","Overruled in Part");e.className=i.termNavPartiallyOverruled;e.prefs=n.partiallyOverruledTerms}else if(t?.classList.contains(i.termNavSearchTerm)||t.id===o.searchTermNavigationText){e.text=r.originalTerms;e.className=i.termNavSearchTerm;e.prefs=n.searchTermsOnly}else if(t?.classList.contains(i.termNavFindTerm)){e.text=r.searchWithinTerms;e.className=i.termNavFindTerm;e.prefs=n.searchWithinTermsOnly}else if(t?.classList.contains(i.termNavFindTermA11y)){e.text=r.searchWithinTerms;e.className=i.termNavFindTermA11y;e.prefs=n.searchWithinTermsOnly}else if(t?.classList.contains(i.termNavHideHighlighting)){e.text=r.hideHighlighting;e.className=i.termNavHideHighlighting;e.prefs=n.hideSearchTerms}else{e.text=r.allSearchTerms;e.className=i.termNavAllTerm;e.prefs=n.allSearchTerms}return e},GetTermNavigationHtml:function(){var e=b["default"].isFeatureSupported("RESEARCHACCELERATOR")&&b["default"].isIacOn("IAC-RESEARCH-ACCEL"),t=!1,n=!1;document.querySelectorAll("input[type=hidden]").forEach((e=>{var t=e.value??""
;(t.indexOf("researchAccelerator=page")>-1||t.indexOf("researchAccelerator=slider")>-1)&&(n=!0)}));e&&n&&(t=!0);var i="<span id='"+a["default"].ids.searchTermNavigationText+"'>"+x["default"].lookup("SC.Document.TermNavigation.SearchTerm","Search term")+"</span>",o=this.docNavigation;if(o.highlightedTerms&&o.highlightedTerms.length>0){var r;if(this.isA11yTermNavigationDropdown){r=this.GetDocumentNavigationItemsTemplateParams(t);this.a11yTermNavigationMenu=new le.A(r);return this.a11yTermNavigationMenu.buildDropdownContainer()}r=this.GetDocumentNavigationTemplateParams(t);return A().template(me)(r)}return i},GetSpecificTermNavigationHtml:function(){var e;if(this.isA11yTermNavigationDropdown){e=this.GetSpecificDocumentNavigationItemsTemplateParams();this.a11yTermNavigationMenu=new le.A(e);return this.a11yTermNavigationMenu.buildDropdownContainer()}e=this.GetSpecificDocumentNavigationTemplateParams();return A().template(me)(e)},GetDocumentNavigationTemplateParams:function(e){return{classes:a["default"].classes,ids:a["default"].ids,termNavigationText:x["default"].lookup("SC.Document.TermNavigation.TermNavigation","Term Navigation"),openSearchTermMenuText:x["default"].lookup("SC.Document.TermNavigation.OpenSearchTermMenu","Open Search Term menu"),highlightNavigationEnabled:!1,focusHighlightEnabled:!1,itemsHtml:this.GetTermNavigationItemsHtml(e)}},GetDocumentNavigationItemsTemplateParams:function(e){var t=this.docNavigation.highlightedTerms;return{focusHighlightEnabled:!1,highlightNavigationEnabled:!1,isBestPortion:this.IsBestPortionNavigationEnabled(),isOverrulingRisk:ne.A.IsOverrulingRiskEnabled(),isPartiallyOverruled:ne.A.IsPartialOverrulingEnabled(),suppressListItemForRA:e,searchQuery:this._getTruncateSearchQuery(this.docNavigation.searchQuery),searchQueryType:this.docNavigation.searchQueryType,searchWithinQuery:this._getTruncateSearchQuery(this.docNavigation.searchWithinQuery),isSearchWithinDocument:this.docNavigation.secondaryHighlightedTerms&&this.docNavigation.secondaryHighlightedTerms.length>0,highlightedTerms:Array.isArray(t)?t.join(" "):t,classes:a["default"].classes,searchQueryTypes:a["default"].searchQueryTypes,bestPortionText:x["default"].lookup("SC.Document.TermNavigation.BestPortion","Best Portion"),overrulingRiskText:x["default"].lookup("SC.Document.TermNavigation.OverrulingRisk","Overruling Risk"),partiallyOverruledText:x["default"].lookup("SC.Document.TermNavigation.PartiallyOverruled","Overruled in Part"),allTermsText:x["default"].lookup("SC.Document.TermNavigation.AllTerms","All Terms"),texts:a["default"].texts}},GetSpecificDocumentNavigationItemsTemplateParams:function(){return{classes:a["default"].classes,ids:a["default"].ids,openSearchTermMenuText:x["default"].lookup("SC.Document.TermNavigation.OpenSearchTermMenu","Open Search Term menu"),overrulingRiskText:x["default"].lookup("SC.Document.TermNavigation.OverrulingRisk","Overruling Risk"),termNavigationText:x["default"].lookup("SC.Document.TermNavigation.TermNavigation","Term Navigation"),texts:a["default"].texts,isSpecific:!0}},GetSpecificDocumentNavigationTemplateParams:function(){return{classes:a["default"].classes,ids:a["default"].ids,termNavigationText:x["default"].lookup("SC.Document.TermNavigation.TermNavigation","Term Navigation"),openSearchTermMenuText:x["default"].lookup("SC.Document.TermNavigation.OpenSearchTermMenu","Open Search Term menu"),overrulingRiskText:x["default"].lookup("SC.Document.TermNavigation.OverrulingRisk","Overruling Risk"),itemsHtml:this.GetSpecificTermNavigationItemsHtml()}},DrawTermNavigationElement:function(e){var t,n=this;n.previousTermButton=e.querySelector(`#${a["default"].ids.searchTermNavigationPrevious}`);n.searchTermMenu=e.querySelector(`#${a["default"].ids.searchTermMenu}`);n.descriptionText=e.querySelector(`#${a["default"].ids.searchTermNavigationText}`);n.nextTermButton=e.querySelector(`#${a["default"].ids.searchTermNavigationNext}`);S["default"].AttachClickHandler(n.nextTermButton,(function(e){n.ClickNext(e);return!1}));S["default"].AttachClickHandler(n.previousTermButton,(function(e){n.ClickPrevious(e);return!1}));this.isA11yTooltip||n.AddBindings();y["default"].Subscribe(a["default"].events.noSearchTermsOnDocument,(function(){n.NoSearchTermsFound()}));y["default"].Subscribe(a["default"].events.onlySearchTermOnDocument,(function(){n.OneSearchTermFound()}));y["default"].Subscribe(a["default"].events.firstSearchTermOnDocument,(function(){n.OnFirstSearchTermOnDocument()}));y["default"].Subscribe(a["default"].events.lastSearchTermOnDocument,(function(){n.OnLastSearchTermOnDocument()}));y["default"].Subscribe(a["default"].events.moveToNextSearchDocument,(function(){n.MoveToNextSearchDocument()}));y["default"].Subscribe(a["default"].events.moveToPreviousSearchDocument,(function(){n.MoveToPreviousSearchDocument()}));n.CreateTermNavigationController();if(this.isA11yTermNavigationDropdown&&this.a11yTermNavigationMenu){this.a11yTermNavigationMenu.setMenuContainerElement(n.searchTermMenu);this.a11yTermNavigationMenu.setChangePreferenceHandler(n.SetNewPreference.bind(this));this.a11yTermNavigationMenu.draw(n.termNavigation.searchPreference)}if(n.searchTermMenu&&n.searchTermMenu.hasChildNodes()&&n.searchTermMenu.childNodes.length>1){t=n.GetNavigationPreferenceValues();if(this.isA11yTermNavigationDropdown)this.a11yTermNavigationMenu.changeButtonClass(t);else{var i=ee()(n.searchTermMenu).children().eq(0).find("span");i.eq(0).html(t.text);i.eq(0).attr("class",t.className);for(let e=(i=ee()(n.searchTermMenu).children().eq(1).find("a,button")).length;e--;){S["default"].AttachClickHandler(i[e],(function(e){n.UpdateTermNavigationPreference(e)}));if(i[e].className===t.className){C["default"].AddClass(i[e].parentNode,a["default"].classes.selected);i[e].setAttribute("aria-pressed",!0)}}}}else n.ShouldAddSearchNavigationPreferences()&&(t=n.GetNavigationPreferenceValues());var o=document.getElementById(a["default"].ids.document);if(o){C["default"].AddEventHandler(o,"touchstart",n.TouchStartHandler);C["default"].AddEventHandler(o,"touchend",n.TouchEndHandler)}n.CheckForNextPreviousLinks(e);var r=function(){t&&n.ToggleHighlights(t.prefs);if(n.IsTermNavigationValid()&&b["default"].isIacOn("IAC-OVERRULING-RISK-NAV")&&null!=n.termNavigation&&null!=n.navigationPreferences&&n.termNavigation.searchPreference===a["default"].prefs.overrulingRiskTerms&&n.termNavigation.searchPreference!==n.navigationPreferences.prefs){var e=a["default"].texts.noOverrulingRiskOnDocument;n.DisplayMessage(e)}};y["default"].Subscribe(a["default"].events.termNavFinishedInitializing,r);y["default"].Subscribe("Cobalt.TopTopicsWidget.Loaded",r);b["default"].EnableIpad||b["default"].EnableIphone?C["default"].AddEventHandler(document.body,"touchend",(e=>n.ToggleTermNavBox(e))):C["default"].AddEventHandler(document.body,"click",(e=>n.ToggleTermNavBox(e)))},DrawOverrulingRiskPortion:function(){if(ne.A.IsOverrulingRiskEnabled()||ne.A.IsPartialOverrulingEnabled()){ne.A.DrawOverrulingRiskPortion();this.AttachOverrulingRiskClickEvents()}},AttachOverrulingRiskClickEvents:function(){document.querySelectorAll(`.${a["default"].classes.overrulingRiskMarkingPinpointIcon}, .${a["default"].classes.partiallyOverruledMarkingPinpointIcon}`).forEach((e=>e.addEventListener("click",(e=>{var t=e.currentTarget.parentElement.nextSibling,n=e.currentTarget.parentNode.querySelectorAll("."+a["default"].classes.overrulingRiskWrapperWithBestPortion).length>0;if(t&&t.classList.contains(a["default"].classes.locateOverrulingRisk)){new ue(t,n).initialize()}else t&&t.classList.contains(a["default"].classes.locatePartiallyOverruled)&&ne.A.IsPartialOverrulingEnabled()&&(e=>{const t=document.getElementById(`${e.id}_arrow`),n=document.createElement("div"),{id:i,dataset:a}=e,{guids:o,citedparagraph:r}=a,s=o?.split(/[ ,]/).filter((e=>e)),l=(0,we.jsx)(Ue,{elementId:i,guids:s,citedParagraph:r,onClose:()=>{t.focus()}});(0,ge.createRoot)(n).render(l);t.after(n)})(t)}))))},Draw:function(){var e=this;if(!e.isDataReady)return;if(!e.IsTermNavigationValid())return;var t=e.getSnippetAnchorClass(),n=ee()("."+t),i=document.createElement("DIV");i.id=a["default"].ids.searchTermNavigation;const o=e.GetTermNavigationHtml()
;i.innerHTML=e.GetNavigationMarkup(o);e.parent.appendChild(i);e.isFirstTermSelected=!(e.navigateState==a["default"].queryParameters.termNavStateBackward);e.isLastTermSelected=e.navigateState==a["default"].queryParameters.termNavStateBackward;if(e.IsBestPortionNavigationEnabled()){n=ne.A.FilterFragments(n,a["default"].classes.snippetSuppressed,t);ne.A.FormatFragments(n);e.WrapFragments(n,a["default"].classes.snippetWrapper,a["default"].classes.pinpointIcon);ne.A.MergeFragments(n,t);var r=function(){n=ee()("."+t);for(var e=0;e<n.length;e++)ne.A.ResizeWrapper(n[e].id)};window.addEventListener("resize",r);y["default"].Subscribe(a["default"].events.chunkRendered,(function(){var n=ee()("."+t);e.WrapFragments(n,a["default"].classes.snippetWrapper,a["default"].classes.pinpointIcon);ne.A.MergeFragments(n,t)}));y["default"].Subscribe(a["default"].events.documentMayHaveChangedSize,r)}e.DrawTermNavigationElement(i);e.DrawTooltips();e.DrawOverrulingRiskPortion()},DrawSpecificTermNavigation:function(){var e=this,t=document.createElement("DIV");t.id=a["default"].ids.searchTermNavigation;const n=e.GetSpecificTermNavigationHtml();t.innerHTML=e.GetNavigationMarkup(n);e.parent.appendChild(t);e.DrawTermNavigationElement(t);e.DrawOverrulingRiskPortion()},GetNavigationMarkup:function(e){const{ids:t,classes:n}=a["default"],i=x["default"].lookup("SC.Document.TermNavigation.PreviousTerm","Previous Term"),o=x["default"].lookup("SC.Document.TermNavigation.NextTerm","Next Term");if(this.isA11yTooltip)r=A().template(pe)({previousTermText:i,previousTermId:t.searchTermNavigationPrevious,previousTermClass:n.previous,termNavigationHtml:e,nextTermText:o,nextTermId:t.searchTermNavigationNext,nextTermClass:n.next,termNavMessagingStructure:this.GetTermNavMessagingStructure()});else var r=`<button id='${t.searchTermNavigationPrevious}' class='${n.previous} co_hasTooltip co_customTitle'><span class='icon25 icon_prev_arrow'>${i}</span><span class='co_accessibilityLabel' id='${t.searchTermNavigationPrevious}_tooltip'>${i}</span></button>`+e+`<button id='${t.searchTermNavigationNext}' class='${n.next} co_hasTooltip co_customTitle'>`+`<span class='icon25 icon_next_arrow'>${o}</span>`+`<span class='co_accessibilityLabel' id='${t.searchTermNavigationNext}_tooltip'>${o}</span></button>`+this.GetTermNavMessagingStructure();return r},DrawTooltips:function(){if(this.isA11yTooltip){const e=x["default"].lookup("SC.Document.TermNavigation.PreviousTerm","Previous Term"),t=x["default"].lookup("SC.Document.TermNavigation.NextTerm","Next Term"),n=new F["default"](this.previousTermButton,e);n.render();const i=new F["default"](this.nextTermButton,t);i.render();this.previousTermButton.addEventListener("focus",(()=>n.setTooltipText(this.GetNavigationTooltipText(a["default"].texts.backward))));this.previousTermButton.addEventListener("mouseenter",(()=>n.setTooltipText(this.GetNavigationTooltipText(a["default"].texts.backward))));this.nextTermButton.addEventListener("focus",(()=>i.setTooltipText(this.GetNavigationTooltipText(a["default"].texts.forward))));this.nextTermButton.addEventListener("mouseenter",(()=>i.setTooltipText(this.GetNavigationTooltipText(a["default"].texts.forward))))}},AddBindings:function(){this.previousTermButton.addEventListener("mouseover",(()=>this.ShowPreviousTermInfo()));this.previousTermButton.addEventListener("keyup",(e=>this.ShowPreviousTermInfo(e)));this.previousTermButton.addEventListener("blur",(()=>this.previousTermButton.childNodes[1].classList.remove("co_visibleLabel")));this.nextTermButton.addEventListener("mouseover",(()=>this.ShowNextTermInfo()));this.nextTermButton.addEventListener("keyup",(e=>this.ShowNextTermInfo(e)));this.nextTermButton.addEventListener("blur",(()=>this.nextTermButton.childNodes[1].classList.remove("co_visibleLabel")))},ShouldAddSearchNavigationPreferences:function(){return!1},ToggleHighlights:function(e){var t=this,n=a["default"].classes.disabled,i=a["default"].classes.searchTerm,o=a["default"].classes.hideSearchTerm,r=a["default"].classes.currentSearchTerm,s=a["default"].classes.hideCurrentSearchTerm,l=a["default"].classes.hideLocateTerm,c=a["default"].classes.locateTerm,d=a["default"].classes.highlightPoints,u=a["default"].classes.hideHighlightPoints,h=a["default"].classes.snippetWrapper,f=a["default"].classes.pinpointIcon,p=a["default"].classes.overrulingRiskWrapper,m=a["default"].classes.overrulingRiskMarkingPinpointIcon,g=a["default"].classes.hideState;if(e===a["default"].prefs.hideSearchTerms){document.querySelectorAll(`.${i}`).forEach((e=>{e.classList.remove(i);e.classList.add(o)}));document.querySelectorAll(`.${r}`).forEach((e=>{e.classList.remove(r);e.classList.add(s)}));document.querySelectorAll(`.${c}`).forEach((e=>{e.classList.remove(c);e.classList.add(l)}));document.querySelectorAll(`.${d}`).forEach((e=>{e.classList.remove(d);e.classList.add(u)}));t.previousTermButton?.classList.add(n);t.nextTermButton?.classList.add(n);if(b["default"].isIacOn("IAC-OVERRULING-RISK-NAV")){document.querySelectorAll(`.${h}`).forEach((e=>e.classList.add(g)));document.querySelectorAll(`.${f}`).forEach((e=>e.classList.add(g)));document.querySelectorAll(`.${p}`).forEach((e=>e.classList.add(g)));document.querySelectorAll(`.${m}`).forEach((e=>e.classList.add(g)))}}else{document.querySelectorAll(`.${o}`).forEach((e=>{e.classList.remove(o);e.classList.add(i)}));document.querySelectorAll(`.${s}`).forEach((e=>{e.classList.remove(s);e.classList.add(r)}));document.querySelectorAll(`.${l}`).forEach((e=>{e.classList.remove(l);e.classList.add(c)}));document.querySelectorAll(`.${u}`).forEach((e=>{e.classList.remove(u);e.classList.add(d)}));t.previousTermButton?.classList.remove(n);t.nextTermButton?.classList.remove(n);if(b["default"].isIacOn("IAC-OVERRULING-RISK-NAV")){document.querySelectorAll(`.${h}`).forEach((e=>e.classList.remove(g)));document.querySelectorAll(`.${f}`).forEach((e=>e.classList.remove(g)));document.querySelectorAll(`.${p}`).forEach((e=>e.classList.remove(g)));document.querySelectorAll(`.${m}`).forEach((e=>e.classList.remove(g)))}t.AreNextOrPreviousLinksValid()}},TouchStartHandler:function(e){var t=e.changedTouches[0].target,n=S["default"].GetAncestorOrSelfElement(t,"span",a["default"].classes.searchTerm);n&&(this.touchStartSearchTermElement=n)},TouchEndHandler:function(e){var t=this,n=e.changedTouches[0].target,i=S["default"].GetAncestorOrSelfElement(n,"span",a["default"].classes.searchTerm);if(i&&t.touchStartSearchTermElement===i){t.termNavigation.setCurrentSearchTermFromElement(i);t.termNavigation.MoveToNextTerm();e.preventDefault()}i=""},GetTermNavMessagingStructure:function(){return"<div id='"+a["default"].ids.termNavigationToasterMessageBox+"' class='"+a["default"].classes.messageBoxContainer+" "+a["default"].classes.hideState+"'><div class='"+a["default"].classes.messageBox+"'><div class='"+a["default"].classes.messageBoxContent+"' id='"+a["default"].ids.termNavigationToasterMessage+"'>&nbsp;</div></div></div>"},ShowPreviousTermInfo:function(e){var t=this;if(t.IsTermNavigationHidden())return;var n=t.GetNavigationTooltipText(a["default"].texts.backward);t.AddTooltipForPreviousTermButton(n,e)},AddTooltipForPreviousTermButton:function(e,t){this.previousTermButton.childNodes[1].textContent=e;t&&t.keyCode===ee().ui.keyCode.TAB&&this.previousTermButton.childNodes[1].classList.add("co_visibleLabel")},GetNavigationTooltipText:function(e){var t,n,i=this,o=-1,r=!1,s=0;null!=se["default"].Instance&&(s=se["default"].Instance.GetCurrentChunk());if(e==a["default"].texts.backward){i.termNavigation.searchTermsInDocument&&i.termNavigation.searchTermsInDocument.length>0&&(o=i.termNavigation.searchTermsInDocument.length);for(;o>-1&&!r&&!((o=i.termNavigation.GetNextTermIndex(o,e))<0);){n=i.termNavigation.searchTermsInDocument[o];i.termNavigation.checkIfSearchTermInCollapsedSection(n);n.chunkNumber<s?r=!0:n.chunkNumber!==s&&void 0!==n.chunkNumber||(r=S["default"].FindNextElementToScrollTo(n,e));r&&"skip"!==i.termNavigation.documentDisplay.CheckSearchTermContext(n.element).status||(r=!1)}t=x["default"].lookup("SC.Document.TermNavigation.PreviousTerm","Previous Term")
;void 0!==n&&(-1!==n.element.className.indexOf("opinionConcurrance")&&r?t=x["default"].lookup("SC.Document.TermNavigation.PreviousTermWithinConcurrence","Previous Term (within concurrence)"):-1!==n.element.className.indexOf("opinionDissent")&&r?t=x["default"].lookup("SC.Document.TermNavigation.PreviousTermWithinDissent","Previous Term (within dissent)"):-1!==n.element.className.indexOf("opinionCipdip")&&r&&(t=x["default"].lookup("SC.Document.TermNavigation.PreviousTermWithinOpinionInpart","Previous Term (within concurrence in part / dissent in part)")))}else if(e==a["default"].texts.forward){for(;o<i.termNavigation.searchTermsInDocument.length&&!r&&!((o=i.termNavigation.GetNextTermIndex(o,e))<0);){n=i.termNavigation.searchTermsInDocument[o];i.termNavigation.checkIfSearchTermInCollapsedSection(n);n.chunkNumber>s?r=!0:n.chunkNumber!==s&&void 0!==n.chunkNumber||(r=S["default"].FindNextElementToScrollTo(n,e));r&&"skip"!==i.termNavigation.documentDisplay.CheckSearchTermContext(n.element).status||(r=!1)}t=x["default"].lookup("SC.Document.TermNavigation.NextTerm","Next Term");void 0!==n&&(-1!==n.element.className.indexOf("opinionConcurrance")&&r?t=x["default"].lookup("SC.Document.TermNavigation.NextTermWithinConcurrence","Next Term (within concurrence)"):-1!==n.element.className.indexOf("opinionDissent")&&r?t=x["default"].lookup("SC.Document.TermNavigation.NextTermWithinDissent","Next Term (within dissent)"):-1!==n.element.className.indexOf("opinionCipdip")&&r&&(t=x["default"].lookup("SC.Document.TermNavigation.NextTermWithinOpinionInpart","Next Term (within concurrence in part / dissent in part)")))}return t},ClickPrevious:function(){var e=this;if(e.IsTermNavigationHidden())return;e.HideMessage();e.isFirstTermSelected=!1;e.isLastTermSelected=!1;e.termNavigation.MoveToPreviousTerm();this.isA11yTooltip||e.ShowPreviousTermInfo();e.AreNextOrPreviousLinksValid();e.previousTermButton.classList.contains(a["default"].classes.disabled)||e.previousTermButton.focus();(0,ae.postUXEvent)("Cobalt.Document.TermNavigation.Move",{displayPreference:e.navigationPreferences?.prefs})},ShowNextTermInfo:function(e){var t=this;if(t.IsTermNavigationHidden())return;var n=t.GetNavigationTooltipText(a["default"].texts.forward);t.AddTooltipForNextTermButton(n,e)},AddTooltipForNextTermButton:function(e,t){this.nextTermButton.childNodes[1].textContent=e;t&&t.keyCode===ee().ui.keyCode.TAB&&this.nextTermButton.childNodes[1].classList.add("co_visibleLabel")},ClickNext:function(){var e=this;if(e.nextTermButton.classList.contains(a["default"].classes.disabled))return;e.HideMessage();e.isFirstTermSelected=!1;e.isLastTermSelected=!1;e.termNavigation.MoveToNextTerm();this.isA11yTooltip||e.ShowNextTermInfo();e.AreNextOrPreviousLinksValid();e.nextTermButton.classList.contains(a["default"].classes.disabled)||e.nextTermButton.focus();(0,ae.postUXEvent)("Cobalt.Document.TermNavigation.Move",{displayPreference:e.navigationPreferences?.prefs})},CreateTermNavigationController:function(e){var t=this;t.termNavigation=oe["default"].GetObject(a["default"].objectIds.TermNavigation,[{Val:t.navigateState},{Val:t.documentDisplay},{Val:null},{Val:e}])},NoSearchTermsFound:function(){var e=this;if(e.docNavigation.highlightedTerms&&e.docNavigation.highlightedTerms.length>0){var t=a["default"].texts.noTermsOnDocument;e.DisplayMessage(t)}e.isFirstTermSelected=!1;e.isLastTermSelected=!1;e.AreNextOrPreviousLinksValid()},OneSearchTermFound:function(){this.onlyOneSearchTerm=!0;this.AreNextOrPreviousLinksValid()},OnFirstSearchTermOnDocument:function(){var e=this,t=a["default"].texts.firstTermInDocument;if(e.onlyOneSearchTerm){t=a["default"].texts.oneTermInDocument;e.isLastTermSelected=!0}e.navigationPreferences?.prefs===a["default"].prefs.partiallyOverruledTerms?t=1===document.getElementsByClassName(a["default"].classes.locatePartiallyOverruled).length?a["default"].texts.oneAffectedParagraphInDocument:a["default"].texts.firstAffectedParagraphInDocument:e.navigationPreferences?.prefs===a["default"].prefs.overrulingRiskTerms&&(t=1===document.getElementsByClassName(a["default"].classes.locateOverrulingRisk).length?a["default"].texts.oneAffectedParagraphInDocument:a["default"].texts.firstAffectedParagraphInDocument);e.isFirstTermSelected=!0;e.DisplayMessage(t);e.AreNextOrPreviousLinksValid()},OnLastSearchTermOnDocument:function(){var e=this,t=a["default"].texts.lastTermInDocument;if(e.onlyOneSearchTerm){t=a["default"].texts.oneTermInDocument;e.isFirstTermSelected=!0}e.navigationPreferences?.prefs===a["default"].prefs.partiallyOverruledTerms?t=1===document.getElementsByClassName(a["default"].classes.locatePartiallyOverruled).length?a["default"].texts.oneAffectedParagraphInDocument:a["default"].texts.lastAffectedParagraphInDocument:e.navigationPreferences?.prefs===a["default"].prefs.overrulingRiskTerms&&(t=1===document.getElementsByClassName(a["default"].classes.locateOverrulingRisk).length?a["default"].texts.oneAffectedParagraphInDocument:a["default"].texts.lastAffectedParagraphInDocument);e.isLastTermSelected=!0;e.DisplayMessage(t);e.AreNextOrPreviousLinksValid()},DisplayMessage:function(e){var t=this;t.ShowMessage(e);setTimeout((function(){t.HideMessage()}),a["default"].timeouts.navigateToDocumentMesssage)},HideMessage:function(){var e=this.GetMessageBoxElement(),t=a["default"].classes.hideState;C["default"].AddClass(e,t);e.removeAttribute("role")},ShowMessage:function(e){var t=this.GetMessageBoxElement(),n=this.GetMessageElement(),i=a["default"].classes.hideState;if(null!=n){t.setAttribute("role","alert");n.innerHTML=e;C["default"].RemoveClass(t,i)}},GetMessageBoxElement:function(){return document.getElementById(a["default"].ids.termNavigationToasterMessageBox)},GetMessageElement:function(){return document.getElementById(a["default"].ids.termNavigationToasterMessage)},AreNextOrPreviousLinksValid:function(){var e=this;if(null==e.previousTermButton)return;var t,n,i=a["default"].classes.hideState,o=a["default"].classes.disabled;if(e.termNavigation&&e.termNavigation.searchTermsInDocument&&0==e.termNavigation.searchTermsInDocument.length){C["default"].AddClass(e.previousTermButton,i);C["default"].AddClass(e.nextTermButton,i);C["default"].AddClass(e.searchTermMenu,i);C["default"].AddClass(e.descriptionText,i);return}var r=e.docNavigation.IsFirstDocument(),s=e.IsFirstSearchTermViewable();t=(!r||!e.isFirstTermSelected&&!s)&&((!e.IsDocumentNavigationDisabled()||!e.isFirstTermSelected&&!s)&&!(!e.IsTermNavigationValid()&&ne.A.IsOverrulingRiskEnabled()&&(e.isFirstTermSelected||s)));var l=e.docNavigation.IsLastDocument(),c=e.IsLastSearchTermViewable();n=(!l||!e.isLastTermSelected&&!c)&&((!e.IsDocumentNavigationDisabled()||!e.isLastTermSelected&&!c)&&!(!e.IsTermNavigationValid()&&ne.A.IsOverrulingRiskEnabled()&&(e.isLastTermSelected||c)));var d=o;t&&!0===t?C["default"].RemoveClass(e.previousTermButton,d):C["default"].AddClass(e.previousTermButton,d);n&&!0===n?C["default"].RemoveClass(e.nextTermButton,d):C["default"].AddClass(e.nextTermButton,d);this.SetAriaDisabledAttributeForNextPrevButtons(t,n)},SetAriaDisabledAttributeForNextPrevButtons:function(e,t){this.previousTermButton.setAttribute("aria-disabled",!e);this.nextTermButton.setAttribute("aria-disabled",!t)},IsFirstSearchTermViewable:function(){var e=!0;this.termNavigation&&(e=this.termNavigation.IsSearchTermViewable(a["default"].searchTerm.first));return e},IsLastSearchTermViewable:function(){var e=!0;this.termNavigation&&(e=this.termNavigation.IsSearchTermViewable(a["default"].searchTerm.last));return e},MoveToNextSearchDocument:function(){var e=this;if(e.IsDocumentNavigationDisabled())return;if(!e.docNavigation.IsLastDocument()){e.directionToMove=a["default"].queryParameters.termNavStateForward;var t=e.GetCitingReferenceSkipLinkOutMessage("next");e.docNavigation.NavigateToNextUrl((function(t){e.MoveToUrl(t)}),t)}},MoveToUrl:function(e){if(""!=e){var t=e.replace(/originationContext=[^&#]*/gi,"originationContext=PreviousNextSearchTerm");this.ChangeUrl(t,this.directionToMove)}},MoveToPreviousSearchDocument:function(){var e=this;if(e.IsDocumentNavigationDisabled())return;if(!e.docNavigation.IsFirstDocument()){
e.directionToMove=a["default"].queryParameters.termNavStateBackward;var t=e.GetCitingReferenceSkipLinkOutMessage("previous");e.docNavigation.NavigateToPreviousUrl((function(t){e.MoveToUrl(t)}),t)}},GetCitingReferenceSkipLinkOutMessage:function(e){var t="";this.docNavigation.IsCitingReference()&&("next"===e?t=x["default"].lookup("SC.Document.Navigation.SkipLinkOutMessage.Next",`The next document is not yet available on Westlaw Next. Do you wish to return to the reference list or skip to the ${e} available document?`):"previous"==e&&(t=x["default"].lookup("SC.Document.Navigation.SkipLinkOutMessage.Previous",`The previous document is not yet available on Westlaw Next. Do you wish to return to the reference list or skip to the ${e} available document?`)));return t},ChangeUrl:function(e,t){var n=a["default"].queryParameters.termNavState+"="+t;n=e.split("?").length>1?"&"+n:"?"+n;var i=e.split("#");window.location.href=i[0]+n},CheckForNextPreviousLinks:function(e){var t=this;if(t.termNavigation.FinishedInitializing)t.AreNextOrPreviousLinksValid();else{var n=a["default"].classes.hideState;C["default"].AddClass(e,n);y["default"].Subscribe(a["default"].events.termNavFinishedInitializing,(function(){C["default"].RemoveClass(e,n);t.AreNextOrPreviousLinksValid()}))}},IsBestPortionNavigationEnabled:function(){if(b["default"].IsBestPortionNavigationEnabled&&re["default"].ViewData)return re["default"].ViewData.EnableBestPortion;return!1},WrapFragments:function(e,t,n){for(var i=null,a=0;a<e.length;a++){i=e[a].id;if(!document.getElementById(`${i}_wrapper`)){var o=document.createElement("div");o.classList.add("co_absolute");var r=document.createElement("div");r.id=i+"_wrapper";r.className=t;var s=document.createElement("span");s.id=i+"_arrow";s.className=n;s.innerHTML="&nbsp;";o.append(r,s);document.getElementById(i)?.before(o);ne.A.ResizeWrapper(i)}}},SendSearchSelectedEvent:function(e){e||y["default"].Publish(a["default"].events.SearchSelectedEvent)},SendBestPortionSelectedEvent:function(){var e="",t="";if(re["default"].documentData){e=re["default"].documentData.ContentType;t=re["default"].documentData.SubContentType}var n=a["default"].events.BestPortionSelectedEvent,i={docContentType:e,docSubContentType:t};(0,ae.postUXEvent)(n,i)},SendOverrulingRiskSelectedEvent:function(){var e="",t="";if(re["default"].documentData){e=re["default"].documentData.ContentType;t=re["default"].documentData.SubContentType}var n=a["default"].events.OverrulingRiskSelectedEvent,i={docContentType:e,docSubContentType:t};(0,ae.postUXEvent)(n,i)},SendHideSearchSelectedEvent:function(e){e||y["default"].Publish(a["default"].events.HideSearchSelectedEvent)},IsTermNavigationHidden:function(){return this.termNavigation.searchPreference===a["default"].prefs.hideSearchTerms},GetTermNavigationItemsHtml:function(e){var t=this.GetDocumentNavigationItemsTemplateParams(e);return A().template('<% if (isSearchWithinDocument) { %>\n<li><a class="<%= classes.termNavAllTerm %>" role="button" href="javascript:void(0)"> <%- allTermsText %> </a></li>\n<% } %> <% if (!suppressListItemForRA) { %>\n<li>\n    <a class="<%= classes.termNavSearchTerm %>" role="button" href="javascript:void(0);">\n        <% if (searchQuery) { %> <%- searchQuery %> <% } else { %> <%- highlightedTerms %> <% } %>\n    </a>\n</li>\n<% } %> <% if (isSearchWithinDocument) { %>\n<li><a class="<%= classes.termNavFindTerm %>" role="button" href="javascript:void(0);"> <%- searchWithinQuery %> </a></li>\n<% } %> <% if (searchQueryType === searchQueryTypes.naturalLanguage && !isSearchWithinDocument && isBestPortion) { %>\n<li><a class="<%= classes.termNavBestPortion %>" role="button" href="javascript:void(0);"> <%- bestPortionText %> </a></li>\n<% } %> <% if (isOverrulingRisk) { %>\n<li><a class="<%= classes.termNavOverrulingRisk %>" role="button" href="javascript:void(0);"> <%- overrulingRiskText %> </a></li>\n<% } %>\n<li>\n    <a class="<%= classes.termNavHideHighlighting %>" role="button" href="javascript:void(0);"> <%- texts.hideHighlighting %> </a>\n</li>')(t)},GetSpecificTermNavigationItemsHtml:function(){var e=this.GetSpecificDocumentNavigationItemsTemplateParams();return A().template('<li><a class="<%= classes.termNavOverrulingRisk %>" href="javascript:void(0);"> <%- overrulingRiskText %> </a></li>\n<li>\n    <a class="<%= classes.termNavHideHighlighting %>" href="javascript:void(0);"> <%- texts.hideHighlighting %> </a>\n</li>\n')(e)},GetSpecificNavigationPreference:function(){const e=ce["default"].getItem("SpecificTermNavPref");if(null!=e)return e;return this.getDefaultForSpecificNavigationPreference()},SetSpecificNavigationPreference:function(e){ce["default"].setItem("SpecificTermNavPref",e)},focusHighlightShowAllTermOption:function(e){if(this.isA11yTermNavigationDropdown)this.a11yTermNavigationMenu.showHideFocusHighlightAllTerm(e);else{const{termNavAllTerm:t,hideState:n}=a["default"].classes,i=document.querySelector(`.${t}`);e?i?.classList.remove(n):i?.classList.add(n)}},focusHighlightSetNavOptions:function(e){const{focusHighlightingListItem:t}=a["default"].ids,{termNavSearchTerm:n,hideState:i,focusHightlight:o}=a["default"].classes,r=e.filter((e=>e.isSelected)),s=!!r.length;let l;if(this.isA11yTermNavigationDropdown){this.a11yTermNavigationMenu.updateFocusHighlightTermNavOption(s);l=document.querySelectorAll(`span.${a["default"].classes.focusHightlight}`)}else{l=document.querySelectorAll(`li > .${o}`);document.getElementById(t)?.classList.toggle(i,!s);document.querySelectorAll(`.${n}`).forEach((e=>{e.classList.toggle(i,s)}))}l.forEach((e=>{e.innerHTML=A().template('<% _.each(selectedTerms, function(term) { %>\n    <div class="co_searchTerm <%- term.color %>"><%- term.text %></div>\n<% }); %>')({selectedTerms:r})}))},focusHighlightSetCurrentTermNavOption:function(e,t,n){this.navigationPreferences={className:e,text:t,prefs:n};this.termNavigation.searchPreference=n;if(this.isA11yTermNavigationDropdown){const t=this.a11yTermNavigationMenu.menuOpts.items.findIndex((t=>t.textClass===e));t>=0&&this.a11yTermNavigationMenu.selectItemByIndex(t)}else{const{searchTermNavigationText:n,termNavigationWidgetDropDownBox:i}=a["default"].ids,o=document.getElementById(n);(o??{}).className=e;(o??{}).textContent=t;const r=a["default"].classes.selected,s=ee()(`#${i}`);s.find(`li.${r}`).children().removeAttr("aria-pressed");s.find(`li.${r}`).removeClass(r);s.find(`li > .${e}`).parent().addClass(r);s.find(`li > .${e}`).attr("aria-pressed",!0)}},isFocusHighlightSelectedTermsActive:function(){if(this.isA11yTermNavigationDropdown){const e=this.a11yTermNavigationMenu.menu.getFirstSelectedItem()?.[0];return e?.id===a["default"].ids.focusHighlightingListItem}return document.getElementById(a["default"].ids.searchTermNavigationText)?.classList.contains(a["default"].classes.focusHightlight)},_getTruncateSearchQuery:function(e){if((0,he.isSearch4KAvailable)())return fe["default"].truncateSearchQueryToSpecificLimit(e,ie["default"].results.termNavTruncation.maxQueryLength,ie["default"].results.termNavTruncation.beginningQueryLimit,ie["default"].results.termNavTruncation.endingQueryLimit,ie["default"].results.termNavTruncation.characterThreshold);return e},isSpecificNavigationPreference:function(){return!this.IsTermNavigationValid()},isSpecificNavigationValue:function(){return this.IsBestPortionNavigationEnabled()||ne.A.IsOverrulingRiskEnabled()||ne.A.IsPartialOverrulingEnabled()||this.docNavigation.highlightedTerms?.length},getClassByPref:function(e){switch(e){case a["default"].prefs.bestPortionTerms:return a["default"].classes.termNavBestPortion;case a["default"].prefs.overrulingRiskTerms:return a["default"].classes.termNavOverrulingRisk;case a["default"].prefs.partiallyOverruledTerms:return a["default"].classes.termNavPartiallyOverruled;case a["default"].prefs.searchTermsOnly:return a["default"].classes.termNavSearchTerm;case a["default"].prefs.searchWithinTermsOnly:return a["default"].classes.termNavFindTerm;case a["default"].prefs.hideSearchTerms:return a["default"].classes.termNavHideHighlighting;case a["default"].prefs.userHighlightTerms:return a["default"].classes.userHighlight;default:return a["default"].classes.termNavAllTerm}},
getDefaultForSpecificNavigationPreference:function(){return a["default"].prefs.overrulingRiskTerms},getSnippetAnchorClass:function(){return a["default"].classes.locateSnippet}});var $e=je.prototype.CheckForNextPreviousLinks;je.prototype.CheckForNextPreviousLinks=function(e){var t=!1;re["default"].documentData&&re["default"].documentData.metaInformation&&re["default"].documentData.metaInformation.isLargeDocument&&(t=re["default"].documentData.metaInformation.isLargeDocument);if(!t)return $e.call(this,e);this.AreNextOrPreviousLinksValid()};je.prototype.ShouldAddSearchNavigationPreferences=function(){return b["default"].isFeatureSupported("HideSearchTermHighlightingPreference")&&J["default"].Get("Website","HideSearchTermHighlighting")};const Ve=je;var qe=n(4377);const ze=function(){var e=this;this.documentDisplay=null;this.parentObject=null;this.Name="SearchWithinDocument";this.Id=a["default"].ids.docToolbarSearchWithinDocument;this.childWidget=null;this.hideRecentSearches=!1;this.SetParentDiv=function(t){e.parentObject=t};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.Hide=function(){e.childWidget.CloseWidgetDisplay()};this.Show=function(){e.childWidget.ToggleWidgetDisplay()};this.OpenInResponsiveMode=function(){e.childWidget.OpenInResponsiveMode()};this.Disable=function(){e.childWidget.Disable()};this.Draw=function(){var t=oe["default"].GetObject(a["default"].objectIds.widget$SearchWithinDocument,[{Val:e.documentDisplay}]);t.SetParentDiv(e.parentObject);t.SetHideRecentSearches(e.hideRecentSearches);t.SetTooltipOptions({position:"left"});t.Draw();e.childWidget=t};this.SetHideRecentSearches=function(t){e.hideRecentSearches=t}};var Ke=n(692),Ye=n(7571),Qe=n(5024);const Xe=v().extend({counter:0,init:function(){y["default"].Subscribe("Cobalt.Document.Section.Expand",((e,t)=>{this.expandAndScrollTo(t)}));y["default"].Subscribe("Cobalt.Document.HiddenNotes.Maximize",((e,t)=>{this.expandAndScrollTo(t)}))},SetupDocketSections:function(){var e,t,n=this,i=document.getElementById(a["default"].ids.document),o=this.findSections(i),r=this.findSubSections(i),s=a["default"].texts.expandAll;if(!document.querySelector(`div .${a["default"].classes.dockets}`))return;for(e=0;e<o.length;e++){t=o[e].element;S["default"].AttachClickHandler(t,(function(e){n.toggleSection(e)}));t.appendChild(document.createTextNode(s))}if(r&&r.length>0){n.setupSubSections(r);n.setupSubSectionCollapsedState(i)}},findSections:function(e){return S["default"].GetElementsByClassName(a["default"].classes.widgetToggleText,"a",e)},findSubSections:function(e){return S["default"].GetElementsByClassName(a["default"].classes.widgetToggleIcon,"a",e)},setupSubSections:function(e){this.processArray(e,this.setupSubSection,(function(){}))},setupSubSection:function(e){this.attachSubSectionEventHandlers(e);this.attachSubSectionCollapseMarkers(e)},attachSubSectionCollapseMarkers:function(e){C["default"].AddClass(e.element.parentElement.parentElement,"collapseMarker_"+this.counter++)},attachSubSectionEventHandlers:function(e){S["default"].AttachClickHandler(e.element,(e=>this.toggleSubSection(e)))},setupSubSectionCollapsedState:function(e){var t=S["default"].GetElementsByClassName(a["default"].classes.docketsSubSection,"div",e);this.processArray(t,this.collapseSubSection,(function(){}))},collapseSubSection:function(e){this.subSectionContainsSearchTerms(e.element)||C["default"].HasClass(e.element,a["default"].classes.sectionInitiallyExpanded)||C["default"].AddClass(e.element,a["default"].classes.sectionCollapsed);this.UpdateToggleText(e.element)},expandSubSection:function(e){C["default"].RemoveClass(e,a["default"].classes.sectionCollapsed);this.UpdateToggleText(e)},processArray:function(e,t,n){var i=e.concat(),a=this;if(0===i.length)return;var o=function(){var r=+new Date;do{t.call(a,i.shift())}while(i.length>0&&+new Date-r<100);i.length>0?S["default"].SetTimeout(o,25):n(e)};S["default"].SetTimeout(o,25)},toggleSection:function(e){if(void 0===e||null==e)return;var t=a["default"].texts,n=a["default"].classes,i=S["default"].getEventSourceElement(e);if(void 0===i||null==i)return;ee()(i).is("span")&&(i=i.parentNode.closest("a"));var o,r,s,l=i.textContent===t.expandAll;(r=S["default"].GetAncestorOrSelfElement(i,"div",n.docketsSection))||(r=document.getElementById(a["default"].ids.document));if((s=S["default"].GetElementsByClassName(a["default"].classes.docketsSubSection,"div",r))&&s.length)for(o=0;o<s.length;o++)l?C["default"].RemoveClass(s[o].element,n.sectionCollapsed):C["default"].AddClass(s[o].element,n.sectionCollapsed);[...i.childNodes].filter((function(e){return 3==e.nodeType})).forEach((e=>e.replaceWith(l?t.collapseAll:t.expandAll)));this.sectionToggled(r);y["default"].Publish(a["default"].events.documentMayHaveChangedSize,new Qe["default"]({}))},sectionToggled:function(){},toggleSubSection:function(e){var t=S["default"].getEventSourceElement(e);if(!t)return;let n=t.closest("h3.co_docketSubHeading");if(!n){n=t.closest("h2.co_docketsHeading");if(!n)return}var i=n.parentNode;if(i){i.classList.toggle(a["default"].classes.sectionCollapsed);this.UpdateToggleText(i);this.subSectionToggled(i);y["default"].Publish(a["default"].events.documentMayHaveChangedSize,new Qe["default"]({}))}},subSectionToggled:function(e){var t=ee()(e).find("table");if(0===t.length||""===t.html()||""===t.find("tbody").html()){var n=x["default"].lookup("SC.Document.DocketSection.NoInformation","No information available.");e.insertAdjacentHTML("beforeend",'<table><tr><td class="co_docketsRow"><em>'+n+"</em></td></tr></table>")}},UpdateToggleText:function(e){var t=this.countSiblingExpandedCollapsedSubSections(e,a["default"].classes.docketsSubSection,a["default"].classes.sectionCollapsed);if(t.headerElement){var n=a["default"].texts,i=ee()(t.headerElement).children("a");if(i&&i.hasClass(a["default"].classes.widgetToggleText)){var o=t.countExpanded==t.countTotal?n.collapseAll:n.expandAll;[...i[0].childNodes].filter((function(e){return 3==e.nodeType})).forEach((e=>e.replaceWith(o)))}}},countSiblingExpandedCollapsedSubSections:function(e,t,n){var i={countExpanded:0,countCollapsed:0,countTotal:0,headerElement:null};e.className.indexOf(n)>-1?i.countCollapsed++:i.countExpanded++;i.countTotal++;for(var a=e.nextSibling;a&&(1==a.nodeType&&a.className.indexOf(t)>-1);a=a.nextSibling){a.className.indexOf(n)>-1?i.countCollapsed++:i.countExpanded++;i.countTotal++}a=e.previousSibling;for(;a;a=a.previousSibling){if(!(1==a.nodeType&&a.className.indexOf(t)>-1)){i.headerElement=a;break}a.className.indexOf(n)>-1?i.countCollapsed++:i.countExpanded++;i.countTotal++}return i},subSectionContainsSearchTerms:function(e){if(null!=e){var t="span."+a["default"].classes.searchTerm+", span."+a["default"].classes.searchWithinTerm;return ee()(e).find(t).length>0}return!1},expandAndScrollTo:function(e){const t=document.querySelector(`.${e.Data.expandData.className}`);this.expandSubSection(t);e.Data.scrollLocation&&y["default"].Publish("Cobalt.Document.ScrollToHighlightedText",new Qe["default"]({scrollLocation:e.Data.scrollLocation}))}});const Je=v().extend({parentObject:null,container:null,content:null,detailBlockItem:null,SetParentDiv:function(e){this.parentObject=e},Draw:function(){var e=this;e.createDetailBlockItem();if(e.detailBlockItem){e.container=document.createElement("div");e.container.className=a["default"].classes.genericBox+" "+a["default"].classes.topicContainer;var t=document.createElement("div");t.className=a["default"].classes.genericBoxHeader;t.innerHTML="&nbsp;";e.container.appendChild(t);var n=document.createElement("div");n.className=a["default"].classes.genericBoxContent;n.appendChild(e.detailBlockItem);e.container.appendChild(n);var i=document.createElement("div");i.className=a["default"].classes.genericBoxFooter;e.container.appendChild(i);e.parentObject.appendChild(e.container)}},createDetailBlockItem:function(){var e=document.getElementById(a["default"].ids.detailBlockWidget);if(e){this.detailBlockItem=e;e.parentNode.removeChild(e);C["default"].RemoveClass(this.detailBlockItem,a["default"].classes.hideState)}}});var Ze=n(9101);var et=n(1574);const tt=new(n(4208)["default"])(i["default"].registrations)
;tt.Register(a["default"].objectIds.documentDisplayEventHandlers,{Type:r["default"],Singleton:!1});tt.Register(a["default"].objectIds.provider,{Type:s["default"],Singleton:!1});tt.Register(o.A.objectIds.ProviderContentData,{Type:l.A,Singleton:!1});tt.Register(a["default"].objectIds.draggable,{Type:c["default"],Singleton:!0});tt.Register(a["default"].objectIds.userDocument$Provider,{Type:f,Singleton:!1});tt.Register(a["default"].objectIds.widget$SpeedRead,{Type:Ye["default"],Singleton:!1});tt.Register(a["default"].objectIds.widget$BackToResults,{Type:p.A,Singleton:!1});tt.Register(a["default"].objectIds.widget$DocumentTools,{Type:m.A,Singleton:!1});tt.Register(a["default"].objectIds.widget$GoTo,{Type:P,Singleton:!1});tt.Register(a["default"].objectIds.widget$SelectedTextMenu,{Type:O["default"],Singleton:!0});tt.Register(a["default"].objectIds.widget$KeyCiteAlert,{Type:Q,Singleton:!1});tt.Register(a["default"].objectIds.TermNavigation,{Type:X.A,Singleton:!1});tt.Register(a["default"].objectIds.widget$TermNavigation,{Type:Ve,Singleton:!1});tt.Register(a["default"].objectIds.widget$ToolbarTermNavigation,{Type:qe.A,Singleton:!1});tt.Register(a["default"].objectIds.widget$ToolbarSearchWithinDocument,{Type:ze,Singleton:!1});tt.Register(a["default"].objectIds.widget$SearchWithinDocument,{Type:Ke["default"],Singleton:!1});tt.Register(a["default"].objectIds.docketSections,{Type:Xe,Singleton:!1});tt.Register(a["default"].objectIds.widget$DetailsBox,{Type:Je,Singleton:!1});tt.Register(a["default"].objectIds.widget$ToolbarAddNote,{Type:function(){var e=this;this.documentDisplay=null;this.Name="AddNote";this.Id=a["default"].ids.docToolbarAddNoteWidget;this.noteMenu=new Ze["default"];this.SetParentDiv=function(t){e.noteMenu.SetParent(t)};this.SetDocumentDisplay=function(t){e.documentDisplay=t};this.SetDocumentGuid=function(t){e.noteMenu.SetDocumentGuid(t)};this.Draw=function(){var t=e.documentDisplay.DomId,n=document.getElementById(t);e.noteMenu.SetAnnotationsContainer(n);e.noteMenu.Draw()}},Singleton:!1});tt.Register(a["default"].objectIds.widget$FullToc,{Type:et.A,Singleton:!1});const nt=tt},6494:(e,t,n)=>{e.exports=n(4507)(7058)},6500:(e,t,n)=>{e.exports=n(4507)(28415)},6519:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var i=n(846),a=n(8326),o=n(3839),r={AdditionalParams:{WARN:"Warning",BLOCK:"Block",NONE:"None"},getAccessControlsForAlertTypes:function(){var e=a["default"].AlertTypeData,t=a["default"].DisplayOrder||[],n=[];t.forEach((t=>{e.hasOwnProperty(t)&&o["default"].isFeatureEnabled(e[t].AccessControl)&&r.IsSupportedAlertType(t)&&n.push(t)}));return n},getAccessControlsForAlertType:function(e){var t=a["default"].AlertTypeData;if(t.hasOwnProperty(e))return o["default"].isFeatureEnabled(t[e].AccessControl)&&!r.isAlertTypeDisabledByIac(e);return!1},getAccessControlsForReports:function(){var e=a["default"].DisplayOrder||[],t=[];e.forEach((e=>{r.getAccessControlsForAlertType(e)&&"Report"===a["default"].AlertTypeData[e].ContentName&&t.push(e)}));return t},getFrequencyAccessControlsByType:function(e){var t=a["default"].AlertTypeData[e].AccessControl,n=!1,s=i["default"].isNewsletter(e);n=i["default"].isWestClip(e)?o["default"].isFeatureEnabled(`${t} DLY WKDY SINGLE`)||o["default"].isFeatureEnabled(`${t} DLY WKDY MULT`):o["default"].isFeatureEnabled(`${t} DLY WKDY`);var l=null;return l=i["default"].isPublicationAlert(e)?r.frequencyForPublicationAlert():{continuous:o["default"].isFeatureEnabled(`${t} CONTINUOUS`),daily:s||n,weekdays:s||n,weekly:s||o["default"].isFeatureEnabled(`${t} WEEKLY`),biweekly:s||o["default"].isFeatureEnabled(`${t} BIWEEKLY`),monthly:s||o["default"].isFeatureEnabled(`${t} MONTHLY`)}},getMultiHourAccessControlsByType:function(e){var t=a["default"].AlertTypeData[e].AccessControl;return{daily:o["default"].isFeatureEnabled(`${t} DLY WKDY MULT`),weekdays:o["default"].isFeatureEnabled(`${t} DLY WKDY MULT`)}},IsSupportedAlertType:function(e){if(o["default"].SupportedAlertTypes)for(var t=0;t<o["default"].SupportedAlertTypes.length;t++)if(o["default"].SupportedAlertTypes[t]===e){if(r.isAlertTypeDisabledByIac(e)||r.isAlertTypeDisabledByProductSetting(e))continue;return!0}return!1},isAlertTypeDisabledByIac:function(e){var t=r.getAlertTypeIacSettings(e);return t.iacEnabled&&!t.iacOn},isAlertTypeDisabledByProductSetting:function(e){return a["default"].AlertTypeData[e].IsDisabledByProductSetting},getAlertTypeIacSettings:function(e){var t=a["default"].AlertTypeData[e].Iac;return{iac:t,iacOn:o["default"].isIacOn(t),iacEnabled:!!t}},frequencyForPublicationAlert:function(){return{continuous:!1,daily:!0,weekdays:!0,weekly:!0,biweekly:!0,monthly:!0}},hasAccessToAlertGroups:function(){return r.hasAccessToDataRoomAlerts()},hasAccessToDataRoomAlerts:function(){return o["default"].EnableDataRoomAlerts},hasAccessToAlertsEnhanced:function(){return o["default"].isFeatureEnabled("ALERTS ENHANCED")}};const s=r},6611:(e,t,n)=>{e.exports=n(4507)(26993)},6669:(e,t,n)=>{e.exports=n(4507)(71605)},6724:(e,t,n)=>{e.exports=n(4507)(91648)},6790:(e,t,n)=>{e.exports=n(4507)(30463)},6846:(e,t,n)=>{e.exports=n(4507)(37488)},6912:(e,t,n)=>{e.exports=n(4507)(48475)},7018:(e,t,n)=>{e.exports=n(8846)(4159)},7022:(e,t,n)=>{e.exports=n(4507)(75020)},7079:(e,t,n)=>{e.exports=n(4507)(19757)},7114:e=>{"use strict";e.exports='\x3c!--\n @file Calendar Navigation template\n--\x3e\n<div class="co_calendar">\n    <h3 class="co_calendar_title" id="calendarTitle"><%- model.title %></h3>\n    <span id="coid_selectedMonth" aria-live="polite" class="is-visually-hidden"></span>\n    <div id="<%- model.calendarNavSelector %>">\n        <div class="co_calendar-monthNavigation">\n            <button aria-label="<%- model.previousMonthLabel %>" class="navigation navigation-previous">&lt;</button>\n            <button aria-label="<%- model.nextMonthLabel %>" class="navigation navigation-next">&gt;</button>\n        </div>\n    </div>\n    <div id="<%- model.calendarContainerSelector %>"></div>\n</div>'},7185:(e,t,n)=>{e.exports=n(4507)(9970)},7235:(e,t,n)=>{e.exports=n(4507)(37490)},7249:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var i=n(3434),a=n(8660),o=n(2748),r=n(6306),s=n(6094);function l(){r["default"].call(this)}l.prototype=new r["default"];l.prototype.constructor=l;l.prototype.submitWebRequest=function(e){e.getCategory();var t=new s.A;t.addParameter("docGuid",e.getDocumentGuid());t.addParameter("category",e.getCategory());t.addParameter("pageNumber",e.getPageNumber());t.addParameter("pageSize",e.getPageSize());t.addParameter("title",e.getTitleText());t.addParameter("cite",e.getCite());t.addParameter("sortType",e.getSortType());t.addParameter("sortOrder",e.getSortOrder());t.addParameter("facetGuid",e.getFacetGuid());t.addParameter("formFamilyGuid",e.getFormFamilyGuid());t.addParameter("detailLevel",e.getDetailLevel());t.addParameter("warningFlag",e.getWarningFlag());t.addParameter("planIcons",e.getPlanIcons());t.addParameter("contextData",e.getContextData());t.addParameter("docSource",e.getDocSource());t.addParameter("rank",e.getRank());t.addParameter("showSkipOutOfPlan",e.getSkipOutOfPlan());t.addParameter("sessionScopeId",o["default"].SessionScope);e.getExcludeNodBodyTopNav()&&t.addParameter("excludeNodBody",e.getExcludeNodBodyTopNav());e.getDocumentCollection()&&t.addParameter("collection",e.getDocumentCollection());var n=t.buildParametersString();return new a["default"](i["default"].RelatedInfo,"RelatedInfo/v4/gathercontent",{timeout:5e3,headers:{Accept:"application/json"}}).Post(n)};const c=new l},7259:(e,t,n)=>{e.exports=n(4507)(15087)},7270:(e,t,n)=>{"use strict";n.d(t,{V:()=>f});var i=n(4383),a=n(3434),o=n(8660),r=n(966),s=n(8854),l=n(1948),c=n(3903),d=n(6306),u=n(9912);function h(){d["default"].call(this)}h.prototype=new d["default"];h.prototype.constructor=h;h.prototype.submitWebRequest=function(e){var t,n=(new l["default"]).createSelectedTopicsInPlanPrefsParameter(),d=function(){var t;if(!c["default"].isNotNullOrUndefined(e.getDocumentGuid())){(0,s.publishErrorMessage)(a["default"].RelatedInfo,u["default"].lookup("SC.Website.GeneralErrorMessage","Sorry, there was an error on this page."));throw new Error("docGuid or folderId parameter required")}t+="&docGuid="+e.getDocumentGuid()
;null!=e.getJurisdiction()&&(t+="&topicJuris="+e.getJurisdiction());null!=e.getDocSource()&&(t+="&docSource="+e.getDocSource());t+="&transitionType=RelatedTopics";t+="&contextData="+i["default"].PageContextData;null!=e.getRank()&&(t+="&rank="+e.getRank());if(null!=n){t+="&warningFlag="+r["default"].Get("SAP","WARNING FLAG");t+="&planIcons="+r["default"].Get("SAP","PLAN ICONS");t+="&skipOutOfPlan="+r["default"].Get("SAP","SKIP OUT OF PLAN");t+="&inPlanPreferences="+encodeURIComponent(n)}t+="&topicCount="+e.getTopicCount();return t+="&isSelectedTopic=true"};if(c["default"].docLevelRecommendationFeatureEnabled()){t="/RelatedInfo/v1/riTopics/docList?oc=alltopicstopnav";t+=d()}else{t="/RelatedInfo/v1/riTopics/topicList?oc=alltopicstopnav";t+=d();if(e.isLight())t+="&load=light&docCount=0";else{t+="&load=full";null!=e.getDocCount()&&(t+="&docCount="+e.getDocCount())}null!=e.getWarningFlag()&&(t+="&warningFlag="+e.getWarningFlag());null!=e.getPlanIcons()&&(t+="&planIcons="+e.getPlanIcons());null!=e.getGlobalJurisdiction()&&(t+="&globalJurisdiction="+e.getGlobalJurisdiction());null!=e.getDocumentCollection()&&(t+="&documentCollection="+e.getDocumentCollection())}return new o["default"](a["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};const f=new h},7271:(e,t,n)=>{e.exports=n(4507)(74129)},7278:(e,t,n)=>{e.exports=n(4507)(12845)},7378:(e,t,n)=>{n(5853),function(e,t){e.extend(e.ui,{datepicker:{version:"1.10.3"}});var n,i="datepicker";function a(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._datepickerShowing=!1;this._inDialog=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};e.extend(this._defaults,this.regional[""]);this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}e.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){r(this._defaults,e||{});return this},_attachDatepicker:function(t,n){var i,a,o;a="div"===(i=t.nodeName.toLowerCase())||"span"===i;if(!t.id){this.uuid+=1;t.id="dp"+this.uuid}(o=this._newInst(e(t),a)).settings=e.extend({},n||{});"input"===i?this._connectDatepicker(t,o):a&&this._inlineDatepicker(t,o)},_newInst:function(t,n){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var a=e(t);n.append=e([]);n.trigger=e([]);if(a.hasClass(this.markerClassName))return;this._attachments(a,n);a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp);this._autoSize(n);e.data(t,i,n);n.settings.disabled&&this._disableDatepicker(t)},_attachments:function(t,n){var i,a,o,r=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove();if(r){n.append=e("<span class='"+this._appendClass+"'>"+r+"</span>");t[s?"before":"after"](n.append)}t.unbind("focus",this._showDatepicker);n.trigger&&n.trigger.remove();"focus"!==(i=this._get(n,"showOn"))&&"both"!==i||t.focus(this._showDatepicker);if("button"===i||"both"===i){a=this._get(n,"buttonText");o=this._get(n,"buttonImage");n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:a,title:a}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:a,title:a}):a));t[s?"before":"after"](n.trigger);n.trigger.click((function(){if(e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0])e.datepicker._hideDatepicker();else if(e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]){e.datepicker._hideDatepicker();e.datepicker._showDatepicker(t[0])}else e.datepicker._showDatepicker(t[0]);return!1}))}},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,a,o=new Date(2009,11,20),r=this._get(e,"dateFormat");if(r.match(/[DM]/)){t=function(e){n=0;i=0;for(a=0;a<e.length;a++)if(e[a].length>n){n=e[a].length;i=a}return i};o.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort")));o.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())}e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var a=e(t);if(a.hasClass(this.markerClassName))return;a.addClass(this.markerClassName).append(n.dpDiv);e.data(t,i,n);this._setDate(n,this._getDefaultDate(n),!0);this._updateDatepicker(n);this._updateAlternate(n);n.settings.disabled&&this._disableDatepicker(t);n.dpDiv.css("display","block")},_dialogDatepicker:function(t,n,a,o,s){var l,c,d,u,h,f=this._dialogInst;if(!f){this.uuid+=1;l="dp"+this.uuid;this._dialogInput=e("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>");this._dialogInput.keydown(this._doKeyDown);e("body").append(this._dialogInput);(f=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={};e.data(this._dialogInput[0],i,f)}r(f.settings,o||{});n=n&&n.constructor===Date?this._formatDate(f,n):n;this._dialogInput.val(n);this._pos=s?s.length?s:[s.pageX,s.pageY]:null;if(!this._pos){c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;u=document.documentElement.scrollLeft||document.body.scrollLeft;h=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[c/2-100+u,d/2-150+h]}this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");f.settings.onSelect=a;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);e.blockUI&&e.blockUI(this.dpDiv);e.data(this._dialogInput[0],i,f);return this},_destroyDatepicker:function(t){var n,a=e(t),o=e.data(t,i);if(!a.hasClass(this.markerClassName))return;n=t.nodeName.toLowerCase();e.removeData(t,i);if("input"===n){o.append.remove();o.trigger.remove();a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else"div"!==n&&"span"!==n||a.removeClass(this.markerClassName).empty()},_enableDatepicker:function(t){var n,a,o=e(t),r=e.data(t,i);if(!o.hasClass(this.markerClassName))return;if("input"===(n=t.nodeName.toLowerCase())){t.disabled=!1;r.trigger.filter("button").each((function(){this.disabled=!1})).end().filter("img").css({opacity:"1.0",cursor:""})}else if("div"===n||"span"===n){
(a=o.children("."+this._inlineClass)).children().removeClass("ui-state-disabled");a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)}this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,a,o=e(t),r=e.data(t,i);if(!o.hasClass(this.markerClassName))return;if("input"===(n=t.nodeName.toLowerCase())){t.disabled=!0;r.trigger.filter("button").each((function(){this.disabled=!0})).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if("div"===n||"span"===n){(a=o.children("."+this._inlineClass)).children().addClass("ui-state-disabled");a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)}this._disabledInputs=e.map(this._disabledInputs,(function(e){return e===t?null:e}));this._disabledInputs[this._disabledInputs.length]=t},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,i)}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,a){var o,s,l,c,d=this._getInst(n);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?e.extend({},e.datepicker._defaults):d?"all"===i?e.extend({},d.settings):this._get(d,i):null;o=i||{};"string"==typeof i&&((o={})[i]=a);if(d){this._curInst===d&&this._hideDatepicker();s=this._getDateDatepicker(n,!0);l=this._getMinMaxDate(d,"min");c=this._getMinMaxDate(d,"max");r(d.settings,o);null!==l&&o.dateFormat!==t&&o.minDate===t&&(d.settings.minDate=this._formatDate(d,l));null!==c&&o.dateFormat!==t&&o.maxDate===t&&(d.settings.maxDate=this._formatDate(d,c));"disabled"in o&&(o.disabled?this._disableDatepicker(n):this._enableDatepicker(n));this._attachments(e(n),d);this._autoSize(d);this._setDate(d,s);this._updateAlternate(d);this._updateDatepicker(d)}},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);if(n){this._setDate(n,t);this._updateDatepicker(n);this._updateAlternate(n)}},_getDateDatepicker:function(e,t){var n=this._getInst(e);n&&!n.inline&&this._setDateFromField(n,t);return n?this._getDate(n):null},_doKeyDown:function(t){var n,i,a,o=e.datepicker._getInst(t.target),r=!0,s=o.dpDiv.is(".ui-datepicker-rtl");o._keyEvent=!0;if(e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker();r=!1;break;case 13:(a=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv))[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,a[0]);if(n=e.datepicker._get(o,"onSelect")){i=e.datepicker._formatDate(o);n.apply(o.input?o.input[0]:null,[i,o])}else e.datepicker._hideDatepicker();return!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target);r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target);r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D");r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D");r=t.ctrlKey||t.metaKey;t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D");r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;if(r){t.preventDefault();t.stopPropagation()}},_doKeyPress:function(t){var n,i,a=e.datepicker._getInst(t.target);if(e.datepicker._get(a,"constrainInput")){n=e.datepicker._possibleChars(e.datepicker._get(a,"dateFormat"));i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode);return t.ctrlKey||t.metaKey||i<" "||!n||n.indexOf(i)>-1}},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{if(n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i))){e.datepicker._setDateFromField(i);e.datepicker._updateAlternate(i);e.datepicker._updateDatepicker(i)}}catch(e){}return!0},_showDatepicker:function(t){"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]);if(e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)return;var n,i,a,o,s,l,c;n=e.datepicker._getInst(t);if(e.datepicker._curInst&&e.datepicker._curInst!==n){e.datepicker._curInst.dpDiv.stop(!0,!0);n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])}if(!1===(a=(i=e.datepicker._get(n,"beforeShow"))?i.apply(t,[t,n]):{}))return;r(n.settings,a);n.lastVal=null;e.datepicker._lastInput=t;e.datepicker._setDateFromField(n);e.datepicker._inDialog&&(t.value="");if(!e.datepicker._pos){e.datepicker._pos=e.datepicker._findPos(t);e.datepicker._pos[1]+=t.offsetHeight}o=!1;e(t).parents().each((function(){return!(o|="fixed"===e(this).css("position"))}));s={left:e.datepicker._pos[0],top:e.datepicker._pos[1]};e.datepicker._pos=null;n.dpDiv.empty();n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});e.datepicker._updateDatepicker(n);s=e.datepicker._checkOffset(n,s,o);n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:s.left+"px",top:s.top+"px"});if(!n.inline){l=e.datepicker._get(n,"showAnim");c=e.datepicker._get(n,"duration");n.dpDiv.zIndex(e(t).zIndex()+1);e.datepicker._datepickerShowing=!0;e.effects&&e.effects.effect[l]?n.dpDiv.show(l,e.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null);e.datepicker._shouldFocusInput(n)&&n.input.focus();e.datepicker._curInst=n}},_updateDatepicker:function(t){this.maxRows=4;n=t;t.dpDiv.empty().append(this._generateHTML(t));this._attachHandlers(t);t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),o=a[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");o>1&&t.dpDiv.addClass("ui-datepicker-multi-"+o).css("width",17*o+"em");t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi");t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus();if(t.yearshtml){i=t.yearshtml;setTimeout((function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml);i=t.yearshtml=null}),0)}},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var a=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());n.left-=this._get(t,"isRTL")?a-r:0;n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0;n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0;n.left-=Math.min(n.left,n.left+a>l&&l>a?Math.abs(n.left+a-l):0);n.top-=Math.min(n.top,n.top+o>c&&c>o?Math.abs(o+s):0);return n},_findPos:function(t){for(var n,i=this._getInst(t),a=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[a?"previousSibling":"nextSibling"];return[(n=e(t).offset()).left,n.top]},_hideDatepicker:function(t){var n,a,o,r,s=this._curInst
;if(!s||t&&s!==e.data(t,i))return;if(this._datepickerShowing){n=this._get(s,"showAnim");a=this._get(s,"duration");o=function(){e.datepicker._tidyDialog(s)};e.effects&&(e.effects.effect[n]||e.effects[n])?s.dpDiv.hide(n,e.datepicker._get(s,"showOptions"),a,o):s.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?a:null,o);n||o();this._datepickerShowing=!1;(r=this._get(s,"onClose"))&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]);this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(e.blockUI){e.unblockUI();e("body").append(this.dpDiv)}}this._inDialog=!1}},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(!e.datepicker._curInst)return;var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id===e.datepicker._mainDivId||0!==n.parents("#"+e.datepicker._mainDivId).length||n.hasClass(e.datepicker.markerClassName)||n.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!n.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()},_adjustDate:function(t,n,i){var a=e(t),o=this._getInst(a[0]);if(this._isDisabledDatepicker(a[0]))return;this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i);this._updateDatepicker(o)},_gotoToday:function(t){var n,i=e(t),a=this._getInst(i[0]);if(this._get(a,"gotoCurrent")&&a.currentDay){a.selectedDay=a.currentDay;a.drawMonth=a.selectedMonth=a.currentMonth;a.drawYear=a.selectedYear=a.currentYear}else{n=new Date;a.selectedDay=n.getDate();a.drawMonth=a.selectedMonth=n.getMonth();a.drawYear=a.selectedYear=n.getFullYear()}this._notifyChange(a);this._adjustDate(i)},_selectMonthYear:function(t,n,i){var a=e(t),o=this._getInst(a[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10);this._notifyChange(o);this._adjustDate(a)},_selectDay:function(t,n,i,a){var o,r=e(t);if(e(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0]))return;(o=this._getInst(r[0])).selectedDay=o.currentDay=e("a",a).html();o.selectedMonth=o.currentMonth=n;o.selectedYear=o.currentYear=i;this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,a=e(t),o=this._getInst(a[0]);n=null!=n?n:this._formatDate(o);o.input&&o.input.val(n);this._updateAlternate(o);(i=this._get(o,"onSelect"))?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change");if(o.inline)this._updateDatepicker(o);else{this._hideDatepicker();this._lastInput=o.input[0];"object"!=typeof o.input[0]&&o.input.focus();this._lastInput=null}},_updateAlternate:function(t){var n,i,a,o=this._get(t,"altField");if(o){n=this._get(t,"altFormat")||this._get(t,"dateFormat");i=this._getDate(t);a=this.formatDate(n,i,this._getFormatConfig(t));e(o).each((function(){e(this).val(a)}))}},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());n.setDate(n.getDate()+4-(n.getDay()||7));t=n.getTime();n.setMonth(0);n.setDate(1);return Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(""===(n="object"==typeof n?n.toString():n+""))return null;var a,o,r,s,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,f=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,b=!1,C=function(e){var n=a+1<t.length&&t.charAt(a+1)===e;n&&a++;return n},S=function(e){var t=C(e),i=new RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),a=n.substring(l).match(i);if(!a)throw"Missing number at position "+l;l+=a[0].length;return parseInt(a[0],10)},_=function(t,i,a){var o=-1,r=e.map(C(t)?a:i,(function(e,t){return[[t,e]]})).sort((function(e,t){return-(e[1].length-t[1].length)}));e.each(r,(function(e,t){var i=t[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase()){o=t[0];l+=i.length;return!1}}));if(-1!==o)return o+1;throw"Unknown name at position "+l},D=function(){if(n.charAt(l)!==t.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;a<t.length;a++)if(b)"'"!==t.charAt(a)||C("'")?D():b=!1;else switch(t.charAt(a)){case"d":v=S("d");break;case"D":_("D",u,h);break;case"o":y=S("o");break;case"m":g=S("m");break;case"M":g=_("M",f,p);break;case"y":m=S("y");break;case"@":m=(s=new Date(S("@"))).getFullYear();g=s.getMonth()+1;v=s.getDate();break;case"!":m=(s=new Date((S("!")-this._ticksTo1970)/1e4)).getFullYear();g=s.getMonth()+1;v=s.getDate();break;case"'":C("'")?D():b=!0;break;default:D()}if(l<n.length){r=n.substr(l);if(!/^\s+/.test(r))throw"Extra/unparsed characters found in date: "+r}-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=d?0:-100));if(y>-1){g=1;v=y;for(;!(v<=(o=this._getDaysInMonth(m,g-1)));){g++;v-=o}}if((s=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,n){if(!t)return"";var i,a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,r=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=i+1<e.length&&e.charAt(i+1)===t;n&&i++;return n},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},d=function(e,t,n,i){return l(e)?i[t]:n[t]},u="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),a,o);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),r,s);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,n="",i=!1,a=function(n){var i=t+1<e.length&&e.charAt(t+1)===n;i&&t++;return i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||a("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":a("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,n){return e.settings[n]!==t?e.settings[n]:this._defaults[n]},_setDateFromField:function(e,t){if(e.input.val()===e.lastVal)return;var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,a=this._getDefaultDate(e),o=a,r=this._getFormatConfig(e);try{o=this.parseDate(n,i,r)||a}catch(e){i=t?"":i}e.selectedDay=o.getDate();e.drawMonth=e.selectedMonth=o.getMonth();e.drawYear=e.selectedYear=o.getFullYear();e.currentDay=i?o.getDate():0;e.currentMonth=i?o.getMonth():0;e.currentYear=i?o.getFullYear():0;this._adjustInstDate(e)},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var a=null==n||""===n?i:"string"==typeof n?function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(e){}
for(var i=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,a=i.getFullYear(),o=i.getMonth(),r=i.getDate(),s=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=s.exec(n);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":o+=parseInt(l[1],10);r=Math.min(r,e.datepicker._getDaysInMonth(a,o));break;case"y":case"Y":a+=parseInt(l[1],10);r=Math.min(r,e.datepicker._getDaysInMonth(a,o))}l=s.exec(n)}return new Date(a,o,r)}(n):"number"==typeof n?isNaN(n)?i:function(e){var t=new Date;t.setDate(t.getDate()+e);return t}(n):new Date(n.getTime());if(a=a&&"Invalid Date"===a.toString()?i:a){a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0)}return this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){if(!e)return null;e.setHours(e.getHours()>12?e.getHours()+2:0);return e},_setDate:function(e,t,n){var i=!t,a=e.selectedMonth,o=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate();e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth();e.drawYear=e.selectedYear=e.currentYear=r.getFullYear();a===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e);this._adjustInstDate(e);e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map((function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){e.datepicker._selectMonthYear(i,this,"M");return!1},selectYear:function(){e.datepicker._selectMonthYear(i,this,"Y");return!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])}))},_generateHTML:function(e){var t,n,i,a,o,r,s,l,c,d,u,h,f,p,m,g,v,y,b,C,S,_,D,T,I,x,k,w,E,A,L,N,R,P,O,B,M,F,W,H=new Date,G=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),U=this._get(e,"isRTL"),j=this._get(e,"showButtonPanel"),$=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),z=this._get(e,"showCurrentAtPos"),K=this._get(e,"stepMonths"),Y=1!==q[0]||1!==q[1],Q=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(e,"min"),J=this._getMinMaxDate(e,"max"),Z=e.drawMonth-z,ee=e.drawYear;if(Z<0){Z+=12;ee--}if(J){t=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-q[0]*q[1]+1,J.getDate()));t=X&&t<X?X:t;for(;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)if(--Z<0){Z=11;ee--}}e.drawMonth=Z;e.drawYear=ee;n=this._get(e,"prevText");n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-K,1)),this._getFormatConfig(e)):n;i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"e":"w")+"'>"+n+"</span></a>";a=this._get(e,"nextText");a=V?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,Z+K,1)),this._getFormatConfig(e)):a;o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+a+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(U?"w":"e")+"'>"+a+"</span></a>";r=this._get(e,"currentText");s=this._get(e,"gotoCurrent")&&e.currentDay?Q:G;r=V?this.formatDate(r,s,this._getFormatConfig(e)):r;l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>";c=j?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(U?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(U?"":l)+"</div>":"";d=parseInt(this._get(e,"firstDay"),10);d=isNaN(d)?0:d;u=this._get(e,"showWeek");h=this._get(e,"dayNames");f=this._get(e,"dayNamesMin");p=this._get(e,"monthNames");m=this._get(e,"monthNamesShort");g=this._get(e,"beforeShowDay");v=this._get(e,"showOtherMonths");y=this._get(e,"selectOtherMonths");b=this._getDefaultDate(e);C="";for(_=0;_<q[0];_++){D="";this.maxRows=4;for(T=0;T<q[1];T++){I=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay));x=" ui-corner-all";k="";if(Y){k+="<div class='ui-datepicker-group";if(q[1]>1)switch(T){case 0:k+=" ui-datepicker-group-first";x=" ui-corner-"+(U?"right":"left");break;case q[1]-1:k+=" ui-datepicker-group-last";x=" ui-corner-"+(U?"left":"right");break;default:k+=" ui-datepicker-group-middle";x=""}k+="'>"}k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===_?U?o:i:"")+(/all|right/.test(x)&&0===_?U?i:o:"")+this._generateMonthYearHeader(e,Z,ee,X,J,_>0||T>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>";w=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"";for(S=0;S<7;S++)w+="<th"+((S+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E=(S+d)%7]+"'>"+f[E]+"</span></th>";k+=w+"</tr></thead><tbody>";A=this._getDaysInMonth(ee,Z);ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A));L=(this._getFirstDayOfMonth(ee,Z)-d+7)%7;N=Math.ceil((L+A)/7);R=Y&&this.maxRows>N?this.maxRows:N;this.maxRows=R;P=this._daylightSavingAdjust(new Date(ee,Z,1-L));for(O=0;O<R;O++){k+="<tr>";B=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"";for(S=0;S<7;S++){M=g?g.apply(e.input?e.input[0]:null,[P]):[!0,""];W=(F=P.getMonth()!==Z)&&!y||!M[0]||X&&P<X||J&&P>J;B+="<td class='"+((S+d+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(P.getTime()===I.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===P.getTime()&&b.getTime()===I.getTime()?" "+this._dayOverClass:"")+(W?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+M[1]+(P.getTime()===Q.getTime()?" "+this._currentClass:"")+(P.getTime()===G.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!M[2]?"":" title='"+M[2].replace(/'/g,"&#39;")+"'")+(W?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":W?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===G.getTime()?" ui-state-highlight":"")+(P.getTime()===Q.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>";P.setDate(P.getDate()+1);P=this._daylightSavingAdjust(P)}k+=B+"</tr>"}if(++Z>11){Z=0;ee++}D+=k+="</tbody></table>"+(Y?"</div>"+(q[0]>0&&T===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}C+=D}C+=c;e._keyEvent=!1;return C},_generateMonthYearHeader:function(e,t,n,i,a,o,r,s){var l,c,d,u,h,f,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",C="";if(o||!g)C+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{l=i&&i.getFullYear()===n;c=a&&a.getFullYear()===n;C+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(d=0;d<12;d++)(!l||d>=i.getMonth())&&(!c||d<=a.getMonth())&&(C+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+s[d]+"</option>");C+="</select>"}y||(b+=C+(!o&&g&&v?"":"&#xa0;"));if(!e.yearshtml){e.yearshtml=""
;if(o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{u=this._get(e,"yearRange").split(":");h=(new Date).getFullYear();f=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t};p=f(u[0]);m=Math.max(p,f(u[1]||""));p=i?Math.max(p,i.getFullYear()):p;m=a?Math.min(m,a.getFullYear()):m;e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";for(;p<=m;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>";b+=e.yearshtml;e.yearshtml=null}}b+=this._get(e,"yearSuffix");y&&(b+=(!o&&g&&v?"":"&#xa0;")+C);return b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),a=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,a))+("D"===n?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,a,o)));e.selectedDay=r.getDate();e.drawMonth=e.selectedMonth=r.getMonth();e.drawYear=e.selectedYear=r.getFullYear();"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),a=n&&t<n?n:t;return i&&a>i?i:a},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var a=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:a[0]*a[1]),1));t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth()));return this._isInRange(e,o)},_isInRange:function(e,t){var n,i,a=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),r=null,s=null,l=this._get(e,"yearRange");if(l){n=l.split(":");i=(new Date).getFullYear();r=parseInt(n[0],10);s=parseInt(n[1],10);n[0].match(/[+\-].*/)&&(r+=i);n[1].match(/[+\-].*/)&&(s+=i)}return(!a||t.getTime()>=a.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){if(!t){e.currentDay=e.selectedDay;e.currentMonth=e.selectedMonth;e.currentYear=e.selectedYear}var a=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),a,this._getFormatConfig(e))}});function o(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",(function(){e(this).removeClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")})).delegate(i,"mouseover",(function(){if(!e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])){e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");e(this).addClass("ui-state-hover");-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover")}}))}function r(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}e.fn.datepicker=function(t){if(!this.length)return this;if(!e.datepicker.initialized){e(document).mousedown(e.datepicker._checkExternalClick);e.datepicker.initialized=!0}0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);if("string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t))return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n));if("option"===t&&2===arguments.length&&"string"==typeof arguments[1])return e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n));return this.each((function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}))};e.datepicker=new a;e.datepicker.initialized=!1;e.datepicker.uuid=(new Date).getTime();e.datepicker.version="1.10.3"}(jQuery)},7433:(e,t,n)=>{e.exports=n(4507)(51405)},7473:(e,t,n)=>{e.exports=n(4507)(26700)},7560:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>r});var i=n(9912),a=n(1811);function o({isHighlightView:e}){const t=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.AddedText","added text"),n=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.StartAddedText","start of added text"),o=i["default"].lookup("SC.RelatedInfo.StatuteCompare.Key.EndAddedText","end of added text");if(e)return(0,a.jsxs)("span",{className:"CompareKey-inserted",children:[(0,a.jsx)("span",{className:"ScreenReader-text",children:n}),(0,a.jsx)("ins",{className:"co_ruleBookRedline co_highlightView",children:t}),(0,a.jsx)("span",{className:"ScreenReader-text",children:o})]});return(0,a.jsxs)("span",{className:"CompareKey-inserted",children:[(0,a.jsx)("span",{className:"ScreenReader-text",children:n}),(0,a.jsx)("span",{"aria-hidden":"true",children:"<<+ "}),(0,a.jsx)("ins",{className:"co_ruleBookRedline co_textOnlyView",children:t}),(0,a.jsx)("span",{"aria-hidden":"true",children:" +>>"}),(0,a.jsx)("span",{className:"ScreenReader-text",children:o})]})}o.displayName="InsertedKey (Platform/js/RelatedInfo/StatutesCompare/Components/CompareModal/Key/InsertedKey.jsx)";const r=o},7564:(e,t,n)=>{e.exports=n(4507)(36885)},7571:(e,t,n)=>{e.exports=n(4507)(94853)},7596:(e,t,n)=>{e.exports=n(4507)(5393)},7617:(e,t,n)=>{e.exports=n(4507)(41035)},7625:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>o});var i=n(2363),a=n(8260);const o=i["default"].extend({getDocumentData:function(e){var t=this._super(e);if(a["default"].ViewData&&a["default"].ViewData.EntityId)for(var n=0;n<t.length;n++)t[n].metadata={entityId:a["default"].ViewData.EntityId,entityType:a["default"].ViewData.EntityType};return t}})},7634:(e,t,n)=>{e.exports=n(4507)(35730)},7671:(e,t,n)=>{"use strict";n.d(t,{A:()=>m});var i=n(1434),a=n.n(i),o=n(8286),r=n(3839),s=n(4249),l=n(3300),c=n(4506),d=n(9474),u=n(6611),h=n(2065);class f{SetDocumentDisplay(e){this.documentDisplay=e}createEasyEditItem(){var e;if(null!=document.getElementById(o["default"].ids.easyEditLink)&&r["default"].EnableDeliveryWidget){(e=document.createElement("li")).className=o["default"].classes.documentToolEasyEdit;const t=document.createElement("h4");t.appendChild(this.createEasyEditLink());const n=document.createTextNode(o["default"].texts.easyEditInfo);e.appendChild(t);e.appendChild(n)}return e}createEasyEditLink(){var e=document.createElement("a");e.innerHTML=o["default"].texts.easyEdit;e.href="javascript:void(0);";e.id=o["default"].ids.docToolsWidgetEasyEditLink;h["default"].AttachClickHandler(e,(()=>{(new d["default"]).GetMetaInformation(this.documentDisplay.DocumentGuid,(e=>{this.submitEasyEditDelivery(e)}),(e=>{this.submitEasyEditDelivery(e)}))}));return e}submitEasyEditDelivery(e){var t=new c["default"];t.ContextView=s["default"].SingleDocument;if(e){const n=new u["default"];n.ContentType=e.ContentType;n.DocumentGuid=e.DocGuid;n.ItemType="EasyEditDocument";t.DocumentContentType=e.ContentType;t.DocumentGuid=e.DocGuid;t.selectedItems=[];t.selectedItems.push(n)}l["default"].InitiateEasyEditDelivery(t)}}var p=n(1422);const m=a().extend({parentObject:null,documentDisplay:null,container:null,list:null,formAssembleItem:null,formAssembleLink:null,easyEditItem:null,additionalLinksItem:null,SetParentDiv:function(e){this.parentObject=e},
SetDocumentDisplay:function(e){this.documentDisplay=e},Draw:function(){var e=this;e.createAdditionalLinks();e.createFormAssembleItem();e.createEasyEditItem();if(null!=e.formAssembleItem||null!=e.easyEditItem||null!=e.additionalLinksItem){e.container=document.createElement("div");e.container.className=o["default"].classes.genericBox;var t=document.createElement("h3");t.className=o["default"].classes.genericBoxHeader;t.innerHTML="<span><strong>"+o["default"].texts.tools+"</strong></span>";e.container.appendChild(t);var n=document.createElement("div");n.className=o["default"].classes.genericBoxContent;e.list=document.createElement("ul");null!=e.additionalLinksItem&&e.list.appendChild(e.additionalLinksItem);null!=e.formAssembleItem&&e.list.appendChild(e.formAssembleItem);null!=e.easyEditItem&&e.list.appendChild(e.easyEditItem);n.appendChild(e.list);e.container.appendChild(n);var i=document.createElement("div");i.className=o["default"].classes.genericBoxFooter;i.innerHTML="<span></span>";e.container.appendChild(i);e.parentObject.appendChild(e.container)}},createFormAssembleItem:function(){var e=this;if(null!=document.getElementById(o["default"].ids.formAssembleJson)){e.formAssembleItem=document.createElement("li");e.formAssembleLink=document.createElement("a");e.formAssembleLink.className=o["default"].classes.linkOut;e.formAssembleLink.innerHTML=o["default"].texts.formAssemble;e.formAssembleLink.href="javascript:void(0);";e.formAssembleLink.id=o["default"].ids.docToolsWidgetFormAssembleLink;h["default"].AttachClickHandler(e.formAssembleLink,(function(){e.handleFormAssembleLink()}));var t=document.createElement("h4");t.appendChild(e.formAssembleLink);var n=document.createTextNode(o["default"].texts.formAssembleInfo);e.formAssembleItem.appendChild(t);e.formAssembleItem.appendChild(n)}},handleFormAssembleLink:function(){var e=h["default"].GetMetadataFromDom(o["default"].ids.formAssembleJson);p["default"].Publish(o["default"].events.formAssembleLinkOut,e)},createEasyEditItem:function(){var e=new f;e.SetDocumentDisplay(this.documentDisplay);this.easyEditItem=e.createEasyEditItem()},createAdditionalLinks:function(){var e=this;if(e.documentDisplay.DocumentGuid){(new d["default"]).GetMetaInformation(e.documentDisplay.DocumentGuid,(function(t){e.additionalLinks(t)}),(function(t){e.additionalLinks(t)}))}},additionalLinks:function(e){var t=this;if(e&&e.metaInformation&&e.metaInformation.additionalLinks)for(var n=0;n<e.metaInformation.additionalLinks.length;n++){var i=document.createElement("a");i.innerHTML=e.metaInformation.additionalLinks[n].Key;i.id="additionallink_"+(n+1);i.href=e.metaInformation.additionalLinks[n].Value;t.additionalLinksItem||(t.additionalLinksItem=document.createElement("li"));t.additionalLinksItem.appendChild(i)}}})},7686:(e,t,n)=>{e.exports=n(4507)(90313)},7718:(e,t,n)=>{e.exports=n(4507)(25014)},7739:(e,t,n)=>{e.exports=n(4507)(29714)},7756:(e,t,n)=>{e.exports=n(4507)(39893)},7861:(e,t,n)=>{e.exports=n(4507)(56800)},7875:(e,t,n)=>{e.exports=n(4507)(2281)},7897:(e,t,n)=>{e.exports=n(4507)(41141)},7914:(e,t,n)=>{e.exports=n(4507)(76524)},7929:(e,t,n)=>{e.exports=n(4507)(61587)},7943:(e,t,n)=>{e.exports=n(4507)(79647)},7952:(e,t,n)=>{e.exports=n(4507)(3603)},7955:(e,t,n)=>{e.exports=n(4507)(94004)},7958:(e,t,n)=>{"use strict";n.r(t);n.d(t,{MobXProviderContext:()=>Y,Observer:()=>x,PropTypes:()=>ce,Provider:()=>Q,disposeOnUnmount:()=>ae,enableStaticRendering:()=>d,inject:()=>J,isUsingStaticRendering:()=>u,observer:()=>q,observerBatching:()=>s,useAsObservableSource:()=>w,useLocalObservable:()=>k,useLocalStore:()=>E,useObserver:()=>A,useStaticRendering:()=>L});var i=n(5454),a=n(1446);if(!a.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!i.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var o=n(1312);function r(e){e()}function s(e){if(!e){e=r;0}(0,i.configure)({reactionScheduler:e})}function l(e){return(0,i.getDependencyTree)(e)}var c=!1;function d(e){c=e}function u(){return c}var h,f,p=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e});Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map});Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0});Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4);clearTimeout(t.sweepTimeout);t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(i,a){if(n-i.registeredAt>=e){t.finalize(i.value);t.registrations.delete(a)}}));t.registrations.size>0&&t.scheduleSweep()}});Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()});this.scheduleSweep()}});Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}});Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}});return e}(),m=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:p)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose();e.reaction=null})),g=n(3871);function v(e){e.reaction=new i.Reaction("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol();null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function y(e,t){void 0===t&&(t="observed");if(u())return e();var n=a.useRef(null);if(!n.current){var i={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){m.unregister(i);i.onStoreChange=e;if(!i.reaction){v(i);i.stateVersion=Symbol()}return function(){var e;i.onStoreChange=null;null===(e=i.reaction)||void 0===e||e.dispose();i.reaction=null}},getSnapshot:function(){return i.stateVersion}};n.current=i}var o,r,s=n.current;if(!s.reaction){v(s);m.register(n,s,s)}a.useDebugValue(s.reaction,l);(0,g.useSyncExternalStore)(s.subscribe,s.getSnapshot,s.getSnapshot);s.reaction.track((function(){try{o=e()}catch(e){r=e}}));if(r)throw r;return o}var b="function"==typeof Symbol&&Symbol.for,C=null!==(f=null===(h=Object.getOwnPropertyDescriptor((function(){}),"name"))||void 0===h?void 0:h.configurable)&&void 0!==f&&f,S=b?Symbol.for("react.forward_ref"):"function"==typeof a.forwardRef&&(0,a.forwardRef)((function(e){return null}))["$$typeof"],_=b?Symbol.for("react.memo"):"function"==typeof a.memo&&(0,a.memo)((function(e){return null}))["$$typeof"];function D(e,t){var n;0;if(_&&e["$$typeof"]===_)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(u())return e;var i=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,o=e,r=e.displayName||e.name;if(S&&e["$$typeof"]===S){i=!0;if("function"!=typeof(o=e["render"]))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function")}var s,l,c=function(e,t){return y((function(){return o(e,t)}),r)};c.displayName=e.displayName;C&&Object.defineProperty(c,"name",{value:e.name,writable:!0,configurable:!0});if(e.contextTypes){c.contextTypes=e.contextTypes;0}i&&(c=(0,a.forwardRef)(c));c=(0,a.memo)(c);s=e,l=c,Object.keys(s).forEach((function(e){I[e]||Object.defineProperty(l,e,Object.getOwnPropertyDescriptor(s,e))}));0;return c}var T,I={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function x(e){var t=e.children,n=e.render;t&&n&&console.error("MobX Observer: Do not use children and render in the same time in `Observer`");var i=t||n;if("function"!=typeof i)return null;return y(i)}0;x.displayName="Observer";function k(e,t){return(0,a.useState)((function(){return(0,i.observable)(e(),t,{autoBind:!0})}))[0]}function w(e){0;var t=(0,a.useState)((function(){return(0,i.observable)(e,{},{deep:!1})}))[0];(0,
i.runInAction)((function(){Object.assign(t,e)}));return t}function E(e,t){0;var n=t&&w(t);return(0,a.useState)((function(){return(0,i.observable)(e(n),void 0,{autoBind:!0})}))[0]}s(o.unstable_batchedUpdates);T=m["finalizeAllImmediately"];function A(e,t){void 0===t&&(t="observed");0;return y(e,t)}function L(e){0;d(e)}function N(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var R={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};var P=Symbol("patchMixins"),O=Symbol("patchedDefinition");function B(e,t){for(var n=this,i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];t.locks++;try{var r;null!=e&&(r=e.apply(this,a));return r}finally{t.locks--;0===t.locks&&t.methods.forEach((function(e){e.apply(n,a)}))}}function M(e,t){return function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];B.call.apply(B,[this,e,t].concat(i))}}function F(e,t,n){var i=function(e,t){var n=e[P]=e[P]||{},i=n[t]=n[t]||{};i.locks=i.locks||0;i.methods=i.methods||[];return i}(e,t);i.methods.indexOf(n)<0&&i.methods.push(n);var a=Object.getOwnPropertyDescriptor(e,t);if(a&&a[O])return;var o=e[t],r=W(e,t,a?a.enumerable:void 0,i,o);Object.defineProperty(e,t,r)}function W(e,t,n,i,a){var o,r=M(a,i);return(o={})[O]=!0,o.get=function(){return r},o.set=function(a){if(this===e)r=M(a,i);else{var o=W(this,t,n,i,a);Object.defineProperty(this,t,o)}},o.configurable=!0,o.enumerable=n,o}var H=Symbol("ObserverAdministration"),G=Symbol("isMobXReactObserver");0;function U(e){var t;return null!=(t=e[H])?t:e[H]={reaction:null,mounted:!1,reactionInvalidatedBeforeMount:!1,forceUpdate:null,name:j(e.constructor),state:void 0,props:void 0,context:void 0}}function j(e){return e.displayName||e.name||"<component>"}function $(e){var t=e.bind(this),n=U(this);return function(){if(!n.reaction){n.reaction=function(e){return new i.Reaction(e.name+".render()",(function(){if(!e.mounted){e.reactionInvalidatedBeforeMount=!0;return}try{null==e.forceUpdate||e.forceUpdate()}catch(n){var t;null==(t=e.reaction)||t.dispose();e.reaction=null}}))}(n);n.mounted||m.register(this,n,this)}var e=void 0,a=void 0;n.reaction.track((function(){try{a=(0,i._allowStateChanges)(!1,t)}catch(t){e=t}}));if(e)throw e;return a}}function V(e,t){u()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side.");if(this.state!==t)return!0;return!function(e,t){if(N(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!Object.hasOwnProperty.call(t,n[a])||!N(e[n[a]],t[n[a]]))return!1;return!0}(this.props,e)}function q(e,t){if(t&&"class"!==t.kind)throw new Error("The @observer decorator can be used on classes only");!0===e["isMobxInjector"]&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`");return Object.prototype.isPrototypeOf.call(a.Component,e)||Object.prototype.isPrototypeOf.call(a.PureComponent,e)?function(e){var t=e.prototype;if(e[G]){var n=j(e);throw new Error("The provided component class ("+n+") has already been declared as an observer component.")}e[G]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e["__proto__"]!==a.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==V)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=V;var i=t.render;if("function"!=typeof i){var o=j(e);throw new Error("[mobx-react] class component ("+o+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}t.render=function(){Object.defineProperty(this,"render",{configurable:!1,writable:!1,value:u()?i:$.call(this,i)});return this.render()};var r=t.componentDidMount;t.componentDidMount=function(){var e=this,t=U(this);t.mounted=!0;m.unregister(this);t.forceUpdate=function(){return e.forceUpdate()};t.reaction&&!t.reactionInvalidatedBeforeMount||t.forceUpdate();return null==r?void 0:r.apply(this,arguments)};F(t,"componentWillUnmount",(function(){var e;if(u())return;var t=U(this);null==(e=t.reaction)||e.dispose();t.reaction=null;t.forceUpdate=null;t.mounted=!1;t.reactionInvalidatedBeforeMount=!1}));return e}(e):D(e)}function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},z.apply(null,arguments)}var K=["children"],Y=a.createContext({});function Q(e){var t=e.children,n=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,K),i=a.useContext(Y),o=a.useRef(z({},i,n)).current;return a.createElement(Y.Provider,{value:o},t)}Q.displayName="MobXProvider";function X(e,t,n,i){var o,r,s,l=a.forwardRef((function(n,i){var o=z({},n),r=a.useContext(Y);Object.assign(o,e(r||{},o)||{});i&&(o.ref=i);return a.createElement(t,o)}));i&&(l=q(l));l["isMobxInjector"]=!0;o=t,r=l,s=Object.getOwnPropertyNames(Object.getPrototypeOf(o)),Object.getOwnPropertyNames(o).forEach((function(e){R[e]||-1!==s.indexOf(e)||Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(o,e))}));l["wrappedComponent"]=t;l.displayName=function(e,t){var n,i=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";n=t?"inject-with-"+t+"("+i+")":"inject("+i+")";return n}(t,n);return l}function J(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var i=arguments[0];return function(e){return X(i,e,i.name,!0)}}return function(e){return X(function(e){return function(t,n){e.forEach((function(e){if(e in n)return;if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}));return n}}(t),e,t.join("-"),!1)}}var Z=Number.parseInt(a.version.split(".")[0]),ee=!1,te=Symbol("disposeOnUnmountProto"),ne=Symbol("disposeOnUnmountInst");function ie(){var e=this;[].concat(this[te]||[],this[ne]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function ae(e,t){if(Array.isArray(t))return t.map((function(t){return ae(e,t)}));if(!ee){Z>=18?console.error("[mobx-react] disposeOnUnmount is not compatible with React 18 and higher. Don't use it."):console.warn("[mobx-react] disposeOnUnmount is deprecated. It won't work correctly with React 18 and higher.");ee=!0}var n=Object.getPrototypeOf(e).constructor,i=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==a.Component&&n!==a.PureComponent&&i!==a.Component&&i!==a.PureComponent&&o!==a.Component&&o!==a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var r="string"==typeof t,s=!!e[te]||!!e[ne];(r?e[te]||(e[te]=[]):e[ne]||(e[ne]=[])).push(t);s||F(e,"componentWillUnmount",ie);if("string"!=typeof t)return t}function oe(e){function t(t,n,a,o,r,s){for(var l=arguments.length,c=new Array(l>6?l-6:0),d=6;d<l;d++)c[d-6]=arguments[d];return(0,i.untracked)((function(){o=o||"<<anonymous>>";s=s||a;if(null==n[a]){if(t){var i=null===n[a]?"null":"undefined";return new Error("The "+r+" `"+s+"` is marked as required in `"+o+"`, but its value is `"+i+"`.")}return null}return e.apply(void 0,[n,a,o,r,s].concat(c))}))}var n=t.bind(null,!1);n.isRequired=t.bind(null,!0);return n}function re(e){var t=typeof e;if(Array.isArray(e))return"array"
;if(e instanceof RegExp)return"object";if(function(e,t){if("symbol"===e)return!0;if("Symbol"===t["@@toStringTag"])return!0;if("function"==typeof Symbol&&t instanceof Symbol)return!0;return!1}(t,e))return"symbol";return t}function se(e,t){return oe((function(n,a,o,r,s){return(0,i.untracked)((function(){if(e&&re(n[a])===t.toLowerCase())return null;var r;switch(t){case"Array":r=i.isObservableArray;break;case"Object":r=i.isObservableObject;break;case"Map":r=i.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var l=n[a];if(!r(l)){var c=function(e){var t=re(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}(l),d=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+s+"` of type `"+c+"` supplied to `"+o+"`, expected `mobx.Observable"+t+"`"+d+".")}return null}))}))}function le(e,t){return oe((function(n,a,o,r,s){for(var l=arguments.length,c=new Array(l>5?l-5:0),d=5;d<l;d++)c[d-5]=arguments[d];return(0,i.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+s+"` of component `"+o+"` has invalid PropType notation.");var i=se(e,"Array")(n,a,o,r,s);if(i instanceof Error)return i;for(var l=n[a],d=0;d<l.length;d++)if((i=t.apply(void 0,[l,d,o,r,s+"["+d+"]"].concat(c)))instanceof Error)return i;return null}))}))}var ce={observableArray:se(!1,"Array"),observableArrayOf:le.bind(null,!1),observableMap:se(!1,"Map"),observableObject:se(!1,"Object"),arrayOrObservableArray:se(!0,"Array"),arrayOrObservableArrayOf:le.bind(null,!0),objectOrObservableObject:se(!0,"Object")};if(!a.Component)throw new Error("mobx-react requires React to be available");if(!i.observable)throw new Error("mobx-react requires mobx to be available")},8016:(e,t,n)=>{e.exports=n(4507)(3139)},8042:(e,t,n)=>{e.exports=n(4507)(14245)},8260:(e,t,n)=>{e.exports=n(4507)(77587)},8286:(e,t,n)=>{e.exports=n(4507)(50630)},8289:(e,t,n)=>{e.exports=n(4507)(8209)},8307:(e,t,n)=>{e.exports=n(4507)(16091)},8326:(e,t,n)=>{e.exports=n(4507)(97129)},8332:(e,t,n)=>{e.exports=n(4507)(59756)},8362:(e,t,n)=>{e.exports=n(4507)(1922)},8368:(e,t,n)=>{e.exports=n(4507)(58706)},8430:(e,t,n)=>{e.exports=n(4507)(95801)},8450:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>i});const i=Object.freeze({EXTRA_SMALL:600,SMALL:768,MEDIUM:840,BASE:1024,LARGE:1250,EXTRA_LARGE:1368})},8461:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>i});const i={HIGHLIGHT:"highlight",TEXTONLY:"textOnly",COMPARE:"compare",SIDEBYSIDE:"sideBySide",DIFFERENCES:"differences",SIMILARITIES:"similarities"}},8541:(e,t,n)=>{e.exports=n(4507)(51360)},8577:(e,t,n)=>{e.exports=n(4507)(37908)},8646:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>a});var i=n(4471);const a=class{constructor(e){this.breakpoint=e;this.emitter=new i["default"];this.change=this.change.bind(this);this.init()}on(e,...t){this.emitter.on(e,...t)}off(e,...t){this.emitter.off(e,...t)}matches(){return this.mediaQuery.matches}change(e){e.matches?this.emitter.emit("enter"):this.emitter.emit("exit")}matchMedia(){return window.matchMedia(`(max-width: ${this.breakpoint}px)`)}init(){this.mediaQuery=this.matchMedia();this.mediaQuery.addEventListener?this.mediaQuery.addEventListener("change",this.change):this.mediaQuery.addListener(this.change)}}},8653:(e,t,n)=>{e.exports=n(4507)(4443)},8657:(e,t,n)=>{e.exports=n(8846)(6574)},8660:(e,t,n)=>{e.exports=n(4507)(15231)},8717:(e,t,n)=>{e.exports=n(8846)(1401)},8730:(e,t,n)=>{e.exports=n(4507)(22756)},8799:(e,t,n)=>{"use strict";n.d(t,{Q:()=>c});var i=n(3434),a=n(8660),o=n(3903),r=n(6306),s=n(6094);function l(){r["default"].call(this)}l.prototype=new r["default"];l.prototype.constructor=l;l.prototype.submitWebRequest=function(e){var t="RelatedInfo/v1/KMHistoryEvent",n=new s.A,r=e.getDocumentGuid(),l=e.getOriginalContext(),c=e.getClientId();o["default"].isNotNullOrUndefined(r)&&o["default"].trim(r).length>0&&n.addParameter("documentGuid",r);l&&n.addParameter("originalContext",l);c&&n.addParameter("clientId",c);var d=n.buildParametersString();o["default"].isNotNullOrUndefined(d)&&o["default"].trim(d).length>0&&(t+="?"+d);return new a["default"](i["default"].RelatedInfo,t,{timeout:9e4,headers:{Accept:"application/json"}}).Get()};const c=new l},8835:(e,t,n)=>{e.exports=n(4507)(60058)},8837:(e,t,n)=>{"use strict";n.d(t,{A:()=>L});var i=n(1434),a=n.n(i),o=n(8660),r=n(7929),s=n(2769),l=n(5382),c=n(2595),d=n(7617),u=n(3434),h=n(9912),f=n(6337),p=n(3839),m=n(8289),g=n(846),v=n(8326),y=n(2288),b=n(6519),C=n(7943),S={queue:{},processRequest:function(e,t){if(S.queue.hasOwnProperty(e)){const t=S.queue[e];t instanceof r["default"]?t.Abort():t.abort();delete S.queue[e]}S.queue[e]=t},length:function(){var e=0;for(var t in S.queue)S.queue.hasOwnProperty(t)&&e++;return e},purgeByMethodName:function(e){S.queue.hasOwnProperty(e)&&delete S.queue[e]}};const _=S;var D=n(5892),T=n(4572);const I=a().extend({init:function(e,t){this.unassigned=h["default"].lookup("SC.Alerts.Widgets.AlertGroups.Unassigned","Unassigned");this.root=new T["default"]("root",0,!1);this.root.addChild(new T["default"](this.unassigned,0,!1,this.unassigned));this.delimiter=T["default"].Delimiter;t&&(this.delimiter=t);e&&e.length>0&&(this._isAlertsData(e)?this.addAlerts(e):this.addFolders(e))},_isAlertsData:function(e){return!!(e&&e.length>0&&e[0].alertGuid)},deleteFolders:function(e){e.sort((function(e,t){return t.length-e.length}));for(var t=0;t<e.length;t++)for(var n=e[t].split(this.delimiter),i=this.root,a=0;a<n.length;a++){var o=n[a],r=i.findNode(o);if(null===r)break;if(a==n.length-1){i.removeChild(r);break}i=r}this.root.setRollupCount()},addFolders:function(e){for(var t=0;t<e.length;t++)for(var n=e[t].value.split(this.delimiter),i=this.root,a=0;a<n.length;a++){var o=n[a]&&!C["default"].isUnassigned(n[a])?n[a]:this.unassigned,r=i.findNode(o);if(null===r){var s=a==n.length-1?e[t].count:0;r=new T["default"](o,s,e[t].active,n.slice(0,a+1).join(this.delimiter));i.addChild(r)}else if(a==n.length-1){r.ownCount=e[t].count;r.active=e[t].active}i=r}this.root.setRollupCount()},findNode:function(e){if(e)return this.root.findNode(e);return this.root},hasNode:function(e){return!!this.findNode(e)},addAlerts:function(e){for(var t=0;t<e.length;t++)for(var n=e[t],i=(n.alertGroup||this.unassigned).split(this.delimiter),a=this.root,o=0;o<i.length;o++){var r=i[o],s=a.findNode(r),l=o===i.length-1;if(null===s){var c=l?1:0,d=i.slice(0,o+1).join(this.delimiter);s=new T["default"](r,c,!0,d,l?n:null);a.addChild(s)}else if(l){s.ownCount++;s.alerts.push(n);s.active=!0;s.isUnassigned()&&this.root.alerts.push(n)}a=s}this.root.setRollupCount()},removeAlerts:function(e){for(var t=0;t<e.length;t++){var n=this.findNode(e[t]);n&&n.ownCount--}this.root.setRollupCount()},searchItems:function(e,t){return this.root.searchItems(e,t)},findOrphans:function(){return function e(t){var n=t.getChildren(),i=[];n.forEach((t=>{t.totalCount<=0&&i.push(t);i=i.concat(e(t))}));return i}(this.root)}});var x=n(9476),k=n(9691),w=n.n(k);const E=a().extend({init:function(){this.HTTP_STATUS_CODE_BAD_REQUEST=400;this.ACCEPT_HEADER="application/json";this.CONTENT_TYPE_HEADER="application/json;charset=UTF-8";this.CONTENT_TYPE="Content-Type";this.BI_ALERT_TIMEOUT_MS=12e4;this.MULTIEDIT_ALERT_TIMEOUT_MS=6e4;this.RETRIEVE_FACETS_TIMEOUT_MS=18e4;this.DELETE_ALERTS_TIMEOUT_MS=6e4;this.createAlertNewsletter=this.createAlertNewsletter.bind(this);this.updateNewsletter=this.updateNewsletter.bind(this);this.createGenericAlert=this.createGenericAlert.bind(this);this.updateGenericAlert=this.updateGenericAlert.bind(this);this.createBatchAlerts=this.createBatchAlerts.bind(this)},createWebRequestSync:function(e,t,n,i){const a=new r["default"](n||u["default"].Alert,t,{timeout:i});a.Headers.Accept=this.ACCEPT_HEADER;a.Headers[this.CONTENT_TYPE]=this.CONTENT_TYPE_HEADER;_.processRequest(e,a);return a},createWebRequest:function(e,t,n,i,a){if(e?.trim()){const r=new AbortController,s=new Headers(i?.headers);s.set("Accept",this.ACCEPT_HEADER);s.set(this.CONTENT_TYPE,this.CONTENT_TYPE_HEADER);const l=new o["default"](n||u["default"].Alert,t,{timeout:i?.timeout,signal:r.signal,headers:s});a||_.processRequest(e,r);return l}
throw new Error("methodName is a required parameter and should be unique")},postContent:async function(e,t,n,i,a,o,r){var s=JSON.stringify(n),l=this.createWebRequest(e,t,a||u["default"].Alert,{timeout:o},r),c=this.providerResponseHandler.bind(this);this._isPersistOperationForAlertType(v["default"].AlertTypes.DocketTrack,e,t)&&(c=this._providerResponseHandlerForDocketTrackOnly.bind(this));const d=await l.Post(s);await c(e,d,i,t,n)},_isPersistOperationForAlertType:function(e,t,n){return n.indexOf(e)>-1&&(t.indexOf("createGenericAlert")>-1||t.indexOf("updateGenericAlert")>-1)},deleteContent:async function(e,t,n){var i=this.createWebRequest(e,t);const a=await i.Delete();await this.providerResponseHandler(e,a,n,t,null,null)},getContent:async function(e,t,n,i,a,o,r,s,l){var c=this.createWebRequest(e,t,i,{timeout:s},l);const d=await c.Get();await this.providerResponseHandler(e,d,n,t,a,o,!1,r)},getContentSync:function(e,t,n,i,a,o,r){var s=null;const l=this.createWebRequestSync(e,t,n,r).SynchronousGet();this.providerResponseHandlerLegacy(e,l,(function(e){s=e}),t,i,a,o);return s},putContent:async function(e,t,n,i,a,o){var r=JSON.stringify(n);const s=this.createWebRequest(e,t,a),l=await s.Put(r);await this.providerResponseHandler(e,l,i,t,n,!1,!1,o)},validateStatus:function(e){return e>=this.HTTP_STATUS_CODE_BAD_REQUEST||0==e},_providerResponseHandlerForDocketTrackOnly:async function(e,t,n,i,a){var o=l["default"].Success,r=this.validateStatus(t.status),s=await t.json();if(r){o=l["default"].Failure;(0,c.IsNullOrEmpty)(s.error)&&(s.error=x.TechnicalDifficulties)}s.status=o;s.action=e.indexOf("createGenericAlert")>-1?"setting up":"editing";n(s,a)},handleError:function(e,t,n,i){let a={};var o=document.getElementById("coid_website_errorsSummaryPlaceHolder"),r="";if((0,c.IsNullOrEmpty)(i))try{a=JSON.parse(n);a.error||(a.error=x.TechnicalDifficulties);r=p["default"].isLowerEnvironment()?this.formatGetAlertsErrorMessage(e,t,a.error):"Your request could not be processed.  Error details: "+a.error}catch(i){r=p["default"].isLowerEnvironment()?this.formatGetAlertsErrorMessage(e,t,n):x.TechnicalDifficulties}else r=i;a.statusCode=t;var d={message:r,referenceElement:o,destroyOnClickoff:!1,status:l["default"].Failure,position:s["default"].None,wrapper:!1};(0,y.A)(d);return a},providerResponseHandlerLegacy:function(e,t,n,i,a,o,r,s){_.purgeByMethodName(e);const l=t.ResponseText,c=t.StatusCode;n(this.handleResponse(i,c,l,s,r,o,n),a)},providerResponseHandler:async function(e,t,n,i,a,o,r,s){_.purgeByMethodName(e);const l=await t.text(),c=t.status;n(this.handleResponse(i,c,l,s,r,o,n),a)},handleResponse:function(e,t,n,i,a,o){let r={};this.validateStatus(t)&&!a?r=this.handleError(e,t,n,i):n&&(o?r.ResponseText=n:r=JSON.parse(n));return r},formatGetAlertsErrorMessage:function(e,t,n){return"Alerts HTTP request "+e+" returned with status code "+t+", error "+n},getAlertsByFacetIds:async function(e,t){var n=this.convertFacetRequestPostBody(t.facetCriteria);Object.assign(t,n);await this.postContent("getAlertsByFacetIds","Alert/v2/alerts/retrieveAlertsByFacets",t,e,void 0,this.RETRIEVE_FACETS_TIMEOUT_MS)},getSearchBasedAlertsBySubAlertTypes:function(e,t){var n="Alert/v2/alerts/retrieveSearchBasedAlerts/SubAlertTypes?subAlertTypes="+encodeURIComponent(t)+"&_="+Date.now();this.getContent("getAlertsBySubAlertTypes",n,e)},getTimeZones:function(e){this.getContent("getTimeZones","V1/UserSettings/TimeZones",e,u["default"].Website)},FrequencyWarning:function(e,t,n){var i="V1/Alerts/WarnFrequency?alertType="+t+"&frequency="+n;this.createWebRequest("CreateAncillaryFrequencyWarning",i,u["default"].Website).Get(e)},getFacets:async function(e,t){var n,i="Alert/v2/alerts/retrieveFacets"+("All"===e.appliedAlertType?"":"/"+e.appliedAlertType);n=g["default"].isNewsletter(e.appliedAlertType)?[e.appliedAlertType]:this.getAvailableAlertTypes(e);e.centerType===D.A.Report&&(n=b.A.getAccessControlsForReports());var a=this.convertFacetRequestPostBody(e.facetCriteria,n);a.resultHandle=e.resultHandle;a.resultHandleCount=e.resultHandleCount;a.updateResultHandle=e.updateResultHandle;await this.postContent("getFacets",i,a,t,u["default"].Alert,this.RETRIEVE_FACETS_TIMEOUT_MS)},convertFacetRequestPostBody:function(e,t){var n,i,a=[];for(var o in e)if(e.hasOwnProperty(o)){n=[];i=e[o];for(var r=0;r<i.length;r++)n.push(i[r].value);a.push({name:o,values:n})}return{facetCriteria:a,availableAlertTypes:t}},isUniqueName:function(e,t){var n=m["default"].isAdmin()?"Alert/v1/alerts/admin/isUnique/":"Alert/v2/alerts/isUnique/";n+=e.type;delete e.type;n+=C["default"].toQueryString(e);this.getContent("isUniqueName",n,t)},validateFields:async function(e,t){await this.postContent("validateFields","Alert/v1/alerts/validateFields",e,t)},deleteAlerts:function(e,t){var n=m["default"].isAdmin()?"Alert/v1/alerts/admin/deleteAlerts":"Alert/v2/alerts/deleteAlerts";this.postContent("deleteAlerts",n,e,t,u["default"].Alert,this.DELETE_ALERTS_TIMEOUT_MS)},activateAlerts:function(e,t,n){var i=m["default"].isAdmin()?"Alert/v1/alerts/admin/activateAlerts":"Alert/v2/alerts/activateAlerts";i+="?runNow="+t;this.postContent("activateAlerts",i,e,n)},inactivateAlerts:function(e,t,n){var i=m["default"].isAdmin()?"Alert/v1/alerts/admin/inActivateAlerts":"Alert/v2/alerts/inActivateAlerts";t!==h["default"].lookup("SC.Alerts.HintText.None","none")&&(i+="?resumeDate="+t);this.postContent("inactivateAlerts",i,e,n)},createGenericAlert:function(e,t){var n=e.requestObject;this._appendStringifiedData(n,e.alertType);var i="Alert/v3/alert/"+e.alertType;n.alertType=e.alertType;this.postContent("createGenericAlert",i,n,t)},_appendStringifiedData:function(e,t){e.delivery&&e.delivery.caseTrackingSubscription&&(e.delivery.caseTrackingSubscription=JSON.stringify(e.delivery.caseTrackingSubscription));e.search&&(e.search={stringifiedData:JSON.stringify(e.search)});e.content&&(g["default"].isPublicationAlert(t)?e.content={stringifiedData:JSON.stringify({contentData:e.content.contentData}),selectedCategoryPageUrl:e.content.selectedCategoryPageUrl,historicalSelectedCategoryPageUrls:e.content.historicalSelectedCategoryPageUrls}:e.content={stringifiedData:JSON.stringify(e.content)})},updateGenericAlert:function(e,t,n){var i=Object.assign({},e.requestObject),a=!g["default"].isSummaryReport(e.alertType)&&m["default"].isAdmin()?"Alert/v1/alerts/admin/":"Alert/v3/alert/";a=a+e.alertType+"/"+i.guid;this._appendStringifiedData(i,e.alertType);i.alertType=e.alertType;this.postContent(n||"updateGenericAlert",a,i,t)},updateMultipleAlerts:function(e,t){this.postContent("updateMultipleAlerts","Alert/v2/alerts/multipleEdit",e,t,null,this.MULTIEDIT_ALERT_TIMEOUT_MS)},retrieveGenericAlert:async function(e,t,n){var i=e.alertType,a=!g["default"].isSummaryReport(i)&&m["default"].isAdmin()?"Alert/v1/alerts/admin/":"Alert/v3/alert/";a=e.shallowCopy?a+i+"/shallow/"+e.guid:a+i+"/"+e.guid;var o={alertType:i,responseCallback:t};await this.getContent(n||"retrieveGenericAlert",a,this.retrieveGenericAlertCallback.bind(this),u["default"].Alert,o)},retrieveGenericAlertCallback:function(e,t){var n=t.alertType,i=t.responseCallback,a=e.delivery;a&&(e.delivery=this.parseDeliveryJson(a));var o=e.search&&e.search.stringifiedData;if(o){var r=JSON.parse(o);for(var s in r)r.hasOwnProperty(s)&&(r[s]=C["default"].nullSafeJSONParse(r[s]));e.search=r}e.content&&e.content.stringifiedData&&(e.content=JSON.parse(e.content.stringifiedData));e.content&&e.content.contentData?e.content.contentData=JSON.parse(e.content.contentData):g["default"].isWestClip(n)&&this.bridgeNewSearchInfoJsonFormatToPopulateContent(e);i(e)},parseDeliveryJson:function(e){var t={enabledDeliveries:e.enabledDeliveries,enabledPortalDelivery:e.enabledPortalDelivery,logoUrl:e.logoUrl};e.caseTrackingSubscription&&(t.caseTrackingSubscription=JSON.parse(e.caseTrackingSubscription));e.adminSettings&&(t.adminSettings=JSON.parse(e.adminSettings));e.newsletters&&(t.newsletters=e.newsletters);var n=e.emailDelivery;if(n){var i=n.stringifiedData;if(i){var a=JSON.parse(i);Object.assign(t,{emailDelivery:JSON.parse(a.deliveryInfoJson),contacts:n.contacts,alertsOutOfPlanHistory:a.alertsOutOfPlanHistory?JSON.parse(a.alertsOutOfPlanHistory):{}})}}
var o=e.otherDelivery;if(o){t.otherDelivery={};t.otherDelivery.sponsorId=o.sponsorId;t.otherDelivery.deliveryInfo=JSON.parse(o.deliveryInfo)}return t},retrieveAlertLimitMaxReached:async function(e,t,n,i,a){void 0===n&&(n="");void 0===i&&(i="");void 0===a&&(a="");var o="Alert/v2/alerts/alertLimitMaxReached/"+e+"?alertVisibility="+n+"&newOwnerGuid="+i+"&quantity="+a;await this.getContent("retrieveAlertLimitMaxReached",o,t,u["default"].Alert)},retrieveMultipleAlertLimitMaxReached:async function(e,t,n,i){var a={};a.ownerGuid=e;a.alertMapping=t;a.firmOwned=n;await this.postContent("CheckMultipleAlertLimitMaxReached","Alert/v2/alerts/multipleAlertLimitMaxReached",a,i)},retrieveFirmAlertLimit:async function(e){await this.getContent("AlertsRetrieveSubscriptionLimit","/Alerts/SubscriptionLimit/",e,u["default"].Website)},retrieveAlertGuidsFromCache:function(e,t){var n="Alert/v1/alerts/cache/alertGuids?cacheKey="+e;this.getContent("AlertsretRieveAlertGuidsFromCache",n,t)},storeAlertGuidsInCache:function(e,t,n){var i="Alert/v1/alerts/cache/alertGuids?cacheKey="+e;this.postContent("AlertsStoreAlertGuidsInCache",i,t,n)},bridgeNewSearchInfoJsonFormatToPopulateContent:function(e){if(e.search&&e.search.searchInfoJson){var t=e.search.searchInfoJson.childRequests;if(t){for(var n=[],i=0;i<t.length;i++)n[i]={title:t[i].categoryPageTitle,url:t[i].categoryPageUrl,id:t[i].id,label:t[i].categoryPageLabel,jurisdictions:t[i].jurisdictions};e.content.contentData=n}}},getDefaultContentTimes:function(e,t){var n={urls:JSON.stringify(e)};this.postContent("getDefaultContentTimes","V1/Browse/DefaultAlertRunTimes",n,t,u["default"].Website)},createAlertNewsletter:function(e,t){var n="Alert/v1/digests/"+e.alertType;e.requestObject.alertType=e.alertType;this.postContent("createAlertNewsletter",n,e.requestObject,t)},retrieveAlertNewsletters:function(e,t){var n=this.convertFacetRequestPostBody(e.facetCriteria);Object.assign(e,n);this.postContent("retrieveAlertNewsletters","Alert/v1/digests/list",e,t)},retrieveAlertReports:function(e,t){var n=this.convertFacetRequestPostBody(e.facetCriteria);Object.assign(e,n);this.postContent("retrieveAlertReports","Alert/v1/reports/retrieveReportsByFacets",e,t)},retrieveNewsletterForUpdate:function(e,t,n){var i="Alert/v1/digests/"+n+"/"+t;this.getContent("retrieveNewsletterForUpdate",i,(t=>{var n=t.delivery,i=null;n&&t.delivery.emailDelivery&&(i=t.delivery.emailDelivery.contacts);if(n){var a={enabledDeliveries:t.delivery.enabledDeliveries,contacts:i},o=n.emailDelivery;if(o){var r=o.stringifiedData;if(r){var s=JSON.parse(r);Object.assign(a,{emailDelivery:JSON.parse(s.deliveryInfoJson)})}}t.delivery=a}e(t)}))},updateNewsletter:function(e,t){var n=Object.assign({},e.requestObject),i="Alert/v1/digests/"+e.alertType+"/"+n.guid;n.alertType=e.alertType;this.postContent("updateNewsletter",i,n,t,null,12e4)},createBatchAlerts:function(e,t){var n=e.requestObject;this._appendStringifiedData(n);n.basics={clientId:d["default"].GetClientId(),firmOwned:!0,isPrivate:!1};var i="";g["default"].isDocketAlert(e.alertType,!0)&&(i="Alert/v1/alertBatches/DocketAlerts");g["default"].isKeyCite(e.alertType,!0)&&(i="Alert/v1/alertBatches/KeyCiteAlerts/create");g["default"].isWestClip(e.alertType,!0)&&(i="Alert/v1/alertBatches/WestClipAlerts");this.postContent("createBatchAlerts",i,n,t)},validateBatchAlerts:function(e,t){var n=e.requestObject,i="Alert/v1/alertBatches/"+e.alertType+"/validate";this.postContent("validateBatchAlerts",i,n,t)},validateSearchQueryBatchAlerts:function(e,t){(new f["default"]).validateSearchQueryBatchAlerts(e,(function(e){t(e)}),(async function(e){e.error=await e.text();t(e)}))},formatSearchQueryBatchAlerts:function(e,t){(new f["default"]).formatSearchQueryBatchAlerts(e,(function(e){t(e)}),(async function(e){e.error=await e.text();t(e)}))},retrieveAlertNamesInNewsletter:function(e,t){var n="Alert/v1/digests/"+e.alertType+"/AlertNames/"+e.newsletterGuid;this.getContent("retrieveAlertNamesInNewsletter",n,t)},deleteNewsletters:function(e,t){var n="Newsletter";e.length>0&&(n=e[0].alertType);var i="Alert/v1/digests/"+n+"/purge";this.postContent("deleteNewsletters",i,e,t)},runNewsletters:function(e,t){this.postContent("runNewsletters","Alert/v1/digests/runNow",e,t)},retrieveAlertResults:function(e,t,n){var i="Alert/v1/resultHistories/"+e.alertType+C["default"].toQueryString({limit:e.end,offset:e.start,start:e.startDate,end:e.endDate});n=n||"retrieveAlertResults";e.alertGuids&&e.alertGuids.length>0?this.postContent(n,i,e.alertGuids,t):this.getContent(n,i,t,null,e)},retrieveAlertResultWithDocs:function(e,t,n){var i={limit:e.limit,offset:e.offset,alertGuid:e.alertGuid};e.contentType&&(i.contentType=e.contentType);var a="Alert/v1/resultHistories/"+e.alertType+"/"+e.resultGuid+C["default"].toQueryString(i);this.getContent(n||"retrieveAlertResultWithDocs",a,t,null,e,!1,h["default"].lookup("SC.Alerts.Center.NoResults","History for this alert is not available. The alert may have been deleted, or this alert is not associated with your user account."))},retrieveResultsHistoryAlertNames:function(e,t,n){var i=t.dateFacet,a="Alert/v1/resultsHistoryFacets/"+e+C["default"].toQueryString({start:i.startDate,end:i.endDate});this.getContent("retrieveResultsHistoryAlertNames",a,n)},retrieveAdministrativeAlertNames:function(e){this.getContent("retrieveAdministrativeAlertNames","Alert/v1/alerts/admin/administrativeAlertNames",e)},retrievePrivateAlertNames:function(e){this.getContent("retrievePrivateAlertNames","Alert/v1/alerts/admin/privateAlertNames",e)},retrieveAlertNames:function(e){this.getContent("retrieveAlertNames","Alert/v2/alerts/alertNames",e)},retrieveAlertNamesByGuidsAndTypes:function(e,t){this.postContent("retrieveAlertNamesByGuidsAndTypes","Alert/v2/alerts/alertNamesByGuidsAndTypes",e,t)},retrieveNewsLetterNames:function(e,t){var n="Alert/v1/digests/names"+(t?"?ownerGuid="+t:"");this.getContent("retrieveNewsLetterNames",n,e)},validateCategoryPageUrls:function(e,t,n){var i="Alert/v2/alerts/"+n+"/validateCategoryPageUrls";this.postContent("validateCategoryPageUrls",i,e,t)},resolveTickerSymbol:function(e,t){var n="Alert/v2/alerts/tickerSymbol/"+e;this.getContent("resolveTickerSymbol",n,t)},retrieveCategories:async function(e){await this.getContent("retrieveCategories","Alert/v2/alerts/retrieveCategories",e)},retrieveAlertGroups:function(e,t){if(t&&t.length>0){var n={appliedAlertType:"All",facetCriteria:{owner:t}};this.getFacets(n,(function(t){var n=new I(t.facets.alertGroup);e(n)}))}else{this.getContent("retrieveAlertGroups","Alert/v2/alerts/alertGroups",(function(t){var n=new I(t);e(n)}))}},retrieveAdministrativeAlertGroups:function(e){this.getContent("retrieveAdministrativeAlertGroups","Alert/v1/alerts/admin/administrativeAlertGroups",(function(t){var n=new I(t);e(n)}))},retrieveFirmLogoUrls:async function(e){await this.getContent("retrieveFirmLogoUrls","Alert/v2/firmSettings/logoUrls",e)},saveFirmLogoUrls:function(e,t){this.putContent("saveFirmLogoUrls","Alert/v2/firmSettings/logoUrls",e,t)},retrieveErrorNotificationSettings:function(e,t){this.getContent("retrieveErrorNotificationSettings","Alerts/v1/FirmSettings/ErrorNotificationSetting",e,u["default"].Website,null,!1,t)},saveErrorNotificationSettings:function(e,t,n){this.putContent("saveErrorNotificationSettings","Alerts/v1/FirmSettings/ErrorNotificationSetting",e,t,u["default"].Website,n)},retrieveSeamlessAuthenticationSettings:async function(e,t){await this.getContent("retrieveSeamlessAuthenticationSettings","Alerts/v1/FirmSettings/SeamlessAuthenticationSetting",e,u["default"].Website,null,!1,t)},saveSeamlessAuthenticationSettings:function(e,t,n){this.putContent("saveSeamlessAuthenticationSettings","Alerts/v1/FirmSettings/SeamlessAuthenticationSetting",e,t,u["default"].Website,n)},retrieveReplyToAddressSettings:async function(e,t){await this.getContent("retrieveReplyToAddressSettings","Alerts/v1/FirmSettings/ReplyToAddressSetting",e,u["default"].Website,null,!1,t)},saveReplyToAddressSettings:function(e,t,n){this.putContent("saveReplyToAddressSettings","Alerts/v1/FirmSettings/ReplyToAddressSetting",e,t,u["default"].Website,n)},addCategories:function(e,t){
this.postContent("addCategories","Alert/v2/alerts/addCategories",e,t)},getRecipients:function(e,t){this.postContent("getRecipients","Alert/v1/alerts/admin/retrieveContactsByTypeGuidMap",e,t)},getCategories:async function(e,t){await this.postContent("getCategories","Alert/v2/alerts/retrieveCategoriesByTypeGuidMap",e,t)},getAvailableAlertTypes:function(){for(var e=b.A.getAccessControlsForAlertTypes(),t=[],n=0;n<e.length;n++)g["default"].isNewsletter(e[n])||t.push(e[n]);return t},updatePrivacySettings:function(e,t){var n,i=[];if(t){(0,k.forEach)(t,(function(e){i.push({dataRoomPrismGuid:e})}));n={privateContacts:i}}else n={allowAll:!0};this.postContent("updatePrivacySettings","Alert/v1/alerts/admin/privateContacts",n,e,null,12e4)},getPrivacySettings:function(e){this.getContent("getPrivacySettings","Alert/v1/alerts/admin/privateContacts",e,null,null,null,null,12e4)},retrieveModeratableNewsletter:async function(e,t){var n="Alert/v1/digests/Newsletter/Moderation/"+t.newsletterGuid;await this.getContent("retrieveModeratableNewsletter",n,e,u["default"].Alert,t)},retrieveResultsWithDocsToModerate:function(e,t,n){var i="Alert/v1/digests/Newsletter/Moderation/"+e+"/resultsWithDocs?alertGuid="+t;this.getContent("retrieveResultsWithDocsToModerate",i,n,u["default"].Alert)},moderateNewsletter:async function(e,t,n,i){var a="Alert/v1/digests/moderateNewsletter/"+e;a+=C["default"].toQueryString(n);await this.postContent("moderateNewsletter",a,t,i)},validateSearchQuery:function(e,t){var n="Alert/v2/alerts/validateSearchQuery";n+=C["default"].toQueryString({searchQuery:e});this.getContent("validateSearchQuery",n,t,u["default"].Alert)},createSearchResult:async function(e,t){await this.postContent("createSearchResult","Alert/v2/alerts/createSearchResult",t,e)},updateSearchResult:function(e,t){var n=this.convertFacetRequestPostBody(t.facetCriteria);Object.assign(t,n);this.postContent("updateSearchResult","Alert/v2/alerts/updateSearchResult",t,e)},advanceNextRunDate:function(e,t,n){var i="Alert/v2/alerts/advanceToNextRunDate/"+t+"/"+e;this.postContent("advanceToNextRunDate",i,{},n)},updateAlertGroups:function(e,t){this.postContent("renameAlertGroup","Alert/v2/alerts/renameAlertGroup",t,e)},deleteAlertGroups:function(e,t){this.postContent("deleteAlertGroup","Alert/v2/alerts/deleteAlertGroup",e,t)},retrieveTracksFromAlerts:function(e,t){this.postContent("retrieveTracksFromAlerts","Alert/v1/capitolwatch/trackswithcorrelationid",e,t)},retrieveDocketTrackGuid:function(e,t){var n,i="Alert/v2/alerts/retrieveDocketTrackGuid?signon="+e+"&query="+t;try{n=this.getContentSync("retrieveDocketTrackGuid",i,u["default"].Alert,null,!1,!0)}catch(e){}return n},convertTimeZone:function(e,t){this.postContent("convertTimeZone","Alert/v2/alerts/convertTimeZone",e,t,null,null,!0)},alertsFrequencies:function(e,t){this.postContent("alertsFrequencies","Alerts/V1/Frequencies",e,t,u["default"].Website)},retrieveDefaultName:function(e,t,n,i){var a="Alert/v2/alerts/defaultName/"+e+C["default"].toQueryString({alertName:t,isAdmin:n});this.getContent("retrieveDefaultName",a,i)},getOptionsDialogData:async function(e,t){await this.postContent("getOptionsDialogData","V1/Delivery/OptionsDialogData",e,t,u["default"].Website)},retrieveTSDRGuid:function(e){var t,n="Alert/v1/alerts/retrieveTSDRGuid?proceedingNumber="+e;try{t=this.getContentSync("retrieveTSDRGuid",n,u["default"].Alert,null,!1,!0)}catch(e){}return t},retrievePAIRGuid:function(e){var t,n="Alert/v1/alerts/retrievePAIRGuid?proceedingNumber="+e;try{t=this.getContentSync("retrievePAIRGuid",n,u["default"].Alert,null,!1,!0)}catch(e){}return t}});var A=n(4383);const L=E.extend({retrieveAlertExistsStatus:function(e,t,n,i){var a={searchTarget:t};m["default"].isAdmin()&&(a.isAdmin=!0);var o=`/Alert/v2/alerts/exists/${e}${C["default"].toQueryString(a)}`;this.getContent("retrieveAlertExistsStatus",o,i,u["default"].Alert,null,!1,n)},retrieveDocumentTriggers:function(e,t,n){const{alertType:i,searchTarget:a,resourceType:o}=e,r=i.toLowerCase(),s=A["default"].Relative({Path:`/Alert/v2/${r}/checkTriggers/${a}`,QueryString:{resourceType:o}});this.getContent("retrieveDocumentTriggers",s,n,u["default"].Alert,null,!1,t)}}).extend({init:function(){this._super();this.CACHE_CONTROL="Cache-Control";this.NO_CACHE="no-cache"},createWebRequest:function(e,t,n,i,a){const o=new Headers(i?.headers);this.shouldRequestBeInvalidated(t)&&o.set(this.CACHE_CONTROL,this.NO_CACHE);return this._super(e,t,n,{...i,headers:o},a)},shouldRequestBeInvalidated:e=>e.indexOf(v["default"].AlertTypes.PLDocument)>-1,postContent:async function(e,t,n,i,a,o,r){this._isPersistOperationForAlertType(v["default"].AlertTypes.BusinessInvestigator,e,t)&&(o=this.BI_ALERT_TIMEOUT_MS);await this._super(e,t,n,i,a,o,r)},getContent:async function(e,t,n,i,a,o,r,s,l){this.useNoCacheGet(t,e)?this.getContentNoCache(e,t,n,i,a):await this._super(e,t,n,i,a,o,r,s,l)},useNoCacheGet:function(e,t){return(e.indexOf(v["default"].AlertTypes.BusinessInvestigator)>-1||e.indexOf(v["default"].AlertTypes.PeopleMap)>-1)&&(0,c.AreSame)(t,"retrieveAlertResultWithDocs")},retrieveNewsLetterNames:function(e,t,n){const i=`Alert/v1/digests/names${t?`?ownerGuid=${t}`:""}${n?`&alertsNumber=${n}`:""}`;this.getContent("retrieveNewsLetterNames",i,e)},getContentNoCache:async function(e,t,n,i,a){if(!e?.trim())throw new Error("methodName is a required parameter and should be unique");const r=A["default"].Parse(t);r.QueryString._=(new Date).getTime();const s=A["default"].Relative(r),l=new o["default"](i||u["default"].Alert,s),c=await l.Get();this.providerResponseHandler(e,c,n,t,a)},capitolWatchCitationValidation:function(e,t){var n="Alerts/CapitolWatch/ValidateCitation/"+encodeURIComponent(e.citation);this.getContent("CapitolWatchCitationValidation",n,(function(n){for(var i=!1,a=[],o={},r=0;n&&r<n.length;++r){var s=n[r].correlationIds;if(s&&1===s.length){var l=s[0];if(!o[l]&&(!e.correlationId||e.correlationId&&e.correlationId===l)){a.push({correlationId:l,title:n[r].title});o[l]=!0}}}i=a.length>0;t(i,a)}),u["default"].Website)},retrieveCapitolWatchAlertNames:function(e){this.getContent("retrieveCapitolWatchAlertNames","Alert/v1/capitolwatch/alertNames",e)},_appendStringifiedData:function(e,t){g["default"].isCapitolWatchReport(t)||this._super(e,t)},retrieveAlertInfo:function(e,t,n){var i="Alert/v1/capitolwatch/alertInfo/"+t+"/"+e;this.getContent("retrieveAlertInfo",i,n,u["default"].Alert)},getCapitolWatchReportUrl:function(e,t,n,i){var a={alertType:t,alertGuids:[e],limit:1,offset:1};this.retrieveAlertResults(a,function(e){var a=null;if(e&&e.totalCount>0){var o=e.alertResultHistories[0];if(n){if(!new Date(n).isAfter(new Date(o.lastUpdated))){var r=o.resultGuid,s=o.alertGuid,l=o.alertName;a="/Alerts/Result/"+r+'?transitionType=Default&contextData=%28sc.Default%29"&alertType='+t+"&alertName="+encodeURIComponent(l)+"&alertGuid="+s}}}i(a)}.bind(this))},getTermHighlighting:function(e){if((0,c.IsNullOrEmpty)(e))throw new Error("ArgumentException: entries");var t="Alert/v1/retrieveTermsHighligting/"+e.alertType+"/"+e.resultGuid+C["default"].toQueryString({alertGuid:e.alertGuid});return new Promise((n=>{this.getContent("getTermHighlighting",t,(function(e){if(e&&!w().isEmpty(e.NavigationData)){var t=e.NavigationData;n(t)}else n("")}),null,e)}))}})},8844:(e,t,n)=>{e.exports=n(4507)(31660)},8846:e=>{"use strict";e.exports=bundle_90384fe731df435a5a79ec14a5c0cb2f},8849:(e,t,n)=>{e.exports=n(8846)(7964)},8854:(e,t,n)=>{e.exports=n(4507)(53226)},8890:(e,t,n)=>{e.exports=n(4507)(13262)},9054:(e,t,n)=>{e.exports=n(615)(2949)},9068:(e,t,n)=>{e.exports=n(4507)(58799)},9099:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>h});var i=n(3839),a=n(8844),o=n(4383),r=n(9912),s=n(8286),l=n(2065),c=n(8260),d=n(8660),u=n(3434);class h{static isClauseFinderEnabled(){return a["default"].isPracticalLawUSCompartment()&&i["default"].isFeatureEnabled("PLCLAUSEBANKUS")}static isClauseFinderAvailableOnDocumentView(){let e=!1;const t=c["default"].ViewData?.DocumentGuid;if(t){const n=l["default"].GetMetadataFromDom(s["default"].ids.embeddedMetaInfoPrefix+t);e=!0===n?.hasClauseFinder}return e}static isClauseFinderDocumentWidgetEnabled(){
return a["default"].isPracticalLawUSCompartment()&&i["default"].isIacOn("IAC-PLUS-CB-PLUGIN-INJECTION")}static async deliverDocumentBlob(e,t){e||=i["default"].ClauseFinderDocumentGuid;t||=r["default"].lookup("SC.Website.ClauseFinder.Widget.DocumentTitle","TR Drafting - Clause Finder");const n=new d["default"](u["default"].Document,"/Blob/v1/BlobGuids"),a=JSON.stringify([{DocumentGuid:e,BlobGuid:""}]),s=await n.Post(a),l=await s.json(),{Ttype:c,BlobGuid:h}=l[0],f=o["default"].Relative(o["default"].Page.DocumentBlobV1({imageGuid:h,extension:"docx",targetType:c,contextData:"(sc.Default)",imageFileName:t,hasClauseFinder:!0}));window.open(f,"_parent")}}},9101:(e,t,n)=>{e.exports=n(8846)(356)},9122:(e,t,n)=>{e.exports=n(4507)(89113)},9133:(e,t,n)=>{e.exports=n(4507)(54442)},9172:(e,t,n)=>{e.exports=n(4507)(78582)},9191:(e,t,n)=>{e.exports=n(615)(4467)},9265:(e,t,n)=>{e.exports=n(4507)(47521)},9289:(e,t,n)=>{e.exports=n(4507)(19764)},9294:(e,t,n)=>{e.exports=n(8846)(5501)},9344:(e,t,n)=>{e.exports=n(4507)(92348)},9382:(e,t,n)=>{e.exports=n(4507)(18612)},9417:(e,t,n)=>{e.exports=n(4507)(53461)},9422:(e,t,n)=>{e.exports=n(4507)(23324)},9459:(e,t,n)=>{"use strict";n.d(t,{A:()=>D});var i=n(9191),a=n.n(i),o=n(6669),r=n.n(o);var s=n(1194),l=n(4277),c=n(8430),d=n(9912);class u{constructor(){this.firstQuestionBuilder=new s["default"](l.FirstRadioButtonsConfig);this.buildFooterContent=r().template('\x3c!--\n @file DocumentFeedbackLightboxFooterTemplate\n--\x3e\n<p style="text-align: left;">\n\t<input id="<%- disableFeedBackCheckboxId %>" type="checkbox">\n\t<label for="<%- disableFeedBackCheckboxId %>"><%= disableFeedBackText %></label>\n</p>\n<ul>\n\t<li>\n\t\t<input type="submit" id="<%- submitButtonId %>" class="<%- submitButtonClass %>" value=\'<%- submitButtonText %>\' />\n\t</li>\n\t<li>\n\t\t<a title="<%- cancelButtonText %>" href="javascript:void(0);" id="<%- cancelButtonId %>" class="<%- cancelButtonClass %>">\n\t\t\t<%- cancelButtonText %>\n\t\t</a>\n\t</li>\n</ul>');this.buildMainContent=r().template("\x3c!--\n @file DocumentFeedbackLightboxContentTemplate\n--\x3e\n\n<div id=\"co_document_feedback_questions_container\" class='co-Feedback'>\n\t<div id='coid_document_feedback_first_question_wrapper' class='co-Feedback-questionWrap'>\n\t\t<div class=\"co-Feedback-question\"><%= firstQuestionText %></div>\n\t\t<%= firstRadioButtonHorizonalArrayHtml %>\n\t</div>\n\t<div id='coid_document_feedback_second_question_wrapper' class='co-Feedback-questionWrap'>\n\t\t<div class=\"co-Feedback-question\"><%= secondQuestionText %></div>\n\t\t<div class=\"co-Feedback-textAreaWrap\">\n\t\t\t<textarea id='<%= documentCommentsId %>' class='co-Feedback-textArea' maxlength=\"1000\"></textarea>\n\t\t</div>\n\t</div>\n</div>")}buildConfig(e){return Object.freeze({id:c["default"].lightboxId,title:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.DocumentDocumentbackTitle","Document Feedback"),closeLinkObject:Object.freeze({alt:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.DocumentFeedbackCloseAltText","Close Document Feedback"),onclick:e}),footerDomElementHtml:this.buildFooterContent({submitButtonText:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.Buttons.Submit.Text","Submit"),cancelButtonText:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.Buttons.Cancel.Text","Cancel"),disableFeedBackText:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.Checkbox.DisableFeedback.Text","Don't Show for this Session"),disableFeedBackCheckboxId:c.FooterConstants.disableFeedBackCheckboxId,submitButtonId:c.FooterConstants.submitButtonId,submitButtonClass:c.FooterConstants.submitButtonClass,cancelButtonId:c.FooterConstants.cancelButtonId,cancelButtonClass:c.FooterConstants.cancelButtonClass}),contentDomElementHtml:this.buildMainContent({firstQuestionText:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.FirstIntuitiveQuestion","1. The document I just viewed was <strong>helpful</strong> to my research."),secondQuestionText:d["default"].lookup("SC.Website.Widget.DocumentFeedbackLightbox.SecondFurtherComments","2. Any further comments about this document? (optional)"),documentCommentsId:c.ContentConstants.documentCommentsId,firstRadioButtonHorizonalArrayHtml:this.firstQuestionBuilder.buildHtml()})})}}var h=n(6357);const f=c.StorageConstants.SessionPreferenceKeyName,p={isEnabled:!0,disabledDocumentGuids:[]},m=function(){try{return JSON.parse(h["default"].getItem(f))||p}catch(e){return p}},g={setSessionPreference:function(e=!0){const t=m();t.isEnabled=e;h["default"].setItem(f,JSON.stringify(t))},isFeedbackEnableDuringSession:function(){return m().isEnabled},disableFeedbackForDocument:function(e){const t=m();t.disabledDocumentGuids.push(e);h["default"].setItem(f,JSON.stringify(t))},isFeedbackForDocumentEnabled:function(e){return!m().disabledDocumentGuids.some((t=>t===e))}};var v=n(9765);class y extends v["default"]{constructor(){super();this.lightboxConfig=(new u).buildConfig((()=>this.closeLightbox()))}Draw(e,t){this.options=t;super.Draw();this.lightbox.AddEventListener("close",e)}attachHandlers(){const e=this.getLightboxDomElement();e.querySelector("#"+c.FooterConstants.submitButtonId)?.addEventListener("click",(()=>this.submitFeedback()));e.querySelector("#"+c.FooterConstants.cancelButtonId)?.addEventListener("click",(()=>this.cancelFeedback()))}cancelFeedback(){document.getElementById("co_disbableFeedbackCheckbox")?.checked&&g.setSessionPreference(!1);this.closeLightbox()}closeLightbox(){g.disableFeedbackForDocument(this.options.documentId);super.closeLightbox()}getFeedbackData(){const e=this.getLightboxDomElement();return{helpful:a()('input[name="'+c.ContentConstants.RadioButtonQuestion1Name+'"]:checked',e).val(),betaFeature:this.options.feature,comments:a()("#"+c.ContentConstants.documentCommentsId,e).val(),metaData:{searchId:this.options.searchId,documentId:this.options.documentId}}}submitFeedback(){const e=this.getLightboxDomElement();a()("#co_disbableFeedbackCheckbox",e).is(":checked")&&g.setSessionPreference(!1);super.submitFeedback()}}const b=new y;var C=n(4341),S=n(3839),_=n(4383);const D={isEnabled:function(){const e=C["default"].ViewModelData.DocumentSource;return e&&S["default"].isIacOn("IAC-DOCLEVEL-FEEDBACK")&&(this.isBriefAnalyzerEnabled()&&"DocumentAnalyzer"===e.ListSource&&this.isRecommendedDocumentType()||this.isTRDiscoverEnabled()&&"TRDISCOVER-CASE"===e.List)&&g.isFeedbackForDocumentEnabled(C["default"].ViewModelData.DocumentGuid)&&g.isFeedbackEnableDuringSession()},isBriefAnalyzerEnabled:function(){return S["default"].isFeatureEnabled("DOC ANALYSIS")},isTRDiscoverEnabled:function(){return S["default"].isFeatureEnabled("TR DISCOVER SEARCH")},isRecommendedDocumentType:function(){const e=(new _["default"].QueryStringParser).GetValue("navStorageKey")||h["default"].getItem("navStorageKey");if(!e)throw new Error("The value of 'localStorage[navStorageKey]' needs to be set");return"recommended"===e.split("|")[1]},getFeedbackFeature:function(){if("DocumentAnalyzer"===C["default"].ViewModelData.DocumentSource.ListSource)return"DocAnalysis";if("TRDISCOVER-CASE"===C["default"].ViewModelData.DocumentSource.List)return"TRDiscover";return null},showFeedbackLightbox:function(e,t){var n=C["default"].ViewModelData.DocumentGuid,i={feature:this.getFeedbackFeature(),searchId:t&&t.searchId,documentId:n};b.Draw(e,i)}}},9466:(e,t,n)=>{e.exports=n(4507)(42682)},9474:(e,t,n)=>{e.exports=n(4507)(36995)},9476:(e,t,n)=>{e.exports=n(4507)(18944)},9478:(e,t,n)=>{e.exports=n(4507)(381)},9510:(e,t,n)=>{e.exports=n(4507)(88396)},9520:(e,t,n)=>{e.exports=n(4507)(53048)},9542:(e,t,n)=>{e.exports=n(8846)(3587)},9647:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>d});var i=n(1422),a=n(1987),o=n.n(a),r=n(1633);class s{constructor(e,t={}){this.columnSelector=e;this.setDisabled(!1);this.options={resizeOnScroll:!0,...t}}setDisabled(e){this.disabled=e}updateColumnHeight(){if(this.disabled)return;const e=this.measureColumnHeight();o().mutate((()=>{this.setColumnHeight(e)}))}measureColumnHeight(){}setColumnHeight(e){const t=document.querySelector(this.columnSelector);if(t){
const n=t.scrollHeight-t.scrollTop===t.clientHeight;t.style.height=e+"px";t.scrollTop&&n&&(t.scrollTop=t.scrollHeight)}}removeColumnHeight(){const e=document.querySelector(this.columnSelector);e&&(e.style.height=null)}addResizeHandlers(){this.resize=(0,r.createThrottledFastdomMeasure)(this.updateColumnHeight.bind(this));window.addEventListener("load",this.resize);this.options.resizeOnScroll&&window.addEventListener("scroll",this.resize);window.addEventListener("resize",this.resize);"complete"===document.readyState&&this.resize();this.headerClassChangedSub=i["default"].Subscribe("Cobalt.Indigo.Website.ScrollHeader.ClassChanged",((e,t)=>{this.resize();t.then(this.resize)}))}removeResizeHandlers(){if(this.resize){window.removeEventListener("load",this.resize);this.options.resizeOnScroll&&window.removeEventListener("scroll",this.resize);window.removeEventListener("resize",this.resize)}this.headerClassChangedSub&&i["default"].Unsubscribe(this.headerClassChangedSub);this.resize=null}}var l=n(7861),c=n(669);class d extends s{constructor(e,t=[],n){super(e,n);this.additionalEventsToSubscribe=t;this.additionalSubs=[]}measureColumnHeight(){const e=document.documentElement.clientHeight,t=document.getElementById("co_headerWrapper"),n=document.getElementById("co_footerContainer"),i=document.getElementById("co_docToolbarContainer"),a=document.querySelector("#co_leftColumn .Tab-list"),o=(0,l.offset)(n).top-window.pageYOffset,r=Math.max(e-o,0);let s=(0,c.getOuterHeight)(t);if(i){s=(0,l.offset)(i).top-window.pageYOffset+(0,c.getOuterHeight)(i)}if(a){s=(0,l.offset)(a).top-window.pageYOffset+(0,c.getOuterHeight)(a)}return e-s-r}setColumnHeight(e){super.setColumnHeight(e);i["default"].Publish("Cobalt.Indigo.Website.LeftColumn.HeightUpdated")}addResizeHandlers(){super.addResizeHandlers();this.additionalEventsToSubscribe.forEach((e=>{this.additionalSubs.push(i["default"].Subscribe(e,this.resize))}))}removeResizeHandlers(){super.removeResizeHandlers();for(;this.additionalSubs.length>0;)i["default"].Unsubscribe(this.additionalSubs.pop())}}},9671:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>CalendarWidget});var underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(6669),underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(underscore__WEBPACK_IMPORTED_MODULE_0__),moment__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8541),moment__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__),Platform_js_Core_UXEvents_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9422),Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9912),Platform_js_Core_Configuration_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(3839),globalize__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(8368),globalize__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(globalize__WEBPACK_IMPORTED_MODULE_5__),_Keydate_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(1558),Platform_js_Website_Calendar_Templates_CalendarTemplate_html__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(1004),Platform_js_Website_Calendar_Templates_CalendarNavigationTemplate_html__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7114),Platform_js_PLCCore_Foundation_Core_Menu_DropdownMenuRenderer_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(4044),Platform_js_Core_UI_KeyboardEventCode_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6183);function CalendarWidget(template){var self=this;this._template=template||Platform_js_Website_Calendar_Templates_CalendarTemplate_html__WEBPACK_IMPORTED_MODULE_6__;this.container="";this._initialDate=void 0;this.currentDate=void 0;this._events=[];this.firstDay=void 0;this.initializationModel={};this.viewAllUrl=void 0;this.viewAllButtonClass="";this.eventNames={viewAll:"Cobalt.Website.KeyDates.Widget.FullViewClick",dateClick:"Cobalt.Website.KeyDates.Widget.EventIndicator",monthArrow:"Cobalt.Website.KeyDates.Widget.Arrow",monthNavigation:"Cobalt.Website.KeyDates.Widget.Navigation"};this.selectMonthDropdownOptions=[];this.isFacetCalendar=!1;this.Initialize=function(model,containerId,viewAllUrlParam,isFacetCalendar){self.initializationModel=model&&eval(model)||{};self.container=containerId||self.initializationModel.containerId;self.firstDay=globalize__WEBPACK_IMPORTED_MODULE_5___default().culture(Platform_js_Core_Configuration_js__WEBPACK_IMPORTED_MODULE_4__["default"].Locale).calendar.firstDay;self.viewAllUrl=viewAllUrlParam;self.viewAllButtonClass="th_flat co_defaultBtn";self.isFacetCalendar=isFacetCalendar};this.getInitialDate=function(){return self._initialDate&&new Date(self._initialDate)};this.setInitialDate=function(e){self._initialDate=e};this.setCalendarMonthEvents=function(e){self._events=e};this.getCalendarMonthEvents=function(){return self._events};this.datesAreEqual=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()};this.generateDates=function(e,t){for(var n=[],i=t||self.firstDay,a=e.getMonth(),o=new Date(e.getFullYear(),a,1);o.getDay()!==i;)o=new Date(o.getFullYear(),o.getMonth(),o.getDate()-1);for(var r=0,s=o.getDate();r<6;r++){var l={};n[r]=[];for(var c=0;c<7;c++,s++){var d={},u=!1,h=!1;l=new Date(o.getFullYear(),o.getMonth(),s);u=self.getCalendarMonthEvents()?.includes(""+l.getDate());self.getInitialDate()&&(h=self.datesAreEqual(l,self.getInitialDate()));d=new _Keydate_js__WEBPACK_IMPORTED_MODULE_10__.u(l,u,l.getMonth()==e.getMonth(),h);n[r][c]=d}}return n};this.generateMonths=function(){var e=[],t=new Date(self.currentDate);if(t){var n=0;t.setDate(1);t.setMonth(t.getMonth()-5);for(;n<12;){e.push({month:t.getMonth(),year:t.getFullYear()});t.setMonth(t.getMonth()+1);n++}}return e};this.draw=function(e,t){const n=document.getElementById(self.container),i=underscore__WEBPACK_IMPORTED_MODULE_0___default().template(Platform_js_Website_Calendar_Templates_CalendarNavigationTemplate_html__WEBPACK_IMPORTED_MODULE_7__)({model:{title:self.initializationModel.Heading||"",nextMonthLabel:Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.NextMonth","Next month"),previousMonthLabel:Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.PreviousMonth","Previous month"),calendarNavSelector:`${self.container}_navigation`,calendarContainerSelector:`${self.container}_container`}});n.innerHTML=i;self.drawSelectMonthDropdown(e,t);self.drawCalendar(e,t);self.enableNavigationEventHandling()};this.drawSelectMonthDropdown=function(e,t){const n=document.getElementById(`${self.container}_navigation`);n?.firstChild?.remove();self.currentDate=e||new Date;self.setInitialDate(self.getInitialDate()||self.currentDate);self.firstDay=t||self.firstDay;const i=globalize__WEBPACK_IMPORTED_MODULE_5___default().culture().calendar,a=self.generateMonths();self.selectMonthDropdownOptions=a.map((e=>`${i.months.names[e.month]} ${e.year}`));self.selectMonthDropdownOptions.push(Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.BackToInitialMonth","Back to current month"));const o=a.find((e=>e.month===self.currentDate.getMonth())),r=(0,Platform_js_PLCCore_Foundation_Core_Menu_DropdownMenuRenderer_js__WEBPACK_IMPORTED_MODULE_8__.H)(self.selectMonthDropdownOptions,Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.SelectMonth","Select Month"),a.indexOf(o),self.changeMonthSelectorFunction,!1);n.prepend(r)};this.drawCalendar=function(e,t){self.currentDate=e||new Date;self.setInitialDate(self.getInitialDate()||self.currentDate);self.firstDay=t||self.firstDay;const n=self.generateDates(self.currentDate,self.firstDay),i=underscore__WEBPACK_IMPORTED_MODULE_0___default().template(self._template),a=globalize__WEBPACK_IMPORTED_MODULE_5___default().culture().calendar,o=i({model:{datedata:n,initialDate:self.getInitialDate(),startDay:self.firstDay,month:self.currentDate.getMonth(),year:self.currentDate.getFullYear(),monthsList:self.generateMonths(),
globalizedCalendar:a,viewAllUrl:self.viewAllUrl,viewAllLabel:Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.ViewAll","View all"),isAnonymousSession:Platform_js_Core_Configuration_js__WEBPACK_IMPORTED_MODULE_4__["default"].IsAnonymousSession,viewAllButtonClass:self.viewAllButtonClass,isFacetCalendar:self.isFacetCalendar,keyDateLabel:Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.KeyDate","Key date")}});this.handleEventDayClick&&document.getElementById(self.container)?.removeEventListener("click",this.handleEventDayClick);const r=document.getElementById(`${self.container}_container`);r.innerHTML=o;self.enableEventClickHandling(r);self.attachViewAllButton();const s=r.querySelector(".coid_table-body");s.addEventListener("keydown",(e=>self.handleCellsKeydown(e,r)));s.addEventListener("focusin",(e=>self.setFocusOnCell(e.target,r)),{once:!0})};this.redraw=function(e,t){self.setCalendarMonthEvents([]);self.drawCalendar(e);self.onMonthChange(t)};this.handleCellsKeydown=function(e,t){if(e.target.closest(".co_table-cell")){const n=[...t.querySelectorAll(".co_table-row")].find((e=>e.contains(document.activeElement))),i=Array.from(n?.querySelectorAll("td")??[]),a=[...t.querySelectorAll(".co_table-cell")],o=a.indexOf(document.activeElement.closest("td.co_table-cell"))??0,r=7;let s=o,l=null;self.setFocusOnCell(e.target,t);switch(e.code){case Platform_js_Core_UI_KeyboardEventCode_js__WEBPACK_IMPORTED_MODULE_9__["default"].ArrowLeft:e.preventDefault();if(a[o-1]){s=o-1;l=a[s]}else{const e=moment__WEBPACK_IMPORTED_MODULE_1___default()(self.currentDate).add(-1,"months").toDate();self.updateCalendarToSelectedMonth(e);const n=[...t.querySelectorAll(".co_table-cell")];l=n[n.length-1]}break;case Platform_js_Core_UI_KeyboardEventCode_js__WEBPACK_IMPORTED_MODULE_9__["default"].ArrowRight:e.preventDefault();if(a[o+1]){s=o+1;l=a[s]}else{const e=moment__WEBPACK_IMPORTED_MODULE_1___default()(self.currentDate).add(1,"months").toDate();self.updateCalendarToSelectedMonth(e);l=[...t.querySelectorAll(".co_table-cell")][0]}break;case Platform_js_Core_UI_KeyboardEventCode_js__WEBPACK_IMPORTED_MODULE_9__["default"].ArrowUp:e.preventDefault();if(a[o-r]){s=o-r;l=a[s]}else{const e=i.indexOf(document.activeElement.closest("td")),n=moment__WEBPACK_IMPORTED_MODULE_1___default()(self.currentDate).add(-1,"months").toDate();self.updateCalendarToSelectedMonth(n);const a=[...t.querySelectorAll(".co_table-cell")],o=[...[...t.querySelectorAll(".co_table-row")].find((e=>e.contains(a[a.length-1]))).querySelectorAll("td")].indexOf(a[a.length-1]);s=e>o?r-(e-o):o-e;e===o&&(s=0);l=a[a.length-1-s]}break;case Platform_js_Core_UI_KeyboardEventCode_js__WEBPACK_IMPORTED_MODULE_9__["default"].ArrowDown:e.preventDefault();if(a[o+r]){s=o+r;l=a[s]}else{const e=moment__WEBPACK_IMPORTED_MODULE_1___default()(self.currentDate).add(1,"months").toDate(),n=i.indexOf(document.activeElement.closest("td"));self.updateCalendarToSelectedMonth(e);const a=[...t.querySelectorAll("td")],o=[...t.querySelectorAll(".co_table-cell")],c=a.indexOf(o[0]);s=n>=c?n-c:r-(c-n);l=o[s]}}l&&self.setFocusOnCell(l,t)}};this.updateCalendarToSelectedMonth=function(e){self.drawSelectMonthDropdown(e);self.drawCalendar(e);self.setCurrentMonthMessage()};this.getTabbableElInCell=e=>e.querySelector(".nonEventDay")||e.querySelector(".co_calendar_eventday");this.setFocusOnCell=function(e,t){[...t.querySelectorAll(".co_table-cell")].forEach((e=>{const t=this.getTabbableElInCell(e);t?.querySelector(".co_calendar_eventday")?.setAttribute("tabindex","-1");t?.setAttribute("tabindex","-1");e.setAttribute("tabindex","-1")}));const n=this.getTabbableElInCell(e)||e;n.setAttribute("tabindex","0");n.focus()};this.enableEventClickHandling=function(e){const t=new Date(self.currentDate);this.handleEventDayClick=function(n){const i=n.target.closest(".co_table-cell");i&&self.setFocusOnCell(i,e);const a=n.target.closest(".co_calendar_eventday");if(n.currentTarget.contains(a)){t.setDate(parseInt(a.textContent));self.clickEventHandler(a,t);self.sendDateClickEvent(t.toDateString());n.preventDefault()}};document.getElementById(self.container)?.addEventListener("click",this.handleEventDayClick)};this.enableNavigationEventHandling=function(){const e=document.getElementById(self.container),t=e.querySelector(".co_calendar-monthNavigation button.navigation-previous"),n=e.querySelector(".co_calendar-monthNavigation button.navigation-next");t?.addEventListener("click",self.navigateToPreviousMonth);n?.addEventListener("click",self.navigateToNextMonth)};this.changeMonthViaSelector=function(e){const t=new Date(self.selectMonthDropdownOptions[e]),n=isNaN(t.getTime()),i=n?self.getInitialDate():t;self.sendMonthNavigationEvent(i);n&&self.drawSelectMonthDropdown(i);self.redraw(i,n)};this.renderRelativeMonth=function(e){const t=moment__WEBPACK_IMPORTED_MODULE_1___default()(self.currentDate).add(e,"months").toDate();self.drawSelectMonthDropdown(t);self.sendMonthArrowEvent(t);self.redraw(t);self.setCurrentMonthMessage()};this.setCurrentMonthMessage=function(){const e=self.generateMonths(),t=e.find((e=>e.month===self.currentDate.getMonth())),n=e.indexOf(t);if(-1!==n){const e=self.selectMonthDropdownOptions[n],t=document.getElementById("coid_selectedMonth");t&&(t.textContent=e)}};this.attachViewAllButton=function(){var e=document.querySelector(".co_calendar a.co_viewAll");e?.addEventListener("click",self.sendViewAllEvent);const t=Platform_js_Localized_Localizer_js__WEBPACK_IMPORTED_MODULE_3__["default"].lookup("SC.Website.Widget.Calendar.ViewAll","View all");e?.setAttribute("aria-label",t);e?.setAttribute("aria-describedby","calendarTitle")};this.sendViewAllEvent=function(){var e=this.href;(0,Platform_js_Core_UXEvents_js__WEBPACK_IMPORTED_MODULE_2__.postUXEvent)(self.eventNames.viewAll,{href:e})};this.sendDateClickEvent=function(e){(0,Platform_js_Core_UXEvents_js__WEBPACK_IMPORTED_MODULE_2__.postUXEvent)(self.eventNames.dateClick,{date:e})};this.sendMonthArrowEvent=function(e){var t=e.getFullYear(),n=e.getMonth()+1;(0,Platform_js_Core_UXEvents_js__WEBPACK_IMPORTED_MODULE_2__.postUXEvent)(self.eventNames.monthArrow,{year:t,month:n})};this.sendMonthNavigationEvent=function(e){var t=e.getFullYear(),n=e.getMonth()+1;(0,Platform_js_Core_UXEvents_js__WEBPACK_IMPORTED_MODULE_2__.postUXEvent)(self.eventNames.monthNavigation,{year:t,month:n})};this.navigateToPreviousMonth=function(){self.renderRelativeMonth(-1)};this.navigateToNextMonth=function(){self.renderRelativeMonth(1)};this.changeMonthSelectorFunction=function(e){self.changeMonthViaSelector(e)};this.clickEventHandler=function(){};this.onMonthChange=function(){}}},9691:(e,t,n)=>{e.exports=n(4507)(31126)},9747:(e,t,n)=>{"use strict";n.d(t,{A:()=>g});var i=n(9191),a=n.n(i),o=n(9691),r=n.n(o),s=n(3839),l=n(8286);var c=n(9133),d=n(1422),u=n(9912),h=n(2179),f=n(7861),p=n(669),m=n(4422);const g={IsOverrulingRiskEnabled:()=>c["default"].isKeyCiteOverrulingsAllowed()&&s["default"].isIacOn("IAC-OVERRULING-RISK-NAV")&&document.getElementsByClassName(l["default"].classes.locateOverrulingRisk).length>0,IsPartialOverrulingEnabled:()=>document.getElementsByClassName(l["default"].classes.locatePartiallyOverruled).length>0,DrawOverrulingRiskPortion:function(){let e=a()(`.${l["default"].classes.locateOverrulingRisk}, .${l["default"].classes.locatePartiallyOverruled}`);e=this.FilterFragments(e,l["default"].classes.overrulingRiskSuppressed,l["default"].classes.locateOverrulingRisk);this.FormatFragments(e);this.WrapOverrulingRiskFragments(e);const t=()=>{Array.from(document.querySelectorAll(`.${l["default"].classes.locateOverrulingRisk}, .${l["default"].classes.locatePartiallyOverruled}`)).forEach((e=>{this.ResizeWrapper(e.id)}))};window.addEventListener("resize",t);d["default"].Subscribe(l["default"].events.chunkRendered,(()=>{const e=a()(`.${l["default"].classes.locateOverrulingRisk}`);this.WrapOverrulingRiskFragments(e);this.MergeFragments(e,l["default"].classes.locateOverrulingRisk)}),this);d["default"].Subscribe(l["default"].events.documentMayHaveChangedSize,t)},FilterFragments:(e,t,n)=>{const i=[];for(let a=0;a<e.length;a++){
const o=document.getElementById(e[a].id),r=document.getElementById(`${e[a].id}_end`);r?.classList.contains(t)?o?.classList.remove(n):i.push(e[a])}return i},FormatFragments:function(e){let t,n,i;const o=(e,t,n)=>{let o=null;i=t.parent();if(0===i.find(n).length){o=((e,t)=>{let n=e;for(;n!==t;){if(n?.textContent.length>0)return a()(n);n=n.nextSibling}return null})(t[0].nextSibling,null);null==o&&n.parent().prepend(e)}};for(let i=0;i<e.length;i++){t=a()(`#${e[i].id}`);n=a()(`#${e[i].id}_end`);o(t,t,n)}},ResizeWrapper:function(e){const t=document.getElementById(e),n=document.getElementById(`${e}_end`),i=document.getElementById(`${e}_arrow`),a=document.getElementById(`${e}_wrapper`);let o=0,r=0;if(t&&n){t.innerHTML="&nbsp";n.innerHTML="&nbsp";r=(0,p.getElementHeight)(t);const s=(0,m.next)(t),l=(0,m.prev)(n);let c=(0,f.offset)(document.getElementById(e+"_end")).top-(0,f.offset)(document.getElementById(e)).top+r;if(s&&"DIV"===s.nodeName&&c-1.3*r>5){c-=1.3*r;o=r/2}l&&l&&("DIV"===l.nodeName||l.id.includes("co_partiallyOverruled"))&&c-r>5&&(c-=r);a.style.height=c+"px";i.style.position="absolute";i.style.marginTop=(c-r)/2+o+"px";t.innerHTML="";n.innerHTML=""}let s=a.parentElement.previousSibling,l=!1;for(;null!=s&&!l;){s.nodeType===h["default"].TEXT_NODE&&(l=!0);s=s.previousSibling}if(l){a.style.marginTop=-1.3*r+"px";o=parseInt(getComputedStyle(i).marginTop);i.style.marginTop=o-1.3*r+"px"}},MergeFragments:function(e,t){const n=(e,t)=>{const n=document.getElementById(`${e}_wrapper`),i=document.getElementById(`${t}_wrapper`);if(n&&i)return(0,f.offset)(n).top+(0,p.getElementHeight)(n)+5>=(0,f.offset)(i).top;return!1};for(let i=0;i<e.length;i++){const a=e[i].id;for(let o=i+1;o<e.length;o++){const i=e[o].id;if(n(a,i)){const e=document.getElementById(i),n=document.getElementById(`${i}_wrapper`),o=document.getElementById(`${i}_arrow`),r=document.getElementById(`${i}_end`);n?.parentNode.remove();o?.remove();e.classList.remove(t);const s=document.getElementById(`${a}_end`);s.parentNode.removeChild(s);r?.insertAdjacentHTML("afterend",`<span id='${a}_end'>&nbsp;</span>`);e.parentNode.removeChild(e);r?.remove();this.ResizeWrapper(a)}}}},WrapOverrulingRiskFragments:function(e){for(let t=0;t<e.length;t++){const n=e[t].id;if(!document.getElementById(`${n}_wrapper`)){const i=e[t],a=i.classList.contains(l["default"].classes.locatePartiallyOverruled)?l["default"].classes.partiallyOverruledMarkingPinpointIcon:l["default"].classes.overrulingRiskMarkingPinpointIcon,o="co_partiallyOverruled_anchor"!==n?`${l["default"].classes.pinpointIcon} ${a}`:"",s=u["default"].lookup("SC.Document.TermNavigation.OverrulingRisk","Overruling Risk"),c=r().template('<div class="co_absolute">\n    <div id="<%- elementId %>_wrapper" class="<%- wrapperClass %>"></div>\n    <a href="javascript:void(0);" role="button" id="<%- elementId %>_arrow" class="<%- iconClass %>" aria-label="<%- label %>">\n        &nbsp;\n    </a>\n</div>'),d=this.GetWrapperClass(i),h=c({elementId:n,wrapperClass:d,iconClass:o,label:s});i.insertAdjacentHTML("beforebegin",h);i.parentElement.classList.add(l["default"].classes.overrulingRiskPinPointPopUp);this.ResizeWrapper(n);d.includes(l["default"].classes.partiallyOverruledWrapperTwiceOverlapped)&&e[t].nextElementSibling.classList.add(l["default"].classes.thriceHighlightedParagraph)}}},GetWrapperClass:e=>{const t=t=>{const n=e.parentElement,i=n?.getElementsByClassName(t);let a=i&&[...i].filter((t=>e!==t)).length>0;const o=n?.parentElement?.getElementsByClassName(t);o&&[...o].filter((t=>e!==t)).length>0&&(a=n.parentElement?.textContent.includes(e.textContent));return a},n=t(l["default"].classes.locateSnippet);let i;if(e.classList.contains(l["default"].classes.locatePartiallyOverruled)){const a=t(l["default"].classes.locateOverrulingRisk),o="co_partiallyOverruled_anchor"===e.id&&t(l["default"].classes.locatePartiallyOverruled);i=(n||o)&&a?l["default"].classes.partiallyOverruledWrapperTwiceOverlapped:n||a||o?l["default"].classes.partiallyOverruledWrapperWithBestPortion:l["default"].classes.partiallyOverruledWrapper}else{i=t(l["default"].classes.locatePartiallyOverruled)&&n?l["default"].classes.overrulingRiskWrapperTwiceOverlapped:n?l["default"].classes.overrulingRiskWrapperWithBestPortion:l["default"].classes.overrulingRiskWrapper}return`${l["default"].classes.snippetWrapper} ${i}`},ShowHideOverrulingRisk:function(e){document.querySelectorAll(".OverrulingSnippetWrapper, .OverrulingPinpointIcon").forEach((t=>{t.classList.toggle("co_hideState",!e)}))}}},9762:(e,t,n)=>{e.exports=n(4507)(73758)},9765:(e,t,n)=>{e.exports=n(4507)(63848)},9820:(e,t,n)=>{e.exports=n(8846)(1594)},9900:(e,t,n)=>{e.exports=n(4507)(15213)},9912:(e,t,n)=>{e.exports=n(4507)(33051)},9914:(e,t,n)=>{e.exports=n(4507)(55343)},9938:(e,t,n)=>{e.exports=n(4507)(51)}},__webpack_module_cache__={},inProgress,dataWebpackPrefix,chunkMapping,idToExternalAndNameMapping;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};__webpack_modules__[e](n,n.exports,__webpack_require__);return n.exports}__webpack_require__.m=__webpack_modules__;__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;__webpack_require__.d(t,{a:t});return t};__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})};(()=>{__webpack_require__.f={};__webpack_require__.e=e=>Promise.all(Object.keys(__webpack_require__.f).reduce(((t,n)=>{__webpack_require__.f[n](e,t);return t}),[]))})();__webpack_require__.u=e=>"Products/WestlawNext/js/"+e+"-"+{1:"06aece54edc8f8bd1052",2:"57ec5e721b3d66e1884d",3:"70bcc5510bebf8002a81",4:"0577da42f00eb328f654",5:"6df96f2f064358fc031c"}[e]+".lazy.js";__webpack_require__.miniCssF=e=>"Products/WestlawNext/js/"+e+"-6df96f2f064358fc031c.css";__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}();__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);inProgress={},dataWebpackPrefix="bundle_fa97b9bfe9c2c9b32f54a0cfac69262e:",__webpack_require__.l=(e,t,n,i)=>{if(inProgress[e]){inProgress[e].push(t);return}var a,o;if(void 0!==n)for(var r=document.getElementsByTagName("script"),s=0;s<r.length;s++){var l=r[s];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==dataWebpackPrefix+n){a=l;break}}if(!a){o=!0;(a=document.createElement("script")).charset="utf-8";a.timeout=120;__webpack_require__.nc&&a.setAttribute("nonce",__webpack_require__.nc);a.setAttribute("data-webpack",dataWebpackPrefix+n);a.src=e;0!==a.src.indexOf(window.location.origin+"/")&&(a.crossOrigin="anonymous")}inProgress[e]=[t];var c=(t,n)=>{a.onerror=a.onload=null;clearTimeout(d);var i=inProgress[e];delete inProgress[e];a.parentNode&&a.parentNode.removeChild(a);i&&i.forEach((e=>e(n)));if(t)return t(n)},d=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror);a.onload=c.bind(null,a.onload);o&&document.head.appendChild(a)};__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});Object.defineProperty(e,"__esModule",{value:!0})};chunkMapping={},idToExternalAndNameMapping={},__webpack_require__.f.remotes=(e,t)=>{__webpack_require__.o(chunkMapping,e)&&chunkMapping[e].forEach((e=>{var n=__webpack_require__.R;n||(n=[]);var i=idToExternalAndNameMapping[e];if(n.indexOf(i)>=0)return;n.push(i);if(i.p)return t.push(i.p);var a=t=>{t||(t=new Error("Container missing"));"string"==typeof t.message&&(t.message+='\nwhile loading "'+i[1]+'" from '+i[2]);__webpack_require__.m[e]=()=>{throw t};i.p=0},o=(e,n,o,r,s,l)=>{try{var c=e(n,o);if(!c||!c.then)return s(c,r,l);var d=c.then((e=>s(e,r)),a);if(!l)return d;t.push(i.p=d)}catch(e){a(e)}},r=(e,t,a)=>o(t.get,i[1],n,0,s,a),s=t=>{i.p=1;__webpack_require__.m[e]=e=>{e.exports=t()}};o(__webpack_require__,i[2],0,0,((e,t,n)=>e?o(__webpack_require__.I,i[0],0,e,r,n):a()),1)}))};(()=>{__webpack_require__.S={};var e={},t={};__webpack_require__.I=(n,i)=>{i||(i=[]);var a=t[n];a||(a=t[n]={})
;if(i.indexOf(a)>=0)return;i.push(a);if(e[n])return e[n];__webpack_require__.o(__webpack_require__.S,n)||(__webpack_require__.S[n]={});__webpack_require__.S[n];var o=[];n;if(!o.length)return e[n]=1;return e[n]=Promise.all(o).then((()=>e[n]=1))}})();(()=>{var e;__webpack_require__.g.importScripts&&(e=__webpack_require__.g.location+"");var t=__webpack_require__.g.document;if(!e&&t){t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src);if(!e){var n=t.getElementsByTagName("script");if(n.length)for(var i=n.length-1;i>-1&&(!e||!/^http(s?):/.test(e));)e=n[i--].src}}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/");__webpack_require__.p=e+"../../../"})();void 0!==__webpack_require__&&Object.defineProperty(__webpack_require__,"p",{get:function(){try{if("string"!=typeof __WEBPACK_PUBLIC_PATH__)throw new Error("WebpackRequireFrom: '__WEBPACK_PUBLIC_PATH__' is not a string or not available at runtime. See https://github.com/agoldis/webpack-require-from#troubleshooting");return __WEBPACK_PUBLIC_PATH__}catch(e){console.error(e);return"auto"}},set:function(e){console.warn("WebpackRequireFrom: something is trying to override webpack public path. Ignoring the new value"+e+".")}});(()=>{if("undefined"==typeof document)return;var e=e=>new Promise(((t,n)=>{var i=__webpack_require__.miniCssF(e),a=__webpack_require__.p+i;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),i=0;i<n.length;i++){var a=(r=n[i]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){var r;if((a=(r=o[i]).getAttribute("data-href"))===e||a===t)return r}})(i,a))return t();((e,t,n,i,a)=>{var o=document.createElement("link");o.rel="stylesheet";o.type="text/css";__webpack_require__.nc&&(o.nonce=__webpack_require__.nc);o.onerror=o.onload=n=>{o.onerror=o.onload=null;if("load"===n.type)i();else{var r=n&&n.type,s=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+s+")");l.name="ChunkLoadError";l.code="CSS_CHUNK_LOAD_FAILED";l.type=r;l.request=s;o.parentNode&&o.parentNode.removeChild(o);a(l)}};o.href=t;0!==o.href.indexOf(window.location.origin+"/")&&(o.crossOrigin="anonymous");n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o)})(e,a,null,t,n)})),t={0:0};__webpack_require__.f.miniCss=(n,i)=>{t[n]?i.push(t[n]):0!==t[n]&&{5:1}[n]&&i.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{delete t[n];throw e})))}})();(()=>{var e={0:0};__webpack_require__.f.j=(t,n)=>{var i=__webpack_require__.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise(((n,a)=>i=e[t]=[n,a]));n.push(i[2]=a);var o=__webpack_require__.p+__webpack_require__.u(t),r=new Error;__webpack_require__.l(o,(n=>{if(__webpack_require__.o(e,t)){0!==(i=e[t])&&(e[t]=void 0);if(i){var a=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;r.message="Loading chunk "+t+" failed.\n("+a+": "+o+")";r.name="ChunkLoadError";r.type=a;r.request=o;i[1](r)}}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,a,[o,r,s]=n,l=0;if(o.some((t=>0!==e[t]))){for(i in r)__webpack_require__.o(r,i)&&(__webpack_require__.m[i]=r[i]);if(s)s(__webpack_require__)}t&&t(n);for(;l<o.length;l++){a=o[l];__webpack_require__.o(e,a)&&e[a]&&e[a][0]();e[a]=0}},n=globalThis["webpackChunkbundle_fa97b9bfe9c2c9b32f54a0cfac69262e"]=globalThis["webpackChunkbundle_fa97b9bfe9c2c9b32f54a0cfac69262e"]||[];n.forEach(t.bind(null,0));n.push=t.bind(null,n.push.bind(n))})();var __webpack_exports__=__webpack_require__(5713);bundle_fa97b9bfe9c2c9b32f54a0cfac69262e=__webpack_exports__})();
//# sourceMappingURL=bundle.fa97b9bfe9c2c9b32f54a0cfac69262e.dll.js.map